cscope 15 $HOME/AIFM/aifm               0001838483
	@DataFrame/AIFM/app/main_fake.cc

5 
	~<ruÁime/ruÁime.h
>

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"mªag”.hµ
"

11 
	~<D©aF¿me/D©aF¿me.h
>

13 
	~<®gÜ™hm
>

14 
	~<cm©h
>

15 
	~<c¡dlib
>

16 
	~<io¡»am
>

17 
	~<m­
>

18 
	~<memÜy
>

19 
	~<¡ršg
>

21 
usšg
 
Çme¥aû
 
hmdf
;

22 
usšg
 
Çme¥aû
 
	gçr_memÜy
;

24 
cÚ¡ex´
 
ušt64_t
 
	gkCacheGBs
 = 1;

25 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 
kCacheGBs
 << 30;

26 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

27 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 40;

28 
cÚ¡ex´
 
ušt64_t
 
	gkNumEËm’tsP”Scİe
 = 1024;

30 
usšg
 
	gIndex_t
 = ;

32 
	$hav”sše
(
Ït1
, 
lÚ1
, 
Ït2
, 
lÚ2
)

35 
dL©
 = (
Ït2
 - 
Ït1
è* 
M_PI
 / 180.0;

36 
dLÚ
 = (
lÚ2
 - 
lÚ1
è* 
M_PI
 / 180.0;

39 
Ït1
 =†©1 * 
M_PI
 / 180.0;

40 
Ït2
 =†©2 * 
M_PI
 / 180.0;

43 
a
 = 
	`pow
(
	`sš
(
dL©
 / 2), 2è+…ow(sš(
dLÚ
 / 2), 2è* 
	`cos
(
Ït1
è* cos(
Ït2
);

44 
¿d
 = 6371;

45 
c
 = 2 * 
	`asš
(
	`sq¹
(
a
));

46  
¿d
 * 
c
;

47 
	}
}

49 
	gStdD©aF¿me
<
	gIndex_t
> 
	$lßd_d©a
(
F¬MemMªag”
* 
mªag”
)

51  
»ad_csv
<-1, , 
Sim¶eTime
, SimpleTime, , , , , , , ,

53 
mªag”
, "/mnt/all.csv", "VendorID", "tpep_pickup_datetime", "tpep_dropoff_datetime",

58 
	}
}

60 
´št_numb”_v’dÜ_ids_ªd_unique
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

62 
	g¡d
::
cout
 << "´št_numb”_v’dÜ_ids_ªd_unique()" << 
¡d
::
’dl
;

63 
	g¡d
::
cout
 << "Number of vendor_ids inherain dataset: "

64 << 
df
.
g‘_cŞumn
<>("V’dÜID").
size
(è<< 
¡d
::
’dl
;

65 
	g¡d
::
cout
 << "Number of unique vendor_ids inherain dataset:"

66 << 
df
.
g‘_cŞ_unique_v®ues
<>(
mªag”
, "V’dÜID").
size
(è<< 
	g¡d
::
’dl
;

67 
	g¡d
::
cout
 << 
¡d
::
’dl
;

70 
´št_·s§ge_couÁs_by_v’dÜ_id
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
,

71 
v’dÜ_id
)

73 
	g¡d
::
cout
 << "´št_·s§ge_couÁs_by_v’dÜ_id(v’dÜ_id), v’dÜ_id = " << 
v’dÜ_id


74 << 
¡d
::
’dl
;

76 autØ
	g£l_v’dÜ_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	gvid
è-> 
	gboŞ
 {

77  
	gvid
 =ğ
v’dÜ_id
;

79 autØ
	g£l_df
 =

80 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_v’dÜ_funùÜ
), , 
	gSim¶eTime
, , >(

81 
	gmªag”
, "V’dÜID", 
	g£l_v’dÜ_funùÜ
);

82 auto& 
	g·s§ge_couÁ_vec
 = 
£l_df
.
g‘_cŞumn
<>("passenger_count");

83 
	g¡d
::
m­
<, > 
	g·s§ge_couÁ_m­
;

85 
D”efScİe
 
	gscİe
;

86 autØ
	g™
 = 
·s§ge_couÁ_vec
.
cfbegš
(
scİe
);

87 
Index_t
 
	gi
 = 0; i < 
	g·s§ge_couÁ_vec
.
size
(); ++i, ++
	g™
) {

88 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

89 
scİe
.
»Ãw
();

90 
	g™
.
»Ãw
(
scİe
);

92 
	g·s§ge_couÁ_m­
[*
™
]++;

95 auto& [
·s§ge_couÁ
, 
út
] : 
·s§ge_couÁ_m­
) {

96 
¡d
::
cout
 << "·s§ge_couÁğ" << 
·s§ge_couÁ
 << ", cÁ = " << 
út
 << std::
’dl
;

98 
	g¡d
::
cout
 << 
¡d
::
’dl
;

101 
ÿlcuÏ‹_Œ_du¿tiÚ
(
çr_memÜy
::
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

103 
	g¡d
::
cout
 << "ÿlcuÏ‹_Œ_du¿tiÚ()" << 
¡d
::
’dl
;

105 auto& 
	gpickup_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_pickup_datetime");

106 auto& 
	gdrİoff_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_dropoff_datetime");

107 
as£¹
(
pickup_time_vec
.
size
(è=ğ
drİoff_time_vec
.size());

108 autØ
	gdu¿tiÚ_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

109 
	gdu¿tiÚ_vec
.
»size
(
pickup_time_vec
.
size
());

111 
D”efScİe
 
	gscİe
;

112 autØ
	gpickup_™
 = 
pickup_time_vec
.
cfbegš
(
scİe
);

113 autØ
	gdrİoff_™
 = 
drİoff_time_vec
.
cfbegš
(
scİe
);

114 autØ
	gdu¿tiÚ_™
 = 
du¿tiÚ_vec
.
fbegš
(
scİe
);

115 
Index_t
 
	gi
 = 0; i < 
	gpickup_time_vec
.
size
();

116 ++
	gi
, ++
	gpickup_™
, ++
	gdrİoff_™
, ++
	gdu¿tiÚ_™
) {

117 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

118 
scİe
.
»Ãw
();

119 
	gpickup_™
.
»Ãw
(
scİe
);

120 
	gdrİoff_™
.
»Ãw
(
scİe
);

121 
	gdu¿tiÚ_™
.
»Ãw
(
scİe
);

123 autØ
	gpickup_time_£cÚd
 = 
pickup_™
->
to_£cÚd
();

124 autØ
	gdrİoff_time_£cÚd
 = 
drİoff_™
->
to_£cÚd
();

125 *
	gdu¿tiÚ_™
 =

126 
¡©ic_ÿ¡
<>(
drİoff_time_£cÚd
 - 
pickup_time_£cÚd
);

128 
	gdf
.
lßd_cŞumn
(
mªag”
, "du¿tiÚ", 
¡d
::
move
(
du¿tiÚ_vec
),

129 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

131 
	gMaxVis™Ü
<> 
	gmax_vis™Ü
;

132 
	gMšVis™Ü
<> 
	gmš_vis™Ü
;

133 
	gM—nVis™Ü
<> 
	gm—n_vis™Ü
;

134 
	gdf
.
muÉi_vis™
(
¡d
::
make_·œ
("du¿tiÚ", &
max_vis™Ü
),

135 
¡d
::
make_·œ
("du¿tiÚ", &
mš_vis™Ü
),

136 
¡d
::
make_·œ
("du¿tiÚ", &
m—n_vis™Ü
));

137 
	g¡d
::
cout
 << "M—Àdu¿tiÚ = " << 
m—n_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

138 
	g¡d
::
cout
 << "Mš du¿tiÚ = " << 
mš_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

139 
	g¡d
::
cout
 << "Max du¿tiÚ = " << 
max_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

140 
	g¡d
::
cout
 << 
¡d
::
’dl
;

143 
ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

145 
	g¡d
::
cout
 << "ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag()" << 
¡d
::
’dl
;

147 autØ
	g£l_N_§ff_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	g§ff
è-> 
	gboŞ
 {  saff == 'N'; };

148 autØ
	gN_df
 =

149 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_N_§ff_funùÜ
), , 
	gSim¶eTime
, , >(

150 
	gmªag”
, "¡Üe_ªd_fwd_æag", 
	g£l_N_§ff_funùÜ
);

151 
	g¡d
::
cout
 << 
¡©ic_ÿ¡
<>(
N_df
.
g‘_šdex
().
size
()è/ 
df
.g‘_šdex().size(è<< 
¡d
::
’dl
;

153 autØ
	g£l_Y_§ff_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	g§ff
è-> 
	gboŞ
 {  saff == 'Y'; };

154 autØ
	gY_df
 =

155 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_Y_§ff_funùÜ
), , 
	gSim¶eTime
, , >(

156 
	gmªag”
, "¡Üe_ªd_fwd_æag", 
	g£l_Y_§ff_funùÜ
);

157 autØ
	gunique_v’dÜ_id_vec
 = 
Y_df
.
g‘_cŞ_unique_v®ues
<>(
mªag”
, "VendorID");

158 
	g¡d
::
cout
 << '{';

160 
D”efScİe
 
	gscİe
;

161 autØ
	g™
 = 
unique_v’dÜ_id_vec
.
cfbegš
(
scİe
);

162 
Index_t
 
	gi
 = 0; i < 
	gunique_v’dÜ_id_vec
.
size
(); ++i, ++
	g™
) {

163 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

164 
scİe
.
»Ãw
();

165 
	g™
.
»Ãw
(
scİe
);

167 
	g¡d
::
cout
 << *
™
 << ", ";

170 
	g¡d
::
cout
 << '}' << 
¡d
::
’dl
;

172 
	g¡d
::
cout
 << 
¡d
::
’dl
;

175 
ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

177 
	g¡d
::
cout
 << "ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn()" << 
¡d
::
’dl
;

179 auto& 
	gpickup_lÚg™ude_vec
 = 
df
.
g‘_cŞumn
<>("pickup_longitude");

180 auto& 
	gpickup_Ït™ude_vec
 = 
df
.
g‘_cŞumn
<>("pickup_latitude");

181 auto& 
	gdrİoff_lÚg™ude_vec
 = 
df
.
g‘_cŞumn
<>("dropoff_longitude");

182 auto& 
	gdrİoff_Ït™ude_vec
 = 
df
.
g‘_cŞumn
<>("dropoff_latitude");

183 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
pickup_Ït™ude_vec
.size());

184 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
drİoff_lÚg™ude_vec
.size());

185 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
drİoff_Ït™ude_vec
.size());

186 autØ
	ghav”sše_di¡ªû_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

187 
	ghav”sše_di¡ªû_vec
.
»size
(
pickup_lÚg™ude_vec
.
size
());

189 
D”efScİe
 
	gscİe
;

190 autØ
	gpickup_Ït_™
 = 
pickup_Ït™ude_vec
.
cfbegš
(
scİe
);

191 autØ
	gpickup_lÚ_™
 = 
pickup_lÚg™ude_vec
.
cfbegš
(
scİe
);

192 autØ
	gdrİoff_Ït_™
 = 
drİoff_Ït™ude_vec
.
cfbegš
(
scİe
);

193 autØ
	gdrİoff_lÚ_™
 = 
drİoff_lÚg™ude_vec
.
cfbegš
(
scİe
);

194 autØ
	gdis_™
 = 
hav”sše_di¡ªû_vec
.
fbegš
(
scİe
);

195 
Index_t
 
	gi
 = 0; i < 
	gpickup_lÚg™ude_vec
.
size
();

196 ++
	gi
, ++
	gpickup_Ït_™
, ++
	gpickup_lÚ_™
, ++
	gdrİoff_Ït_™
, ++
	gdrİoff_lÚ_™
, ++
	gdis_™
) {

197 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

198 
scİe
.
»Ãw
();

200 *
	gdis_™
 = 
hav”sše
(*
pickup_Ït_™
, *
pickup_lÚ_™
, *
drİoff_Ït_™
, *
drİoff_lÚ_™
);

203 
	gdf
.
lßd_cŞumn
(
mªag”
, "hav”sše_di¡ªû", 
¡d
::
move
(
hav”sše_di¡ªû_vec
),

204 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

205 autØ
	g£l_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	gdi¡
è-> 
	gboŞ
 {  dist > 100; };

206 autØ
	g£l_df
 = 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_funùÜ
), , 
	gSim¶eTime
, , >(

207 
	gmªag”
, "hav”sše_di¡ªû", 
	g£l_funùÜ
);

208 
	g¡d
::
cout
 << "Number of„owshat have haversine_distance > 100 KM = "

209 << 
£l_df
.
g‘_šdex
().
size
(è<< 
¡d
::
’dl
;

211 
	g¡d
::
cout
 << 
¡d
::
’dl
;

214 
ª®yze_Œ_time¡amp
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

216 
	g¡d
::
cout
 << "ª®yze_Œ_time¡amp()" << 
¡d
::
’dl
;

218 
	gMaxVis™Ü
<
	gSim¶eTime
> 
	gmax_vis™Ü
;

219 
	gMšVis™Ü
<
	gSim¶eTime
> 
	gmš_vis™Ü
;

220 
	gdf
.
muÉi_vis™
(
¡d
::
make_·œ
("•_pickup_d©‘ime", &
max_vis™Ü
),

221 
¡d
::
make_·œ
("•_pickup_d©‘ime", &
mš_vis™Ü
));

222 
	g¡d
::
cout
 << 
max_vis™Ü
.
g‘_»suÉ
(è<< 
¡d
::
’dl
;

223 
	g¡d
::
cout
 << 
mš_vis™Ü
.
g‘_»suÉ
(è<< 
¡d
::
’dl
;

225 autØ
	gpickup_hour_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

226 autØ
	gpickup_day_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

227 autØ
	gpickup_mÚth_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

228 
	g¡d
::
m­
<, > 
	gpickup_hour_m­
;

229 
	g¡d
::
m­
<, > 
	gpickup_day_m­
;

230 
	g¡d
::
m­
<, > 
	gpickup_mÚth_m­
;

231 auto& 
	gpickup_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_pickup_datetime");

232 
	gpickup_hour_vec
.
»size
(
pickup_time_vec
.
size
());

233 
	gpickup_day_vec
.
»size
(
pickup_time_vec
.
size
());

234 
	gpickup_mÚth_vec
.
»size
(
pickup_time_vec
.
size
());

236 
D”efScİe
 
	gscİe
;

237 autØ
	ghour_™
 = 
pickup_hour_vec
.
fbegš
(
scİe
);

238 autØ
	gday_™
 = 
pickup_day_vec
.
fbegš
(
scİe
);

239 autØ
	gmÚth_™
 = 
pickup_mÚth_vec
.
fbegš
(
scİe
);

240 autØ
	gtime_™
 = 
pickup_time_vec
.
cfbegš
(
scİe
);

241 
Index_t
 
	gi
 = 0; i < 
	gpickup_time_vec
.
size
();

242 ++
	gi
, ++
	ghour_™
, ++
	gday_™
, ++
	gmÚth_™
, ++
	gtime_™
) {

243 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

244 
scİe
.
»Ãw
();

245 
	ghour_™
.
»Ãw
(
scİe
);

246 
	gday_™
.
»Ãw
(
scİe
);

247 
	gmÚth_™
.
»Ãw
(
scİe
);

249 autØ
	gtime
 = *
time_™
;

250 
	gpickup_hour_m­
[
time
.
hour_
]++;

251 *
	ghour_™
 = 
time
.
hour_
;

252 
	gpickup_day_m­
[
time
.
day_
]++;

253 *
	gday_™
 = 
time
.
day_
;

254 
	gpickup_mÚth_m­
[
time
.
mÚth_
]++;

255 *
	gmÚth_™
 = 
time
.
mÚth_
;

258 
	gdf
.
lßd_cŞumn
(
mªag”
, "pickup_hour", 
¡d
::
move
(
pickup_hour_vec
),

259 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

260 
	gdf
.
lßd_cŞumn
(
mªag”
, "pickup_day", 
¡d
::
move
(
pickup_day_vec
),

261 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

262 
	gdf
.
lßd_cŞumn
(
mªag”
, "pickup_mÚth", 
¡d
::
move
(
pickup_mÚth_vec
),

263 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

265 
	g¡d
::
cout
 << "Pršˆtİ 10„ows." << 
¡d
::
’dl
;

266 autØ
	gtİ_10_df
 = 
df
.
g‘_d©a_by_idx
<, 
	gSim¶eTime
, , >(

267 
	gmªag”
, 
	gIndex2D
<
	gStdD©aF¿me
<
	gIndex_t
>::
IndexTy³
>{0, 9});

268 
	gtİ_10_df
.
	gwr™e
<
	g¡d
::
o¡»am
, , 
	gSim¶eTime
, , >(¡d::
cout
, 
	gçl£
, 
	gio_fÜm©
::
jsÚ
);

269 
	g¡d
::
cout
 << 
¡d
::
’dl
;

271 auto& [
hour
, 
út
] : 
pickup_hour_m­
) {

272 
¡d
::
cout
 << "pickup_hou¸ğ" << 
¡©ic_ÿ¡
<>(
hour
è<< ", cÁ = " << 
út
 << std::
’dl
;

274 
	g¡d
::
cout
 << 
¡d
::
’dl
;

275 auto& [
day
, 
út
] : 
pickup_day_m­
) {

276 
¡d
::
cout
 << "pickup_day = " << 
¡©ic_ÿ¡
<>(
day
è<< ", cÁ = " << 
út
 << std::
’dl
;

278 
	g¡d
::
cout
 << 
¡d
::
’dl
;

279 auto& [
mÚth
, 
út
] : 
pickup_mÚth_m­
) {

280 
¡d
::
cout
 << "pickup_mÚth = " << 
¡©ic_ÿ¡
<>(
mÚth
è<< ", cÁ = " << 
út
 << std::
’dl
;

283 
	g¡d
::
cout
 << 
¡d
::
’dl
;

286 
	g‹m¶©e
 <
ty³Çme
 
	gT_Key
>

287 
ª®yze_Œ_du¿tiÚs_of_time¡amps
(
çr_memÜy
::
F¬MemMªag”
* 
mªag”
,

288 
StdD©aF¿me
<
Index_t
>& 
df
, cÚ¡ * 
key_cŞ_Çme
)

290 
	g¡d
::
cout
 << "ª®yze_Œ_du¿tiÚs_of_time¡amps(èÚ key = " << 
key_cŞ_Çme
 << 
¡d
::
’dl
;

292 
	gStdD©aF¿me
<
	gIndex_t
> 
df_key_du¿tiÚ
(
mªag”
);

293 autØ
	gcİy_šdex
 = 
df
.
g‘_šdex
();

294 autØ
	gcİy_key_cŞ
 = 
df
.
g‘_cŞumn
<
T_Key
>(
key_cŞ_Çme
);

295 autØ
	gcİy_key_du¿tiÚ
 = 
df
.
g‘_cŞumn
<>("duration");

296 
	gdf_key_du¿tiÚ
.
lßd_d©a
(
mªag”
, 
¡d
::
move
(
cİy_šdex
),

297 
¡d
::
make_·œ
(
key_cŞ_Çme
, std::
move
(
cİy_key_cŞ
)),

298 
¡d
::
make_·œ
("du¿tiÚ", std::
move
(
cİy_key_du¿tiÚ
)));

300 
	gStdD©aF¿me
<> 
	ggroupby_key
 =

301 
df_key_du¿tiÚ
.
groupby
<
GroupbyMedŸn
, 
	gT_Key
, T_Key, >(

302 
	gmªag”
, 
GroupbyMedŸn
(), 
	gkey_cŞ_Çme
);

304 auto& 
	gkey_vec
 = 
groupby_key
.
g‘_cŞumn
<
T_Key
>(
key_cŞ_Çme
);

305 auto& 
	gdu¿tiÚ_vec
 = 
groupby_key
.
g‘_cŞumn
<>("duration");

307 
D”efScİe
 
	gscİe
;

308 autØ
	gkey_™
 = 
key_vec
.
cfbegš
(
scİe
);

309 autØ
	gdu¿tiÚ_™
 = 
du¿tiÚ_vec
.
cfbegš
(
scİe
);

310 
	gi
 = 0; i < 
	gkey_vec
.
size
(); ++i, ++
	gkey_™
, ++
	gdu¿tiÚ_™
) {

311 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

312 
scİe
.
»Ãw
();

313 
	gkey_™
.
»Ãw
(
scİe
);

314 
	gdu¿tiÚ_™
.
»Ãw
(
scİe
);

316 
	g¡d
::
cout
 << 
¡©ic_ÿ¡
<>(*
key_™
è<< " " << *
du¿tiÚ_™
 << 
¡d
::
’dl
;

320 
	g¡d
::
cout
 << 
¡d
::
’dl
;

323 
	$do_wÜk
(
F¬MemMªag”
* 
mªag”
)

325 
¡d
::
chrÚo
::
time_pošt
<¡d::chrÚo::
¡—dy_şock
> 
times
[10];

326 autØ
df
 = 
	`lßd_d©a
(
mªag”
);

327 
times
[0] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

328 
	`´št_numb”_v’dÜ_ids_ªd_unique
(
mªag”
, 
df
);

329 
times
[1] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

330 
	`´št_·s§ge_couÁs_by_v’dÜ_id
(
mªag”
, 
df
, 1);

331 
times
[2] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

332 
	`´št_·s§ge_couÁs_by_v’dÜ_id
(
mªag”
, 
df
, 2);

333 
times
[3] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

334 
	`ÿlcuÏ‹_Œ_du¿tiÚ
(
mªag”
, 
df
);

335 
times
[4] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

336 
	`ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag
(
mªag”
, 
df
);

337 
times
[5] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

338 
	`ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn
(
mªag”
, 
df
);

339 
times
[6] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

340 
	`ª®yze_Œ_time¡amp
(
mªag”
, 
df
);

341 
times
[7] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

342 
ª®yze_Œ_du¿tiÚs_of_time¡amps
<>(
mªag”
, 
df
, "pickup_day");

343 
times
[8] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

344 
ª®yze_Œ_du¿tiÚs_of_time¡amps
<>(
mªag”
, 
df
, "pickup_month");

345 
times
[9] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

347 
ušt32_t
 
i
 = 1; i < 
¡d
::
	`size
(
times
); i++) {

348 
¡d
::
cout
 << "S‹°" << 
i
 << ": "

349 << 
¡d
::
chrÚo
::
du¿tiÚ_ÿ¡
<¡d::chrÚo::
miüo£cÚds
>(
times
[
i
] -imes[i - 1])

350 .
	`couÁ
()

351 << " us" << 
¡d
::
’dl
;

353 
¡d
::
cout
 << "Total: "

354 << 
¡d
::
chrÚo
::
du¿tiÚ_ÿ¡
<¡d::chrÚo::
miüo£cÚds
>(
times
[9] -imes[0]).
	`couÁ
()

355 << " us" << 
¡d
::
’dl
;

356 
	}
}

358 
	$_maš
(* 
¬g
)

360 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(

361 
F¬MemMªag”FaùÜy
::
	`bud
(
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

362 
	`do_wÜk
(
mªag”
.
	`g‘
());

363 
	}
}

365 
	$maš
(
¬gc
, * 
¬gv
[])

367 
»t
;

369 ià(
¬gc
 < 2) {

370 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

371  -
EINVAL
;

374 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

375 ià(
»t
) {

376 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

377  
»t
;

381 
	}
}

	@DataFrame/AIFM/app/main_tcp.cc

6 
	~<ruÁime/ruÁime.h
>

8 
	~"d”ef_scİe.hµ
"

9 
	~"deviû.hµ
"

10 
	~"mªag”.hµ
"

12 
	~<D©aF¿me/D©aF¿me.h
>

14 
	~<®gÜ™hm
>

15 
	~<cm©h
>

16 
	~<c¡dlib
>

17 
	~<io¡»am
>

18 
	~<m­
>

19 
	~<memÜy
>

20 
	~<¡ršg
>

22 
usšg
 
Çme¥aû
 
hmdf
;

23 
usšg
 
Çme¥aû
 
	gçr_memÜy
;

25 
cÚ¡ex´
 
ušt64_t
 
	gkCacheGBs
 = 1;

26 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 
kCacheGBs
 << 30;

27 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

28 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 40;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEËm’tsP”Scİe
 = 1024;

30 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 400;

32 
usšg
 
	gIndex_t
 = ;

34 
	$hav”sše
(
Ït1
, 
lÚ1
, 
Ït2
, 
lÚ2
)

37 
dL©
 = (
Ït2
 - 
Ït1
è* 
M_PI
 / 180.0;

38 
dLÚ
 = (
lÚ2
 - 
lÚ1
è* 
M_PI
 / 180.0;

41 
Ït1
 =†©1 * 
M_PI
 / 180.0;

42 
Ït2
 =†©2 * 
M_PI
 / 180.0;

45 
a
 = 
	`pow
(
	`sš
(
dL©
 / 2), 2è+…ow(sš(
dLÚ
 / 2), 2è* 
	`cos
(
Ït1
è* cos(
Ït2
);

46 
¿d
 = 6371;

47 
c
 = 2 * 
	`asš
(
	`sq¹
(
a
));

48  
¿d
 * 
c
;

49 
	}
}

51 
	gStdD©aF¿me
<
	gIndex_t
> 
	$lßd_d©a
(
F¬MemMªag”
* 
mªag”
)

53  
»ad_csv
<-1, , 
Sim¶eTime
, SimpleTime, , , , , , , ,

55 
mªag”
, "/mnt/all.csv", "VendorID", "tpep_pickup_datetime", "tpep_dropoff_datetime",

60 
	}
}

62 
´št_numb”_v’dÜ_ids_ªd_unique
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

64 
	g¡d
::
cout
 << "´št_numb”_v’dÜ_ids_ªd_unique()" << 
¡d
::
’dl
;

65 
	g¡d
::
cout
 << "Number of vendor_ids inherain dataset: "

66 << 
df
.
g‘_cŞumn
<>("V’dÜID").
size
(è<< 
¡d
::
’dl
;

67 
	g¡d
::
cout
 << "Number of unique vendor_ids inherain dataset:"

68 << 
df
.
g‘_cŞ_unique_v®ues
<>(
mªag”
, "V’dÜID").
size
(è<< 
	g¡d
::
’dl
;

69 
	g¡d
::
cout
 << 
¡d
::
’dl
;

72 
´št_·s§ge_couÁs_by_v’dÜ_id
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
,

73 
v’dÜ_id
)

75 
	g¡d
::
cout
 << "´št_·s§ge_couÁs_by_v’dÜ_id(v’dÜ_id), v’dÜ_id = " << 
v’dÜ_id


76 << 
¡d
::
’dl
;

78 autØ
	g£l_v’dÜ_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	gvid
è-> 
	gboŞ
 {

79  
	gvid
 =ğ
v’dÜ_id
;

81 autØ
	g£l_df
 =

82 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_v’dÜ_funùÜ
), , 
	gSim¶eTime
, , >(

83 
	gmªag”
, "V’dÜID", 
	g£l_v’dÜ_funùÜ
);

84 auto& 
	g·s§ge_couÁ_vec
 = 
£l_df
.
g‘_cŞumn
<>("passenger_count");

85 
	g¡d
::
m­
<, > 
	g·s§ge_couÁ_m­
;

87 
D”efScİe
 
	gscİe
;

88 autØ
	g™
 = 
·s§ge_couÁ_vec
.
cfbegš
(
scİe
);

89 
Index_t
 
	gi
 = 0; i < 
	g·s§ge_couÁ_vec
.
size
(); ++i, ++
	g™
) {

90 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

91 
scİe
.
»Ãw
();

92 
	g™
.
»Ãw
(
scİe
);

94 
	g·s§ge_couÁ_m­
[*
™
]++;

97 auto& [
·s§ge_couÁ
, 
út
] : 
·s§ge_couÁ_m­
) {

98 
¡d
::
cout
 << "·s§ge_couÁğ" << 
·s§ge_couÁ
 << ", cÁ = " << 
út
 << std::
’dl
;

100 
	g¡d
::
cout
 << 
¡d
::
’dl
;

103 
ÿlcuÏ‹_Œ_du¿tiÚ
(
çr_memÜy
::
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

105 
	g¡d
::
cout
 << "ÿlcuÏ‹_Œ_du¿tiÚ()" << 
¡d
::
’dl
;

107 auto& 
	gpickup_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_pickup_datetime");

108 auto& 
	gdrİoff_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_dropoff_datetime");

109 
as£¹
(
pickup_time_vec
.
size
(è=ğ
drİoff_time_vec
.size());

110 autØ
	gdu¿tiÚ_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

111 
	gdu¿tiÚ_vec
.
»size
(
pickup_time_vec
.
size
());

113 
D”efScİe
 
	gscİe
;

114 autØ
	gpickup_™
 = 
pickup_time_vec
.
cfbegš
(
scİe
);

115 autØ
	gdrİoff_™
 = 
drİoff_time_vec
.
cfbegš
(
scİe
);

116 autØ
	gdu¿tiÚ_™
 = 
du¿tiÚ_vec
.
fbegš
(
scİe
);

117 
Index_t
 
	gi
 = 0; i < 
	gpickup_time_vec
.
size
();

118 ++
	gi
, ++
	gpickup_™
, ++
	gdrİoff_™
, ++
	gdu¿tiÚ_™
) {

119 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

120 
scİe
.
»Ãw
();

121 
	gpickup_™
.
»Ãw
(
scİe
);

122 
	gdrİoff_™
.
»Ãw
(
scİe
);

123 
	gdu¿tiÚ_™
.
»Ãw
(
scİe
);

125 autØ
	gpickup_time_£cÚd
 = 
pickup_™
->
to_£cÚd
();

126 autØ
	gdrİoff_time_£cÚd
 = 
drİoff_™
->
to_£cÚd
();

127 *
	gdu¿tiÚ_™
 =

128 
¡©ic_ÿ¡
<>(
drİoff_time_£cÚd
 - 
pickup_time_£cÚd
);

130 
	gdf
.
lßd_cŞumn
(
mªag”
, "du¿tiÚ", 
¡d
::
move
(
du¿tiÚ_vec
),

131 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

133 
	gMaxVis™Ü
<> 
	gmax_vis™Ü
;

134 
	gMšVis™Ü
<> 
	gmš_vis™Ü
;

135 
	gM—nVis™Ü
<> 
	gm—n_vis™Ü
;

136 
	gdf
.
muÉi_vis™
(
¡d
::
make_·œ
("du¿tiÚ", &
max_vis™Ü
),

137 
¡d
::
make_·œ
("du¿tiÚ", &
mš_vis™Ü
),

138 
¡d
::
make_·œ
("du¿tiÚ", &
m—n_vis™Ü
));

139 
	g¡d
::
cout
 << "M—Àdu¿tiÚ = " << 
m—n_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

140 
	g¡d
::
cout
 << "Mš du¿tiÚ = " << 
mš_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

141 
	g¡d
::
cout
 << "Max du¿tiÚ = " << 
max_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

142 
	g¡d
::
cout
 << 
¡d
::
’dl
;

145 
ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

147 
	g¡d
::
cout
 << "ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag()" << 
¡d
::
’dl
;

149 autØ
	g£l_N_§ff_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	g§ff
è-> 
	gboŞ
 {  saff == 'N'; };

150 autØ
	gN_df
 =

151 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_N_§ff_funùÜ
), , 
	gSim¶eTime
, , >(

152 
	gmªag”
, "¡Üe_ªd_fwd_æag", 
	g£l_N_§ff_funùÜ
);

153 
	g¡d
::
cout
 << 
¡©ic_ÿ¡
<>(
N_df
.
g‘_šdex
().
size
()è/ 
df
.g‘_šdex().size(è<< 
¡d
::
’dl
;

155 autØ
	g£l_Y_§ff_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	g§ff
è-> 
	gboŞ
 {  saff == 'Y'; };

156 autØ
	gY_df
 =

157 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_Y_§ff_funùÜ
), , 
	gSim¶eTime
, , >(

158 
	gmªag”
, "¡Üe_ªd_fwd_æag", 
	g£l_Y_§ff_funùÜ
);

159 autØ
	gunique_v’dÜ_id_vec
 = 
Y_df
.
g‘_cŞ_unique_v®ues
<>(
mªag”
, "VendorID");

160 
	g¡d
::
cout
 << '{';

162 
D”efScİe
 
	gscİe
;

163 autØ
	g™
 = 
unique_v’dÜ_id_vec
.
cfbegš
(
scİe
);

164 
Index_t
 
	gi
 = 0; i < 
	gunique_v’dÜ_id_vec
.
size
(); ++i, ++
	g™
) {

165 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

166 
scİe
.
»Ãw
();

167 
	g™
.
»Ãw
(
scİe
);

169 
	g¡d
::
cout
 << *
™
 << ", ";

172 
	g¡d
::
cout
 << '}' << 
¡d
::
’dl
;

174 
	g¡d
::
cout
 << 
¡d
::
’dl
;

177 
ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

179 
	g¡d
::
cout
 << "ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn()" << 
¡d
::
’dl
;

181 auto& 
	gpickup_lÚg™ude_vec
 = 
df
.
g‘_cŞumn
<>("pickup_longitude");

182 auto& 
	gpickup_Ït™ude_vec
 = 
df
.
g‘_cŞumn
<>("pickup_latitude");

183 auto& 
	gdrİoff_lÚg™ude_vec
 = 
df
.
g‘_cŞumn
<>("dropoff_longitude");

184 auto& 
	gdrİoff_Ït™ude_vec
 = 
df
.
g‘_cŞumn
<>("dropoff_latitude");

185 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
pickup_Ït™ude_vec
.size());

186 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
drİoff_lÚg™ude_vec
.size());

187 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
drİoff_Ït™ude_vec
.size());

188 autØ
	ghav”sše_di¡ªû_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

189 
	ghav”sše_di¡ªû_vec
.
»size
(
pickup_lÚg™ude_vec
.
size
());

191 
D”efScİe
 
	gscİe
;

192 autØ
	gpickup_Ït_™
 = 
pickup_Ït™ude_vec
.
cfbegš
(
scİe
);

193 autØ
	gpickup_lÚ_™
 = 
pickup_lÚg™ude_vec
.
cfbegš
(
scİe
);

194 autØ
	gdrİoff_Ït_™
 = 
drİoff_Ït™ude_vec
.
cfbegš
(
scİe
);

195 autØ
	gdrİoff_lÚ_™
 = 
drİoff_lÚg™ude_vec
.
cfbegš
(
scİe
);

196 autØ
	gdis_™
 = 
hav”sše_di¡ªû_vec
.
fbegš
(
scİe
);

197 
Index_t
 
	gi
 = 0; i < 
	gpickup_lÚg™ude_vec
.
size
();

198 ++
	gi
, ++
	gpickup_Ït_™
, ++
	gpickup_lÚ_™
, ++
	gdrİoff_Ït_™
, ++
	gdrİoff_lÚ_™
, ++
	gdis_™
) {

199 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

200 
scİe
.
»Ãw
();

202 *
	gdis_™
 = 
hav”sše
(*
pickup_Ït_™
, *
pickup_lÚ_™
, *
drİoff_Ït_™
, *
drİoff_lÚ_™
);

205 
	gdf
.
lßd_cŞumn
(
mªag”
, "hav”sše_di¡ªû", 
¡d
::
move
(
hav”sše_di¡ªû_vec
),

206 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

207 autØ
	g£l_funùÜ
 = [&](cÚ¡ 
Index_t
&, cÚ¡ & 
	gdi¡
è-> 
	gboŞ
 {  dist > 100; };

208 autØ
	g£l_df
 = 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_funùÜ
), , 
	gSim¶eTime
, , >(

209 
	gmªag”
, "hav”sše_di¡ªû", 
	g£l_funùÜ
);

210 
	g¡d
::
cout
 << "Number of„owshat have haversine_distance > 100 KM = "

211 << 
£l_df
.
g‘_šdex
().
size
(è<< 
¡d
::
’dl
;

213 
	g¡d
::
cout
 << 
¡d
::
’dl
;

216 
ª®yze_Œ_time¡amp
(
F¬MemMªag”
* 
mªag”
, 
StdD©aF¿me
<
Index_t
>& 
df
)

218 
	g¡d
::
cout
 << "ª®yze_Œ_time¡amp()" << 
¡d
::
’dl
;

220 
	gMaxVis™Ü
<
	gSim¶eTime
> 
	gmax_vis™Ü
;

221 
	gMšVis™Ü
<
	gSim¶eTime
> 
	gmš_vis™Ü
;

222 
	gdf
.
muÉi_vis™
(
¡d
::
make_·œ
("•_pickup_d©‘ime", &
max_vis™Ü
),

223 
¡d
::
make_·œ
("•_pickup_d©‘ime", &
mš_vis™Ü
));

224 
	g¡d
::
cout
 << 
max_vis™Ü
.
g‘_»suÉ
(è<< 
¡d
::
’dl
;

225 
	g¡d
::
cout
 << 
mš_vis™Ü
.
g‘_»suÉ
(è<< 
¡d
::
’dl
;

227 autØ
	gpickup_hour_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

228 autØ
	gpickup_day_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

229 autØ
	gpickup_mÚth_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

230 
	g¡d
::
m­
<, > 
	gpickup_hour_m­
;

231 
	g¡d
::
m­
<, > 
	gpickup_day_m­
;

232 
	g¡d
::
m­
<, > 
	gpickup_mÚth_m­
;

233 auto& 
	gpickup_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_pickup_datetime");

234 
	gpickup_hour_vec
.
»size
(
pickup_time_vec
.
size
());

235 
	gpickup_day_vec
.
»size
(
pickup_time_vec
.
size
());

236 
	gpickup_mÚth_vec
.
»size
(
pickup_time_vec
.
size
());

238 
D”efScİe
 
	gscİe
;

239 autØ
	ghour_™
 = 
pickup_hour_vec
.
fbegš
(
scİe
);

240 autØ
	gday_™
 = 
pickup_day_vec
.
fbegš
(
scİe
);

241 autØ
	gmÚth_™
 = 
pickup_mÚth_vec
.
fbegš
(
scİe
);

242 autØ
	gtime_™
 = 
pickup_time_vec
.
cfbegš
(
scİe
);

243 
Index_t
 
	gi
 = 0; i < 
	gpickup_time_vec
.
size
();

244 ++
	gi
, ++
	ghour_™
, ++
	gday_™
, ++
	gmÚth_™
, ++
	gtime_™
) {

245 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

246 
scİe
.
»Ãw
();

247 
	ghour_™
.
»Ãw
(
scİe
);

248 
	gday_™
.
»Ãw
(
scİe
);

249 
	gmÚth_™
.
»Ãw
(
scİe
);

251 autØ
	gtime
 = *
time_™
;

252 
	gpickup_hour_m­
[
time
.
hour_
]++;

253 *
	ghour_™
 = 
time
.
hour_
;

254 
	gpickup_day_m­
[
time
.
day_
]++;

255 *
	gday_™
 = 
time
.
day_
;

256 
	gpickup_mÚth_m­
[
time
.
mÚth_
]++;

257 *
	gmÚth_™
 = 
time
.
mÚth_
;

260 
	gdf
.
lßd_cŞumn
(
mªag”
, "pickup_hour", 
¡d
::
move
(
pickup_hour_vec
),

261 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

262 
	gdf
.
lßd_cŞumn
(
mªag”
, "pickup_day", 
¡d
::
move
(
pickup_day_vec
),

263 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

264 
	gdf
.
lßd_cŞumn
(
mªag”
, "pickup_mÚth", 
¡d
::
move
(
pickup_mÚth_vec
),

265 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

267 
	g¡d
::
cout
 << "Pršˆtİ 10„ows." << 
¡d
::
’dl
;

268 autØ
	gtİ_10_df
 = 
df
.
g‘_d©a_by_idx
<, 
	gSim¶eTime
, , >(

269 
	gmªag”
, 
	gIndex2D
<
	gStdD©aF¿me
<
	gIndex_t
>::
IndexTy³
>{0, 9});

270 
	gtİ_10_df
.
	gwr™e
<
	g¡d
::
o¡»am
, , 
	gSim¶eTime
, , >(¡d::
cout
, 
	gçl£
, 
	gio_fÜm©
::
jsÚ
);

271 
	g¡d
::
cout
 << 
¡d
::
’dl
;

273 auto& [
hour
, 
út
] : 
pickup_hour_m­
) {

274 
¡d
::
cout
 << "pickup_hou¸ğ" << 
¡©ic_ÿ¡
<>(
hour
è<< ", cÁ = " << 
út
 << std::
’dl
;

276 
	g¡d
::
cout
 << 
¡d
::
’dl
;

277 auto& [
day
, 
út
] : 
pickup_day_m­
) {

278 
¡d
::
cout
 << "pickup_day = " << 
¡©ic_ÿ¡
<>(
day
è<< ", cÁ = " << 
út
 << std::
’dl
;

280 
	g¡d
::
cout
 << 
¡d
::
’dl
;

281 auto& [
mÚth
, 
út
] : 
pickup_mÚth_m­
) {

282 
¡d
::
cout
 << "pickup_mÚth = " << 
¡©ic_ÿ¡
<>(
mÚth
è<< ", cÁ = " << 
út
 << std::
’dl
;

285 
	g¡d
::
cout
 << 
¡d
::
’dl
;

288 
	g‹m¶©e
 <
ty³Çme
 
	gT_Key
>

289 
ª®yze_Œ_du¿tiÚs_of_time¡amps
(
çr_memÜy
::
F¬MemMªag”
* 
mªag”
,

290 
StdD©aF¿me
<
Index_t
>& 
df
, cÚ¡ * 
key_cŞ_Çme
)

292 
	g¡d
::
cout
 << "ª®yze_Œ_du¿tiÚs_of_time¡amps(èÚ key = " << 
key_cŞ_Çme
 << 
¡d
::
’dl
;

294 
	gStdD©aF¿me
<
	gIndex_t
> 
df_key_du¿tiÚ
(
mªag”
);

295 autØ
	gcİy_šdex
 = 
df
.
g‘_šdex
();

296 autØ
	gcİy_key_cŞ
 = 
df
.
g‘_cŞumn
<
T_Key
>(
key_cŞ_Çme
);

297 autØ
	gcİy_key_du¿tiÚ
 = 
df
.
g‘_cŞumn
<>("duration");

298 
	gdf_key_du¿tiÚ
.
lßd_d©a
(
mªag”
, 
¡d
::
move
(
cİy_šdex
),

299 
¡d
::
make_·œ
(
key_cŞ_Çme
, std::
move
(
cİy_key_cŞ
)),

300 
¡d
::
make_·œ
("du¿tiÚ", std::
move
(
cİy_key_du¿tiÚ
)));

302 
	gStdD©aF¿me
<> 
	ggroupby_key
 =

303 
df_key_du¿tiÚ
.
groupby
<
GroupbyMedŸn
, 
	gT_Key
, T_Key, >(

304 
	gmªag”
, 
GroupbyMedŸn
(), 
	gkey_cŞ_Çme
);

306 auto& 
	gkey_vec
 = 
groupby_key
.
g‘_cŞumn
<
T_Key
>(
key_cŞ_Çme
);

307 auto& 
	gdu¿tiÚ_vec
 = 
groupby_key
.
g‘_cŞumn
<>("duration");

309 
D”efScİe
 
	gscİe
;

310 autØ
	gkey_™
 = 
key_vec
.
cfbegš
(
scİe
);

311 autØ
	gdu¿tiÚ_™
 = 
du¿tiÚ_vec
.
cfbegš
(
scİe
);

312 
	gi
 = 0; i < 
	gkey_vec
.
size
(); ++i, ++
	gkey_™
, ++
	gdu¿tiÚ_™
) {

313 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

314 
scİe
.
»Ãw
();

315 
	gkey_™
.
»Ãw
(
scİe
);

316 
	gdu¿tiÚ_™
.
»Ãw
(
scİe
);

318 
	g¡d
::
cout
 << 
¡©ic_ÿ¡
<>(*
key_™
è<< " " << *
du¿tiÚ_™
 << 
¡d
::
’dl
;

322 
	g¡d
::
cout
 << 
¡d
::
’dl
;

325 
	$do_wÜk
(
F¬MemMªag”
* 
mªag”
)

327 
¡d
::
chrÚo
::
time_pošt
<¡d::chrÚo::
¡—dy_şock
> 
times
[10];

328 autØ
df
 = 
	`lßd_d©a
(
mªag”
);

329 
times
[0] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

330 
	`´št_numb”_v’dÜ_ids_ªd_unique
(
mªag”
, 
df
);

331 
times
[1] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

332 
	`´št_·s§ge_couÁs_by_v’dÜ_id
(
mªag”
, 
df
, 1);

333 
times
[2] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

334 
	`´št_·s§ge_couÁs_by_v’dÜ_id
(
mªag”
, 
df
, 2);

335 
times
[3] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

336 
	`ÿlcuÏ‹_Œ_du¿tiÚ
(
mªag”
, 
df
);

337 
times
[4] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

338 
	`ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag
(
mªag”
, 
df
);

339 
times
[5] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

340 
	`ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn
(
mªag”
, 
df
);

341 
times
[6] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

342 
	`ª®yze_Œ_time¡amp
(
mªag”
, 
df
);

343 
times
[7] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

344 
ª®yze_Œ_du¿tiÚs_of_time¡amps
<>(
mªag”
, 
df
, "pickup_day");

345 
times
[8] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

346 
ª®yze_Œ_du¿tiÚs_of_time¡amps
<>(
mªag”
, 
df
, "pickup_month");

347 
times
[9] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

349 
ušt32_t
 
i
 = 1; i < 
¡d
::
	`size
(
times
); i++) {

350 
¡d
::
cout
 << "S‹°" << 
i
 << ": "

351 << 
¡d
::
chrÚo
::
du¿tiÚ_ÿ¡
<¡d::chrÚo::
miüo£cÚds
>(
times
[
i
] -imes[i - 1])

352 .
	`couÁ
()

353 << " us" << 
¡d
::
’dl
;

355 
¡d
::
cout
 << "Total: "

356 << 
¡d
::
chrÚo
::
du¿tiÚ_ÿ¡
<¡d::chrÚo::
miüo£cÚds
>(
times
[9] -imes[0]).
	`couÁ
()

357 << " us" << 
¡d
::
’dl
;

358 
	}
}

360 
	$_maš
(* 
¬g
)

362 ** 
¬gv
 = (**)
¬g
;

363 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

364 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

365 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

366 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

367 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

368 
	`do_wÜk
(
mªag”
.
	`g‘
());

369 
	}
}

371 
	$maš
(
_¬gc
, * 
¬gv
[])

373 
»t
;

375 ià(
_¬gc
 < 3) {

376 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

377  -
EINVAL
;

380 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

381 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

382 
i
 = 2; i < 
_¬gc
; i++) {

383 
¬gv
[
i
 - 1] =‡rgv[i];

386 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

387 ià(
»t
) {

388 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

389  
»t
;

393 
	}
}

	@DataFrame/AIFM/include/CSV/csv.hpp

32 #iâdeà
CSV_H


33 
	#CSV_H


	)

35 
	~"d©aäame_veùÜ.hµ
"

36 
	~"d”ef_scİe.hµ
"

37 
	~"mªag”.hµ
"

38 
	~"sim¶e_time.hµ
"

40 
	~<®gÜ™hm
>

41 
	~<c¡dio
>

42 
	~<c¡ršg
>

43 
	~<exû±iÚ
>

44 
	~<¡ršg
>

45 
	~<ut™y
>

46 
	~<veùÜ
>

47 #iâdeà
CSV_IO_NO_THREAD


48 
	~<cÚd™iÚ_v¬ŸbË
>

49 
	~<mu‹x
>

50 
	~<th»ad
>

52 
	~<ÿs£¹
>

53 
	~<û¼no
>

54 
	~<i¡»am
>

55 
	~<memÜy
>

57 
Çme¥aû
 
	gio


64 
Çme¥aû
 
	g”rÜ


66 
	gba£
 : 
¡d
::
exû±iÚ
 {

67 
vœtu®
 
fÜm©_”rÜ_mes§ge
() const = 0;

69 cÚ¡ * 
wh©
(ècÚ¡ 
nÛxû±
 
	gov”ride


71 
fÜm©_”rÜ_mes§ge
();

72  
	g”rÜ_mes§ge_bufãr
;

75 
mubË
 
	g”rÜ_mes§ge_bufãr
[512];

78 cÚ¡ 
	gmax_fe_Çme_Ëngth
 = 255;

80 
	sw™h_fe_Çme
 {

81 
w™h_fe_Çme
()

83 
	g¡d
::
mem£t
(
fe_Çme
, 0, (file_name));

86 
£t_fe_Çme
(cÚ¡ * 
fe_Çme
)

88 ià(
	gfe_Çme
 !ğ
nuÎ±r
) {

91 (
¡ºıy
(
this
->
fe_Çme
, file_name, (this->file_name)));

92 
	gthis
->
	gfe_Çme
[(
this
->
fe_Çme
) - 1] = '\0';

94 
	gthis
->
	gfe_Çme
[0] = '\0';

98 
	gfe_Çme
[
max_fe_Çme_Ëngth
 + 1];

101 
	sw™h_fe_lše
 {

102 
w™h_fe_lše
()

104 
	gfe_lše
 = -1;

107 
£t_fe_lše
(
fe_lše
)

109 
	gthis
->
	gfe_lše
 = 
fe_lše
;

112 
	gfe_lše
;

115 
	sw™h_”ºo
 {

116 
w™h_”ºo
()

118 
	g”ºo_v®ue
 = 0;

121 
£t_”ºo
(
”ºo_v®ue
)

123 
	gthis
->
	g”ºo_v®ue
 = 
”ºo_v®ue
;

126 
	g”ºo_v®ue
;

129 
	gÿn_nÙ_İ’_fe
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_”ºo
 {

130 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


132 ià(
	g”ºo_v®ue
 != 0)

133 
¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

134 "Cª‚Ù o³Àf\"%s\" beÿu£ \"%s\".", 
fe_Çme
,

135 
¡d
::
¡»¼Ü
(
”ºo_v®ue
));

137 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

138 "Cª‚Ù o³Àf\"%s\".", 
fe_Çme
);

142 
	glše_Ëngth_lim™_exûeded
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

143 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


145 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

147 
fe_lše
, 
fe_Çme
);

152 şas 
	cBy‹SourûBa£


154 
	gpublic
:

155 
vœtu®
 
»ad
(* 
bufãr
, 
size
) = 0;

156 
	gvœtu®
 ~
By‹SourûBa£
() {}

159 
Çme¥aû
 
	gd‘a


161 şas 
	cOwnšgStdIOBy‹SourûBa£
 : 
public
 
By‹SourûBa£


163 
public
:

164 
ex¶ic™
 
OwnšgStdIOBy‹SourûBa£
(
FILE
* 
fe
) : file(file)

167 
¡d
::
£tvbuf
(
fe
, 0, 
_IONBF
, 0);

170 
»ad
(* 
bufãr
, 
size
)

172  
	g¡d
::
ä—d
(
bufãr
, 1, 
size
, 
fe
);

175 ~
OwnšgStdIOBy‹SourûBa£
()

177 
	g¡d
::
fşo£
(
fe
);

180 
	g´iv©e
:

181 
FILE
* 
fe
;

184 şas 
	cNÚOwnšgISŒ—mBy‹Sourû
 : 
public
 
By‹SourûBa£


186 
public
:

187 
ex¶ic™
 
NÚOwnšgISŒ—mBy‹Sourû
(
¡d
::
i¡»am
& 
š
) : in(in) {}

189 
»ad
(* 
bufãr
, 
size
)

191 
	gš
.
»ad
(
bufãr
, 
size
);

192  
	gš
.
gcouÁ
();

195 ~
NÚOwnšgISŒ—mBy‹Sourû
() {}

197 
	g´iv©e
:

198 
¡d
::
i¡»am
& 
š
;

201 şas 
	cNÚOwnšgSŒšgBy‹Sourû
 : 
public
 
By‹SourûBa£


203 
public
:

204 
NÚOwnšgSŒšgBy‹Sourû
(cÚ¡ * 
¡r
, 
size
)

205 : 
¡r
(¡r), 
»maššg_by‹_couÁ
(
size
)

209 
»ad
(* 
bufãr
, 
desœed_by‹_couÁ
)

211 
	gto_cİy_by‹_couÁ
 = 
desœed_by‹_couÁ
;

212 ià(
	g»maššg_by‹_couÁ
 < 
	gto_cİy_by‹_couÁ
èto_cİy_by‹_couÁ = 
»maššg_by‹_couÁ
;

213 
	g¡d
::
memıy
(
bufãr
, 
¡r
, 
to_cİy_by‹_couÁ
);

214 
	g»maššg_by‹_couÁ
 -ğ
to_cİy_by‹_couÁ
;

215 
	g¡r
 +ğ
to_cİy_by‹_couÁ
;

216  
	gto_cİy_by‹_couÁ
;

219 ~
NÚOwnšgSŒšgBy‹Sourû
() {}

221 
	g´iv©e
:

222 cÚ¡ * 
¡r
;

223 
	g»maššg_by‹_couÁ
;

226 #iâdeà
CSV_IO_NO_THREAD


227 şas 
	cAsynchrÚousR—d”


229 
	gpublic
:

230 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
> 
¬g_by‹_sourû
)

232 
¡d
::
unique_lock
<¡d::
mu‹x
> 
gu¬d
(
lock
);

233 
	gby‹_sourû
 = 
¡d
::
move
(
¬g_by‹_sourû
);

234 
	gdesœed_by‹_couÁ
 = -1;

235 
	g‹rmš©iÚ_»que¡ed
 = 
çl£
;

236 
	gwÜk”
 = 
¡d
::
th»ad
([&] {

237 
¡d
::
unique_lock
<¡d::
mu‹x
> 
gu¬d
(
lock
);

238 
Œy
 {

240 
»ad_»que¡ed_cÚd™iÚ
.
wa™
(

241 
gu¬d
, [&] {  
desœed_by‹_couÁ
 !ğ-1 || 
‹rmš©iÚ_»que¡ed
; });

242 ià(
‹rmš©iÚ_»que¡ed
) ;

244 
»ad_by‹_couÁ
 = 
by‹_sourû
->
»ad
(
bufãr
, 
desœed_by‹_couÁ
);

245 
desœed_by‹_couÁ
 = -1;

246 ià(
»ad_by‹_couÁ
 == 0) ;

247 
»ad_fšished_cÚd™iÚ
.
nÙify_Úe
();

249 } 
ÿtch
 (...) {

250 
»ad_”rÜ
 = 
¡d
::
cu¼’t_exû±iÚ
();

252 
»ad_fšished_cÚd™iÚ
.
nÙify_Úe
();

256 
boŞ
 
is_v®id
() const

258  
	gby‹_sourû
 !ğ
nuÎ±r
;

261 
¡¬t_»ad
(* 
¬g_bufãr
, 
¬g_desœed_by‹_couÁ
)

263 
	g¡d
::
unique_lock
<
¡d
::
mu‹x
> 
gu¬d
(
lock
);

264 
	gbufãr
 = 
¬g_bufãr
;

265 
	gdesœed_by‹_couÁ
 = 
¬g_desœed_by‹_couÁ
;

266 
	g»ad_by‹_couÁ
 = -1;

267 
	g»ad_»que¡ed_cÚd™iÚ
.
nÙify_Úe
();

270 
fšish_»ad
()

272 
	g¡d
::
unique_lock
<
¡d
::
mu‹x
> 
gu¬d
(
lock
);

273 
	g»ad_fšished_cÚd™iÚ
.
wa™
(
gu¬d
, [&] {  
»ad_by‹_couÁ
 !ğ-1 || 
»ad_”rÜ
; });

274 ià(
	g»ad_”rÜ
)

275 
	g¡d
::
»throw_exû±iÚ
(
»ad_”rÜ
);

277  
	g»ad_by‹_couÁ
;

280 ~
AsynchrÚousR—d”
()

282 ià(
	gby‹_sourû
 !ğ
nuÎ±r
) {

284 
¡d
::
unique_lock
<¡d::
mu‹x
> 
gu¬d
(
lock
);

285 
	g‹rmš©iÚ_»que¡ed
 = 
Œue
;

287 
	g»ad_»que¡ed_cÚd™iÚ
.
nÙify_Úe
();

288 
	gwÜk”
.
još
();

292 
	g´iv©e
:

293 
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
;

295 
	g¡d
::
th»ad
 
wÜk”
;

297 
boŞ
 
	g‹rmš©iÚ_»que¡ed
;

298 
	g¡d
::
exû±iÚ_±r
 
»ad_”rÜ
;

299 * 
	gbufãr
;

300 
	gdesœed_by‹_couÁ
;

301 
	g»ad_by‹_couÁ
;

303 
	g¡d
::
mu‹x
 
lock
;

304 
	g¡d
::
cÚd™iÚ_v¬ŸbË
 
»ad_fšished_cÚd™iÚ
;

305 
	g¡d
::
cÚd™iÚ_v¬ŸbË
 
»ad_»que¡ed_cÚd™iÚ
;

309 şas 
	cSynchrÚousR—d”


311 
	gpublic
:

312 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
> 
¬g_by‹_sourû
)

314 
by‹_sourû
 = 
¡d
::
move
(
¬g_by‹_sourû
);

317 
boŞ
 
is_v®id
() const

319  
	gby‹_sourû
 !ğ
nuÎ±r
;

322 
¡¬t_»ad
(* 
¬g_bufãr
, 
¬g_desœed_by‹_couÁ
)

324 
	gbufãr
 = 
¬g_bufãr
;

325 
	gdesœed_by‹_couÁ
 = 
¬g_desœed_by‹_couÁ
;

328 
fšish_»ad
()

330  
	gby‹_sourû
->
»ad
(
bufãr
, 
desœed_by‹_couÁ
);

333 
	g´iv©e
:

334 
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
;

335 * 
	gbufãr
;

336 
	gdesœed_by‹_couÁ
;

340 şas 
	cLšeR—d”


342 
	g´iv©e
:

343 cÚ¡ 
block_Ën
 = 1 << 20;

344 
	g¡d
::
unique_±r
<[]>

345 
bufãr
;

346 #ifdeà
CSV_IO_NO_THREAD


347 
	gd‘a
::
SynchrÚousR—d”
 
»ad”
;

349 
	gd‘a
::
AsynchrÚousR—d”
 
»ad”
;

351 
	gd©a_begš
;

352 
	gd©a_’d
;

354 
	gfe_Çme
[
”rÜ
::
max_fe_Çme_Ëngth
 + 1];

355 
	gfe_lše
;

357 
	g¡d
::
unique_±r
<
By‹SourûBa£
> 
İ’_fe
(cÚ¡ * 
fe_Çme
)

361 
FILE
* 
fe
 = 
¡d
::
fİ’
(
fe_Çme
, "rb");

362 ià(
	gfe
 == 0) {

363 
x
 = 
”ºo
;

365 
	g”rÜ
::
ÿn_nÙ_İ’_fe
 
”r
;

366 
	g”r
.
£t_”ºo
(
x
);

367 
	g”r
.
£t_fe_Çme
(
fe_Çme
);

368 
throw
 
	g”r
;

370  
	g¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
OwnšgStdIOBy‹SourûBa£
(
fe
));

373 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
)

375 
fe_lše
 = 0;

377 
	gbufãr
 = 
¡d
::
unique_±r
<[]>(
Ãw
 [3 * 
block_Ën
]);

378 
	gd©a_begš
 = 0;

379 
	gd©a_’d
 = 
by‹_sourû
->
»ad
(
bufãr
.
g‘
(), 2 * 
block_Ën
);

382 ià(
	gd©a_’d
 >ğ3 && 
bufãr
[0] == '\xEF' && buffer[1] == '\xBB' && buffer[2] == '\xBF')

383 
d©a_begš
 = 3;

385 ià(
	gd©a_’d
 =ğ2 * 
block_Ën
) {

386 
»ad”
.
š™
(
¡d
::
move
(
by‹_sourû
));

387 
	g»ad”
.
¡¬t_»ad
(
bufãr
.
g‘
(è+ 2 * 
block_Ën
, block_len);

391 
	gpublic
:

392 
LšeR—d”
(èğ
d–‘e
;

393 
LšeR—d”
(cÚ¡ LšeR—d”&èğ
d–‘e
;

394 
	gLšeR—d”
& 
	gİ”©Ü
=(cÚ¡ 
LšeR—d”
&èğ
d–‘e
;

396 
ex¶ic™
 
LšeR—d”
(cÚ¡ * 
fe_Çme
)

398 
£t_fe_Çme
(
fe_Çme
);

399 
š™
(
İ’_fe
(
fe_Çme
));

402 
ex¶ic™
 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
)

404 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

405 
š™
(
İ’_fe
(
fe_Çme
.
c_¡r
()));

408 
LšeR—d”
(cÚ¡ * 
fe_Çme
, 
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
)

410 
£t_fe_Çme
(
fe_Çme
);

411 
š™
(
¡d
::
move
(
by‹_sourû
));

414 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, std::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
)

416 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

417 
š™
(
¡d
::
move
(
by‹_sourû
));

420 
LšeR—d”
(cÚ¡ * 
fe_Çme
, cÚ¡ * 
d©a_begš
, cÚ¡ * 
d©a_’d
)

422 
£t_fe_Çme
(
fe_Çme
);

423 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(

424 
Ãw
 
d‘a
::
NÚOwnšgSŒšgBy‹Sourû
(
d©a_begš
, 
d©a_’d
 - data_begin)));

427 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, cÚ¡ * 
d©a_begš
, cÚ¡ * 
d©a_’d
)

429 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

430 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(

431 
Ãw
 
d‘a
::
NÚOwnšgSŒšgBy‹Sourû
(
d©a_begš
, 
d©a_’d
 - data_begin)));

434 
LšeR—d”
(cÚ¡ * 
fe_Çme
, 
FILE
* 
fe
)

436 
£t_fe_Çme
(
fe_Çme
);

437 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
OwnšgStdIOBy‹SourûBa£
(
fe
)));

440 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, 
FILE
* 
fe
)

442 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

443 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
OwnšgStdIOBy‹SourûBa£
(
fe
)));

446 
LšeR—d”
(cÚ¡ * 
fe_Çme
, 
¡d
::
i¡»am
& 
š
)

448 
£t_fe_Çme
(
fe_Çme
);

449 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
NÚOwnšgISŒ—mBy‹Sourû
(
š
)));

452 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, std::
i¡»am
& 
š
)

454 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

455 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
NÚOwnšgISŒ—mBy‹Sourû
(
š
)));

458 
£t_fe_Çme
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
)

460 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

463 
£t_fe_Çme
(cÚ¡ * 
fe_Çme
)

465 ià(
	gfe_Çme
 !ğ
nuÎ±r
) {

466 
¡ºıy
(
this
->
fe_Çme
, file_name, (this->file_name) - 1);

467 
	gthis
->
	gfe_Çme
[(
this
->
fe_Çme
) - 1] = '\0';

469 
	gthis
->
	gfe_Çme
[0] = '\0';

473 cÚ¡ * 
g‘_Œunÿ‹d_fe_Çme
() const

475  
	gfe_Çme
;

478 
£t_fe_lše
(
fe_lše
)

480 
	gthis
->
	gfe_lše
 = 
fe_lše
;

483 
g‘_fe_lše
() const

485  
	gfe_lše
;

488 * 
Ãxt_lše
()

490 ià(
	gd©a_begš
 =ğ
d©a_’d
è 
nuÎ±r
;

492 ++
	gfe_lše
;

494 
as£¹
(
d©a_begš
 < 
d©a_’d
);

495 
as£¹
(
d©a_’d
 <ğ
block_Ën
 * 2);

497 ià(
	gd©a_begš
 >ğ
block_Ën
) {

498 
¡d
::
memıy
(
bufãr
.
g‘
(), bufãr.g‘(è+ 
block_Ën
, block_len);

499 
	gd©a_begš
 -ğ
block_Ën
;

500 
	gd©a_’d
 -ğ
block_Ën
;

501 ià(
	g»ad”
.
is_v®id
()) {

502 
	gd©a_’d
 +ğ
»ad”
.
fšish_»ad
();

503 
	g¡d
::
memıy
(
bufãr
.
g‘
(è+ 
block_Ën
, buffer.get() + 2 * block_len, block_len);

504 
	g»ad”
.
¡¬t_»ad
(
bufãr
.
g‘
(è+ 2 * 
block_Ën
, block_len);

508 
	glše_’d
 = 
d©a_begš
;

509 
	gbufãr
[
lše_’d
] !ğ'\n' &&†še_’d !ğ
d©a_’d
) {

510 ++
lše_’d
;

513 ià(
	glše_’d
 - 
	gd©a_begš
 + 1 > 
	gblock_Ën
) {

514 
	g”rÜ
::
lše_Ëngth_lim™_exûeded
 
”r
;

515 
	g”r
.
£t_fe_Çme
(
fe_Çme
);

516 
	g”r
.
£t_fe_lše
(
fe_lše
);

517 
throw
 
	g”r
;

520 ià(
	gbufãr
[
lše_’d
] =ğ'\n' &&†še_’d !ğ
d©a_’d
) {

521 
bufãr
[
lše_’d
] = '\0';

525 ++
	gd©a_’d
;

526 
	gbufãr
[
lše_’d
] = '\0';

530 ià(
	glše_’d
 !ğ
d©a_begš
 && 
bufãr
[
lše_’d
 - 1] == '\r') buffer[line_end - 1] = '\0';

532 * 
	g»t
 = 
bufãr
.
g‘
(è+ 
d©a_begš
;

533 
	gd©a_begš
 = 
lše_’d
 + 1;

534  
	g»t
;

542 
Çme¥aû
 
	g”rÜ


544 cÚ¡ 
	gmax_cŞumn_Çme_Ëngth
 = 63;

545 
	sw™h_cŞumn_Çme
 {

546 
w™h_cŞumn_Çme
()

548 
	g¡d
::
mem£t
(
cŞumn_Çme
, 0, 
max_cŞumn_Çme_Ëngth
 + 1);

551 
£t_cŞumn_Çme
(cÚ¡ * 
cŞumn_Çme
)

553 ià(
	gcŞumn_Çme
 !ğ
nuÎ±r
) {

554 
¡d
::
¡ºıy
(
this
->
cŞumn_Çme
, cŞumn_Çme, 
max_cŞumn_Çme_Ëngth
);

555 
	gthis
->
	gcŞumn_Çme
[
max_cŞumn_Çme_Ëngth
] = '\0';

557 
	gthis
->
	gcŞumn_Çme
[0] = '\0';

561 
	gcŞumn_Çme
[
max_cŞumn_Çme_Ëngth
 + 1];

564 cÚ¡ 
	gmax_cŞumn_cÚ‹Á_Ëngth
 = 63;

566 
	sw™h_cŞumn_cÚ‹Á
 {

567 
w™h_cŞumn_cÚ‹Á
()

569 
	g¡d
::
mem£t
(
cŞumn_cÚ‹Á
, 0, 
max_cŞumn_cÚ‹Á_Ëngth
 + 1);

572 
£t_cŞumn_cÚ‹Á
(cÚ¡ * 
cŞumn_cÚ‹Á
)

574 ià(
	gcŞumn_cÚ‹Á
 !ğ
nuÎ±r
) {

575 
¡d
::
¡ºıy
(
this
->
cŞumn_cÚ‹Á
, cŞumn_cÚ‹Á, 
max_cŞumn_cÚ‹Á_Ëngth
);

576 
	gthis
->
	gcŞumn_cÚ‹Á
[
max_cŞumn_cÚ‹Á_Ëngth
] = '\0';

578 
	gthis
->
	gcŞumn_cÚ‹Á
[0] = '\0';

582 
	gcŞumn_cÚ‹Á
[
max_cŞumn_cÚ‹Á_Ëngth
 + 1];

585 
	gexŒa_cŞumn_š_h—d”
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_cŞumn_Çme
 {

586 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


588 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

589 
R
"(ExŒ¨cŞumÀ"%
s
" iÀh—d” oàf"%s".)", 
cŞumn_Çme
, 
fe_Çme
);

593 
	gmissšg_cŞumn_š_h—d”
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_cŞumn_Çme
 {

594 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


596 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

597 
R
"(Missšg cŞumÀ"%
s
" iÀh—d” oàf"%s".)", 
cŞumn_Çme
, 
fe_Çme
);

601 
	gdu¶iÿ‹d_cŞumn_š_h—d”
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_cŞumn_Çme
 {

602 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


604 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

605 
R
"(Du¶iÿ‹d cŞumÀ"%
s
" iÀh—d” oàf"%s".)", 
cŞumn_Çme
, 
fe_Çme
);

609 
	gh—d”_missšg
 : 
ba£
, 
	gw™h_fe_Çme
 {

610 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


612 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

613 "H—d” missšg iÀf\"%s\".", 
fe_Çme
);

617 
	gtoo_ãw_cŞumns
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

618 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


620 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

621 "ToØãw cŞumn š†š%d iÀf\"%s\".", 
fe_lše
, 
fe_Çme
);

625 
	gtoo_mªy_cŞumns
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

626 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


628 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

629 "ToØmªy cŞumn š†š%d iÀf\"%s\".", 
fe_lše
, 
fe_Çme
);

633 
	gesÿ³d_¡ršg_nÙ_şo£d
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

634 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


636 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

637 "Esÿ³d sŒšg wa nÙ clo£d iÀlš%d iÀf\"%s\".", 
fe_lše
,

638 
fe_Çme
);

642 
	gš‹g”_mu¡_be_pos™ive
 : 
ba£
,

643 
	gw™h_fe_Çme
,

644 
	gw™h_fe_lše
,

645 
	gw™h_cŞumn_Çme
,

646 
	gw™h_cŞumn_cÚ‹Á
 {

647 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


649 
	g¡d
::
¢´štf
(

650 
”rÜ_mes§ge_bufãr
, (error_message_buffer),

651 
R
"(Thš‹g” "%
s
" mu¡ bpos™ivÜ 0 iÀcŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

652 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

656 
	gno_dig™
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
, 
	gw™h_cŞumn_Çme
, 
	gw™h_cŞumn_cÚ‹Á
 {

657 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


659 
	g¡d
::
¢´štf
(

660 
”rÜ_mes§ge_bufãr
, (error_message_buffer),

661 
R
"(Thš‹g” "%
s
" cÚš ª inv®id dig™ iÀcŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

662 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

666 
	gš‹g”_ov”æow
 : 
ba£
,

667 
	gw™h_fe_Çme
,

668 
	gw™h_fe_lše
,

669 
	gw™h_cŞumn_Çme
,

670 
	gw™h_cŞumn_cÚ‹Á
 {

671 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


673 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

674 
R
"(Thš‹g” "%
s
" ov”æow š cŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

675 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

679 
	gš‹g”_und”æow
 : 
ba£
,

680 
	gw™h_fe_Çme
,

681 
	gw™h_fe_lše
,

682 
	gw™h_cŞumn_Çme
,

683 
	gw™h_cŞumn_cÚ‹Á
 {

684 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


686 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

687 
R
"(Thš‹g” "%
s
" und”æow š cŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

688 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

692 
	gšv®id_sšgË_ch¬aù”
 : 
ba£
,

693 
	gw™h_fe_Çme
,

694 
	gw™h_fe_lše
,

695 
	gw™h_cŞumn_Çme
,

696 
	gw™h_cŞumn_cÚ‹Á
 {

697 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


699 
	g¡d
::
¢´štf
(

700 
”rÜ_mes§ge_bufãr
, (error_message_buffer),

701 
R
"(ThcÚ‹Á "%
s
" oàcŞumÀ"%s" iÀf"%s" iÀlš"%
d
" is‚ot‡ single character.)",

702 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

707 
usšg
 
	gignÜe_cŞumn
 = ;

708 cÚ¡ 
ignÜe_cŞumn
 
	gignÜe_no_cŞumn
 = 0;

709 cÚ¡ 
ignÜe_cŞumn
 
	gignÜe_exŒa_cŞumn
 = 1;

710 cÚ¡ 
ignÜe_cŞumn
 
	gignÜe_missšg_cŞumn
 = 2;

712 
	g‹m¶©e
 <... 
	gŒim_ch¬_li¡
>

713 
	sŒim_ch¬s
 {

714 
	g´iv©e
:

715 
cÚ¡ex´
 
boŞ
 
is_Œim_ch¬
()

717  
çl£
;

720 
	g‹m¶©e
 <
	gşass
... 
	gOth”TrimCh¬s
>

721 
cÚ¡ex´
 
boŞ
 
is_Œim_ch¬
(
c
, 
Œim_ch¬
, 
Oth”TrimCh¬s
... 
Ùh”_Œim_ch¬s
)

723  
	gc
 =ğ
Œim_ch¬
 || 
is_Œim_ch¬
(
c
, 
Ùh”_Œim_ch¬s
...);

726 
	gpublic
:

727 
Œim
(*& 
¡r_begš
, *& 
¡r_’d
)

729 
	g¡r_begš
 !ğ
¡r_’d
 && 
is_Œim_ch¬
(*
¡r_begš
, 
Œim_ch¬_li¡
...)) ++str_begin;

730 
	g¡r_begš
 !ğ
¡r_’d
 && 
is_Œim_ch¬
(*(¡r_’d - 1), 
Œim_ch¬_li¡
...)è--
	g¡r_’d
;

731 *
	g¡r_’d
 = '\0';

735 
	sno_comm’t
 {

736 
boŞ
 
is_comm’t
(const *)

738  
	gçl£
;

742 
	g‹m¶©e
 <... 
	gcomm’t_¡¬t_ch¬_li¡
>

743 
	ssšgË_lše_comm’t
 {

744 
	g´iv©e
:

745 
cÚ¡ex´
 
boŞ
 
is_comm’t_¡¬t_ch¬
()

747  
çl£
;

750 
	g‹m¶©e
 <
	gşass
... 
	gOth”Comm’tS¹Ch¬s
>

751 
cÚ¡ex´
 
boŞ
 
is_comm’t_¡¬t_ch¬
(
c
, 
comm’t_¡¬t_ch¬
,

752 
Oth”Comm’tS¹Ch¬s
... 
Ùh”_comm’t_¡¬t_ch¬s
)

754  
	gc
 =ğ
comm’t_¡¬t_ch¬
 || 
is_comm’t_¡¬t_ch¬
(
c
, 
Ùh”_comm’t_¡¬t_ch¬s
...);

757 
	gpublic
:

758 
boŞ
 
is_comm’t
(cÚ¡ * 
lše
)

760  
is_comm’t_¡¬t_ch¬
(*
lše
, 
comm’t_¡¬t_ch¬_li¡
...);

764 
	sem±y_lše_comm’t
 {

765 
boŞ
 
is_comm’t
(cÚ¡ * 
lše
)

767 ià(*
	glše
 =ğ'\0'è 
Œue
;

768 *
	glše
 =ğ' ' || *
lše
 == '\t') {

769 ++
lše
;

770 ià(*
	glše
 =ğ0è 
Œue
;

772  
	gçl£
;

776 
	g‹m¶©e
 <... 
	gcomm’t_¡¬t_ch¬_li¡
>

777 
	ssšgË_ªd_em±y_lše_comm’t
 {

778 
boŞ
 
is_comm’t
(cÚ¡ * 
lše
)

780  
	gsšgË_lše_comm’t
<
	gcomm’t_¡¬t_ch¬_li¡
...>::
is_comm’t
(
lše
) ||

781 
em±y_lše_comm’t
::
is_comm’t
(
lše
);

785 
	g‹m¶©e
 <
	g£p
>

786 
	sno_quÙe_esÿ³
 {

787 cÚ¡ * 
fšd_Ãxt_cŞumn_’d
(cÚ¡ * 
cŞ_begš
)

789 *
	gcŞ_begš
 !ğ
£p
 && *
cŞ_begš
 != '\0') ++col_begin;

790  
	gcŞ_begš
;

793 
uÃsÿ³
(*&, *&) {}

796 
	g‹m¶©e
 <
	g£p
, 
	gquÙe
>

797 
	sdoubË_quÙe_esÿ³
 {

798 cÚ¡ * 
fšd_Ãxt_cŞumn_’d
(cÚ¡ * 
cŞ_begš
)

800 *
	gcŞ_begš
 !ğ
£p
 && *
cŞ_begš
 != '\0')

801 ià(*
cŞ_begš
 !ğ
quÙe
)

802 ++
cŞ_begš
;

805 ++
	gcŞ_begš
;

806 *
	gcŞ_begš
 !ğ
quÙe
) {

807 ià(*
cŞ_begš
 =ğ'\0'è
throw
 
”rÜ
::
esÿ³d_¡ršg_nÙ_şo£d
();

808 ++
	gcŞ_begš
;

810 ++
	gcŞ_begš
;

811 } *
	gcŞ_begš
 =ğ
quÙe
);

813  
	gcŞ_begš
;

816 
uÃsÿ³
(*& 
cŞ_begš
, *& 
cŞ_’d
)

818 ià(
	gcŞ_’d
 - 
	gcŞ_begš
 >= 2) {

819 ià(*
cŞ_begš
 =ğ
quÙe
 && *(
cŞ_’d
 - 1) == quote) {

820 ++
cŞ_begš
;

821 --
	gcŞ_’d
;

822 * 
	gout
 = 
cŞ_begš
;

823 * 
	gš
 = 
cŞ_begš
; iÀ!ğ
cŞ_’d
; ++in) {

824 ià(*
	gš
 =ğ
quÙe
 && (
š
 + 1è!ğ
cŞ_’d
 && *(in + 1) == quote) {

825 ++
š
;

827 *
	gout
 = *
š
;

828 ++
	gout
;

830 
	gcŞ_’d
 = 
out
;

831 *
	gcŞ_’d
 = '\0';

837 
	sthrow_Ú_ov”æow
 {

838 
	g‹m¶©e
 <
şass
 
	gT
>

839 
Ú_ov”æow
(
T
&)

841 
throw
 
	g”rÜ
::
š‹g”_ov”æow
();

844 
	g‹m¶©e
 <
şass
 
	gT
>

845 
Ú_und”æow
(
T
&)

847 
throw
 
	g”rÜ
::
š‹g”_und”æow
();

851 
	signÜe_ov”æow
 {

852 
	g‹m¶©e
 <
şass
 
	gT
>

853 
Ú_ov”æow
(
T
&)

857 
	g‹m¶©e
 <
şass
 
	gT
>

858 
Ú_und”æow
(
T
&)

863 
	s£t_to_max_Ú_ov”æow
 {

864 
	g‹m¶©e
 <
şass
 
	gT
>

865 
Ú_ov”æow
(
T
& 
x
)

869 
	gx
 = (
¡d
::
num”ic_lim™s
<
T
>::
max
)();

872 
	g‹m¶©e
 <
şass
 
	gT
>

873 
Ú_und”æow
(
T
& 
x
)

875 
	gx
 = (
¡d
::
num”ic_lim™s
<
T
>::
mš
)();

879 
Çme¥aû
 
	gd‘a


881 
	g‹m¶©e
 <
şass
 
	gquÙe_pŞicy
>

882 
chİ_Ãxt_cŞumn
(*& 
lše
, *& 
cŞ_begš
, *& 
cŞ_’d
)

884 
as£¹
(
lše
 !ğ
nuÎ±r
);

886 
	gcŞ_begš
 = 
lše
;

888 
	gcŞ_’d
 = 
cŞ_begš
 + (
quÙe_pŞicy
::
fšd_Ãxt_cŞumn_’d
(col_begin) - col_begin);

890 ià(*
	gcŞ_’d
 == '\0') {

891 
lše
 = 
nuÎ±r
;

893 *
	gcŞ_’d
 = '\0';

894 
	glše
 = 
cŞ_’d
 + 1;

898 
	g‹m¶©e
 <
şass
 
	gŒim_pŞicy
, cÏs 
	gquÙe_pŞicy
>

899 
·r£_lše
(* 
lše
, ** 
sÜ‹d_cŞ
, cÚ¡ 
¡d
::
veùÜ
<>& 
cŞ_Üd”
)

901 
i
 : 
cŞ_Üd”
) {

902 ià(
lše
 =ğ
nuÎ±r
è
throw
 ::
io
::
”rÜ
::
too_ãw_cŞumns
();

903 *
	gcŞ_begš
, *
	gcŞ_’d
;

904 
	gchİ_Ãxt_cŞumn
<
	gquÙe_pŞicy
>(
	glše
, 
	gcŞ_begš
, 
	gcŞ_’d
);

906 ià(
	gi
 != -1) {

907 
Œim_pŞicy
::
Œim
(
cŞ_begš
, 
cŞ_’d
);

908 
	gquÙe_pŞicy
::
uÃsÿ³
(
cŞ_begš
, 
cŞ_’d
);

910 
	gsÜ‹d_cŞ
[
i
] = 
cŞ_begš
;

913 ià(
	glše
 !ğ
nuÎ±r
è
throw
 ::
io
::
”rÜ
::
too_mªy_cŞumns
();

916 
	g‹m¶©e
 <
	gcŞumn_couÁ
, 
şass
 
	gŒim_pŞicy
, cÏs 
	gquÙe_pŞicy
>

917 
·r£_h—d”_lše
(* 
lše
, 
¡d
::
veùÜ
<>& 
cŞ_Üd”
, cÚ¡ std::
¡ršg
* 
cŞ_Çme
,

918 
ignÜe_cŞumn
 
ignÜe_pŞicy
)

920 
	gcŞ_Üd”
.
ş—r
();

922 
boŞ
 
	gfound
[
cŞumn_couÁ
];

923 
	g¡d
::
fl
(
found
, found + 
cŞumn_couÁ
, 
çl£
);

924 
	glše
) {

925 *
	gcŞ_begš
, *
	gcŞ_’d
;

926 
	gchİ_Ãxt_cŞumn
<
	gquÙe_pŞicy
>(
	glše
, 
	gcŞ_begš
, 
	gcŞ_’d
);

928 
	gŒim_pŞicy
::
Œim
(
cŞ_begš
, 
cŞ_’d
);

929 
	gquÙe_pŞicy
::
uÃsÿ³
(
cŞ_begš
, 
cŞ_’d
);

931 
	gi
 = 0; i < 
	gcŞumn_couÁ
; ++i)

932 ià(
	gcŞ_begš
 =ğ
cŞ_Çme
[
i
]) {

933 ià(
found
[
i
]) {

934 
”rÜ
::
du¶iÿ‹d_cŞumn_š_h—d”
 
”r
;

935 
	g”r
.
£t_cŞumn_Çme
(
cŞ_begš
);

936 
throw
 
	g”r
;

938 
	gfound
[
i
] = 
Œue
;

939 
	gcŞ_Üd”
.
push_back
(
i
);

940 
	gcŞ_begš
 = 0;

943 ià(
	gcŞ_begš
) {

944 ià(
	gignÜe_pŞicy
 & ::
io
::
ignÜe_exŒa_cŞumn
)

945 
cŞ_Üd”
.
push_back
(-1);

947 
	g”rÜ
::
exŒa_cŞumn_š_h—d”
 
”r
;

948 
	g”r
.
£t_cŞumn_Çme
(
cŞ_begš
);

949 
throw
 
	g”r
;

953 ià(!(
	gignÜe_pŞicy
 & ::
io
::
ignÜe_missšg_cŞumn
)) {

954 
i
 = 0; 
	gi
 < 
	gcŞumn_couÁ
; ++i) {

955 ià(!
	gfound
[
i
]) {

956 
	g”rÜ
::
missšg_cŞumn_š_h—d”
 
”r
;

957 
	g”r
.
£t_cŞumn_Çme
(
cŞ_Çme
[
i
].
c_¡r
());

958 
throw
 
	g”r
;

964 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

965 
·r£
(* 
cŞ
, & 
x
)

967 ià(!*
	gcŞ
è
throw
 
	g”rÜ
::
šv®id_sšgË_ch¬aù”
();

968 
	gx
 = *
cŞ
;

969 ++
	gcŞ
;

970 ià(*
	gcŞ
è
throw
 
	g”rÜ
::
šv®id_sšgË_ch¬aù”
();

973 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

974 
·r£
(* 
cŞ
, 
¡d
::
¡ršg
& 
x
)

976 
x
 = 
cŞ
;

979 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

980 
·r£
(* 
cŞ
, cÚ¡ *& 
x
)

982 
	gx
 = 
cŞ
;

985 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

986 
·r£
(* 
cŞ
, *& 
x
)

988 
	gx
 = 
cŞ
;

991 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
, cÏs 
	gT
>

992 
·r£_unsigÃd_š‹g”
(cÚ¡ * 
cŞ
, 
T
& 
x
)

994 
	gx
 = 0;

995 *
	gcŞ
 != '\0') {

996 ià('0' <ğ*
cŞ
 && *col <= '9') {

997 
T
 
y
 = *
cŞ
 - '0';

998 ià(
	gx
 > ((
	g¡d
::
num”ic_lim™s
<
T
>::
max
)(è- 
y
) / 10) {

999 
ov”æow_pŞicy
::
Ú_ov”æow
(
x
);

1002 
	gx
 = 10 * 
x
 + 
y
;

1004 
throw
 
	g”rÜ
::
no_dig™
();

1005 ++
	gcŞ
;

1009 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1010 
·r£
(* 
cŞ
, & 
x
)

1012 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1014 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1015 
·r£
(* 
cŞ
, & 
x
)

1017 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1019 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1020 
·r£
(* 
cŞ
, & 
x
)

1022 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1024 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1025 
·r£
(* 
cŞ
, & 
x
)

1027 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1029 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1030 
·r£
(* 
cŞ
, & 
x
)

1032 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1035 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
, cÏs 
	gT
>

1036 
·r£_sigÃd_š‹g”
(cÚ¡ * 
cŞ
, 
T
& 
x
)

1038 ià(*
	gcŞ
 == '-') {

1039 ++
cŞ
;

1041 
	gx
 = 0;

1042 *
	gcŞ
 != '\0') {

1043 ià('0' <ğ*
cŞ
 && *col <= '9') {

1044 
T
 
y
 = *
cŞ
 - '0';

1045 ià(
	gx
 < ((
	g¡d
::
num”ic_lim™s
<
T
>::
mš
)(è+ 
y
) / 10) {

1046 
ov”æow_pŞicy
::
Ú_und”æow
(
x
);

1049 
	gx
 = 10 * 
x
 - 
y
;

1051 
throw
 
	g”rÜ
::
no_dig™
();

1052 ++
	gcŞ
;

1055 } ià(*
	gcŞ
 == '+')

1056 ++
cŞ
;

1057 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1060 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1061 
·r£
(* 
cŞ
, sigÃd & 
x
)

1063 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1065 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1066 
·r£
(* 
cŞ
, sigÃd & 
x
)

1068 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1070 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1071 
·r£
(* 
cŞ
, sigÃd & 
x
)

1073 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1075 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1076 
·r£
(* 
cŞ
, sigÃd & 
x
)

1078 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1080 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1081 
·r£
(* 
cŞ
, sigÃd & 
x
)

1083 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1086 
	g‹m¶©e
 <
şass
 
	gT
>

1087 
·r£_æßt
(cÚ¡ * 
cŞ
, 
T
& 
x
)

1089 
boŞ
 
	gis_Ãg
 = 
çl£
;

1090 ià(*
	gcŞ
 == '-') {

1091 
is_Ãg
 = 
Œue
;

1092 ++
	gcŞ
;

1093 } ià(*
	gcŞ
 == '+')

1094 ++
cŞ
;

1096 
	gx
 = 0;

1097 '0' <ğ*
cŞ
 && *col <= '9') {

1098 
y
 = *
cŞ
 - '0';

1099 
	gx
 *= 10;

1100 
	gx
 +ğ
y
;

1101 ++
	gcŞ
;

1104 ià(*
	gcŞ
 =ğ'.' || *
cŞ
 == ',') {

1105 ++
cŞ
;

1106 
T
 
	gpos
 = 1;

1107 '0' <ğ*
cŞ
 && *col <= '9') {

1108 
pos
 /= 10;

1109 
	gy
 = *
cŞ
 - '0';

1110 ++
	gcŞ
;

1111 
	gx
 +ğ
y
 * 
pos
;

1115 ià(*
	gcŞ
 =ğ'e' || *
cŞ
 == 'E') {

1116 ++
cŞ
;

1117 
	ge
;

1119 
	g·r£_sigÃd_š‹g”
<
	g£t_to_max_Ú_ov”æow
>(
	gcŞ
, 
	ge
);

1121 ià(
	ge
 != 0) {

1122 
T
 
ba£
;

1123 ià(
	ge
 < 0) {

1124 
	gba£
 = 
T
(0.1);

1125 
	ge
 = -
e
;

1127 
	gba£
 = 
T
(10);

1130 
	ge
 != 1) {

1131 ià((
e
 & 1) == 0) {

1132 
ba£
 = base * base;

1133 
	ge
 >>= 1;

1135 
	gx
 *ğ
ba£
;

1136 --
	ge
;

1139 
	gx
 *ğ
ba£
;

1142 ià(*
	gcŞ
 !ğ'\0'è
throw
 
”rÜ
::
no_dig™
();

1145 ià(
	gis_Ãg
è
	gx
 = -
x
;

1148 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1149 
·r£
(* 
cŞ
, & 
x
)

1151 
·r£_æßt
(
cŞ
, 
x
);

1153 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1154 
·r£
(* 
cŞ
, & 
x
)

1156 
·r£_æßt
(
cŞ
, 
x
);

1158 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1159 
·r£
(* 
cŞ
, & 
x
)

1161 
·r£_æßt
(
cŞ
, 
x
);

1164 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1165 
·r£_time
(* 
cŞ
, 
Sim¶eTime
& 
x
)

1167 
	gcŞ
[4] = '\0';

1168 
	g·r£
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gy—r_
);

1169 
	gcŞ
 += 5;

1170 
	gcŞ
[2] = '\0';

1171 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gmÚth_
);

1172 
	gcŞ
 += 3;

1173 
	gcŞ
[2] = '\0';

1174 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gday_
);

1175 
	gcŞ
 += 3;

1176 
	gcŞ
[2] = '\0';

1177 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	ghour_
);

1178 
	gcŞ
 += 3;

1179 
	gcŞ
[2] = '\0';

1180 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gmš_
);

1181 
	gcŞ
 += 3;

1182 
	gcŞ
[2] = '\0';

1183 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	g£cÚd_
);

1185 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1186 
·r£
(* 
cŞ
, 
Sim¶eTime
& 
x
)

1188 
	g·r£_time
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1191 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
, cÏs 
	gT
>

1192 
·r£
(* 
cŞ
, 
T
& 
x
)

1195 ()
	gcŞ
;

1196 ()
	gx
;

1200 
¡©ic_as£¹
((
T
) != (T),

1207 
	g‹m¶©e
 <
	gcŞumn_couÁ
, 
şass
 
	gŒim_pŞicy
 = 
Œim_ch¬s
<' ', '\t'>,

1208 
şass
 
	gquÙe_pŞicy
 = 
no_quÙe_esÿ³
<','>, cÏs 
	gov”æow_pŞicy
 = 
throw_Ú_ov”æow
,

1209 
şass
 
	gcomm’t_pŞicy
 = 
no_comm’t
>

1210 şas 
	cCSVR—d”


1212 
´iv©e
:

1213 
LšeR—d”
 
š
;

1215 * 
	grow
[
cŞumn_couÁ
];

1216 
	g¡d
::
¡ršg
 
cŞumn_Çmes
[
cŞumn_couÁ
];

1218 
	g¡d
::
veùÜ
<> 
cŞ_Üd”
;

1220 
	g‹m¶©e
 <
	gşass
... 
	gCŞNames
>

1221 
£t_cŞumn_Çmes
(
¡d
::
¡ršg
 
s
, 
CŞNames
... 
cŞs
)

1223 
	gcŞumn_Çmes
[
cŞumn_couÁ
 - ...(
CŞNames
è- 1] = 
¡d
::
move
(
s
);

1224 
£t_cŞumn_Çmes
(
¡d
::
fÜw¬d
<
CŞNames
>(
cŞs
)...);

1227 
£t_cŞumn_Çmes
() {}

1229 
	gpublic
:

1230 
CSVR—d”
(èğ
d–‘e
;

1231 
CSVR—d”
(cÚ¡ CSVR—d”&èğ
d–‘e
;

1232 
	gCSVR—d”
& 
	gİ”©Ü
 =(cÚ¡ 
CSVR—d”
&);

1234 
	g‹m¶©e
 <
	gşass
... 
	gArgs
>

1235 
ex¶ic™
 
CSVR—d”
(
Args
&&... 
¬gs
è: 
š
(
¡d
::
fÜw¬d
<Args>(args)...)

1237 
¡d
::
fl
(
row
,„ow + 
cŞumn_couÁ
, 
nuÎ±r
);

1238 
	gcŞ_Üd”
.
»size
(
cŞumn_couÁ
);

1239 
	gi
 = 0; i < 
	gcŞumn_couÁ
; ++iè
	gcŞ_Üd”
[
i
] = i;

1240 
	gi
 = 1; i <ğ
cŞumn_couÁ
; ++i)

1241 
	gcŞumn_Çmes
[
i
 - 1] = "cŞ" + 
¡d
::
to_¡ršg
(i);

1244 * 
Ãxt_lše
()

1246  
	gš
.
Ãxt_lše
();

1249 
	g‹m¶©e
 <
	gşass
... 
	gCŞNames
>

1250 
»ad_h—d”
(
ignÜe_cŞumn
 
ignÜe_pŞicy
, 
CŞNames
... 
cŞs
)

1252 
¡©ic_as£¹
(...(
CŞNames
è>ğ
cŞumn_couÁ
, "notƒnough column‚ames specified");

1253 
¡©ic_as£¹
(...(
CŞNames
è<ğ
cŞumn_couÁ
, "too many column‚ames specified");

1254 
	gŒy
 {

1255 
£t_cŞumn_Çmes
(
¡d
::
fÜw¬d
<
CŞNames
>(
cŞs
)...);

1257 * 
	glše
;

1259 
	glše
 = 
š
.
Ãxt_lše
();

1260 ià(!
	glše
è
throw
 
	g”rÜ
::
h—d”_missšg
();

1261 } 
	gcomm’t_pŞicy
::
is_comm’t
(
lše
));

1263 
	gd‘a
::
·r£_h—d”_lše
<
cŞumn_couÁ
, 
	gŒim_pŞicy
, 
	gquÙe_pŞicy
>(

1264 
	glše
, 
	gcŞ_Üd”
, 
	gcŞumn_Çmes
, 
	gignÜe_pŞicy
);

1265 } 
ÿtch
 (
”rÜ
::
w™h_fe_Çme
& 
”r
) {

1266 
”r
.
£t_fe_Çme
(
š
.
g‘_Œunÿ‹d_fe_Çme
());

1267 
	gthrow
;

1271 
	g‹m¶©e
 <
	gşass
... 
	gCŞNames
>

1272 
£t_h—d”
(
CŞNames
... 
cŞs
)

1274 
¡©ic_as£¹
(...(
CŞNames
è>ğ
cŞumn_couÁ
, "notƒnough column‚ames specified");

1275 
¡©ic_as£¹
(...(
CŞNames
è<ğ
cŞumn_couÁ
, "too many column‚ames specified");

1276 
£t_cŞumn_Çmes
(
¡d
::
fÜw¬d
<
CŞNames
>(
cŞs
)...);

1277 
	g¡d
::
fl
(
row
,„ow + 
cŞumn_couÁ
, 
nuÎ±r
);

1278 
	gcŞ_Üd”
.
»size
(
cŞumn_couÁ
);

1279 
	gi
 = 0; i < 
	gcŞumn_couÁ
; ++iè
	gcŞ_Üd”
[
i
] = i;

1282 
boŞ
 
has_cŞumn
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
) const

1284  
cŞ_Üd”
.
’d
() !=

1285 
¡d
::
fšd
(
cŞ_Üd”
.
begš
(), cŞ_Üd”.
’d
(),

1286 
¡d
::
fšd
(¡d::
begš
(
cŞumn_Çmes
), std::
’d
(cŞumn_Çmes), 
Çme
) -

1287 
¡d
::
begš
(
cŞumn_Çmes
));

1290 
£t_fe_Çme
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
)

1292 
š
.
£t_fe_Çme
(
fe_Çme
);

1295 
£t_fe_Çme
(cÚ¡ * 
fe_Çme
)

1297 
	gš
.
£t_fe_Çme
(
fe_Çme
);

1300 cÚ¡ * 
g‘_Œunÿ‹d_fe_Çme
() const

1302  
	gš
.
g‘_Œunÿ‹d_fe_Çme
();

1305 
£t_fe_lše
(
fe_lše
)

1307 
	gš
.
£t_fe_lše
(
fe_lše
);

1310 
g‘_fe_lše
() const

1312  
	gš
.
g‘_fe_lše
();

1315 
	g´iv©e
:

1316 
·r£_h–³r
(
¡d
::
size_t
) {}

1318 
‹m¶©e
 <
şass
 
T
, 
	gşass
... 
	gCŞTy³
>

1319 
·r£_h–³r
(
¡d
::
size_t
 
r
, 
T
& 
t
, 
CŞTy³
&... 
cŞs
)

1321 ià(
	grow
[
r
]) {

1322 
	gŒy
 {

1323 
	gŒy
 {

1324 ::
io
::
d‘a
::
·r£
<
ov”æow_pŞicy
>(
row
[
r
], 
	gt
);

1325 } 
ÿtch
 (
”rÜ
::
w™h_cŞumn_cÚ‹Á
& 
”r
) {

1326 
”r
.
£t_cŞumn_cÚ‹Á
(
row
[
r
]);

1327 
	gthrow
;

1329 } 
ÿtch
 (
”rÜ
::
w™h_cŞumn_Çme
& 
”r
) {

1330 
”r
.
£t_cŞumn_Çme
(
cŞumn_Çmes
[
r
].
c_¡r
());

1331 
	gthrow
;

1334 
·r£_h–³r
(
r
 + 1, 
cŞs
...);

1337 
	gpublic
:

1338 
‹m¶©e
 <
şass
... 
CŞTy³
>

1339 
boŞ
 
»ad_row
(
CŞTy³
&... 
cŞs
)

1341 
¡©ic_as£¹
(...(
CŞTy³
è>ğ
cŞumn_couÁ
, "notƒnough columns specified");

1342 
¡©ic_as£¹
(...(
CŞTy³
è<ğ
cŞumn_couÁ
, "too many columns specified");

1343 
	gŒy
 {

1344 
	gŒy
 {

1345 * 
	glše
;

1347 
	glše
 = 
š
.
Ãxt_lše
();

1348 ià(!
	glše
è 
	gçl£
;

1349 } 
	gcomm’t_pŞicy
::
is_comm’t
(
lše
));

1351 
	gd‘a
::
·r£_lše
<
Œim_pŞicy
, 
	gquÙe_pŞicy
>(
	glše
, 
	grow
, 
	gcŞ_Üd”
);

1353 
·r£_h–³r
(0, 
cŞs
...);

1354 } 
ÿtch
 (
”rÜ
::
w™h_fe_Çme
& 
”r
) {

1355 
”r
.
£t_fe_Çme
(
š
.
g‘_Œunÿ‹d_fe_Çme
());

1356 
	gthrow
;

1358 } 
ÿtch
 (
”rÜ
::
w™h_fe_lše
& 
”r
) {

1359 
”r
.
£t_fe_lše
(
š
.
g‘_fe_lše
());

1360 
	gthrow
;

1363  
	gŒue
;

1367 
	g‹m¶©e
 <
	gty³Çme
... 
	gCŞTy³s
,y³Çme... 
	gSŒs
>

1368 
	g¡d
::
tu¶e
<
çr_memÜy
::
D©aF¿meVeùÜ
<
CŞTy³s
>...> 
	$·r£_csv_to_veùÜs
(

1369 
çr_memÜy
::
F¬MemMªag”
* 
mªag”
, 
¡d
::
¡ršg
 
csv_fe_·th
, 
SŒs
... 
cŞ_Çmes
)

1371 
io
::
CSVR—d”
<...(
cŞ_Çmes
), io::
Œim_ch¬s
<' '>, io::
doubË_quÙe_esÿ³
<',', '\"'>> 
	`š
(

1372 
csv_fe_·th
);

1373 
š
.
	`»ad_h—d”
(
io
::
ignÜe_exŒa_cŞumn
, 
cŞ_Çmes
...);

1374 
¡d
::
tu¶e
<
CŞTy³s
...> 
cŞ_f›lds
;

1375 autØ
cŞ_vecs
 = 
¡d
::
	`make_tu¶e
(
mªag”
->
®loÿ‹_d©aäame_veùÜ
<
CŞTy³s
>()...);

1376 
çr_memÜy
::
D”efScİe
 
scİe
;

1377 
ušt64_t
 
num_rows
 = 0;

1378 
cÚ¡ex´
 
ušt64_t
 
kNumRowsP”Scİe
 = 1024;

1379 
¡d
::
	`­¶y
([&]×uto&... 
f›lds
è{  
š
.
	`»ad_row
(f›lds...); }, 
cŞ_f›lds
)) {

1380 ià(
	`uÆik–y
(((
num_rows
++è% 
kNumRowsP”Scİe
) == 0)) {

1381 
scİe
.
	`»Ãw
();

1383 autØ
£q
 = 
¡d
::
šdex_£qu’û_fÜ
<
CŞTy³s
...>{};

1384 [&]<
ty³Çme
 
T
, T... 
šts
>(
¡d
::
š‹g”_£qu’û
<T, iÁs...> 
št_£q
)

1386 ((
¡d
::
g‘
<
šts
>(
cŞ_vecs
).
	`push_back
(
scİe
, std::g‘<šts>(
cŞ_f›lds
))), ...);

1388 (
£q
);

1390 
¡d
::
	`­¶y
([&]×uto&... 
vecs
è{ (vecs.
	`æush
(), ...); }, 
cŞ_vecs
);

1391  
cŞ_vecs
;

1392 
	}
}

	@DataFrame/AIFM/include/DataFrame/DataFrame.h

30 #´agm¨
Úû


32 
	~"mªag”.hµ
"

34 
	~<D©aF¿me/D©aF¿meTy³s.h
>

35 
	~<D©aF¿me/Uts/D©eTime.h
>

36 
	~<D©aF¿me/Uts/FixedSizeSŒšg.h
>

37 
	~<D©aF¿me/Uts/Th»adG¿nuÏr™y.h
>

39 
	~<¬¿y
>

40 
	~<f¡»am
>

41 
	~<funùiÚ®
>

42 
	~<futu»
>

43 
	~<m­
>

44 
	~<tu¶e
>

45 
	~<ty³šdex
>

49 
Çme¥aû
 
	ghmdf


62 
	g‹m¶©e
<
ty³Çme
 
	gI
,y³Çm
	gH
>

63 şas 
	cLIBRARY_API
 
	gD©aF¿me
 : 
public
 
Th»adG¿nuÏr™y
 {

65 
¡©ic_as£¹
(
¡d
::
is_ba£_of
<
H‘”oVeùÜ
, 
H
>::
v®ue
 ||

66 
¡d
::
is_ba£_of
<
H‘”oV›w
, 
H
>::
v®ue
 ||

67 
¡d
::
is_ba£_of
<
H‘”oPŒV›w
, 
H
>::
v®ue
,

72 
usšg
 
	gD©aVec
 = 
H
;

73 
usšg
 
	gD©aVecVec
 = 
¡d
::
veùÜ
<
D©aVec
>;

75 
	g‹m¶©e
<
ty³Çme
 
	gII
,y³Çm
	gHH
>

76 
ä›nd
 
şass
 
	gD©aF¿me
;

78 
	gpublic
:

80 
usšg
 
size_ty³
 = 
ty³Çme
 
¡d
::
veùÜ
<
D©aVec
>::size_type;

81 
usšg
 
	gIndexTy³
 = 
I
;

82 
usšg
 
	gIndexVecTy³
 = 
ty³Çme
 
ty³_deş¬e
<
D©aVec
, 
	gIndexTy³
>::
ty³
;

83 
usšg
 
	gCŞNameTy³
 = 
SŒšg64
;

85 
D©aF¿me
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
);

86 
D©aF¿me
(const DataFrame &) = ;

87 
D©aF¿me
(DataFrame &&) = ;

88 
	gD©aF¿me
 &
	gİ”©Ü
ğ(cÚ¡ 
D©aF¿me
 &) = ;

89 
	gD©aF¿me
 &
	gİ”©Ü
ğ(
D©aF¿me
 &&) = ;

91 ~
D©aF¿me
() = ;

93 
	g´iv©e
:

95 
usšg
 
CŞumnTabË
 =

96 
¡d
::
unÜd”ed_m­
<
CŞNameTy³
, 
	gsize_ty³
, 
	g¡d
::
hash
<
Vœtu®SŒšg
>>;

100 
D©aVecVec
 
	gd©a_
 { };

101 
IndexVecTy³
 
	gšdiûs_
;

102 
CŞumnTabË
 
	gcŞumn_tb_
 { };

104 
šlše
 
SpšLock
 *
	glock_
 { 
	gnuÎ±r
 };

106 
	gpublic
:

113 
£t_lock
 (
SpšLock
 *
¦
è{ 
lock_
 = sl; }

114 
»move_lock
 (è{ 
	glock_
 = 
nuÎ±r
; }

121 
	g‹m¶©e
<
ty³Çme
 
	gT
>

122 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
> &

123 
ü—‹_cŞumn
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
, cÚ¡ *
Çme
);

130 
»move_cŞumn
(cÚ¡ *
Çme
);

136 
»Çme_cŞumn
(cÚ¡ *
äom
, cÚ¡ *
to
);

152 
	g‹m¶©e
<
ty³Çme
 
	gFROM_T
,y³Çm
	gTO_T
>

154 
»ty³_cŞumn
(cÚ¡ *
Çme
,

155 
¡d
::
funùiÚ
<
TO_T
 (cÚ¡ 
FROM_T
 &)> 
cÚv”t_func
 =

156 [](cÚ¡ 
FROM_T
 &
v®
è-> 
TO_T
 {

157  ((
TO_T
è(*(&
v®
)));

173 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

174 
size_ty³


175 
lßd_d©a
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
, 
IndexVecTy³
 &&
šdiûs
,

176 
Ts
&& ... 
¬gs
);

183 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

184 
size_ty³


185 
lßd_šdex
(cÚ¡ 
ITR
 &
begš
, cÚ¡ ITR &
’d
);

189 
size_ty³


190 
lßd_šdex
(
IndexVecTy³
 &&
idx
);

208 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
>

209 
size_ty³


210 
lßd_cŞumn
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
,

211 cÚ¡ *
Çme
,

212 
Index2D
<cÚ¡ 
ITR
> 
¿nge
,

213 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

229 
	g‹m¶©e
<
ty³Çme
 
	gT
>

230 
size_ty³


231 
lßd_cŞumn
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
, cÚ¡ *
Çme
,

232 
çr_memÜy
::
D©aF¿meVeùÜ
<
T
> &&
d©a
,

233 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

235 
	g‹m¶©e
<
ty³Çme
 
	gT
>

236 
size_ty³


237 
lßd_cŞumn
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
, cÚ¡ *
Çme
,

238 cÚ¡ 
çr_memÜy
::
D©aF¿meVeùÜ
<
T
> &
d©a
,

239 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

274 
	g‹m¶©e
<
ty³Çme
 
	gT
>

275 
size_ty³


276 
lßd_®ign_cŞumn
(

277 cÚ¡ *
Çme
,

278 
¡d
::
veùÜ
<
T
> &&
d©a
,

279 
size_ty³
 
š‹rv®
,

280 
boŞ
 
¡¬t_äom_begšnšg
,

281 cÚ¡ 
T
 &
nuÎ_v®ue
 = 
D©aF¿me
::
_g‘_Çn
<T>(),

282 
¡d
::
funùiÚ
<
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
size_ty³
 (

283 cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &,

284 cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &)> 
diff_func
 =

285 [](cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &
t_1
,

286 cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &
t
) ->

287 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
size_ty³
 {

288  (
¡©ic_ÿ¡
<
¡d
::
size_t
>(
t
 - 
t_1
));

293 
size_ty³


294 
­³nd_šdex
(cÚ¡ 
IndexTy³
 &
v®
);

307 
	g‹m¶©e
<
ty³Çme
 
	gT
>

308 
size_ty³


309 
­³nd_cŞumn
(cÚ¡ *
Çme
,

310 cÚ¡ 
T
 &
v®
,

311 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

320 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

321 
size_ty³


322 
­³nd_šdex
(
Index2D
<cÚ¡ 
ITR
 &> 
¿nge
);

339 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
>

340 
size_ty³


341 
­³nd_cŞumn
(cÚ¡ *
Çme
,

342 
Index2D
<cÚ¡ 
ITR
 &> 
¿nge
,

343 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

356 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

358 
»move_d©a_by_idx
(
Index2D
<
IndexTy³
> 
¿nge
);

373 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

375 
»move_d©a_by_loc
(
Index2D
<> 
¿nge
);

402 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

404 
»move_d©a_by_£l
(cÚ¡ *
Çme
, 
F
 &
£l_funùÜ
);

427 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

429 
»move_d©a_by_£l
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
F
 &
£l_funùÜ
);

456 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gF
,

457 
	gty³Çme
 ... 
	gTs
>

459 
»move_d©a_by_£l
(cÚ¡ *
Çme1
,

460 cÚ¡ *
Çme2
,

461 cÚ¡ *
Çme3
,

462 
F
 &
£l_funùÜ
);

464 
	gpublic
:

476 
‹m¶©e
<
size_t
 
N
, 
	gty³Çme
 ... 
	gTs
>

478 
shufæe
(cÚ¡ 
¡d
::
¬¿y
<cÚ¡ *, 
N
> 
cŞ_Çmes
,

479 
boŞ
 
®so_shufæe_šdex
);

502 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
size_t
 
	gN
>

504 
fl_missšg
(cÚ¡ 
¡d
::
¬¿y
<cÚ¡ *, 
N
> 
cŞ_Çmes
,

505 
fl_pŞicy
 
pŞicy
,

506 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
v®ues
 = { },

507 
lim™
 = -1);

519 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

521 
drİ_missšg
(
drİ_pŞicy
 
pŞicy
, 
size_ty³
 
th»shŞd
 = 0);

542 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
size_t
 
	gN
>

543 
size_ty³


544 
»¶aû
(cÚ¡ *
cŞ_Çme
,

545 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Şd_v®ues
,

546 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Ãw_v®ues
,

547 
lim™
 = -1);

554 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
size_t
 
	gN
>

555 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
size_ty³
>

556 
»¶aû_async
(cÚ¡ *
cŞ_Çme
,

557 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Şd_v®ues
,

558 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Ãw_v®ues
,

559 
lim™
 = -1);

581 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
>

583 
»¶aû
(cÚ¡ *
cŞ_Çme
, 
F
 &
funùÜ
);

590 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
>

591 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

592 
»¶aû_async
(cÚ¡ *
cŞ_Çme
, 
F
 &
funùÜ
);

603 
	g‹m¶©e
<
size_t
 
	gN
>

604 
size_ty³


605 
»¶aû_šdex
(cÚ¡ 
¡d
::
¬¿y
<
IndexTy³
, 
N
> 
Şd_v®ues
,

606 cÚ¡ 
¡d
::
¬¿y
<
IndexTy³
, 
N
> 
Ãw_v®ues
,

607 
lim™
 = -1);

627 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

629 
sÜt
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
, cÚ¡ *
Çme
, 
sÜt_¥ec
 
dœ
);

660 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
, 
	gty³Çme
 ... 
	gTs
>

662 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

663 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
);

667 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
, 
	gty³Çme
 ... 
	gTs
>

669 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

670 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

671 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
);

675 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,

676 
	gty³Çme
 ... 
	gTs
>

678 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

679 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

680 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

681 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
);

685 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

686 
	gty³Çme
 ... 
	gTs
>

688 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

689 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

690 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

691 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
,

692 cÚ¡ *
Çme5
, 
sÜt_¥ec
 
dœ5
);

696 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

697 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

698 
sÜt_async
(cÚ¡ *
Çme
, 
sÜt_¥ec
 
dœ
);

700 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
, 
	gty³Çme
 ... 
	gTs
>

701 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

702 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

703 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
);

705 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
, 
	gty³Çme
 ... 
	gTs
>

706 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

707 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

708 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

709 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
);

711 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,

712 
	gty³Çme
 ... 
	gTs
>

713 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

714 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

715 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

716 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

717 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
);

719 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

720 
	gty³Çme
 ... 
	gTs
>

721 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

722 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

723 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

724 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

725 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
,

726 cÚ¡ *
Çme5
, 
sÜt_¥ec
 
dœ5
);

748 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

749 [[
nodisÿrd
]] 
D©aF¿me


750 
groupby
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
,

751 
F
 &&
func
,

752 cÚ¡ *
gb_cŞ_Çme
,

753 
sÜt_¡©e
 
®»ady_sÜ‹d
 = sÜt_¡©e::
nÙ_sÜ‹d
) const;

757 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

758 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
D©aF¿me
>

759 
groupby_async
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
,

760 
F
 &&
func
,

761 cÚ¡ *
gb_cŞ_Çme
,

762 
sÜt_¡©e
 
®»ady_sÜ‹d
 = sÜt_¡©e::
nÙ_sÜ‹d
) const;

783 
	g‹m¶©e
<
ty³Çme
 
	gT
>

784 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gT
>

785 
v®ue_couÁs
(cÚ¡ *
cŞ_Çme
) const;

812 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

813 [[
nodisÿrd
]] 
D©aF¿me


814 
buck‘ize
(
F
 &&
func
, cÚ¡ 
IndexTy³
 &
buck‘_š‹rv®
) const;

818 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

819 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
D©aF¿me
>

820 
buck‘ize_async
(
F
 &&
func
, cÚ¡ 
IndexTy³
 &
buck‘_š‹rv®
) const;

829 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

831 
£lf_buck‘ize
(
F
 &&
func
, cÚ¡ 
IndexTy³
 &
buck‘_š‹rv®
);

857 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

858 [[
nodisÿrd
]] 
D©aF¿me


859 
Œª¥o£
(
IndexVecTy³
 &&
šdiûs
,

860 cÚ¡ 
V
 &
cu¼’t_cŞ_Üd”
,

861 cÚ¡ 
V
 &
Ãw_cŞ_Çmes
) const;

883 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

884 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

885 
još_by_šdex
(cÚ¡ 
RHS_T
 &
rhs
, 
još_pŞicy
 
jp
) const;

916 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

917 [[
nodisÿrd
]] 
	gStdD©aF¿me
<>

918 
još_by_cŞumn
(cÚ¡ 
RHS_T
 &
rhs
, cÚ¡ *
Çme
, 
još_pŞicy
 
jp
) const;

940 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

941 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

942 
cÚÿt
(cÚ¡ 
RHS_T
 &
rhs
,

943 
cÚÿt_pŞicy
 
ı
 = cÚÿt_pŞicy::
®l_cŞumns
) const;

958 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

960 
£lf_cÚÿt
(cÚ¡ 
RHS_T
 &
rhs
, 
boŞ
 
add_Ãw_cŞumns
 = 
Œue
);

975 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

977 
£lf_shiá
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
);

982 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

983 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

984 
shiá
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
) const;

999 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1001 
£lf_rÙ©e
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
);

1006 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1007 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

1008 
rÙ©e
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
) const;

1010 
	gpublic
:

1018 
‹m¶©e
<
ty³Çme
 
T
>

1019 [[
nodisÿrd
]] 
ty³Çme
 
ty³_deş¬e
<
D©aVec
, 
	gT
>::
ty³
 &

1020 
g‘_cŞumn
(cÚ¡ *
Çme
);

1030 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1031 [[
nodisÿrd
]] cÚ¡ 
ty³Çme
 
	gty³_deş¬e
<
	gD©aVec
, 
	gT
>::
ty³
 &

1032 
g‘_cŞumn
(cÚ¡ *
Çme
) const;

1040 
boŞ


1041 
has_cŞumn
(cÚ¡ *
Çme
) const;

1057 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1058 [[
nodisÿrd
]] 
boŞ


1059 
·‰”n_m©ch
(cÚ¡ *
cŞ_Çme
,

1060 
·‰”n_¥ec
 
·‰”n
,

1061 
•sÚ
 = 0.0) const;

1082 
	g‹m¶©e
<
size_t
 
	gN
, 
	gty³Çme
 ... 
	gTs
>

1083 [[
nodisÿrd
]] 
H‘”oVeùÜ


1084 
g‘_row
(
size_ty³
 
row_num
,

1085 cÚ¡ 
¡d
::
¬¿y
<cÚ¡ *, 
N
> 
cŞ_Çmes
) const;

1100 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1101 [[
nodisÿrd
]] 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
> 
g‘_cŞ_unique_v®ues
(

1102 
çr_memÜy
::
F¬MemMªag”
* 
mªag”
, cÚ¡ * 
Çme
) const;

1114 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1115 [[
nodisÿrd
]] 
D©aF¿me


1116 
g‘_d©a_by_idx
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
,

1117 
Index2D
<
IndexTy³
> 
¿nge
) const;

1133 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1134 [[
nodisÿrd
]] 
D©aF¿me


1135 
g‘_d©a_by_idx
(cÚ¡ 
¡d
::
veùÜ
<
IndexTy³
> &
v®ues
) const;

1153 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1154 [[
nodisÿrd
]] 
	gD©aF¿meV›w
<
	gIndexTy³
>

1155 
g‘_v›w_by_idx
(
Index2D
<
IndexTy³
> 
¿nge
) const;

1174 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1175 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1176 
g‘_v›w_by_idx
(cÚ¡ 
¡d
::
veùÜ
<
IndexTy³
> &
v®ues
) const;

1189 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1190 [[
nodisÿrd
]] 
D©aF¿me


1191 
g‘_d©a_by_loc
(
Index2D
<> 
¿nge
) const;

1207 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1208 [[
nodisÿrd
]] 
D©aF¿me


1209 
g‘_d©a_by_loc
(cÚ¡ 
¡d
::
veùÜ
<> &
loÿtiÚs
) const;

1227 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1228 [[
nodisÿrd
]] 
	gD©aF¿meV›w
<
	gIndexTy³
>

1229 
g‘_v›w_by_loc
(
Index2D
<> 
¿nge
) const;

1248 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1249 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1250 
g‘_v›w_by_loc
(cÚ¡ 
¡d
::
veùÜ
<> &
loÿtiÚs
) const;

1278 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gF
, 
	gty³Çme
... 
	gTs
>

1279 [[
nodisÿrd
]] 
D©aF¿me
 
g‘_d©a_by_£l
(
çr_memÜy
::
F¬MemMªag”
* 
mªag”
,

1280 cÚ¡ * 
Çme
,

1281 
F
& 
£l_funùÜ
) const;

1303 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

1304 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1305 
g‘_v›w_by_£l
(cÚ¡ *
Çme
, 
F
 &
£l_funùÜ
) const;

1328 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

1329 [[
nodisÿrd
]] 
D©aF¿me


1330 
g‘_d©a_by_£l
(cÚ¡ *
Çme1
,

1331 cÚ¡ *
Çme2
,

1332 
F
 &
£l_funùÜ
) const;

1358 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

1359 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1360 
g‘_v›w_by_£l
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
F
 &
£l_funùÜ
) const;

1387 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gF
,

1388 
	gty³Çme
 ... 
	gTs
>

1389 [[
nodisÿrd
]] 
D©aF¿me


1390 
g‘_d©a_by_£l
(cÚ¡ *
Çme1
,

1391 cÚ¡ *
Çme2
,

1392 cÚ¡ *
Çme3
,

1393 
F
 &
£l_funùÜ
) const;

1423 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gF
,

1424 
	gty³Çme
 ... 
	gTs
>

1425 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1426 
g‘_v›w_by_£l
(cÚ¡ *
Çme1
,

1427 cÚ¡ *
Çme2
,

1428 cÚ¡ *
Çme3
,

1429 
F
 &
£l_funùÜ
) const;

1454 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1455 [[
nodisÿrd
]] 
D©aF¿me


1456 
g‘_d©a_by_¿nd
(
¿ndom_pŞicy
 
¥ec
, 
n
, 
size_ty³
 
£ed
 = 0) const;

1483 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1484 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1485 
g‘_v›w_by_¿nd
(
¿ndom_pŞicy
 
¥ec
, 
n
, 
size_ty³
 
£ed
 = 0) const;

1489 
šlše


1490 cÚ¡ 
	gIndexVecTy³
 &

1491 
g‘_šdex
(ècÚ¡ {  (
	gšdiûs_
); }

1495 
šlše


1496 
	gIndexVecTy³
 &

1497 
g‘_šdex
(è{  (
	gšdiûs_
); }

1520 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

1521 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gT
>

1522 
g‘_»šdexed
(cÚ¡ *
cŞ_to_be_šdex
,

1523 cÚ¡ *
Şd_šdex_Çme
 = 
nuÎ±r
) const;

1546 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

1547 [[
nodisÿrd
]] 
	gD©aF¿meV›w
<
	gT
>

1548 
g‘_»šdexed_v›w
(cÚ¡ *
cŞ_to_be_šdex
,

1549 cÚ¡ *
Şd_šdex_Çme
 = 
nuÎ±r
) const;

1577 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gDF
,y³Çm
	gF
>

1578 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
T
>

1579 
combše
(cÚ¡ *
cŞ_Çme
, cÚ¡ 
DF
 &
rhs
, 
F
 &
funùÜ
) const;

1604 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gDF1
,y³Çm
	gDF2
,y³Çm
	gF
>

1605 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
T
>

1606 
combše
(cÚ¡ *
cŞ_Çme
,

1607 cÚ¡ 
DF1
 &
df1
,

1608 cÚ¡ 
DF2
 &
df2
,

1609 
F
 &
funùÜ
) const;

1642 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gDF1
,y³Çm
	gDF2
,y³Çm
	gDF3
,y³Çm
	gF
>

1643 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
T
>

1644 
combše
(cÚ¡ *
cŞ_Çme
,

1645 cÚ¡ 
DF1
 &
df1
,

1646 cÚ¡ 
DF2
 &
df2
,

1647 cÚ¡ 
DF3
 &
df3
,

1648 
F
 &
funùÜ
) const;

1650 
	gpublic
:

1676 
‹m¶©e
<
ty³Çme
 ... 
Ts
>

1678 
muÉi_vis™
(
Ts
 ... 
¬gs
);

1680 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1682 
muÉi_vis™
(
Ts
 ... 
¬gs
) const {

1684 
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gmuÉi_vis™
<
	gTs
 ...>(
	g¬gs
 ...);

1699 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1700 
	gV
 &

1701 
vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

1703 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1704 
	gV
 &

1705 
vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const {

1707 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT
, 
	gV
>(
	gÇme
, 
	gvis™Ü
));

1717 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1718 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1719 
vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

1721 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1722 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1723 
vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const;

1741 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1742 
	gV
 &

1743 
vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

1745 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1746 
	gV
 &

1747 
vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
) const {

1749 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gV
>

1750 (
	gÇme1
, 
	gÇme2
, 
	gvis™Ü
));

1760 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1761 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1762 
vis™_async
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

1764 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1765 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1766 
vis™_async
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
) const;

1788 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1789 
	gV
 &

1790 
vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, cÚ¡ *
Çme3
, 
V
 &
vis™Ü
);

1792 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1793 
	gV
 &

1794 
vis™
(cÚ¡ *
Çme1
,

1795 cÚ¡ *
Çme2
,

1796 cÚ¡ *
Çme3
,

1797 
V
 &
vis™Ü
) const {

1799 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gT3
, 
	gV
>

1800 (
	gÇme1
, 
	gÇme2
, 
	gÇme3
, 
	gvis™Ü
));

1810 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1811 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1812 
vis™_async
(cÚ¡ *
Çme1
,

1813 cÚ¡ *
Çme2
,

1814 cÚ¡ *
Çme3
,

1815 
V
 &
vis™Ü
);

1817 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1818 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1819 
vis™_async
(cÚ¡ *
Çme1
,

1820 cÚ¡ *
Çme2
,

1821 cÚ¡ *
Çme3
,

1822 
V
 &
vis™Ü
) const;

1848 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1849 
	gV
 &

1850 
vis™
(cÚ¡ *
Çme1
,

1851 cÚ¡ *
Çme2
,

1852 cÚ¡ *
Çme3
,

1853 cÚ¡ *
Çme4
,

1854 
V
 &
vis™Ü
);

1856 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1857 
	gV
 &

1858 
vis™
(cÚ¡ *
Çme1
,

1859 cÚ¡ *
Çme2
,

1860 cÚ¡ *
Çme3
,

1861 cÚ¡ *
Çme4
,

1862 
V
 &
vis™Ü
) const {

1864 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gT3
, 
	gT4
, 
	gV
>

1865 (
	gÇme1
, 
	gÇme2
, 
	gÇme3
, 
	gÇme4
, 
	gvis™Ü
));

1875 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1876 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1877 
vis™_async
(cÚ¡ *
Çme1
,

1878 cÚ¡ *
Çme2
,

1879 cÚ¡ *
Çme3
,

1880 cÚ¡ *
Çme4
,

1881 
V
 &
vis™Ü
);

1883 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1884 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1885 
vis™_async
(cÚ¡ *
Çme1
,

1886 cÚ¡ *
Çme2
,

1887 cÚ¡ *
Çme3
,

1888 cÚ¡ *
Çme4
,

1889 
V
 &
vis™Ü
) const;

1919 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1920 
ty³Çme
 
	gV
>

1921 
	gV
 &

1922 
vis™
(cÚ¡ *
Çme1
,

1923 cÚ¡ *
Çme2
,

1924 cÚ¡ *
Çme3
,

1925 cÚ¡ *
Çme4
,

1926 cÚ¡ *
Çme5
,

1927 
V
 &
vis™Ü
);

1929 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1930 
ty³Çme
 
	gV
>

1931 
	gV
 &

1932 
vis™
(cÚ¡ *
Çme1
,

1933 cÚ¡ *
Çme2
,

1934 cÚ¡ *
Çme3
,

1935 cÚ¡ *
Çme4
,

1936 cÚ¡ *
Çme5
,

1937 
V
 &
vis™Ü
) const {

1939 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gT3
, 
	gT4
, 
	gT5
, 
	gV
>

1940 (
	gÇme1
, 
	gÇme2
, 
	gÇme3
, 
	gÇme4
, 
	gÇme5
, 
	gvis™Ü
));

1950 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1951 
ty³Çme
 
	gV
>

1952 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1953 
vis™_async
(cÚ¡ *
Çme1
,

1954 cÚ¡ *
Çme2
,

1955 cÚ¡ *
Çme3
,

1956 cÚ¡ *
Çme4
,

1957 cÚ¡ *
Çme5
,

1958 
V
 &
vis™Ü
);

1960 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1961 
ty³Çme
 
	gV
>

1962 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1963 
vis™_async
(cÚ¡ *
Çme1
,

1964 cÚ¡ *
Çme2
,

1965 cÚ¡ *
Çme3
,

1966 cÚ¡ *
Çme4
,

1967 cÚ¡ *
Çme5
,

1968 
V
 &
vis™Ü
) const;

1982 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1983 
	gV
 &

1984 
sšgË_aù_vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

1986 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1987 
	gV
 &

1988 
sšgË_aù_vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const {

1990 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gsšgË_aù_vis™
<
	gT
, 
	gV
>

1991 (
	gÇme
, 
	gvis™Ü
));

2002 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gV
>

2003 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

2004 
sšgË_aù_vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

2006 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gV
>

2007 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

2008 
sšgË_aù_vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const;

2027 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2028 
	gV
 &

2029 
sšgË_aù_vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

2031 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2032 
	gV
 &

2033 
sšgË_aù_vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
) const {

2035 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gsšgË_aù_vis™
<
	gT1
, 
	gT2
, 
	gV
>

2036 (
	gÇme1
, 
	gÇme2
, 
	gvis™Ü
));

2047 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2048 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

2049 
sšgË_aù_vis™_async
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

2051 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2052 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

2053 
sšgË_aù_vis™_async
(cÚ¡ *
Çme1
,

2054 cÚ¡ *
Çme2
,

2055 
V
 &
vis™Ü
) const;

2057 
	gpublic
:

2067 
‹m¶©e
<
ty³Çme
 ... 
Ts
>

2068 [[
nodisÿrd
]] 
boŞ


2069 
is_equ®
(cÚ¡ 
D©aF¿me
 &
rhs
) const;

2083 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

2084 
	gD©aF¿me
 &

2085 
modify_by_idx
(
D©aF¿me
 &
rhs
,

2086 
sÜt_¡©e
 
®»ady_sÜ‹d
 = sÜt_¡©e::
nÙ_sÜ‹d
);

2088 
	gpublic
:

2099 
‹m¶©e
<
ty³Çme
 ... 
Ts
>

2101 
make_cÚsi¡’t
();

2109 [[
nodisÿrd
]] 
	g¡d
::
·œ
<
size_ty³
, 
	gsize_ty³
>

2110 
sh­e
() const;

2119 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

2120 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
¡d
::
tu¶e
<
CŞNameTy³
,

2121 
	gsize_ty³
,

2122 
	g¡d
::
ty³_šdex
>>

2123 
g‘_cŞumns_šfo
() const;

2141 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2142 [[
nodisÿrd
]] 
MemU§ge


2143 
g‘_memÜy_u§ge
(cÚ¡ *
cŞ_Çme
) const;

2157 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

2159 
shršk_to_f™
();

2188 
	g¡d
::
veùÜ
<
IndexTy³
>

2189 
g’_d©‘ime_šdex
(cÚ¡ *
¡¬t_d©‘ime
,

2190 cÚ¡ *
’d_d©‘ime
,

2191 
time_äequ’cy
 
t_äeq
,

2192 
šüem’t
 = 1,

2193 
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

2209 
	g¡d
::
veùÜ
<
IndexTy³
>

2210 
g’_£qu’û_šdex
(cÚ¡ 
IndexTy³
 &
¡¬t_v®ue
,

2211 cÚ¡ 
IndexTy³
 &
’d_v®ue
,

2212 
šüem’t
 = 1);

2253 
	g‹m¶©e
<
ty³Çme
 
	gS
, 
	gty³Çme
 ... 
	gTs
>

2254 
boŞ


2255 
wr™e
(
S
 &
o
,

2256 
boŞ
 
v®ues_Úly
 = 
çl£
,

2257 
io_fÜm©
 
iof
 = io_fÜm©::
csv
) const;

2261 
	g‹m¶©e
<
ty³Çme
 
	gS
, 
	gty³Çme
 ... 
	gTs
>

2262 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
boŞ
>

2263 
wr™e_async
(
S
 &
o
,

2264 
boŞ
 
v®ues_Úly
 = 
çl£
,

2265 
io_fÜm©
 
iof
 = io_fÜm©::
csv
) const;

2299 
boŞ


2300 
»ad
(cÚ¡ *
fe_Çme
, 
io_fÜm©
 
iof
 = io_fÜm©::
csv
);

2304 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
boŞ
>

2305 
»ad_async
(cÚ¡ *
fe_Çme
, 
io_fÜm©
 
iof
 = io_fÜm©::
csv
);

2307 
	g´iv©e
:

2309 
‹m¶©e
<
ty³Çme
 
DF
, 
	g‹m¶©e
<
	gty³Çme
> 
şass
 
	gOPT
,y³Çm... 
	gTs
>

2310 
ä›nd
 
DF


2311 
bš¬y_İ”©iÚ
(cÚ¡ 
DF
 &
lhs
, cÚ¡ DF &
rhs
);

2313 
	g´Ùeùed
:

2315 
‹m¶©e
<
ty³Çme
 
T1
,y³Çm
	gT2
>

2316 
size_ty³


2317 
_lßd_·œ
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
,

2318 
¡d
::
·œ
<
T1
, 
T2
> &
cŞ_Çme_d©a
);

2320 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2321 
šlše
 
cÚ¡ex´


2322 
T
 
_g‘_Çn
();

2324 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2325 
šlše
 
cÚ¡ex´
 
boŞ


2326 
_is_Çn
(cÚ¡ 
T
 &
v®
);

2328 
	g´iv©e
:

2330 
»ad_jsÚ_
(
¡d
::
if¡»am
 &
fe
);

2332 
	g‹m¶©e
<
boŞ
 
	gAsûndšg
, 
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

2334 
sÜt_commÚ_
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
, 
D©aF¿me
<
I
, 
H
> &
df
,

2335 cÚ¡ 
T
 &
vec
);

2337 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2339 
fl_missšg_v®ue_
(
¡d
::
veùÜ
<
T
> &
vec
,

2340 cÚ¡ 
T
 &
v®ue
,

2341 
lim™
,

2342 
size_ty³
 
cŞ_num
);

2344 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2346 
fl_missšg_ffl_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
, 
size_ty³
 
cŞ_num
);

2348 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2349 
ty³Çme
 
	g¡d
::
’abË_if
<

2350 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 &&

2351 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2353 
fl_missšg_midpošt_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
, 
size_ty³
 
cŞ_num
);

2355 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2356 
ty³Çme
 
	g¡d
::
’abË_if
<

2357 ! 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 ||

2358 ! 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2360 
fl_missšg_midpošt_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
, 
size_ty³
 
cŞ_num
);

2362 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2364 
fl_missšg_bfl_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
);

2366 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2367 
ty³Çme
 
	g¡d
::
’abË_if
<

2368 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 &&

2369 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2371 
fl_missšg_lš‹r_
(
¡d
::
veùÜ
<
T
> &
vec
,

2372 cÚ¡ 
IndexVecTy³
 &
šdex
,

2373 
lim™
);

2375 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2376 
ty³Çme
 
	g¡d
::
’abË_if
<

2377 ! 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 ||

2378 ! 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2380 
fl_missšg_lš‹r_
(
¡d
::
veùÜ
<
T
> &, cÚ¡ 
IndexVecTy³
 &, );

2383 
usšg
 
	gDrİRowM­
 = 
¡d
::
m­
<
size_ty³
, 
	gsize_ty³
>;

2385 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2387 
drİ_missšg_rows_
(
T
 &
vec
,

2388 cÚ¡ 
DrİRowM­
 
missšg_row_m­
,

2389 
drİ_pŞicy
 
pŞicy
,

2390 
size_ty³
 
th»shŞd
,

2391 
size_ty³
 
cŞ_num
);

2393 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
>

2395 
£tup_v›w_cŞumn_
(cÚ¡ *
Çme
, 
Index2D
<
ITR
> 
¿nge
);

2397 
usšg
 
	gIndexIdxVeùÜ
 = 
¡d
::
veùÜ
<¡d::
tu¶e
<
size_ty³
, 
	gsize_ty³
>>;

2398 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2399 
usšg
 
	gJošSÜtšgPaœ
 = 
¡d
::
·œ
<cÚ¡ 
T
 *, 
	gsize_ty³
>;

2401 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gIDX_T
, 
	gty³Çme
 ... 
	gTs
>

2403 
još_h–³r_commÚ_
(cÚ¡ 
LHS_T
 &
lhs
,

2404 cÚ¡ 
RHS_T
 &
rhs
,

2405 cÚ¡ 
IndexIdxVeùÜ
 &
jošed_šdex_idx
,

2406 
StdD©aF¿me
<
IDX_T
> &
»suÉ
,

2407 cÚ¡ *
sk_cŞ_Çme
 = 
nuÎ±r
);

2409 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2410 
	gStdD©aF¿me
<
	gIndexTy³
>

2411 
šdex_još_h–³r_
(cÚ¡ 
LHS_T
 &
lhs
,

2412 cÚ¡ 
RHS_T
 &
rhs
,

2413 cÚ¡ 
IndexIdxVeùÜ
 &
jošed_šdex_idx
);

2415 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2416 
	gStdD©aF¿me
<>

2417 
cŞumn_još_h–³r_
(cÚ¡ 
LHS_T
 &
lhs
,

2418 cÚ¡ 
RHS_T
 &
rhs
,

2419 cÚ¡ *
cŞ_Çme
,

2420 cÚ¡ 
IndexIdxVeùÜ
 &
jošed_šdex_idx
);

2422 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2423 
IndexIdxVeùÜ


2424 
g‘_šÃr_šdex_idx_veùÜ_
(

2425 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2426 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2428 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2429 
	gStdD©aF¿me
<
	gIndexTy³
>

2430 
šdex_šÃr_još_
(

2431 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2432 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2433 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2435 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2436 
	gStdD©aF¿me
<>

2437 
cŞumn_šÃr_još_
(cÚ¡ 
LHS_T
 &
lhs
,

2438 cÚ¡ 
RHS_T
 &
rhs
,

2439 cÚ¡ *
cŞ_Çme
,

2440 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2441 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2443 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2444 
IndexIdxVeùÜ


2445 
g‘_Ëá_šdex_idx_veùÜ_
(

2446 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2447 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2449 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2450 
	gStdD©aF¿me
<
	gIndexTy³
>

2451 
šdex_Ëá_još_
(

2452 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2453 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2454 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2456 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2457 
	gStdD©aF¿me
<>

2458 
cŞumn_Ëá_još_
(cÚ¡ 
LHS_T
 &
lhs
,

2459 cÚ¡ 
RHS_T
 &
rhs
,

2460 cÚ¡ *
cŞ_Çme
,

2461 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2462 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2464 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2465 
IndexIdxVeùÜ


2466 
g‘_right_šdex_idx_veùÜ_
(

2467 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2468 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2470 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2471 
	gStdD©aF¿me
<
	gIndexTy³
>

2472 
šdex_right_još_
(

2473 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2474 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2475 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2477 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2478 
	gStdD©aF¿me
<>

2479 
cŞumn_right_još_
(cÚ¡ 
LHS_T
 &
lhs
,

2480 cÚ¡ 
RHS_T
 &
rhs
,

2481 cÚ¡ *
cŞ_Çme
,

2482 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2483 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2485 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2487 
cÚÿt_h–³r_
(
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
, 
boŞ
 
add_Ãw_cŞumns
);

2489 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2490 
IndexIdxVeùÜ


2491 
g‘_Ëá_right_šdex_idx_veùÜ_
(

2492 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2493 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2495 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2496 
	gStdD©aF¿me
<
	gIndexTy³
>

2497 
šdex_Ëá_right_još_
(

2498 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2499 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2500 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2502 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2503 
	gStdD©aF¿me
<>

2504 
cŞumn_Ëá_right_još_
(

2505 cÚ¡ 
LHS_T
 &
lhs
,

2506 cÚ¡ 
RHS_T
 &
rhs
,

2507 cÚ¡ *
cŞ_Çme
,

2508 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2509 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2511 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2512 
boŞ


2513 
is_mÚÙÚic_šü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2515 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2516 
boŞ


2517 
is_¡riùly_mÚÙÚic_šü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2519 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2520 
boŞ


2521 
is_mÚÙÚic_deü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2523 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2524 
boŞ


2525 
is_¡riùly_mÚÙÚic_deü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2527 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2528 
boŞ


2529 
is_nÜm®_
(cÚ¡ 
V
 &
cŞumn
, 
•sÚ
, 
boŞ
 
check_fÜ_¡ªd¬d
);

2531 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2532 
boŞ


2533 
is_lognÜm®_
(cÚ¡ 
V
 &
cŞumn
, 
•sÚ
);

2535 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2537 
shiá_right_
(
V
 &
vec
, 
size_ty³
 
n
);

2539 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2541 
shiá_Ëá_
(
V
 &
vec
, 
size_ty³
 
n
);

2543 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2545 
rÙ©e_right_
(
V
 &
vec
, 
size_ty³
 
n
);

2547 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2549 
rÙ©e_Ëá_
(
V
 &
vec
, 
size_ty³
 
n
);

2552 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_funùÜs.h
>

2554 
	g´iv©e
:

2556 
‹m¶©e
<
ty³Çme
 ... 
Ts
,y³Çm
	gF
, 
	g¡d
::
size_t
 ... 
Is
>

2558 
fÜ_—ch_š_tu¶e_
(cÚ¡ 
¡d
::
tu¶e
<
Ts
 ...> &
tu
,

2559 
F
 
func
,

2560 
¡d
::
šdex_£qu’û
<
Is
 ...>);

2562 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
, 
ty³Çme
 
	gF
, 
	g¡d
::
size_t
 ... 
Is
>

2564 
fÜ_—ch_š_tu¶e_
(
¡d
::
tu¶e
<
Ts
 ...> &
tu
,

2565 
F
 
func
,

2566 
¡d
::
šdex_£qu’û
<
Is
 ...>);

2568 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
, 
ty³Çme
 
	gF
>

2570 
fÜ_—ch_š_tu¶e_
(cÚ¡ 
¡d
::
tu¶e
<
Ts
...> &
tu
, 
F
 
func
);

2572 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
, 
ty³Çme
 
	gF
>

2574 
fÜ_—ch_š_tu¶e_
(
¡d
::
tu¶e
<
Ts
...> &
tu
, 
F
 
func
);

2577 
	g‹m¶©e
 <
	gIndexCŞNum
, 
	gty³Çme
... 
	gCŞTy³s
,y³Çme... 
	gSŒs
>

2578 autØ
»ad_csv
(
¡d
::
¡ršg
 
csv_fe_·th
, 
SŒs
... 
d©a_cŞ_Çmes
);

2584 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


2585 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_¡ªd®Úe.tcc
>

2586 
	~<D©aF¿me/IÁ”Çls/D©aF¿me.tcc
>

2587 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_g‘.tcc
>

2588 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_još.tcc
>

2589 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_misc.tcc
>

2590 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_İt.tcc
>

2591 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_»ad.tcc
>

2592 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_£t.tcc
>

2593 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_shiá.tcc
>

2594 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_wr™e.tcc
>

	@DataFrame/AIFM/include/DataFrame/DataFrameFinancialVisitors.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

33 
	~<D©aF¿me/D©aF¿meTy³s.h
>

35 
	~<®gÜ™hm
>

36 
	~<funùiÚ®
>

37 
	~<™”©Ü
>

38 
	~<lim™s
>

42 
Çme¥aû
 
	ghmdf


45 
	g‹m¶©e
<
ty³Çme
 
	gT
,

46 
ty³Çme
 
	gI
 = ,

47 
	gty³Çme
 =

48 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

49 
	sR‘uºVis™Ü
 {

51 
DEFINE_VISIT_BASIC_TYPES_3


53 
ex¶ic™
 
R‘uºVis™Ü
 (
»tuº_pŞicy
 
½
è: 
»t_p_
(rp) { }

55 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

56 
šlše
 

57 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

58 cÚ¡ 
	gK
 &
	gidx_’d
,

59 cÚ¡ 
	gH
 &
	g´iûs_begš
,

60 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

62 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

63 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

64 cÚ¡ 
size_ty³
 
	gcŞ_Ën
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

66 ià(
	gcŞ_Ën
 < 3) ;

69 
	g¡d
::
funùiÚ
<
v®ue_ty³
(v®ue_ty³, v®ue_ty³)> 
	gfunc
 =

70 [](
v®ue_ty³
 
lhs
, v®ue_ty³ 
	grhs
è-> 
	gv®ue_ty³
 {

71  (::
log
(
lhs
 / 
rhs
));

74 ià(
	g»t_p_
 =ğ
»tuº_pŞicy
::
³rûÁage
)

75 
func
 = [](
v®ue_ty³
 
lhs
, v®ue_ty³ 
	grhs
è-> 
	gv®ue_ty³
 {

76  ((
	glhs
 - 
	grhs
) /„hs);

78 ià(
	g»t_p_
 =ğ
»tuº_pŞicy
::
mÚ‘¬y
)

79 
func
 = [](
v®ue_ty³
 
lhs
, v®ue_ty³ 
	grhs
è-> 
	gv®ue_ty³
 {

80  (
	glhs
 - 
	grhs
);

83 
»suÉ_ty³
 
	gtmp_»suÉ
;

85 
	gtmp_»suÉ
.
»£rve
(
cŞ_Ën
);

86 
	g¡d
::
adjaûÁ_difã»nû
 (
´iûs_begš
, 
´iûs_’d
,

87 
¡d
::
back_š£¹”
 (
tmp_»suÉ
),

88 
func
);

89 
	gtmp_»suÉ
.
”a£
 (
tmp_»suÉ
.
begš
 ());

90 
	gtmp_»suÉ
.
sw­
(
»suÉ_
);

93 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

94 
šlše
 
po¡
 () { }

95 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

96 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	g»suÉ_
); }

98 
	g´iv©e
:

100 
»suÉ_ty³
 
»suÉ_
 { };

101 cÚ¡ 
»tuº_pŞicy
 
	g»t_p_
;

106 
	g‹m¶©e
<
ty³Çme
 
	gS_RT
,

107 
ty³Çme
 
	gL_RT
,

108 
ty³Çme
 
	gT
,

109 
ty³Çme
 
	gI
 = ,

110 
	gty³Çme
 =

111 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

112 
	sDoubËCrossOv”
 {

114 
´iv©e
:

116 
S_RT
 
shÜt_rŞËr_
;

117 
L_RT
 
	glÚg_rŞËr_
;

119 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

120 
šlše
 
	g¡d
::
size_t


121 
run_shÜt_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

122 cÚ¡ 
K
 &
idx_’d
,

123 cÚ¡ 
H
 &
´iûs_begš
,

124 cÚ¡ 
H
 &
´iûs_’d
) {

126 
shÜt_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

128 cÚ¡‡utØ&
	g»suÉ
 = 
shÜt_rŞËr_
.
g‘_»suÉ
();

129 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

130 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

131 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 =

132 
¡d
::
mš
<¡d::
size_t
>({ 
idx_size
, 
cŞ_size
, 
»suÉ
.
size
() });

134 
	gcŞ_to_shÜt_‹rm_
.
»£rve
(
cŞ_s
);

135 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

136 
	gcŞ_to_shÜt_‹rm_
.
push_back
(*(
´iûs_begš
 + 
i
è- 
»suÉ
[i]);

137  (
	gcŞ_s
);

139 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

140 
šlše
 
	g¡d
::
size_t


141 
run_lÚg_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

142 cÚ¡ 
K
 &
idx_’d
,

143 cÚ¡ 
H
 &
´iûs_begš
,

144 cÚ¡ 
H
 &
´iûs_’d
) {

146 
lÚg_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

148 cÚ¡‡utØ&
	g»suÉ
 = 
lÚg_rŞËr_
.
g‘_»suÉ
();

149 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

150 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

151 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 =

152 
¡d
::
mš
<¡d::
size_t
>({ 
idx_size
, 
cŞ_size
, 
»suÉ
.
size
() });

154 
	gcŞ_to_lÚg_‹rm_
.
»£rve
(
cŞ_s
);

155 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

156 
	gcŞ_to_lÚg_‹rm_
.
push_back
(*(
´iûs_begš
 + 
i
è- 
»suÉ
[i]);

157  (
	gcŞ_s
);

160 
	gpublic
:

162 
usšg
 
v®ue_ty³
 = 
T
;

163 
usšg
 
	gšdex_ty³
 = 
I
;

164 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

165 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
v®ue_ty³
>;

167 
šlše
 
DoubËCrossOv”
(
S_RT
 &&
¤
, 
L_RT
 &&
Ì
)

168 : 
shÜt_rŞËr_
(
¡d
::
move
(
¤
)), 
lÚg_rŞËr_
(¡d::move(
Ì
)) { }

170 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

171 
šlše
 

172 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

173 cÚ¡ 
	gK
 &
	gidx_’d
,

174 cÚ¡ 
	gH
 &
	g´iûs_begš
,

175 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

177 cÚ¡ 
size_ty³
 
	gth»ad_Ëv–
 =

178 
Th»adG¿nuÏr™y
::
g‘_£nsibË_th»ad_Ëv–
();

179 
size_ty³
 
	g»_couÁ1
 = 0;

180 
size_ty³
 
	g»_couÁ2
 = 0;

182 ià(
	gth»ad_Ëv–
 >= 2) {

183 
¡d
::
futu»
<
size_ty³
> 
fut1
 =

184 
¡d
::
async
(¡d::
Ïunch
::async,

185 &
DoubËCrossOv”
::
run_shÜt_rŞËr_
<
K
, 
H
>,

186 
this
,

187 
¡d
::
üef
(
idx_begš
),

188 
¡d
::
üef
(
idx_’d
),

189 
¡d
::
üef
(
´iûs_begš
),

190 
¡d
::
üef
(
´iûs_’d
));

191 
	g¡d
::
futu»
<
size_ty³
> 
fut2
 =

192 
¡d
::
async
(¡d::
Ïunch
::async,

193 &
DoubËCrossOv”
::
run_lÚg_rŞËr_
<
K
, 
H
>,

194 
this
,

195 
¡d
::
üef
(
idx_begš
),

196 
¡d
::
üef
(
idx_’d
),

197 
¡d
::
üef
(
´iûs_begš
),

198 
¡d
::
üef
(
´iûs_’d
));

200 
	g»_couÁ1
 = 
fut1
.
g‘
();

201 
	g»_couÁ2
 = 
fut2
.
g‘
();

204 
	g»_couÁ1
 =

205 
run_shÜt_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

206 
	g»_couÁ2
 =

207 
run_lÚg_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

210 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
<size_ty³>(
»_couÁ1
, 
	g»_couÁ2
);

212 
	gshÜt_‹rm_to_lÚg_‹rm_
.
»£rve
(
cŞ_s
);

213 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

214 
	gshÜt_‹rm_to_lÚg_‹rm_
.
push_back
(

215 
shÜt_rŞËr_
.
g‘_»suÉ
()[
i
] - 
lÚg_rŞËr_
.get_result()[i]);

218 
šlše
 
´e
 () {

220 
	gshÜt_rŞËr_
.
´e
();

221 
	glÚg_rŞËr_
.
´e
();

222 
	gcŞ_to_shÜt_‹rm_
.
ş—r
();

223 
	gcŞ_to_lÚg_‹rm_
.
ş—r
();

224 
	gshÜt_‹rm_to_lÚg_‹rm_
.
ş—r
();

226 
šlše
 
po¡
 () {

228 
	gshÜt_rŞËr_
.
po¡
();

229 
	glÚg_rŞËr_
.
po¡
();

232 cÚ¡ 
	g»suÉ_ty³
 &

233 
g‘_¿w_to_shÜt_‹rm
(ècÚ¡ {  (
	gcŞ_to_shÜt_‹rm_
); }

234 cÚ¡ 
	g»suÉ_ty³
 &

235 
g‘_¿w_to_lÚg_‹rm
(ècÚ¡ {  (
	gcŞ_to_lÚg_‹rm_
); }

236 cÚ¡ 
	g»suÉ_ty³
 &

237 
g‘_shÜt_‹rm_to_lÚg_‹rm
(ècÚ¡ {  (
	gshÜt_‹rm_to_lÚg_‹rm_
); }

239 
	g´iv©e
:

241 
»suÉ_ty³
 
cŞ_to_shÜt_‹rm_
;

242 
»suÉ_ty³
 
	gcŞ_to_lÚg_‹rm_
;

243 
»suÉ_ty³
 
	gshÜt_‹rm_to_lÚg_‹rm_
;

248 
	g‹m¶©e
<
ty³Çme
 
	gT
,

249 
ty³Çme
 
	gI
 = ,

250 
	gty³Çme
 =

251 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

252 
	sBŞlšg”Bªd
 {

254 
´iv©e
:

256 cÚ¡ 
uµ”_bªd_muÉl›r_
;

257 cÚ¡ 
	glow”_bªd_muÉl›r_
;

258 
	gSim¶eRŞlAdİ‹r
<
	gM—nVis™Ü
<
	gT
, 
	gI
>, T, I> 
	gm—n_rŞËr_
;

259 
	gSim¶eRŞlAdİ‹r
<
	gStdVis™Ü
<
	gT
, 
	gI
>, T, I> 
	g¡d_rŞËr_
;

261 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

262 
šlše
 

263 
run_m—n_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

264 cÚ¡ 
K
 &
idx_’d
,

265 cÚ¡ 
H
 &
´iûs_begš
,

266 cÚ¡ 
H
 &
´iûs_’d
) {

268 
	gm—n_rŞËr_
.
´e
();

269 
m—n_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

270 
	gm—n_rŞËr_
.
po¡
();

273 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

274 
šlše
 

275 
run_¡d_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

276 cÚ¡ 
K
 &
idx_’d
,

277 cÚ¡ 
H
 &
´iûs_begš
,

278 cÚ¡ 
H
 &
´iûs_’d
) {

280 
	g¡d_rŞËr_
.
´e
();

281 
¡d_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

282 
	g¡d_rŞËr_
.
po¡
();

285 
	gpublic
:

287 
usšg
 
v®ue_ty³
 = 
T
;

288 
usšg
 
	gšdex_ty³
 = 
I
;

289 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

290 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
v®ue_ty³
>;

292 
šlše
 
BŞlšg”Bªd
(
uµ”_bªd_muÉl›r
,

293 
low”_bªd_muÉl›r
,

294 
size_ty³
 
movšg_m—n_³riod
,

295 
boŞ
 
bŸ£d
 = 
çl£
)

296 : 
uµ”_bªd_muÉl›r_
(
uµ”_bªd_muÉl›r
),

297 
low”_bªd_muÉl›r_
(
low”_bªd_muÉl›r
),

298 
m—n_rŞËr_
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()), 
movšg_m—n_³riod
),

299 
¡d_rŞËr_
(
¡d
::
move
(
StdVis™Ü
<
T
, 
I
>(
bŸ£d
)), 
movšg_m—n_³riod
) {

302 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

303 
šlše
 

304 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

305 cÚ¡ 
	gK
 &
	gidx_’d
,

306 cÚ¡ 
	gH
 &
	g´iûs_begš
,

307 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

309 cÚ¡ 
size_ty³
 
	gth»ad_Ëv–
 =

310 
Th»adG¿nuÏr™y
::
g‘_£nsibË_th»ad_Ëv–
();

312 ià(
	gth»ad_Ëv–
 >= 2) {

313 
¡d
::
futu»
<> 
fut1
 =

314 
¡d
::
async
(¡d::
Ïunch
::async,

315 &
BŞlšg”Bªd
::
run_m—n_rŞËr_
<
K
, 
H
>,

316 
this
,

317 
¡d
::
üef
(
idx_begš
),

318 
¡d
::
üef
(
idx_’d
),

319 
¡d
::
üef
(
´iûs_begš
),

320 
¡d
::
üef
(
´iûs_’d
));

321 
	g¡d
::
futu»
<> 
fut2
 =

322 
¡d
::
async
(¡d::
Ïunch
::async,

323 &
BŞlšg”Bªd
::
run_¡d_rŞËr_
<
K
, 
H
>,

324 
this
,

325 
¡d
::
üef
(
idx_begš
),

326 
¡d
::
üef
(
idx_’d
),

327 
¡d
::
üef
(
´iûs_begš
),

328 
¡d
::
üef
(
´iûs_’d
));

330 
	gfut1
.
g‘
();

331 
	gfut2
.
g‘
();

334 
run_m—n_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

335 
run_¡d_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

338 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

339 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

340 cÚ¡‡utØ&
	g¡d_»suÉ
 = 
¡d_rŞËr_
.
g‘_»suÉ
();

341 cÚ¡‡utØ&
	gm—n_»suÉ
 = 
m—n_rŞËr_
.
g‘_»suÉ
();

342 cÚ¡ 
size_ty³
 
	gcŞ_s
 =

343 
¡d
::
mš
<
size_ty³
>(

344 { 
idx_size
, 
cŞ_size
, 
¡d_»suÉ
.
size
(), 
m—n_»suÉ
.size() });

346 
	guµ”_bªd_to_¿w_
.
»£rve
(
cŞ_s
);

347 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

348 
	guµ”_bªd_to_¿w_
.
push_back
(

349 (
m—n_»suÉ
[
i
] + 
¡d_»suÉ
[i] * 
uµ”_bªd_muÉl›r_
) -

350 *(
´iûs_begš
 + 
i
));

352 
	g¿w_to_low”_bªd_
.
»£rve
(
cŞ_s
);

353 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

354 
	g¿w_to_low”_bªd_
.
push_back
(

355 *(
´iûs_begš
 + 
i
) -

356 (
m—n_»suÉ
[
i
] - 
¡d_»suÉ
[i] * 
low”_bªd_muÉl›r_
));

359 
šlše
 
´e
 () {

361 
	guµ”_bªd_to_¿w_
.
ş—r
();

362 
	g¿w_to_low”_bªd_
.
ş—r
();

364 
šlše
 
po¡
 () { }

366 cÚ¡ 
	g»suÉ_ty³
 &

367 
g‘_uµ”_bªd_to_¿w
(ècÚ¡ {  (
	guµ”_bªd_to_¿w_
); }

368 cÚ¡ 
	g»suÉ_ty³
 &

369 
g‘_¿w_to_low”_bªd
(ècÚ¡ {  (
	g¿w_to_low”_bªd_
); }

371 
	g´iv©e
:

373 
»suÉ_ty³
 
uµ”_bªd_to_¿w_
;

374 
»suÉ_ty³
 
	g¿w_to_low”_bªd_
;

381 
	g‹m¶©e
<
ty³Çme
 
	gT
,

382 
ty³Çme
 
	gI
 = ,

383 
	gty³Çme
 =

384 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

385 
	sMACDVis™Ü
 {

387 
´iv©e
:

389 
usšg
 
macd_rŞËr_t
 = 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<
T
, 
	gI
>, 
	gT
, I>;

391 cÚ¡ 
	g¡d
::
size_t
 
shÜt_m—n_³riod_
;

392 cÚ¡ 
	g¡d
::
size_t
 
lÚg_m—n_³riod_
;

393 
macd_rŞËr_t
 
	gsigÇl_lše_rŞËr_
;

395 
	gpublic
:

397 
usšg
 
v®ue_ty³
 = 
T
;

398 
usšg
 
	gšdex_ty³
 = 
I
;

399 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

400 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
v®ue_ty³
>;

402 
šlše
 
MACDVis™Ü
(

403 
size_ty³
 
shÜt_m—n_³riod
,

404 
size_ty³
 
lÚg_m—n_³riod
,

405 
size_ty³
 
sigÇl_lše_³riod
,

406 
expÚ’tŸl_deÿy_¥ec
 
ed_¥ec
 =ƒxpÚ’tŸl_deÿy_¥ec::
¥ª
,

407 
expo_deÿy_v®ue
 = 0.2)

408 : 
shÜt_m—n_³riod_
(
shÜt_m—n_³riod
),

409 
lÚg_m—n_³riod_
(
lÚg_m—n_³riod
),

410 
sigÇl_lše_rŞËr_
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()),

411 
sigÇl_lše_³riod
,

412 
ed_¥ec
, 
expo_deÿy_v®ue
) {

415 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

416 
šlše
 

417 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

418 cÚ¡ 
	gK
 &
	gidx_’d
,

419 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

420 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

422 
macd_rŞËr_t
 
shÜt_rŞËr
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()),

423 
shÜt_m—n_³riod_
,

424 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 0.2);

426 
	gshÜt_rŞËr
.
´e
();

427 
shÜt_rŞËr
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

428 
	gshÜt_rŞËr
.
po¡
();

430 
macd_rŞËr_t
 
lÚg_rŞËr
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()),

431 
lÚg_m—n_³riod_
,

432 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 0.2);

434 
	glÚg_rŞËr
.
´e
();

435 
lÚg_rŞËr
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

436 
	glÚg_rŞËr
.
po¡
();

438 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

439 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

440 cÚ¡‡utØ&
	gshÜt_»suÉ
 = 
shÜt_rŞËr
.
g‘_»suÉ
();

441 cÚ¡‡utØ&
	glÚg_»suÉ
 = 
lÚg_rŞËr
.
g‘_»suÉ
();

442 cÚ¡ 
size_ty³
 
	gcŞ_s
 =

443 
¡d
::
mš
<
size_ty³
>(

444 {
idx_size
, 
cŞ_size
, 
shÜt_»suÉ
.
size
(), 
lÚg_»suÉ
.size()});

446 
	gmacd_lše_
.
»£rve
(
cŞ_s
);

447 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

448 
	gmacd_lše_
.
push_back
(
shÜt_»suÉ
[
i
] - 
lÚg_»suÉ
[i]);

450 
	gsigÇl_lše_rŞËr_
.
´e
();

451 
sigÇl_lše_rŞËr_
(
idx_begš
, 
idx_’d
,

452 
macd_lše_
.
begš
(), macd_lše_.
’d
());

453 
	gsigÇl_lše_rŞËr_
.
po¡
();

455 cÚ¡‡utØ&
	gsigÇl_lše_»suÉ
 = 
sigÇl_lše_rŞËr_
.
g‘_»suÉ
();

457 
	gmacd_hi¡og¿m_
.
»£rve
(
cŞ_s
);

458 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

459 
	gmacd_hi¡og¿m_
.
push_back
(
macd_lše_
[
i
] - 
sigÇl_lše_»suÉ
[i]);

462 
šlše
 
´e
 () {

464 
	gmacd_lše_
.
ş—r
();

465 
	gmacd_hi¡og¿m_
.
ş—r
();

467 
šlše
 
po¡
 () { }

469 cÚ¡ 
	g»suÉ_ty³
 &
g‘_macd_lše
(ècÚ¡ {  (
	gmacd_lše_
); }

470 cÚ¡ 
	g»suÉ_ty³
 &

471 
g‘_sigÇl_lše
(ècÚ¡ {  (
	gsigÇl_lše_rŞËr_
.
g‘_»suÉ
()); }

472 cÚ¡ 
	g»suÉ_ty³
 &
g‘_macd_hi¡og¿m
(ècÚ¡ {  (
	gmacd_hi¡og¿m_
); }

474 
	g´iv©e
:

476 
»suÉ_ty³
 
macd_lše_
;

477 
»suÉ_ty³
 
	gmacd_hi¡og¿m_
;

483 
	g‹m¶©e
<
ty³Çme
 
	gT
,

484 
ty³Çme
 
	gI
 = ,

485 
	gty³Çme
 =

486 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

487 
	sVWAPVis™Ü
 {

489 
usšg
 
v®ue_ty³
 = 
T
;

490 
usšg
 
	gšdex_ty³
 = 
I
;

491 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

493 
	sVWAP
 {

494 
v®ue_ty³
 
	gav”age_´iû
 { 0 };

495 
v®ue_ty³
 
	gvw­
 { 0 };

496 
šdex_ty³
 
	gšdex_v®ue
 { 0 };

497 
size_ty³
 
	gev’t_couÁ
 { 0 };

498 
v®ue_ty³
 
	gtÙ®_vŞume
 { 0 };

499 
v®ue_ty³
 
	ghigh_´iû
 { 0 };

500 
v®ue_ty³
 
	glow_´iû
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

501 
v®ue_ty³
 
	gcumuÏtive_vw­
 { 0 };

502 
size_ty³
 
	gcumuÏtive_ev’t_couÁ
 { 0 };

503 
v®ue_ty³
 
	gcumuÏtive_tÙ®_vŞume
 { 0 };

504 
v®ue_ty³
 
	gcumuÏtive_high_´iû
 { 0 };

505 
v®ue_ty³
 
	gcomuÏtive_low_´iû


506 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

509 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
VWAP
>;

510 
usšg
 
	gdi¡ªû_func
 =

511 
¡d
::
funùiÚ
<(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gšdex_ty³
 &)>;

517 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
,

518 cÚ¡ 
	gv®ue_ty³
 &
	g´iû
,

519 cÚ¡ 
	gv®ue_ty³
 &
	gsize
) {

522 ià(
	gtÙ®_vŞume_lim™_
 == 0 ||

523 
cum_vŞume_accumuÏtÜ_
 < 
tÙ®_vŞume_lim™_
) {

524 ià(
¡¬‹d_
 && 
dfunc_
(
Ï¡_time_
, 
idx
è>ğ
š‹rv®_
) {

525 
po¡
();

527 
»£t_
(
idx
);

528 
accumuÏ‹_
(
size
, 
´iû
);

531 ià(! 
	g¡¬‹d_
)

532 
»£t_
 (
idx
);

533 
accumuÏ‹_
 (
size
, 
´iû
);

537 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

538 
šlše
 

539 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

540 
H
 
	g´iû_begš
, H 
	g´iû_’d
,

541 
H
 
	gsize_begš
, H 
	gsize_’d
) {

543 
	g´iû_begš
 < 
	g´iû_’d
 && 
	gsize_begš
 < 
	gsize_’d
)

544 (*
	gthis
)(*
	gidx_begš
, *
	g´iû_begš
++, *
	gsize_begš
++);

547 
šlše
 
´e
 () {

549 
	g»suÉ_
.
ş—r
();

550 
	gvw_´iû_accumuÏtÜ_
 = 0;

551 
	g´iû_accumuÏtÜ_
 = 0;

552 
	gvŞume_accumuÏtÜ_
 = 0;

553 
	gÏ¡_time_
 = 
šdex_ty³
();

554 
	g¡¬‹d_
 = 
çl£
;

555 
	gev’t_couÁ_
 = 0;

556 
	ghigh_´iû_
 = 0;

557 
	glow_´iû_
 = 
¡d
::
num”ic_lim™s
<>::
max
();

558 
	gcum_high_´iû_
 = 0;

559 
	gcum_low_´iû_
 = 
¡d
::
num”ic_lim™s
<>::
max
();

560 
	gcum_´iû_accumuÏtÜ_
 = 0;

561 
	gcum_vŞume_accumuÏtÜ_
 = 0;

562 
	gcum_ev’t_couÁ_
 = 0;

564 
šlše
 
po¡
 () {

566 ià(
	gev’t_couÁ_
 > 0) {

567 ià(
	gvŞume_accumuÏtÜ_
 > 0) {

568 
	g»suÉ_
.
push_back
 (

569 { 
´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
,

570 
vw_´iû_accumuÏtÜ_
 / 
vŞume_accumuÏtÜ_
,

571 
Ï¡_time_
,

572 
ev’t_couÁ_
,

573 
vŞume_accumuÏtÜ_
,

574 
high_´iû_
,

575 
low_´iû_
,

576 
cum_´iû_accumuÏtÜ_
 / 
cum_vŞume_accumuÏtÜ_
,

577 
cum_ev’t_couÁ_
,

578 
cum_vŞume_accumuÏtÜ_
,

579 
cum_high_´iû_
,

580 
cum_low_´iû_
,

584 
	g»suÉ_
.
push_back
 (

585 { 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

586 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

587 
Ï¡_time_
,

588 
ev’t_couÁ_
,

593 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

595 
ex¶ic™


596 
VWAPVis™Ü
(
š‹rv®
,

597 
max_vŞume
 = 0,

598 
tÙ®_vŞume_lim™
 = 0,

599 
di¡ªû_func
 
f
 =

600 [](cÚ¡ 
I
 &
idx1
, cÚ¡ I &
idx2
) -> {

601  (
¡©ic_ÿ¡
<>(
idx2
 - 
idx1
));

603 : 
dfunc_
(
f
),

604 
š‹rv®_
(
š‹rv®
),

605 
max_vŞume_
(
max_vŞume
),

606 
tÙ®_vŞume_lim™_
(
tÙ®_vŞume_lim™
) { }

608 
	g´iv©e
:

610 
šlše
 
accumuÏ‹_
 (
v®ue_ty³
 
the_size
, v®ue_ty³ 
the_´iû
) {

612 ià(
	gmax_vŞume_
 =ğ0 || 
the_size
 < 
max_vŞume_
) {

613 
vw_´iû_accumuÏtÜ_
 +ğ
the_´iû
 * 
the_size
;

614 
	g´iû_accumuÏtÜ_
 +ğ
the_´iû
;

615 
	gcum_´iû_accumuÏtÜ_
 +ğ
the_´iû
 * 
the_size
;

616 
	gvŞume_accumuÏtÜ_
 +ğ
the_size
;

617 
	gcum_vŞume_accumuÏtÜ_
 +ğ
the_size
;

618 
	gev’t_couÁ_
 += 1;

619 
	gcum_ev’t_couÁ_
 += 1;

620 ià(
	gthe_´iû
 > 
	ghigh_´iû_
)

621 
	ghigh_´iû_
 = 
the_´iû
;

622 ià(
	gthe_´iû
 < 
	glow_´iû_
)

623 
	glow_´iû_
 = 
the_´iû
;

624 ià(
	gthe_´iû
 > 
	gcum_high_´iû_
)

625 
	gcum_high_´iû_
 = 
the_´iû
;

626 ià(
	gthe_´iû
 < 
	gcum_low_´iû_
)

627 
	gcum_low_´iû_
 = 
the_´iû
;

630 
šlše
 
»£t_
 (
šdex_ty³
 
šdex_v®ue
) {

632 
	gvw_´iû_accumuÏtÜ_
 = 0;

633 
	g´iû_accumuÏtÜ_
 = 0;

634 
	gvŞume_accumuÏtÜ_
 = 0;

635 
	gÏ¡_time_
 = 
šdex_v®ue
;

636 
	g¡¬‹d_
 = 
Œue
;

637 
	gev’t_couÁ_
 = 0;

638 
	ghigh_´iû_
 = 0;

639 
	glow_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

642 
»suÉ_ty³
 
	g»suÉ_
 { };

643 
v®ue_ty³
 
	gvw_´iû_accumuÏtÜ_
 { 0 };

644 
v®ue_ty³
 
	g´iû_accumuÏtÜ_
 { 0 };

645 
v®ue_ty³
 
	gvŞume_accumuÏtÜ_
 { 0 };

646 
šdex_ty³
 
	gÏ¡_time_
 { };

647 
boŞ
 
	g¡¬‹d_
 { 
	gçl£
 };

648 
size_ty³
 
	gev’t_couÁ_
 { 0 };

649 
v®ue_ty³
 
	ghigh_´iû_
 { 0 };

650 
v®ue_ty³
 
	glow_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

651 
v®ue_ty³
 
	gcum_high_´iû_
 { 0 };

652 
v®ue_ty³
 
	gcum_low_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

653 
v®ue_ty³
 
	gcum_´iû_accumuÏtÜ_
 { 0 };

654 
v®ue_ty³
 
	gcum_vŞume_accumuÏtÜ_
 { 0 };

655 
size_ty³
 
	gcum_ev’t_couÁ_
 { 0 };

656 
di¡ªû_func
 
	gdfunc_
;

657 cÚ¡ 
	gš‹rv®_
;

658 cÚ¡ 
	gmax_vŞume_
;

659 cÚ¡ 
	gtÙ®_vŞume_lim™_
;

665 
	g‹m¶©e
<
ty³Çme
 
	gT
,

666 
ty³Çme
 
	gI
 = ,

667 
	gty³Çme
 =

668 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

669 
	sVWBASVis™Ü
 {

671 
usšg
 
v®ue_ty³
 = 
T
;

672 
usšg
 
	gšdex_ty³
 = 
I
;

673 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

675 
	sVWBAS
 {

676 
v®ue_ty³
 
	g¥»ad
 { 0 };

677 
v®ue_ty³
 
	g³rûÁ_¥»ad
 { 0 };

678 
v®ue_ty³
 
	gvwbas
 { 0 };

679 
v®ue_ty³
 
	g³rûÁ_vwbas
 { 0 };

680 
šdex_ty³
 
	gšdex_v®ue
 { 0 };

681 
size_ty³
 
	gev’t_couÁ
 { 0 };

682 
v®ue_ty³
 
	gtÙ®_ask_vŞume
 { 0 };

683 
v®ue_ty³
 
	gtÙ®_bid_vŞume
 { 0 };

684 
v®ue_ty³
 
	ghigh_ask_´iû
 { 0 };

685 
v®ue_ty³
 
	glow_ask_´iû
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

686 
v®ue_ty³
 
	ghigh_bid_´iû
 { 0 };

687 
v®ue_ty³
 
	glow_bid_´iû
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

688 
v®ue_ty³
 
	gcumuÏtive_vwbas
 { 0 };

689 
size_ty³
 
	gcumuÏtive_ev’t_couÁ
 { 0 };

690 
v®ue_ty³
 
	gcumuÏtive_tÙ®_ask_vŞume
 { 0 };

691 
v®ue_ty³
 
	gcumuÏtive_tÙ®_bid_vŞume
 { 0 };

692 
v®ue_ty³
 
	gcumuÏtive_high_ask_´iû
 { 0 };

693 
v®ue_ty³
 
	gcomuÏtive_low_ask_´iû


694 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

695 
v®ue_ty³
 
	gcumuÏtive_high_bid_´iû
 { 0 };

696 
v®ue_ty³
 
	gcomuÏtive_low_bid_´iû


697 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

700 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
VWBAS
>;

701 
usšg
 
	gdi¡ªû_func
 =

702 
¡d
::
funùiÚ
<(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gšdex_ty³
 &)>;

710 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
,

711 cÚ¡ 
	gv®ue_ty³
 &
	gbid_´iû
,

712 cÚ¡ 
	gv®ue_ty³
 &
	gask_´iû
,

713 cÚ¡ 
	gv®ue_ty³
 &
	gbid_size
,

714 cÚ¡ 
	gv®ue_ty³
 &
	gask_size
) {

716 ià(
	g¡¬‹d_
 && 
dfunc_
(
Ï¡_time_
, 
idx
è>ğ
š‹rv®_
) {

717 
po¡
();

719 
»£t_
(
idx
);

720 
accumuÏ‹_
(
bid_size
, 
ask_size
, 
bid_´iû
, 
ask_´iû
);

723 ià(! 
	g¡¬‹d_
)

724 
»£t_
 (
idx
);

725 
accumuÏ‹_
(
bid_size
, 
ask_size
, 
bid_´iû
, 
ask_´iû
);

728 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

729 
šlše
 

730 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

731 
H
 
	gbid_´iû_begš
, H 
	gbid_´iû_’d
,

732 
H
 
	gask_´iû_begš
, H 
	gask_´iû_’d
,

733 
H
 
	gbid_size_begš
, H 
	gbid_size_’d
,

734 
H
 
	gask_size_begš
, H 
	gask_size_’d
) {

736 
	gbid_´iû_begš
 < 
	gbid_´iû_’d
 &&

737 
	gask_´iû_begš
 < 
	gask_´iû_’d
 &&

738 
	gbid_size_begš
 < 
	gbid_size_’d
 &&

739 
	gask_size_begš
 < 
	gask_size_’d
)

740 (*
	gthis
)(*
	gidx_begš
, *
	gbid_´iû_begš
++, *
	gask_´iû_begš
++,

741 *
	gbid_size_begš
++, *
	gask_size_begš
++);

744 
šlše
 
´e
 () {

746 
	g»suÉ_
.
ş—r
();

747 
	gvw_bid_´iû_accumuÏtÜ_
 = 0;

748 
	gvw_ask_´iû_accumuÏtÜ_
 = 0;

749 
	gbid_´iû_accumuÏtÜ_
 = 0;

750 
	gask_´iû_accumuÏtÜ_
 = 0;

751 
	gbid_vŞume_accumuÏtÜ_
 = 0;

752 
	gask_vŞume_accumuÏtÜ_
 = 0;

753 
	gÏ¡_time_
 = 
šdex_ty³
();

754 
	g¡¬‹d_
 = 
çl£
;

755 
	gev’t_couÁ_
 = 0;

756 
	ghigh_bid_´iû_
 = 0;

757 
	ghigh_ask_´iû_
 = 0;

758 
	glow_bid_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

759 
	glow_ask_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

760 
	gcum_high_bid_´iû_
 = 0;

761 
	gcum_high_ask_´iû_
 = 0;

762 
	gcum_low_bid_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

763 
	gcum_low_ask_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

764 
	gcum_bid_´iû_accumuÏtÜ_
 = 0;

765 
	gcum_ask_´iû_accumuÏtÜ_
 = 0;

766 
	gcum_bid_vŞume_accumuÏtÜ_
 = 0;

767 
	gcum_ask_vŞume_accumuÏtÜ_
 = 0;

768 
	gcum_ev’t_couÁ_
 = 0;

770 
šlše
 
po¡
 () {

772 ià(
	gev’t_couÁ_
 > 0) {

773 ià(
	gbid_vŞume_accumuÏtÜ_
 > 0 && 
	gask_vŞume_accumuÏtÜ_
 > 0) {

774 cÚ¡ 
v®ue_ty³
 
	gvwa
 =

775 
vw_ask_´iû_accumuÏtÜ_
 / 
ask_vŞume_accumuÏtÜ_
;

776 cÚ¡ 
v®ue_ty³
 
	gvwb
 =

777 
vw_bid_´iû_accumuÏtÜ_
 / 
bid_vŞume_accumuÏtÜ_
;

778 cÚ¡ 
v®ue_ty³
 
	gvwbas
 = 
vwa
 - 
vwb
;

779 cÚ¡ 
v®ue_ty³
 
	g³r_vwbas
 = (
vwbas
 / 
vwb
) * 100.0;

780 cÚ¡ 
v®ue_ty³
 
	g¥»ad
 =

781 (
ask_´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
) -

782 (
bid_´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
);

783 cÚ¡ 
v®ue_ty³
 
	g³r_¥»ad
 =

784 (
¥»ad
 / (
bid_´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
)) * 100.0;

786 
	g»suÉ_
.
push_back
 (

787 { 
¥»ad
,

788 
³r_¥»ad
,

789 
vwbas
,

790 
³r_vwbas
,

791 
Ï¡_time_
,

792 
ev’t_couÁ_
,

793 
ask_vŞume_accumuÏtÜ_
,

794 
bid_vŞume_accumuÏtÜ_
,

795 
high_ask_´iû_
,

796 
low_ask_´iû_
,

797 
high_bid_´iû_
,

798 
low_bid_´iû_
,

801 (
cum_ask_´iû_accumuÏtÜ_
 /

802 
cum_ask_vŞume_accumuÏtÜ_
) -

803 (
cum_bid_´iû_accumuÏtÜ_
 /

804 
cum_bid_vŞume_accumuÏtÜ_
),

806 
cum_ev’t_couÁ_
,

807 
cum_ask_vŞume_accumuÏtÜ_
,

808 
cum_bid_vŞume_accumuÏtÜ_
,

809 
cum_high_ask_´iû_
,

810 
cum_low_ask_´iû_
,

811 
cum_high_bid_´iû_
,

812 
cum_low_bid_´iû_
,

816 
	g»suÉ_
.
push_back
 (

817 { 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

818 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

819 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

820 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

821 
Ï¡_time_
,

822 
ev’t_couÁ_
,

827 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

829 
ex¶ic™


830 
VWBASVis™Ü
(
š‹rv®
,

831 
max_vŞume
 = 0,

832 
di¡ªû_func
 
f
 =

833 [](cÚ¡ 
I
 &
idx1
, cÚ¡ I &
idx2
) -> {

834  (
¡©ic_ÿ¡
<>(
idx2
 - 
idx1
));

836 : 
dfunc_
(
f
), 
š‹rv®_
(
š‹rv®
), 
max_vŞume_
(
max_vŞume
) { }

838 
	g´iv©e
:

840 
šlše
 
accumuÏ‹_
 (
v®ue_ty³
 
bid_size
, v®ue_ty³ 
ask_size
,

841 
v®ue_ty³
 
bid_´iû
, v®ue_ty³ 
ask_´iû
) {

843 ià(
	gmax_vŞume_
 == 0 ||

844 (
bid_size
 < 
max_vŞume_
 && 
ask_size
 < max_volume_)) {

845 
vw_bid_´iû_accumuÏtÜ_
 +ğ
bid_´iû
 * 
bid_size
;

846 
	gbid_´iû_accumuÏtÜ_
 +ğ
bid_´iû
;

847 
	gcum_bid_´iû_accumuÏtÜ_
 +ğ
bid_´iû
 * 
bid_size
;

848 
	gbid_vŞume_accumuÏtÜ_
 +ğ
bid_size
;

849 
	gcum_bid_vŞume_accumuÏtÜ_
 +ğ
bid_size
;

850 ià(
	gbid_´iû
 > 
	ghigh_bid_´iû_
)

851 
	ghigh_bid_´iû_
 = 
bid_´iû
;

852 ià(
	gbid_´iû
 < 
	glow_bid_´iû_
)

853 
	glow_bid_´iû_
 = 
bid_´iû
;

854 ià(
	gbid_´iû
 > 
	gcum_high_bid_´iû_
)

855 
	gcum_high_bid_´iû_
 = 
bid_´iû
;

856 ià(
	gbid_´iû
 < 
	gcum_low_bid_´iû_
)

857 
	gcum_low_bid_´iû_
 = 
bid_´iû
;

859 
	gvw_ask_´iû_accumuÏtÜ_
 +ğ
ask_´iû
 * 
ask_size
;

860 
	gask_´iû_accumuÏtÜ_
 +ğ
ask_´iû
;

861 
	gcum_ask_´iû_accumuÏtÜ_
 +ğ
ask_´iû
 * 
ask_size
;

862 
	gask_vŞume_accumuÏtÜ_
 +ğ
ask_size
;

863 
	gcum_ask_vŞume_accumuÏtÜ_
 +ğ
ask_size
;

864 ià(
	gask_´iû
 > 
	ghigh_ask_´iû_
)

865 
	ghigh_ask_´iû_
 = 
ask_´iû
;

866 ià(
	gask_´iû
 < 
	glow_ask_´iû_
)

867 
	glow_ask_´iû_
 = 
ask_´iû
;

868 ià(
	gask_´iû
 > 
	gcum_high_ask_´iû_
)

869 
	gcum_high_ask_´iû_
 = 
ask_´iû
;

870 ià(
	gask_´iû
 < 
	gcum_low_ask_´iû_
)

871 
	gcum_low_ask_´iû_
 = 
ask_´iû
;

873 
	gev’t_couÁ_
 += 1;

874 
	gcum_ev’t_couÁ_
 += 1;

877 
šlše
 
»£t_
 (
šdex_ty³
 
šdex_v®ue
) {

879 
	gvw_bid_´iû_accumuÏtÜ_
 = 0;

880 
	gvw_ask_´iû_accumuÏtÜ_
 = 0;

881 
	gbid_´iû_accumuÏtÜ_
 = 0;

882 
	gask_´iû_accumuÏtÜ_
 = 0;

883 
	gbid_vŞume_accumuÏtÜ_
 = 0;

884 
	gask_vŞume_accumuÏtÜ_
 = 0;

885 
	gÏ¡_time_
 = 
šdex_v®ue
;

886 
	g¡¬‹d_
 = 
Œue
;

887 
	gev’t_couÁ_
 = 0;

888 
	ghigh_bid_´iû_
 = 0;

889 
	ghigh_ask_´iû_
 = 0;

890 
	glow_bid_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

891 
	glow_ask_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

894 
»suÉ_ty³
 
	g»suÉ_
 { };

895 
v®ue_ty³
 
	gvw_bid_´iû_accumuÏtÜ_
 { 0 };

896 
v®ue_ty³
 
	gvw_ask_´iû_accumuÏtÜ_
 { 0 };

897 
v®ue_ty³
 
	gbid_´iû_accumuÏtÜ_
 { 0 };

898 
v®ue_ty³
 
	gask_´iû_accumuÏtÜ_
 { 0 };

899 
v®ue_ty³
 
	gbid_vŞume_accumuÏtÜ_
 { 0 };

900 
v®ue_ty³
 
	gask_vŞume_accumuÏtÜ_
 { 0 };

901 
šdex_ty³
 
	gÏ¡_time_
 { };

902 
boŞ
 
	g¡¬‹d_
 { 
	gçl£
 };

903 
size_ty³
 
	gev’t_couÁ_
 { 0 };

904 
v®ue_ty³
 
	ghigh_bid_´iû_
 { 0 };

905 
v®ue_ty³
 
	ghigh_ask_´iû_
 { 0 };

906 
v®ue_ty³
 
	glow_bid_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

907 
v®ue_ty³
 
	glow_ask_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

908 
v®ue_ty³
 
	gcum_high_bid_´iû_
 { 0 };

909 
v®ue_ty³
 
	gcum_high_ask_´iû_
 { 0 };

910 
v®ue_ty³
 
	gcum_low_bid_´iû_


911 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

912 
v®ue_ty³
 
	gcum_low_ask_´iû_


913 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

914 
v®ue_ty³
 
	gcum_bid_´iû_accumuÏtÜ_
 { 0 };

915 
v®ue_ty³
 
	gcum_ask_´iû_accumuÏtÜ_
 { 0 };

916 
v®ue_ty³
 
	gcum_bid_vŞume_accumuÏtÜ_
 { 0 };

917 
v®ue_ty³
 
	gcum_ask_vŞume_accumuÏtÜ_
 { 0 };

918 
size_ty³
 
	gcum_ev’t_couÁ_
 { 0 };

919 
di¡ªû_func
 
	gdfunc_
;

920 cÚ¡ 
	gš‹rv®_
;

921 cÚ¡ 
	gmax_vŞume_
;

929 
	g‹m¶©e
<
ty³Çme
 
	gT
,

930 
ty³Çme
 
	gI
 = ,

931 
	gty³Çme
 =

932 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

933 
	sSh¬³R©ioVis™Ü
 {

935 
DEFINE_VISIT_BASIC_TYPES_2


937 
ex¶ic™


938 
Sh¬³R©ioVis™Ü
(
boŞ
 
bŸ£d
 = 
çl£
è: 
bŸ£d_
 (biased) { }

940 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

941 
šlše
 

942 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

943 cÚ¡ 
	gK
 &
	gidx_’d
,

944 cÚ¡ 
	gH
 &
	gas£t_»t_begš
,

945 cÚ¡ 
	gH
 &
	gas£t_»t_’d
,

946 cÚ¡ 
	gH
 &
	gb’chm¬k_»t_begš
,

947 cÚ¡ 
	gH
 &
	gb’chm¬k_»t_’d
) {

949 cÚ¡ 
size_ty³
 
	gvec_s
 = 
¡d
::
di¡ªû
(
as£t_»t_begš
, 
as£t_»t_’d
);

950 cÚ¡ 
size_ty³
 
	gb_s
 =

951 
¡d
::
di¡ªû
(
b’chm¬k_»t_begš
, 
b’chm¬k_»t_’d
);

953 ià(
	gvec_s
 !ğ
b_s
 || 
vec_s
 < 3) {

954 
”r
[512];

956 
¥rštf
 (
”r
,

957 #ifdeà
_WIN32


964 
vec_s
, 
b_s
);

965 
throw
 
NÙF—sibË
 (
”r
);

968 
v®ue_ty³
 
	gcum_»tuº
 { 0.0 };

969 
	gStdVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
¡d_vis
(
bŸ£d_
);

970 autØ
	ga_c™”
 = 
as£t_»t_begš
;

971 cÚ¡ 
	gšdex_ty³
 &
	gšdex_v®
 = *
idx_begš
;

973 
	g¡d_vis
.
´e
();

974 autØ
	gb_c™”
 = 
b’chm¬k_»t_begš
;

975 
	gb_c™”
 !ğ
b’chm¬k_»t_’d
; ++
	ga_c™”
, ++b_citer) {

976 
¡d_vis
 (
šdex_v®
, *
a_c™”
 - *
b_c™”
);

977 
	gcum_»tuº
 +ğ*
a_c™”
 - *
b_c™”
;

979 
	g¡d_vis
.
po¡
();

980 
	g»suÉ_
 = (
cum_»tuº
 / 
v®ue_ty³
(
vec_s
)è/ 
¡d_vis
.
g‘_»suÉ
();

983 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 0; }

984 
šlše
 
po¡
 () { }

985 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

987 
	g´iv©e
:

989 cÚ¡ 
boŞ
 
bŸ£d_
;

990 
»suÉ_ty³
 
	g»suÉ_
 { 0 };

1011 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1012 
ty³Çme
 
	gI
 = ,

1013 
	gty³Çme
 =

1014 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1015 
	sRSIVis™Ü
 {

1017 
DEFINE_VISIT_BASIC_TYPES_3


1019 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

1020 
šlše
 

1021 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1022 cÚ¡ 
	gK
 &
	gidx_’d
,

1023 cÚ¡ 
	gH
 &
	g´iûs_begš
,

1024 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

1026 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

1029 ià(
	gavg_³riod_
 >ğ
cŞ_s
 - 3) ;

1031 
	gR‘uºVis™Ü
<
	gv®ue_ty³
> 
»tuº_v
 (
½_
);

1033 
	g»tuº_v
.
´e
();

1034 
»tuº_v
 (
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

1035 
	g»tuº_v
.
po¡
();

1037 
v®ue_ty³
 
	gavg_up
 = 0;

1038 
v®ue_ty³
 
	gavg_down
 = 0;

1039 cÚ¡ 
v®ue_ty³
 
	gavg_³riod_1
 = 
avg_³riod_
 - value_type(1);

1041 
size_ty³
 
	gi
 = 0; i < 
	gavg_³riod_
; ++i) {

1042 cÚ¡ 
v®ue_ty³
 
	gv®ue
 = 
»tuº_v
.
g‘_»suÉ
()[
i
];

1044 ià(
	gv®ue
 > 0)

1045 
	gavg_up
 = (
avg_up
 * 
avg_³riod_1
 + 
v®ue
è/ 
avg_³riod_
;

1046 ià(
	gv®ue
 < 0)

1047 
	gavg_down
 = (
avg_down
 * 
avg_³riod_1
 - 
v®ue
è/ 
avg_³riod_
;

1050 
	g»suÉ_
.
»£rve
(
cŞ_s
 - 
¡©ic_ÿ¡
<
size_ty³
>(
avg_³riod_
));

1052 
cÚ¡ex´
 
v®ue_ty³
 
	ghund»d
 = value_type(100);

1053 
cÚ¡ex´
 
v®ue_ty³
 
	gÚe
 = value_type(1);

1055 
	g»suÉ_
.
push_back
(
hund»d
 - (hund»d / (
Úe
 + 
avg_up
 / 
avg_down
)));

1057 cÚ¡ 
size_ty³
 
	g»t_s
 = 
»tuº_v
.
g‘_»suÉ
().
size
();

1059 
size_ty³
 
	gi
 = size_ty³(
avg_³riod_
); i < 
	g»t_s
; ++i) {

1060 cÚ¡ 
v®ue_ty³
 
	gv®ue
 = 
»tuº_v
.
g‘_»suÉ
()[
i
];

1062 ià(
	gv®ue
 > 0)

1063 
	gavg_up
 = (
avg_up
 * 
avg_³riod_1
 + 
v®ue
è/ 
avg_³riod_
;

1064 ià(
	gv®ue
 < 0)

1065 
	gavg_down
 = (
avg_down
 * 
avg_³riod_1
 - 
v®ue
è/ 
avg_³riod_
;

1066 
	g»suÉ_
.
push_back
(
hund»d
 - (hund»d / (
Úe
 + 
avg_up
 / 
avg_down
)));

1070 
ex¶ic™
 
RSIVis™Ü
(
»tuº_pŞicy
 
½
, 
size_ty³
 
avg_³riod
 = 14)

1071 : 
½_
(
½
), 
avg_³riod_
(
v®ue_ty³
(
avg_³riod
)) { }

1073 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

1074 
šlše
 
po¡
 () { }

1075 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1076 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	g»suÉ_
); }

1078 
	g´iv©e
:

1080 cÚ¡ 
»tuº_pŞicy
 
½_
;

1081 cÚ¡ 
v®ue_ty³
 
	gavg_³riod_
;

1082 
»suÉ_ty³
 
	g»suÉ_
 { };

	@DataFrame/AIFM/include/DataFrame/DataFrameMLVisitors.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

33 
	~<D©aF¿me/VeùÜs/VeùÜPŒV›w.h
>

35 
	~<funùiÚ®
>

36 
	~<™”©Ü
>

40 
Çme¥aû
 
	ghmdf


43 
	g‹m¶©e
<
size_t
 
	gK
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

44 
	sKM—nsVis™Ü
 {

46 
public
:

48 
usšg
 
v®ue_ty³
 = 
T
;

49 
usšg
 
	gšdex_ty³
 = 
I
;

50 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

51 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
¬¿y
<
v®ue_ty³
, 
	gK
>;

52 
usšg
 
	gşu¡”_ty³
 = 
¡d
::
¬¿y
<
VeùÜPŒV›w
<
v®ue_ty³
>, 
	gK
>;

53 
usšg
 
	gdi¡ªû_func
 =

54 
¡d
::
funùiÚ
<(cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ 
	gv®ue_ty³
 &
	gy
)>;

56 
	g´iv©e
:

58 cÚ¡ 
size_ty³
 
™”_num_
;

59 
di¡ªû_func
 
	gdfunc_
;

60 
»suÉ_ty³
 
	gk_m—ns_
 { };

62 
	g‹m¶©e
<
ty³Çme
 
	gH
>

63 
šlše
 
ÿlc_k_m—ns_
(cÚ¡ 
H
 &
cŞumn_begš
, 
size_ty³
 
cŞ_size
) {

65 
	g¡d
::
¿ndom_deviû
 
rd
;

66 
	g¡d
::
mt19937
 
g’
(
rd
());

67 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
size_ty³
> 
rd_g’
(0, 
cŞ_size
 - 1);

70 autØ&
	gk_m—n
 : 
k_m—ns_
)

71 
k_m—n
 = *(
cŞumn_begš
 + 
rd_g’
(
g’
));

73 
	g¡d
::
veùÜ
<
size_ty³
> 
assignm’ts
(
cŞ_size
, 0);

75 
size_ty³
 
	g™”
 = 0; i‹¸< 
	g™”_num_
; ++iter) {

77 
size_ty³
 
	gpošt
 = 0;…ošˆ< 
	gcŞ_size
; ++point) {

78 
	gbe¡_di¡ªû
 = 
¡d
::
num”ic_lim™s
<>::
max
();

79 
size_ty³
 
	gbe¡_şu¡”
 = 0;

81 
size_ty³
 
	gşu¡”
 = 0; clu¡” < 
	gK
; ++cluster) {

82 cÚ¡ 
	gdi¡ªû
 =

83 
dfunc_
(*(
cŞumn_begš
 + 
pošt
), 
k_m—ns_
[
şu¡”
]);

85 ià(
	gdi¡ªû
 < 
	gbe¡_di¡ªû
) {

86 
	gbe¡_di¡ªû
 = 
di¡ªû
;

87 
	gbe¡_şu¡”
 = 
şu¡”
;

90 
	gassignm’ts
[
pošt
] = 
be¡_şu¡”
;

94 
»suÉ_ty³
 
	gÃw_m—ns
 { 
v®ue_ty³
() };

95 
	g¡d
::
¬¿y
<, 
	gK
> 
	gcouÁs
 { 0.0 };

97 
size_ty³
 
	gpošt
 = 0;…ošˆ< 
	gcŞ_size
; ++point) {

98 cÚ¡ 
size_ty³
 
	gşu¡”
 = 
assignm’ts
[
pošt
];

100 
	gÃw_m—ns
[
şu¡”
] =

101 
Ãw_m—ns
[
şu¡”
] + *(
cŞumn_begš
 + 
pošt
);

102 
	gcouÁs
[
şu¡”
] += 1.0;

105 
boŞ
 
	gdÚe
 = 
Œue
;

108 
size_ty³
 
	gşu¡”
 = 0; clu¡” < 
	gK
; ++cluster) {

110 cÚ¡ 
	gcouÁ
 =

111 
¡d
::
max
<>(1.0, 
	gcouÁs
[
şu¡”
]);

112 cÚ¡ 
v®ue_ty³
 
	gv®ue
 = 
Ãw_m—ns
[
şu¡”
] / 
couÁ
;

114 ià(
dfunc_
(
v®ue
, 
k_m—ns_
[
şu¡”
]) > 0.0000001) {

115 
	gdÚe
 = 
çl£
;

116 
	gk_m—ns_
[
şu¡”
] = 
v®ue
;

120 ià(
	gdÚe
) ;

124 
	gpublic
:

126 
‹m¶©e
<
ty³Çme
 
IV
,y³Çm
	gH
>

127 
šlše
 

128 
İ”©Ü
(è(cÚ¡ 
	gIV
 &
	gidx_begš
,

129 cÚ¡ 
	gIV
 &
	gidx_’d
,

130 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

131 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

133 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

134 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

136 
ÿlc_k_m—ns_
(
cŞumn_begš
, 
¡d
::
mš
(
idx_size
, 
cŞ_size
));

141 
	g‹m¶©e
<
ty³Çme
 
	gIV
,y³Çm
	gH
>

142 
šlše
 
şu¡”_ty³


143 
g‘_şu¡”s
(cÚ¡ 
IV
 &
idx_begš
,

144 cÚ¡ 
IV
 &
idx_’d
,

145 cÚ¡ 
H
 &
cŞumn_begš
,

146 cÚ¡ 
H
 &
cŞumn_’d
) {

148 cÚ¡ 
size_ty³
 
	gidx_s
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

149 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

150 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
mš
(
idx_s
, 
cŞ_s
);

151 
şu¡”_ty³
 
	gşu¡”s
;

153 
size_ty³
 
	gi
 = 0; i < 
	gK
; ++i) {

154 
	gşu¡”s
[
i
].
»£rve
(
cŞ_size
 / 
K
 + 2);

155 
	gşu¡”s
[
i
].
push_back
(
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&(
k_m—ns_
[i])));

158 
size_ty³
 
	gj
 = 0; j < 
	gcŞ_size
; ++j) {

159 
	gmš_di¡
 = 
¡d
::
num”ic_lim™s
<>::
max
();

160 
size_ty³
 
	gmš_idx
;

162 
size_ty³
 
	gi
 = 0; i < 
	gK
; ++i) {

163 cÚ¡ 
	gdi¡
 = 
dfunc_
(*(
cŞumn_begš
 + 
j
), 
k_m—ns_
[
i
]);

165 ià(
	gdi¡
 < 
	gmš_di¡
) {

166 
	gmš_di¡
 = 
di¡
;

167 
	gmš_idx
 = 
i
;

170 
	gşu¡”s
[
mš_idx
].
push_back
(

171 
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&*(
cŞumn_begš
 + 
j
)));

174  (
	gşu¡”s
);

177 
šlše
 
´e
 () { }

178 
šlše
 
po¡
 () { }

179 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gk_m—ns_
); }

181 
KM—nsVis™Ü
(

182 
size_ty³
 
num_of_™”
,

183 
di¡ªû_func
 
f
 =

184 [](cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ v®ue_ty³ &
y
) -> {

185  ((
x
 - 
y
) * (x - y));

187 : 
™”_num_
(
num_of_™”
), 
dfunc_
(
f
) { }

192 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

193 
	sAffš™yPrİVis™Ü
 {

195 
public
:

197 
usšg
 
v®ue_ty³
 = 
T
;

198 
usšg
 
	gšdex_ty³
 = 
I
;

199 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

200 
usšg
 
	g»suÉ_ty³
 = 
VeùÜPŒV›w
<
v®ue_ty³
>;

201 
usšg
 
	gşu¡”_ty³
 = 
¡d
::
veùÜ
<
VeùÜPŒV›w
<
v®ue_ty³
>>;

202 
usšg
 
	gdi¡ªû_func
 =

203 
¡d
::
funùiÚ
<(cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ 
	gv®ue_ty³
 &
	gy
)>;

205 
	g´iv©e
:

207 cÚ¡ 
size_ty³
 
™”_num_
;

208 
di¡ªû_func
 
	gdfunc_
;

209 cÚ¡ 
	gdçùÜ_
;

210 
»suÉ_ty³
 
	gûÁ”s_
 { };

212 
	g‹m¶©e
<
ty³Çme
 
	gH
>

213 
šlše
 
	g¡d
::
veùÜ
<>

214 
g‘_sim¬™y_
(cÚ¡ 
H
 &
cŞumn_begš
, 
size_ty³
 
csize
) {

216 
	g¡d
::
veùÜ
<> 
sim
((
csize
 * (csize + 1)) / 2, 0.0);

217 
	gmš_v®
 = 
¡d
::
num”ic_lim™s
<>::
max
();

220 
size_ty³
 
	gi
 = 0; i < 
	gcsize
 - 1; ++i)

221 
size_ty³
 
	gj
 = 
i
 + 1; j < 
	gcsize
; ++j) {

222 cÚ¡ 
	gv®
 =

223 -
dfunc_
(*(
cŞumn_begš
 + 
i
), *(cŞumn_begš + 
j
));

225 
	gsim
[(
i
 * 
csize
è+ 
j
 - ((˜* (˜+ 1)è>> 1)] = 
v®
;

226 ià(
	gv®
 < 
	gmš_v®
èmš_v® = 
v®
;

230 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i)

231 
	gsim
[(
i
 * 
csize
è+ i - ((˜* (˜+ 1)è>> 1)] = 
mš_v®
;

233  (
	gsim
);

236 
šlše
 

237 
g‘_ava_ªd_»¥Ú
(cÚ¡ 
¡d
::
veùÜ
<> &
sim
,

238 
size_ty³
 
csize
,

239 
¡d
::
veùÜ
<> &
ava
,

240 
¡d
::
veùÜ
<> &
»¥Ú
) {

242 
ava
.
»size
(
csize
 * csize, 0.0);

243 
	g»¥Ú
.
»size
(
csize
 * csize, 0.0);

245 
size_ty³
 
	gm
 = 0; m < 
	g™”_num_
; ++m) {

247 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i) {

248 
size_ty³
 
	gj
 = 0; j < 
	gcsize
; ++j) {

249 
	gmax_diff
 = -
¡d
::
num”ic_lim™s
<>::
max
();

251 
size_ty³
 
	gjj
 = 0; jj < 
	gj
; ++jj) {

252 cÚ¡ 
	gv®ue
 =

253 
sim
[(
i
 * 
csize
è+ 
jj
 - ((i * (i + 1)) >> 1)] +

254 
ava
[
jj
 * 
csize
 + 
i
];

256 ià(
	gv®ue
 > 
	gmax_diff
)

257 
	gmax_diff
 = 
v®ue
;

259 
size_ty³
 
	gjj
 = 
j
 + 1; jj < 
	gcsize
; ++jj) {

260 cÚ¡ 
	gv®ue
 =

261 
sim
[(
i
 * 
csize
è+ 
jj
 - ((i * (i + 1)) >> 1)] +

262 
ava
[
jj
 * 
csize
 + 
i
];

264 ià(
	gv®ue
 > 
	gmax_diff
)

265 
	gmax_diff
 = 
v®ue
;

268 
	g»¥Ú
[
j
 * 
csize
 + 
i
] =

269 (1.0 - 
dçùÜ_
) *

270 (
sim
[(
i
 * 
csize
è+ 
j
 - ((i * (i + 1)) >> 1)] -

271 
max_diff
) +

272 
dçùÜ_
 * 
»¥Ú
[
j
 * 
csize
 + 
i
];

277 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i) {

278 
size_ty³
 
	gj
 = 0; j < 
	gcsize
; ++j) {

279 ià(
	gi
 =ğ
j
) {

280 
sum
 = 0.0;

282 
size_ty³
 
	gii
 = 0; i˜< 
	gi
; ++ii)

283 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

284 
size_ty³
 
	gii
 = 
i
 + 1; i˜< 
	gcsize
; ++ii)

285 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

287 
	gava
[
j
 * 
csize
 + 
i
] =

288 (1.0 - 
dçùÜ_
è* 
sum
 +

289 
dçùÜ_
 * 
ava
[
j
 * 
csize
 + 
i
];

292 
	gsum
 = 0.0;

293 cÚ¡ 
size_ty³
 
	gmax_i_j
 = 
¡d
::
max
(
i
, 
j
);

294 cÚ¡ 
size_ty³
 
	gmš_i_j
 = 
¡d
::
mš
(
i
, 
j
);

296 
size_ty³
 
	gii
 = 0; i˜< 
	gmš_i_j
; ++ii)

297 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

298 
size_ty³
 
	gii
 = 
mš_i_j
 + 1; i˜< 
	gmax_i_j
; ++ii)

299 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

300 
size_ty³
 
	gii
 = 
max_i_j
 + 1; i˜< 
	gcsize
; ++ii)

301 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

303 
	gava
[
j
 * 
csize
 + 
i
] =

304 (1.0 - 
dçùÜ_
) *

305 
¡d
::
mš
(0.0, 
»¥Ú
[
j
 * 
csize
 + j] + 
sum
) +

306 
dçùÜ_
 * 
	gava
[
j
 * 
csize
 + 
i
];

315 
	gpublic
:

317 
‹m¶©e
<
ty³Çme
 
IV
,y³Çm
	gH
>

318 
šlše
 

319 
İ”©Ü
(è(cÚ¡ 
	gIV
 &
	gidx_begš
,

320 cÚ¡ 
	gIV
 &
	gidx_’d
,

321 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

322 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

324 cÚ¡ 
size_ty³
 
	gidx_size
 =

325 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

326 cÚ¡ 
size_ty³
 
	gcŞ_size
 =

327 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

328 cÚ¡ 
size_ty³
 
	gcsize
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

329 cÚ¡ 
	g¡d
::
veùÜ
<> 
sim
 =

330 
¡d
::
move
(
g‘_sim¬™y_
(
cŞumn_begš
, 
csize
));

331 
	g¡d
::
veùÜ
<> 
ava
;

332 
	g¡d
::
veùÜ
<> 
»¥Ú
;

334 
g‘_ava_ªd_»¥Ú
(
sim
, 
csize
, 
ava
, 
»¥Ú
);

336 
	gûÁ”s_
.
»£rve
(
¡d
::
mš
(
csize
 / 100, 
size_ty³
(16)));

337 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i) {

338 ià(
	g»¥Ú
[
i
 * 
csize
 + i] + 
	gava
[i * csize + i] > 0.0)

339 
	gûÁ”s_
.
push_back
(

340 
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&*(
cŞumn_begš
 + 
i
)));

346 
	g‹m¶©e
<
ty³Çme
 
	gIV
,y³Çm
	gH
>

347 
šlše
 
şu¡”_ty³


348 
g‘_şu¡”s
(cÚ¡ 
IV
 &
idx_begš
,

349 cÚ¡ 
IV
 &
idx_’d
,

350 cÚ¡ 
H
 &
cŞumn_begš
,

351 cÚ¡ 
H
 &
cŞumn_’d
) {

353 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

354 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

355 cÚ¡ 
size_ty³
 
	gcsize
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

356 cÚ¡ 
size_ty³
 
	gûÁ”s_size
 = 
ûÁ”s_
.
size
();

357 
şu¡”_ty³
 
	gşu¡”s
;

359 ià(
	gûÁ”s_size
 > 0) {

360 
	gşu¡”s
.
»size
(
ûÁ”s_size
);

361 
size_ty³
 
	gi
 = 0; i < 
	gûÁ”s_size
; ++i)

362 
	gşu¡”s
[
i
].
»£rve
(
csize
 / 
ûÁ”s_size
);

364 
size_ty³
 
	gj
 = 0; j < 
	gcsize
; ++j) {

365 
	gmš_di¡
 = 
¡d
::
num”ic_lim™s
<>::
max
();

366 
size_ty³
 
	gmš_idx
;

368 
size_ty³
 
	gi
 = 0; i < 
	gûÁ”s_size
; ++i) {

369 cÚ¡ 
	gdi¡
 =

370 
dfunc_
(*(
cŞumn_begš
 + 
j
), 
ûÁ”s_
[
i
]);

372 ià(
	gdi¡
 < 
	gmš_di¡
) {

373 
	gmš_di¡
 = 
di¡
;

374 
	gmš_idx
 = 
i
;

377 
	gşu¡”s
[
mš_idx
].
push_back
(

378 
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&*(
cŞumn_begš
 + 
j
)));

382  (
	gşu¡”s
);

385 
šlše
 
´e
 () { }

386 
šlše
 
po¡
 () { }

387 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gûÁ”s_
); }

389 
Affš™yPrİVis™Ü
(

390 
size_ty³
 
num_of_™”
,

391 
di¡ªû_func
 
f
 =

392 [](cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ v®ue_ty³ &
y
) -> {

393  ((
x
 - 
y
) * (x - y));

395 
dampšg_çùÜ
 = 0.9)

396 : 
™”_num_
(
num_of_™”
), 
dfunc_
(
f
), 
dçùÜ_
(
dampšg_çùÜ
) { }

	@DataFrame/AIFM/include/DataFrame/DataFrameOperators.h

30 #´agm¨
Úû


36 
Çme¥aû
 
	ghmdf


39 #ià
defšed
(
WIN32
è|| defšed(
_WIN32
)

40 #ifdeà
mš


41 #undeà
mš


43 #ifdeà
max


44 #undeà
max


51 
	g‹m¶©e
<
ty³Çme
 
	gDF
,em¶©e<
	gty³Çme
> 
şass
 
	gOPT
,y³Çm... 
	gTs
>

52 
DF
 
bš¬y_İ”©iÚ
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

54 
ty³Çme
 
	gDF
::
IndexVecTy³
 
»suÉ_idx
;

56 cÚ¡ 
ty³Çme
 
	gDF
::
IndexVecTy³
 &
lhs_ts_vec
 = 
lhs
.
g‘_šdex
();

57 cÚ¡ 
ty³Çme
 
	gDF
::
IndexVecTy³
 &
rhs_ts_vec
 = 
rhs
.
g‘_šdex
();

59 
	g»suÉ_idx
.
»£rve
(
¡d
::
mš
(
lhs_ts_vec
.
size
(), 
rhs_ts_vec
.size()));

60 
	g¡d
::
£t_š‹r£ùiÚ
(

61 
lhs_ts_vec
.
begš
(),†hs_ts_vec.
’d
(),

62 
rhs_ts_vec
.
begš
(),„hs_ts_vec.
’d
(),

63 
¡d
::
back_š£¹”
(
»suÉ_idx
));

65 
DF
 
	g»suÉ
;

67 
	g»suÉ
.
lßd_šdex
(
¡d
::
move
(
»suÉ_idx
));

69 cÚ¡ 
ty³Çme
 
	gDF
::
IndexVecTy³
 &
Ãw_idx
 = 
»suÉ
.
g‘_šdex
();

71 cÚ¡‡utØ&
	glhs_c™”
 : 
lhs
.
cŞumn_tb_
) {

72 cÚ¡‡utØ
rhs_c™”
 = 
rhs
.
cŞumn_tb_
.
fšd
(
lhs_c™”
.
fœ¡
.
c_¡r
());

74 ià(
	grhs_c™”
 =ğ
rhs
.
cŞumn_tb_
.
’d
()) ;

76 
ty³Çme
 
	gDF
::
‹m¶©e
 
İ”©Ü_funùÜ_


77 <
ty³Çme
 
DF
::
IndexTy³
, 
	gOPT
, 
	gTs
 ...> 
funùÜ
 (

78 
lhs_ts_vec
,

79 
rhs_ts_vec
,

80 
Ãw_idx
,

81 
rhs
,

82 
lhs_c™”
.
fœ¡
.
c_¡r
(),

83 
»suÉ
);

85 
	glhs
.
	gd©a_
[
lhs_c™”
.
£cÚd
].
chªge
(
funùÜ
);

88  (
	g»suÉ
);

102 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

103 
šlše
 
DF
 
df_¶us
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

105  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
¶us
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

110 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

111 
šlše
 
DF
 
df_mšus
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

113  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
mšus
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

118 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

119 
šlše
 
DF
 
df_muÉl›s
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

121  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
muÉl›s
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

126 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

127 
šlše
 
DF
 
df_divides
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

129  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
divides
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

	@DataFrame/AIFM/include/DataFrame/DataFrameStatsVisitors.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meTy³s.h
>

34 
	~<®gÜ™hm
>

35 
	~<cm©h
>

36 
	~<c¡ddef
>

37 
	~<funùiÚ®
>

38 
	~<™”©Ü
>

39 
	~<m­
>

40 
	~<num”ic
>

44 
Çme¥aû
 
	ghmdf


47 
	#DEFINE_VISIT_BASIC_TYPES
 \

48 
usšg
 
v®ue_ty³
 = 
T
; \

49 
usšg
 
šdex_ty³
 = 
I
; \

50 
usšg
 
size_ty³
 = 
¡d
::
size_t
;

	)

52 
	#DEFINE_VISIT_BASIC_TYPES_2
 \

53 
DEFINE_VISIT_BASIC_TYPES
 \

54 
usšg
 
»suÉ_ty³
 = 
T
;

	)

56 
	#DEFINE_VISIT_BASIC_TYPES_3
 \

57 
DEFINE_VISIT_BASIC_TYPES
 \

58 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
T
>;

	)

60 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

61 
	sM—nVis™Ü
 {

63 
DEFINE_VISIT_BASIC_TYPES_2


65 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

67 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

69 
	gm—n_
 +ğ
v®
;

70 
	gút_
 += 1;

72 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

73 
šlše
 

74 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

76 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

77 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

80 
šlše
 
´e
 (è{ 
	gm—n_
 = 0; 
	gút_
 = 0; }

81 
šlše
 
po¡
 () { }

82 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gút_
); }

83 
šlše
 
v®ue_ty³
 
g‘_sum
 (ècÚ¡ {  (
	gm—n_
); }

84 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

86  (
	gm—n_
 / 
v®ue_ty³
(
út_
));

89 
ex¶ic™
 
M—nVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

91 
´iv©e
:

93 
v®ue_ty³
 
m—n_
 { 0 };

94 
size_ty³
 
	gút_
 { 0 };

95 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

100 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

101 
	sGeom‘ricM—nVis™Ü
 {

103 
DEFINE_VISIT_BASIC_TYPES_2


105 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

107 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

109 
	gm—n_
 *ğ
v®
;

110 
	gút_
 += 1;

112 
šlše
 
´e
 (è{ 
	gm—n_
 = 
v®ue_ty³
(1); 
	gút_
 = 0; }

113 
šlše
 
po¡
 () { }

114 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gút_
); }

115 
šlše
 
v®ue_ty³
 
g‘_sum
 (ècÚ¡ {  (
	gm—n_
); }

116 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

118  (
	g¡d
::
pow
(
m—n_
, 
v®ue_ty³
(1è/ v®ue_ty³(
út_
)));

120 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

121 
šlše
 

122 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

124 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

125 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

128 
ex¶ic™
 
Geom‘ricM—nVis™Ü
(
boŞ
 
skÇn
 = 
Œue
)

129 : 
sk_Çn_
(
skÇn
) { }

131 
´iv©e
:

133 
v®ue_ty³
 
m—n_
 { 1 };

134 
size_ty³
 
	gút_
 { 0 };

135 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

140 
	g‹m¶©e
<
ty³Çme
 
	gT
,

141 
ty³Çme
 
	gI
 = ,

142 
	gty³Çme
 =

143 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

144 
	sH¬mÚicM—nVis™Ü
 {

146 
DEFINE_VISIT_BASIC_TYPES_2


148 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

150 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

152 
	gm—n_
 +ğ
v®ue_ty³
(1è/ 
v®
;

153 
	gút_
 += 1;

155 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

156 
šlše
 

157 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

159 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

160 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

163 
šlše
 
´e
 (è{ 
	gm—n_
 = 0; 
	gút_
 = 0; }

164 
šlše
 
po¡
 () { }

165 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gút_
); }

166 
šlše
 
v®ue_ty³
 
g‘_sum
 (ècÚ¡ {  (
	gm—n_
); }

167 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

169  (
v®ue_ty³
(
út_
è/ 
	gm—n_
);

172 
ex¶ic™
 
H¬mÚicM—nVis™Ü
(
boŞ
 
skÇn
 = 
Œue
)

173 : 
sk_Çn_
(
skÇn
) { }

175 
´iv©e
:

177 
v®ue_ty³
 
m—n_
 { 0 };

178 
size_ty³
 
	gút_
 { 0 };

179 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

184 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

185 
	sSumVis™Ü
 {

187 
DEFINE_VISIT_BASIC_TYPES_2


189 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

191 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

193 
	gsum_
 +ğ
v®
;

195 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

196 
šlše
 

197 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

199 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

200 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

203 
šlše
 
´e
 (è{ 
	gsum_
 = 
v®ue_ty³
 { }; }

204 
šlše
 
po¡
 () { }

205 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gsum_
); }

207 
ex¶ic™
 
SumVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

209 
´iv©e
:

211 
v®ue_ty³
 
sum_
 { 0 };

212 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

217 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

218 
	sProdVis™Ü
 {

220 
DEFINE_VISIT_BASIC_TYPES_2


222 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

224 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

226 
	g´od_
 *ğ
v®
;

228 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

229 
šlše
 

230 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

232 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

233 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

236 
šlše
 
´e
 (è{ 
	g´od_
 = 1; }

237 
šlše
 
po¡
 () { }

238 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g´od_
); }

240 
ex¶ic™
 
ProdVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

242 
´iv©e
:

244 
v®ue_ty³
 
´od_
 { 1 };

245 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

250 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

251 
	sMaxVis™Ü
 {

253 
DEFINE_VISIT_BASIC_TYPES_2


255 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
v®ue_ty³
 &
v®
) {

257 ià(
is_Çn__
(
v®
)) {

258 ià(
sk_Çn_
) ;

260 
	gmax_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
();

261 
	gis_fœ¡
 = 
çl£
;

265 ià(
	gv®
 > 
	gmax_
 || 
	gis_fœ¡
) {

266 
	gmax_
 = 
v®
;

267 
	gšdex_
 = 
idx
;

268 
	gis_fœ¡
 = 
çl£
;

271 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

272 
šlše
 

273 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

275 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

276 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

279 
šlše
 
´e
 (è{ 
	gis_fœ¡
 = 
Œue
; }

280 
šlše
 
po¡
 () { }

281 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gmax_
); }

282 
šlše
 
šdex_ty³
 
g‘_šdex
 (ècÚ¡ {  (
	gšdex_
); }

284 
ex¶ic™
 
MaxVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

286 
´iv©e
:

288 
v®ue_ty³
 
max_
 { };

289 
šdex_ty³
 
	gšdex_
 { };

290 
boŞ
 
	gis_fœ¡
 { 
	gŒue
 };

291 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

296 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

297 
	sMšVis™Ü
 {

299 
DEFINE_VISIT_BASIC_TYPES_2


301 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
v®ue_ty³
 &
v®
) {

303 ià(
is_Çn__
(
v®
)) {

304 ià(
sk_Çn_
) ;

306 
	gmš_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
();

307 
	gis_fœ¡
 = 
çl£
;

311 ià(
	gv®
 < 
	gmš_
 || 
	gis_fœ¡
) {

312 
	gmš_
 = 
v®
;

313 
	gšdex_
 = 
idx
;

314 
	gis_fœ¡
 = 
çl£
;

317 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

318 
šlše
 

319 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

321 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

322 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

325 
šlše
 
´e
 (è{ 
	gis_fœ¡
 = 
Œue
; }

326 
šlše
 
po¡
 () { }

327 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gmš_
); }

328 
šlše
 
šdex_ty³
 
g‘_šdex
 (ècÚ¡ {  (
	gšdex_
); }

330 
ex¶ic™
 
MšVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

332 
´iv©e
:

334 
v®ue_ty³
 
mš_
 { };

335 
šdex_ty³
 
	gšdex_
 { };

336 
boŞ
 
	gis_fœ¡
 { 
	gŒue
 };

337 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

350 
	g‹m¶©e
<
	g¡d
::
size_t
 
N
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

351 
	sNL¬ge¡Vis™Ü
 {

353 
DEFINE_VISIT_BASIC_TYPES


355 
	sD©aI‹m
 {

356 
v®ue_ty³
 
v®ue
 { };

357 
šdex_ty³
 
	gšdex
 { };

360 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
¬¿y
<
D©aI‹m
, 
	gN
>;

362 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

364 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

366 ià(
	gcouÁ”_
 < 
	gN
) {

367 
	g™ems_
[
couÁ”_
] = { 
v®
, 
idx
 };

368 ià(
	gmš_šdex_
 < 0 || 
	gv®
 < 
	g™ems_
[
mš_šdex_
].
	gv®ue
)

369 
	gmš_šdex_
 = 
¡©ic_ÿ¡
<>(
couÁ”_
);

371 ià(
	gv®
 > 
	g™ems_
[
mš_šdex_
].
	gv®ue
) {

372 
	g™ems_
[
mš_šdex_
] = { 
v®
, 
idx
 };

373 
	gmš_šdex_
 = 0;

374 
	gi
 = 1; i < 
	gN
; ++i)

375 ià(
	g™ems_
[
i
].
	gv®ue
 < i‹ms_[
mš_šdex_
].value)

376 
	gmš_šdex_
 = 
i
;

379 
	gcouÁ”_
 += 1;

381 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

382 
šlše
 

383 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

385 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

386 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

389 
šlše
 
´e
 (è{ 
	gcouÁ”_
 = 0; 
	gmš_šdex_
 = -1; }

390 
šlše
 
po¡
 () { }

391 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g™ems_
); }

393 
šlše
 
sÜt_by_šdex
() {

395 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

396 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

397  (
lhs
.
šdex
 < 
rhs
.index);

400 
šlše
 
sÜt_by_v®ue
() {

402 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

403 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

404  (
lhs
.
v®ue
 < 
rhs
.value);

408 
ex¶ic™
 
NL¬ge¡Vis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

410 
´iv©e
:

412 
»suÉ_ty³
 
™ems_
 { };

413 
size_ty³
 
	gcouÁ”_
 { 0 };

414 
	gmš_šdex_
 { -1 };

415 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

428 
	g‹m¶©e
<
	g¡d
::
size_t
 
N
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

429 
	sNSm®Ë¡Vis™Ü
 {

431 
DEFINE_VISIT_BASIC_TYPES


433 
	sD©aI‹m
 {

434 
v®ue_ty³
 
v®ue
 { };

435 
šdex_ty³
 
	gšdex
 { };

438 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
¬¿y
<
D©aI‹m
, 
	gN
>;

440 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

442 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

444 ià(
	gcouÁ”_
 < 
	gN
) {

445 
	g™ems_
[
couÁ”_
] = { 
v®
, 
idx
 };

446 ià(
	gmax_šdex_
 < 0 || 
	gv®
 > 
	g™ems_
[
max_šdex_
].
	gv®ue
)

447 
	gmax_šdex_
 = 
¡©ic_ÿ¡
<>(
couÁ”_
);

449 ià(
	gv®
 < 
	g™ems_
[
max_šdex_
].
	gv®ue
) {

450 
	g™ems_
[
max_šdex_
] = { 
v®
, 
idx
 };

451 
	gmax_šdex_
 = 0;

452 
	gi
 = 1; i < 
	gN
; ++i)

453 ià(
	g™ems_
[
i
].
	gv®ue
 > i‹ms_[
max_šdex_
].value)

454 
	gmax_šdex_
 = 
i
;

457 
	gcouÁ”_
 += 1;

459 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

460 
šlše
 

461 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

463 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

464 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

467 
šlše
 
´e
 (è{ 
	gcouÁ”_
 = 0; 
	gmax_šdex_
 = -1; }

468 
šlše
 
po¡
 () { }

469 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g™ems_
); }

471 
šlše
 
sÜt_by_šdex
() {

473 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

474 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

475  (
lhs
.
šdex
 < 
rhs
.index);

478 
šlše
 
sÜt_by_v®ue
() {

480 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

481 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

482  (
lhs
.
v®ue
 < 
rhs
.value);

486 
ex¶ic™
 
NSm®Ë¡Vis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

488 
´iv©e
:

490 
»suÉ_ty³
 
™ems_
 { };

491 
size_ty³
 
	gcouÁ”_
 { 0 };

492 
	gmax_šdex_
 { -1 };

493 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

498 
	g‹m¶©e
<
ty³Çme
 
	gT
,

499 
ty³Çme
 
	gI
 = ,

500 
	gty³Çme
 =

501 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

502 
	sCovVis™Ü
 {

504 
DEFINE_VISIT_BASIC_TYPES_2


506 
ex¶ic™
 
CovVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
, boŞ 
skÇn
 = 
Œue
)

507 : 
b_
 (
bŸ£d
), 
sk_Çn_
(
skÇn
) { }

508 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &,

509 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

510 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

512 ià(
	gsk_Çn_
 && (
is_Çn__
(
v®1
è|| is_Çn__(
v®2
))) ;

514 
	gtÙ®1_
 +ğ
v®1
;

515 
	gtÙ®2_
 +ğ
v®2
;

516 
	gdÙ_´od_
 +ğ(
v®1
 * 
v®2
);

517 
	gdÙ_´od1_
 +ğ(
v®1
 * val1);

518 
	gdÙ_´od2_
 +ğ(
v®2
 * val2);

519 
	gút_
 += 1;

521 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

522 
šlše
 

523 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

524 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

525 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

527 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

528 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

531 
šlše
 
´e
 () {

533 
	gtÙ®1_
 = 
tÙ®2_
 = 
dÙ_´od_
 = 
dÙ_´od1_
 = 
dÙ_´od2_
 = 0;

534 
	gút_
 = 0;

536 
šlše
 
po¡
 () { }

537 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

539 cÚ¡ 
v®ue_ty³
 
	gb
 = 
b_
 ? 0 : 1;

541  ((
	gdÙ_´od_
 - (
tÙ®1_
 * 
	gtÙ®2_
è/ 
v®ue_ty³
(
út_
)) /

542 (
v®ue_ty³
(
út_
è- 
	gb
));

545 
šlše
 
v®ue_ty³
 
g‘_v¬1
 () const {

547 cÚ¡ 
v®ue_ty³
 
	gb
 = 
b_
 ? 0 : 1;

549  ((
	gdÙ_´od1_
 - (
tÙ®1_
 * 
	gtÙ®1_
è/ 
v®ue_ty³
(
út_
)) /

550 (
v®ue_ty³
(
út_
è- 
	gb
));

552 
šlše
 
v®ue_ty³
 
g‘_v¬2
 () const {

554 cÚ¡ 
v®ue_ty³
 
	gb
 = 
b_
 ? 0 : 1;

556  ((
	gdÙ_´od2_
 - (
tÙ®2_
 * 
	gtÙ®2_
è/ 
v®ue_ty³
(
út_
)) /

557 (
v®ue_ty³
(
út_
è- 
	gb
));

560 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gút_
); }

562 
	g´iv©e
:

564 
v®ue_ty³
 
tÙ®1_
 { 0 };

565 
v®ue_ty³
 
	gtÙ®2_
 { 0 };

566 
v®ue_ty³
 
	gdÙ_´od_
 { 0 };

567 
v®ue_ty³
 
	gdÙ_´od1_
 { 0 };

568 
v®ue_ty³
 
	gdÙ_´od2_
 { 0 };

569 
size_ty³
 
	gút_
 { 0 };

570 cÚ¡ 
boŞ
 
	gb_
;

571 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

576 
	g‹m¶©e
<
ty³Çme
 
	gT
,

577 
ty³Çme
 
	gI
 = ,

578 
	gty³Çme
 =

579 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

580 
	sV¬Vis™Ü
 {

582 
DEFINE_VISIT_BASIC_TYPES_2


584 
ex¶ic™
 
V¬Vis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
cov_
 (biased) { }

585 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

587 
cov_
 (
idx
, 
v®
, val);

589 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

590 
šlše
 

591 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

593 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

594 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

597 
šlše
 
´e
 (è{ 
	gcov_
.pre(); }

598 
šlše
 
po¡
 (è{ 
	gcov_
.post(); }

599 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gcov_
.get_result()); }

600 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gcov_
.get_count()); }

602 
	g´iv©e
:

604 
CovVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gcov_
;

609 
	g‹m¶©e
<
ty³Çme
 
	gT
,

610 
ty³Çme
 
	gI
 = ,

611 
	gty³Çme
 =

612 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

613 
	sB‘aVis™Ü
 {

615 
DEFINE_VISIT_BASIC_TYPES_2


617 
ex¶ic™
 
B‘aVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
cov_
 (biased) { }

618 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

619 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

620 cÚ¡ 
	gv®ue_ty³
 &
	gb’chm¬k
) {

622 
cov_
 (
idx
, 
v®1
, 
b’chm¬k
);

624 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

625 
šlše
 

626 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

627 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

628 
H
 
	gb’chm¬k_begš
, H 
	gb’chm¬k_’d
) {

630 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gb’chm¬k_begš
 < 
	gb’chm¬k_’d
)

631 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gb’chm¬k_begš
++);

634 
šlše
 
´e
 (è{ 
	gcov_
.pre(); }

635 
šlše
 
po¡
 (è{ 
	gcov_
.post(); }

636 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

638  (
	gcov_
.
g‘_v¬2
() != 0.0

639 ? 
cov_
.
g‘_»suÉ
(è/ cov_.
g‘_v¬2
()

640 : 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
());

642 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gcov_
.get_count()); }

644 
	g´iv©e
:

646 
CovVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gcov_
;

651 
	g‹m¶©e
<
ty³Çme
 
	gT
,

652 
ty³Çme
 
	gI
 = ,

653 
	gty³Çme
 =

654 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

655 
	sStdVis™Ü
 {

657 
DEFINE_VISIT_BASIC_TYPES_2


659 
ex¶ic™
 
StdVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
v¬_
 (biased) { }

660 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

662 
v¬_
 (
idx
, 
v®
);

664 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

665 
šlše
 

666 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

668 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

669 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

672 
šlše
 
´e
 (è{ 
	gv¬_
.pre(); }

673 
šlše
 
po¡
 (è{ 
	gv¬_
.post(); }

674 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

676  (::
sq¹
(
v¬_
.
g‘_»suÉ
()));

678 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gv¬_
.get_count()); }

680 
	g´iv©e
:

682 
V¬Vis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gv¬_
;

689 
	g‹m¶©e
<
ty³Çme
 
	gT
,

690 
ty³Çme
 
	gI
 = ,

691 
	gty³Çme
 =

692 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

693 
	sSEMVis™Ü
 {

695 
DEFINE_VISIT_BASIC_TYPES_2


697 
ex¶ic™
 
SEMVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
¡d_
 (biased) { }

698 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

700 
¡d_
 (
idx
, 
v®
);

702 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

703 
šlše
 

704 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

706 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

707 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

710 
šlše
 
´e
 (è{ 
	g¡d_
.pre(); }

711 
šlše
 
po¡
 (è{ 
	g¡d_
.post(); }

712 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

714  (
	g¡d_
.
g‘_»suÉ
(è/ ::
sq¹
(
g‘_couÁ
()));

716 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	g¡d_
.get_count()); }

718 
	g´iv©e
:

720 
StdVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	g¡d_
;

725 
	g‹m¶©e
<
ty³Çme
 
	gT
,

726 
ty³Çme
 
	gI
 = ,

727 
	gty³Çme
 =

728 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

729 
	sT¿ckšgE¼ÜVis™Ü
 {

731 
DEFINE_VISIT_BASIC_TYPES_2


733 
ex¶ic™
 
T¿ckšgE¼ÜVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
¡d_
 (biased) { }

734 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

735 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

736 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

738 
¡d_
 (
idx
, 
v®1
 - 
v®2
);

740 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

741 
šlše
 

742 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

743 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

744 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

746 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

747 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

750 
šlše
 
´e
 (è{ 
	g¡d_
.pre(); }

751 
šlše
 
po¡
 (è{ 
	g¡d_
.post(); }

752 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g¡d_
.get_result()); }

754 
	g´iv©e
:

756 
StdVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	g¡d_
;

761 
	g‹m¶©e
<
ty³Çme
 
	gT
,

762 
ty³Çme
 
	gI
 = ,

763 
	gty³Çme
 =

764 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

765 
	sCÜrVis™Ü
 {

767 
public
:

769 
DEFINE_VISIT_BASIC_TYPES_2


771 
ex¶ic™
 
CÜrVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
cov_
 (biased) { }

772 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

773 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

774 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

776 
cov_
 (
idx
, 
v®1
, 
v®2
);

778 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

779 
šlše
 

780 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

781 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

782 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

784 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

785 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

788 
šlše
 
´e
 (è{ 
	gcov_
.pre(); }

789 
šlše
 
po¡
 (è{ 
	gcov_
.post(); }

790 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

792  (
	gcov_
.
g‘_»suÉ
() /

793 (::
sq¹
(
cov_
.
g‘_v¬1
()è* ::sq¹(cov_.
g‘_v¬2
())));

796 
	g´iv©e
:

798 
CovVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gcov_
;

803 
	g‹m¶©e
<
ty³Çme
 
	gT
,

804 
ty³Çme
 
	gI
 = ,

805 
	gty³Çme
 =

806 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

807 
	sDÙProdVis™Ü
 {

809 
DEFINE_VISIT_BASIC_TYPES_2


811 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &,

812 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

813 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

815 
	gdÙ_´od_
 +ğ(
v®1
 * 
v®2
);

817 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

818 
šlše
 

819 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

820 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

821 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

823 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

824 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

827 
šlše
 
´e
 (è{ 
	gdÙ_´od_
 = 
v®ue_ty³
(0); }

828 
šlše
 
po¡
 () { }

829 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gdÙ_´od_
); }

831 
	g´iv©e
:

833 
»suÉ_ty³
 
dÙ_´od_
 { 0 };

840 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
,y³Çm
	gI
 = >

841 
	sSim¶eRŞlAdİ‹r
 {

843 
´iv©e
:

845 
usšg
 
vis™Ü_ty³
 = 
F
;

846 
usšg
 
	gf_»suÉ_ty³
 = 
ty³Çme
 
vis™Ü_ty³
::
»suÉ_ty³
;

848 
vis™Ü_ty³
 
	gvis™Ü_
 { };

849 cÚ¡ 
size_t
 
	grŞl_couÁ_
 { 0 };

850 
	g¡d
::
veùÜ
<
f_»suÉ_ty³
> 
»suÉ_
 { };

852 
	gpublic
:

854 
DEFINE_VISIT_BASIC_TYPES


855 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
f_»suÉ_ty³
>;

857 
šlše
 
Sim¶eRŞlAdİ‹r
(
F
 &&
funùÜ
, 
size_ty³
 
r_couÁ
)

858 : 
vis™Ü_
(
¡d
::
move
(
funùÜ
)), 
rŞl_couÁ_
(
r_couÁ
) { }

860 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

861 
šlše
 

862 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

863 cÚ¡ 
	gK
 &
	gidx_’d
,

864 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

865 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

867 ià(
	grŞl_couÁ_
 == 0) ;

869 cÚ¡ 
size_ty³
 
	gidx_size
 =

870 
¡©ic_ÿ¡
<
size_ty³
>(
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
));

871 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

872 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

874 
	g»suÉ_
.
»£rve
(
cŞ_s
);

876 
size_ty³
 
	gi
 = 0; i < 
	grŞl_couÁ_
 - 1 && i < 
	gcŞ_s
; ++i)

877 
	g»suÉ_
.
push_back
(
¡d
::
num”ic_lim™s
<
f_»suÉ_ty³
>::
qu›t_NaN
());

878 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

879 
size_ty³
 
	gr
 = 0;

881 
	gvis™Ü_
.
´e
();

882 
size_ty³
 
	gj
 = 
i
; 
	gr
 < 
	grŞl_couÁ_
 && j < 
	gcŞ_s
; ++j, ++r)

883 
vis™Ü_
(*(
idx_begš
 + 
j
), *(
cŞumn_begš
 + j));

884 
	gvis™Ü_
.
po¡
();

885 ià(
	gr
 =ğ
rŞl_couÁ_
)

886 
»suÉ_
.
push_back
(
vis™Ü_
.
g‘_»suÉ
());

890 
šlše
 
´e
 (è{ 
	gvis™Ü_
.´e(); 
	g»suÉ_
.
ş—r
(); }

891 
šlše
 
po¡
 (è{ 
	gvis™Ü_
.post(); }

892 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

899 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
,y³Çm
	gI
 = >

900 
	sEx·ndšgRŞlAdİ‹r
 {

902 
´iv©e
:

904 
usšg
 
vis™Ü_ty³
 = 
F
;

905 
usšg
 
	gf_»suÉ_ty³
 = 
ty³Çme
 
vis™Ü_ty³
::
»suÉ_ty³
;

907 
vis™Ü_ty³
 
	gvis™Ü_
 { };

908 cÚ¡ 
size_t
 
	gš™_rŞl_couÁ_
 { 0 };

909 cÚ¡ 
size_t
 
	gšüem’t_couÁ_
 { 0 };

910 
	g¡d
::
veùÜ
<
f_»suÉ_ty³
> 
»suÉ_
 { };

912 
	gpublic
:

914 
DEFINE_VISIT_BASIC_TYPES


915 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
f_»suÉ_ty³
>;

917 
šlše
 
Ex·ndšgRŞlAdİ‹r
(
F
 &&
funùÜ
,

918 
size_t
 
r_couÁ
,

919 
size_t
 
i_couÁ
 = 1)

920 : 
vis™Ü_
(
¡d
::
move
(
funùÜ
)),

921 
š™_rŞl_couÁ_
(
r_couÁ
),

922 
šüem’t_couÁ_
(
i_couÁ
) { }

924 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

925 
šlše
 

926 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

927 cÚ¡ 
	gK
 &
	gidx_’d
,

928 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

929 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

931 ià(
	gš™_rŞl_couÁ_
 == 0) ;

933 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

934 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

935 cÚ¡ 
size_t
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

937 
	g»suÉ_
.
»£rve
(
cŞ_s
);

939 
size_t
 
	grc
 = 
š™_rŞl_couÁ_
;

941 
size_t
 
	gi
 = 0; i < 
	grc
 - 1 && i < 
	gcŞ_s
; ++i)

942 
	g»suÉ_
.
push_back
(
¡d
::
num”ic_lim™s
<
f_»suÉ_ty³
>::
qu›t_NaN
());

944 
size_t
 
	gi
 = 0; i < 
	gcŞ_s
; ++i, 
	grc
 +ğ
šüem’t_couÁ_
) {

945 
size_t
 
r
 = 0;

947 
	gvis™Ü_
.
´e
();

948 
size_t
 
	gj
 = 
i
; 
	gr
 < 
	grc
 && j < 
	gcŞ_s
; ++j, ++r)

949 
vis™Ü_
(*(
idx_begš
 + 
j
), *(
cŞumn_begš
 + j));

950 
	gvis™Ü_
.
po¡
();

951 ià(
	gr
 =ğ
rc
)

952 
»suÉ_
.
push_back
(
vis™Ü_
.
g‘_»suÉ
());

957 
šlše
 
´e
 (è{ 
	gvis™Ü_
.´e(); 
	g»suÉ_
.
ş—r
(); }

958 
šlše
 
po¡
 (è{ 
	gvis™Ü_
.post(); }

959 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

967 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
,y³Çm
	gI
 = >

968 
	sExpÚ’tŸlRŞlAdİ‹r
 {

970 
´iv©e
:

972 
usšg
 
vis™Ü_ty³
 = 
F
;

973 
usšg
 
	gf_»suÉ_ty³
 = 
ty³Çme
 
vis™Ü_ty³
::
»suÉ_ty³
;

975 
	g¡d
::
veùÜ
<
f_»suÉ_ty³
> 
»suÉ_
 { };

976 
vis™Ü_ty³
 
	gvis™Ü_
 { };

977 cÚ¡ 
size_t
 
	grŞl_couÁ_
;

978 cÚ¡ 
	gdeÿy_
;

979 cÚ¡ 
boŞ
 
	gsk_Çn_
;

981 
	gpublic
:

983 
DEFINE_VISIT_BASIC_TYPES


984 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
f_»suÉ_ty³
>;

986 
šlše
 
ExpÚ’tŸlRŞlAdİ‹r
(
F
 &&
funùÜ
,

987 
size_t
 
r_couÁ
,

988 
expÚ’tŸl_deÿy_¥ec
 
eds
,

989 
v®ue
,

990 
boŞ
 
sk_Çn
 = 
Œue
)

991 : 
vis™Ü_
(
¡d
::
move
(
funùÜ
)),

992 
rŞl_couÁ_
(
r_couÁ
),

993 
deÿy_
(
eds
 =ğ
expÚ’tŸl_deÿy_¥ec
::
ûÁ”_of_g¿v™y


994 ? 1.0 / (1.0 + 
v®ue
)

995 : 
eds
 =ğ
expÚ’tŸl_deÿy_¥ec
::
¥ª


996 ? 2.0 / (1.0 + 
v®ue
)

997 : 
eds
 =ğ
expÚ’tŸl_deÿy_¥ec
::
h®æiã


998 ? 1.0 - 
¡d
::
exp
(¡d::
log
(0.5è/ 
v®ue
)

999 : 
v®ue
),

1000 
sk_Çn_
(
sk_Çn
) { }

1002 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1003 
šlše
 

1004 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1005 cÚ¡ 
	gK
 &
	gidx_’d
,

1006 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1007 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1009 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1010 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1011 cÚ¡ 
size_t
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1013 ià(
	grŞl_couÁ_
 =ğ0 || 
rŞl_couÁ_
 >ğ
cŞ_s
) ;

1015 
	g»suÉ_
.
»size
(
cŞ_s
, 
¡d
::
num”ic_lim™s
<
f_»suÉ_ty³
>::
qu›t_NaN
());

1017 
size_t
 
	gi
 = 0;

1019 
	gvis™Ü_
.
´e
();

1020 ; 
	gi
 < 
	grŞl_couÁ_
; ++i)

1021 
vis™Ü_
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

1022 
	gvis™Ü_
.
po¡
();

1023 
	g»suÉ_
[--
i
] = 
vis™Ü_
.
g‘_»suÉ
();

1024 
	gi
 += 1;

1026 ; 
	gi
 < 
	gcŞ_s
; ++i) {

1027 ià(
	gsk_Çn_
 && 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) ;

1028 
	g»suÉ_
[
i
] =

1029 
deÿy_
 * *(
cŞumn_begš
 + 
i
) +

1030 ((1.0 - 
deÿy_
è* 
»suÉ_
[
i
 - 1]);

1034 
šlše
 
´e
 (è{ 
	gvis™Ü_
.´e(); 
	g»suÉ_
.
ş—r
(); }

1035 
šlše
 
po¡
 (è{ 
	gvis™Ü_
.post(); }

1036 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1043 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1044 
ty³Çme
 
	gI
 = ,

1045 
	gty³Çme
 =

1046 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1047 
	sStsVis™Ü
 {

1049 
DEFINE_VISIT_BASIC_TYPES_2


1051 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

1053 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

1055 
v®ue_ty³
 
	gd–
, 
	gd–_n
, 
	gd–_n2
, 
	g‹rm1
;

1056 
size_ty³
 
	gn1
 = 
n_
;

1058 
	gn_
 += 1;

1059 
	gd–
 = 
v®
 - 
m1_
;

1060 
	gd–_n
 = 
d–
 / 
v®ue_ty³
(
n_
);

1061 
	gd–_n2
 = 
d–_n
 * delta_n;

1062 
	g‹rm1
 = 
d–
 * 
d–_n
 * 
v®ue_ty³
(
n1
);

1063 
	gm1_
 +ğ
d–_n
;

1064 
	gm4_
 = 
m4_
 + 
¡©ic_ÿ¡
<
v®ue_ty³
>

1065 (
‹rm1
 * 
d–_n2
 * 
v®ue_ty³
(
n_
 *‚_ - 3 *‚_ + 3) +

1066 6.0 * 
d–_n2
 * 
m2_
 - 4.0 * 
d–_n
 * 
m3_
);

1067 
	gm3_
 = 
m3_
 + 
¡©ic_ÿ¡
<
v®ue_ty³
>

1068 (
‹rm1
 * 
d–_n
 * 
v®ue_ty³
(
n_
 - 2è- 3.0 * d–_À* 
m2_
);

1069 
	gm2_
 +ğ
‹rm1
;

1071 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1072 
šlše
 

1073 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

1075 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

1076 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

1079 
šlše
 
´e
 () {

1081 
	gn_
 = 0;

1082 
	gm1_
 = 
m2_
 = 
m3_
 = 
m4_
 = 
v®ue_ty³
(0);

1084 
šlše
 
po¡
 () { }

1086 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gn_
); }

1087 
šlše
 
»suÉ_ty³
 
g‘_m—n
 (ècÚ¡ {  (
	gm1_
); }

1088 
šlše
 
»suÉ_ty³
 
g‘_v¬Ÿnû
 () const {

1090  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>(
	gm2_
 / (
v®ue_ty³
(
n_
) - 1.0));

1092 
šlše
 
»suÉ_ty³
 
g‘_¡d
 () const {

1094  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>(::
sq¹
(
g‘_v¬Ÿnû
()));

1096 
šlše
 
»suÉ_ty³
 
g‘_skew
 () const {

1098  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>(::
sq¹
(
n_
è* 
m3_
 / ::
pow
(
m2_
, 1.5));

1100 
šlše
 
»suÉ_ty³
 
g‘_ku¹osis
 () const {

1102  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>

1103 (
v®ue_ty³
(
n_
è* 
	gm4_
 / (
m2_
 * 
	gm2_
) - 3.0);

1106 
ex¶ic™
 
StsVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1108 
´iv©e
:

1110 
size_ty³
 
n_
 { 0 };

1111 
v®ue_ty³
 
	gm1_
 { 0 };

1112 
v®ue_ty³
 
	gm2_
 { 0 };

1113 
v®ue_ty³
 
	gm3_
 { 0 };

1114 
v®ue_ty³
 
	gm4_
 { 0 };

1115 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1122 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1123 
ty³Çme
 
	gI
 = ,

1124 
	gty³Çme
 =

1125 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1126 
	sSLReg»ssiÚVis™Ü
 {

1128 
public
:

1130 
DEFINE_VISIT_BASIC_TYPES_2


1132 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

1133 cÚ¡ 
	gv®ue_ty³
 &
	gx
,

1134 cÚ¡ 
	gv®ue_ty³
 &
	gy
) {

1136 ià(
	gsk_Çn_
 && (
is_Çn__
(
x
è|| is_Çn__(
y
))) ;

1138 
	gs_xy_
 +ğ(
x_¡©s_
.
g‘_m—n
(è- 
x
) *

1139 (
y_¡©s_
.
g‘_m—n
(è- 
y
) *

1140 
v®ue_ty³
(
n_
) / value_type(n_ + 1);

1142 
x_¡©s_
(
idx
, 
x
);

1143 
y_¡©s_
(
idx
, 
y
);

1144 
	gn_
 += 1;

1146 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1147 
šlše
 

1148 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

1149 
H
 
	gx_begš
, H 
	gx_’d
,

1150 
H
 
	gy_begš
, H 
	gy_’d
) {

1152 
	gx_begš
 < 
	gx_’d
 && 
	gy_begš
 < 
	gy_’d
)

1153 (*
	gthis
)(*
	gidx_begš
, *
	gx_begš
++, *
	gy_begš
++);

1156 
šlše
 
´e
 () {

1158 
	gn_
 = 0;

1159 
	gs_xy_
 = 0;

1160 
	gx_¡©s_
.
´e
();

1161 
	gy_¡©s_
.
´e
();

1163 
šlše
 
po¡
 () { }

1165 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gn_
); }

1166 
šlše
 
»suÉ_ty³
 
g‘_¦İe
 () const {

1170 cÚ¡ 
v®ue_ty³
 
	gs_xx
 =

1171 
x_¡©s_
.
g‘_v¬Ÿnû
(è* 
v®ue_ty³
(
n_
 - 1);

1173  (
	gs_xy_
 / 
	gs_xx
);

1175 
šlše
 
»suÉ_ty³
 
g‘_š‹rû±
 () const {

1177  (
	gy_¡©s_
.
g‘_m—n
(è- 
g‘_¦İe
(è* 
	gx_¡©s_
.get_mean());

1179 
šlše
 
»suÉ_ty³
 
g‘_cÜr
 () const {

1181 cÚ¡ 
v®ue_ty³
 
	gt
 = 
x_¡©s_
.
g‘_¡d
(è* 
y_¡©s_
.get_std();

1183  (
	gs_xy_
 / (
v®ue_ty³
(
n_
 - 1è* 
	gt
));

1186 
ex¶ic™
 
SLReg»ssiÚVis™Ü
(
boŞ
 
skÇn
 = 
Œue
)

1187 : 
x_¡©s_
(
skÇn
), 
y_¡©s_
(skÇn), 
sk_Çn_
(skipnan) { }

1189 
	g´iv©e
:

1191 
size_ty³
 
n_
 { 0 };

1195 
v®ue_ty³
 
	gs_xy_
 { 0 };

1196 
	gStsVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
	gx_¡©s_
 { };

1197 
	gStsVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
	gy_¡©s_
 { };

1198 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1207 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1208 
ty³Çme
 
	gI
 = ,

1209 
	gty³Çme
 =

1210 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1211 
	sCumSumVis™Ü
 {

1213 
DEFINE_VISIT_BASIC_TYPES_3


1215 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

1216 
šlše
 

1217 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1218 cÚ¡ 
	gK
 &
	gidx_’d
,

1219 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1220 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1222 
v®ue_ty³
 
	gruÂšg_sum
 = 0;

1223 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1224 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1225 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1227 
	gsum_
.
»£rve
(
cŞ_s
);

1228 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1229 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1231 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1232 
	gruÂšg_sum
 +ğ
v®ue
;

1233 
	gsum_
.
push_back
(
ruÂšg_sum
);

1236 
	gsum_
.
push_back
(
v®ue
);

1239 
šlše
 
´e
 (è{ 
	gsum_
.
ş—r
(); }

1240 
šlše
 
po¡
 () { }

1241 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gsum_
); }

1243 
ex¶ic™
 
CumSumVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1245 
´iv©e
:

1247 
¡d
::
veùÜ
<
v®ue_ty³
> 
sum_
 { };

1248 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1253 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1254 
ty³Çme
 
	gI
 = ,

1255 
	gty³Çme
 =

1256 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1257 
	sCumProdVis™Ü
 {

1259 
DEFINE_VISIT_BASIC_TYPES_3


1261 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

1262 
šlše
 

1263 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1264 cÚ¡ 
	gK
 &
	gidx_’d
,

1265 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1266 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1268 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1269 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1270 
v®ue_ty³
 
	gruÂšg_´od
 = 1;

1271 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1273 
	g´od_
.
»£rve
(
cŞ_s
);

1274 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1275 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1277 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1278 
	gruÂšg_´od
 *ğ
v®ue
;

1279 
	g´od_
.
push_back
(
ruÂšg_´od
);

1282 
	g´od_
.
push_back
(
v®ue
);

1285 
šlše
 
´e
 (è{ 
	g´od_
.
ş—r
(); }

1286 
šlše
 
po¡
 () { }

1287 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g´od_
); }

1289 
ex¶ic™
 
CumProdVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1291 
´iv©e
:

1293 
¡d
::
veùÜ
<
v®ue_ty³
> 
´od_
 { };

1294 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1299 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1300 
	sCumMaxVis™Ü
 {

1302 
DEFINE_VISIT_BASIC_TYPES_3


1304 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
H
>

1305 
šlše
 

1306 
İ”©Ü
(è(cÚ¡ 
K
 &
idx_begš
,

1307 cÚ¡ 
K
 &
idx_’d
,

1308 cÚ¡ 
H
 &
cŞumn_begš
,

1309 cÚ¡ 
H
 &
cŞumn_’d
) {

1311 cÚ¡ 
size_ty³
 
idx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1312 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1314 ià(
	gcŞ_size
 == 0) ;

1316 
v®ue_ty³
 
	gruÂšg_max
 = *
cŞumn_begš
;

1317 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1319 
	gmax_
.
»£rve
(
cŞ_s
);

1320 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1321 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1323 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1324 ià(
	gv®ue
 > 
	gruÂšg_max
)

1325 
	gruÂšg_max
 = 
v®ue
;

1326 
	gmax_
.
push_back
(
ruÂšg_max
);

1329 
	gmax_
.
push_back
(
v®ue
);

1332 
šlše
 
´e
 (è{ 
	gmax_
.
ş—r
(); }

1333 
šlše
 
po¡
 () { }

1334 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gmax_
); }

1336 
ex¶ic™
 
CumMaxVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1338 
´iv©e
:

1340 
¡d
::
veùÜ
<
v®ue_ty³
> 
max_
 { };

1341 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1346 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1347 
	sCumMšVis™Ü
 {

1349 
DEFINE_VISIT_BASIC_TYPES_3


1351 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
H
>

1352 
šlše
 

1353 
İ”©Ü
(è(cÚ¡ 
K
 &
idx_begš
,

1354 cÚ¡ 
K
 &
idx_’d
,

1355 cÚ¡ 
H
 &
cŞumn_begš
,

1356 cÚ¡ 
H
 &
cŞumn_’d
) {

1358 cÚ¡ 
size_ty³
 
idx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1359 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1361 ià(
	gcŞ_size
 == 0) ;

1363 
v®ue_ty³
 
	gruÂšg_mš
 = *
cŞumn_begš
;

1364 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1366 
	gmš_
.
»£rve
(
cŞ_s
);

1367 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1368 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1370 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1371 ià(
	gv®ue
 < 
	gruÂšg_mš
)

1372 
	gruÂšg_mš
 = 
v®ue
;

1373 
	gmš_
.
push_back
(
ruÂšg_mš
);

1376 
	gmš_
.
push_back
(
v®ue
);

1379 
šlše
 
´e
 (è{ 
	gmš_
.
ş—r
(); }

1380 
šlše
 
po¡
 () { }

1381 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gmš_
); }

1383 
ex¶ic™
 
CumMšVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1385 
´iv©e
:

1387 
¡d
::
veùÜ
<
v®ue_ty³
> 
mš_
 { };

1388 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1396 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1397 
	sC©egÜyVis™Ü
 {

1399 
´iv©e
:

1401 
	st_Ëss_
 {

1402 
šlše
 
boŞ


1403 
İ”©Ü
(è(cÚ¡ 
T
 *
lhs
, cÚ¡ T *
rhs
) const {  (*lhs < *rhs); }

1406 
	gpublic
:

1408 
DEFINE_VISIT_BASIC_TYPES


1409 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
size_ty³
>;

1411 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1412 
šlše
 

1413 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1414 cÚ¡ 
	gK
 &
	gidx_’d
,

1415 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1416 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1418 cÚ¡ 
size_ty³
 
	gc_Ën
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1420 
	g»suÉ_
.
»£rve
(
c_Ën
);

1422 
size_ty³
 
	gÿt
 = 
Çn_
 != 0 ? 0 : 1;

1424 
size_ty³
 
	gi
 = 0; i < 
	gc_Ën
; ++i) {

1425 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1427 ià(
is_Çn__
(
v®ue
)) {

1428 
	g»suÉ_
.
push_back
(
Çn_
);

1432 cÚ¡ 
ty³Çme
 
	gm­_ty³
::
cÚ¡_™”©Ü
 
c™”
 =

1433 
ÿt_m­_
.
fšd
(&
v®ue
);

1435 ià(
	gc™”
 =ğ
ÿt_m­_
.
’d
()) {

1436 
ÿt_m­_
.
š£¹
({ &
v®ue
, 
ÿt
 });

1437 
	g»suÉ_
.
push_back
(
ÿt
);

1438 
	gÿt
 += 1;

1439 ià(
	gÿt
 =ğ
Çn_
è
ÿt
 += 1;

1442 
	g»suÉ_
.
push_back
(
c™”
->
£cÚd
);

1446 
ex¶ic™


1447 
C©egÜyVis™Ü
(
size_ty³
 
Çn_v®
 = size_ty³(-1)è: 
Çn_
(nan_val) { }

1449 
šlše
 
´e
 (è{ 
»suÉ_
.
ş—r
(); 
	gÿt_m­_
.clear(); }

1450 
šlše
 
po¡
 () { }

1451 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1453 
	g´iv©e
:

1455 
usšg
 
m­_ty³
 = 
¡d
::
m­
<cÚ¡ 
T
 *, 
	gsize_ty³
, 
	gt_Ëss_
>;

1457 
m­_ty³
 
	gÿt_m­_
 { };

1458 
»suÉ_ty³
 
	g»suÉ_
 { };

1459 cÚ¡ 
size_ty³
 
	gÇn_
;

1466 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1467 
	sRªkVis™Ü
 {

1469 
public
:

1471 
DEFINE_VISIT_BASIC_TYPES


1472 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<>;

1474 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1475 
šlše
 

1476 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1477 cÚ¡ 
	gK
 &
	gidx_’d
,

1478 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1479 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1481 cÚ¡ 
size_ty³
 
	gc_Ën
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1482 
	g¡d
::
veùÜ
<
size_ty³
> 
¿nk_vec
(
c_Ën
);

1484 
	g¡d
::
iÙa
(
¿nk_vec
.
begš
(),„ªk_vec.
’d
(), 0);

1485 
	g¡d
::
¡abË_sÜt
(

1486 
¿nk_vec
.
begš
(),„ªk_vec.
’d
(),

1487 [&
cŞumn_begš
](
size_ty³
 
lhs
, size_ty³ 
rhs
è-> 
boŞ
 {

1488  *(
cŞumn_begš
 + 
lhs
è< *(cŞumn_begš + 
rhs
);

1490 
	g»suÉ_
.
»size
(
c_Ën
);

1492 cÚ¡ 
v®ue_ty³
 *
	g´ev_v®ue
 = &*(
cŞumn_begš
 + 
¿nk_vec
[0]);

1494 
size_ty³
 
	gi
 = 0; i < 
	gc_Ën
; ++i) {

1495 
	gavg_v®
 = 
¡©ic_ÿ¡
<>(
i
);

1496 
	gfœ¡_v®
 = 
¡©ic_ÿ¡
<>(
i
);

1497 
	gÏ¡_v®
 = 
¡©ic_ÿ¡
<>(
i
);

1498 
size_ty³
 
	gj
 = 
i
 + 1;

1500  ; 
	gj
 < 
	gc_Ën
 && *
	g´ev_v®ue
 =ğ*(
cŞumn_begš
 + 
¿nk_vec
[
j
]);

1501 ++
	gj
) {

1502 
	gÏ¡_v®
 = 
¡©ic_ÿ¡
<>(
j
);

1503 
	gavg_v®
 +ğ
¡©ic_ÿ¡
<>(
j
);

1505 
	gavg_v®
 /ğ(
j
 - 
i
);

1507 
	gpŞicy_
) {

1508 
	g¿nk_pŞicy
::
av”age
:

1510 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1511 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
avg_v®
;

1514 
	g¿nk_pŞicy
::
fœ¡
:

1516 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1517 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
fœ¡_v®
;

1520 
	g¿nk_pŞicy
::
Ï¡
:

1522 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1523 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
Ï¡_v®
;

1526 
	g¿nk_pŞicy
::
aùu®
:

1528 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1529 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
¡©ic_ÿ¡
<>(i);

1533 ià(
	gi
 < 
	gc_Ën
)

1534 
	g´ev_v®ue
 = &*(
cŞumn_begš
 + 
¿nk_vec
[
i
]);

1535 
	gi
 -= 1;

1539 
ex¶ic™


1540 
RªkVis™Ü
(
¿nk_pŞicy
 
p
 =„ªk_pŞicy::
aùu®
è: 
pŞicy_
(p) { }

1542 
šlše
 
´e
 (è{ 
»suÉ_
.
ş—r
(); }

1543 
šlše
 
po¡
 () { }

1544 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1546 
	g´iv©e
:

1548 cÚ¡ 
¿nk_pŞicy
 
pŞicy_
;

1549 
»suÉ_ty³
 
	g»suÉ_
 { };

1557 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1558 
	sFaùÜizeVis™Ü
 {

1560 
DEFINE_VISIT_BASIC_TYPES


1561 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
boŞ
>;

1562 
usšg
 
	gçùÜ_func
 = 
¡d
::
funùiÚ
<
boŞ
(cÚ¡ 
v®ue_ty³
 &
v®
)>;

1564 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1565 
šlše
 

1566 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1567 cÚ¡ 
	gK
 &
	gidx_’d
,

1568 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1569 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1571 
	g»suÉ_
.
»£rve
(
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
));

1573 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

1574 
	g»suÉ_
.
push_back
(
ffunc_
(*
c™”
));

1577 
ex¶ic™
 
FaùÜizeVis™Ü
(
çùÜ_func
 
f
è: 
ffunc_
(f) { }

1579 
šlše
 
´e
 (è{ 
»suÉ_
.
ş—r
(); }

1580 
šlše
 
po¡
 () { }

1581 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1583 
	g´iv©e
:

1585 
»suÉ_ty³
 
»suÉ_
 { };

1586 
çùÜ_func
 
	gffunc_
;

1591 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1592 
ty³Çme
 
	gI
 = ,

1593 
	gty³Çme
 =

1594 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1595 
	sAutoCÜrVis™Ü
 {

1597 
public
:

1599 
DEFINE_VISIT_BASIC_TYPES_3


1601 
AutoCÜrVis™Ü
 () = ;

1602 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1603 
šlše
 

1604 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1605 cÚ¡ 
	gK
 &
	gidx_’d
,

1606 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1607 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1609 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1610 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1611 cÚ¡ 
size_ty³
 
	gcŞ_Ën
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1613 ià(
	gcŞ_Ën
 <= 4) ;

1615 
	g¡d
::
veùÜ
<
v®ue_ty³
> 
tmp_»suÉ
(
cŞ_Ën
 - 4);

1616 
size_ty³
 
	gÏg
 = 1;

1617 cÚ¡ 
size_ty³
 
	gth»ad_Ëv–
 =

1618 
Th»adG¿nuÏr™y
::
g‘_£nsibË_th»ad_Ëv–
();

1619 
	g¡d
::
veùÜ
<
¡d
::
futu»
<
CÜrResuÉ
>> 
futu»s
(
th»ad_Ëv–
);

1620 
size_ty³
 
	gth»ad_couÁ
 = 0;

1622 
	gtmp_»suÉ
[0] = 1.0;

1623 
	gÏg
 < 
	gcŞ_Ën
 - 4) {

1624 ià(
	gth»ad_couÁ
 >ğ
th»ad_Ëv–
) {

1625 cÚ¡‡utØ
»suÉ
 = 
g‘_auto_cÜr_
(
cŞ_Ën
, 
Ïg
, 
cŞumn_begš
);

1627 
	gtmp_»suÉ
[
»suÉ
.
fœ¡
] =„esuÉ.
£cÚd
;

1630 
	gfutu»s
[
th»ad_couÁ
] =

1631 
¡d
::
async
(¡d::
Ïunch
::async,

1632 &
AutoCÜrVis™Ü
::
g‘_auto_cÜr_
<
H
>,

1633 
this
,

1634 
cŞ_Ën
,

1635 
Ïg
,

1636 
¡d
::
üef
(
cŞumn_begš
));

1637 
	gth»ad_couÁ
 += 1;

1639 
	gÏg
 += 1;

1642 
size_ty³
 
	gi
 = 0; i < 
	gth»ad_couÁ
; ++i) {

1643 cÚ¡‡utØ&
	g»suÉ
 = 
futu»s
[
i
].
g‘
();

1645 
	gtmp_»suÉ
[
»suÉ
.
fœ¡
] =„esuÉ.
£cÚd
;

1647 
	gtmp_»suÉ
.
sw­
(
»suÉ_
);

1649 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

1650 
šlše
 
po¡
 () { }

1651 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1653 
	g´iv©e
:

1655 
»suÉ_ty³
 
»suÉ_
 { };

1657 
usšg
 
	gCÜrResuÉ
 = 
¡d
::
·œ
<
size_ty³
, 
	gv®ue_ty³
>;

1659 
	g‹m¶©e
<
ty³Çme
 
	gH
>

1660 
šlše
 
CÜrResuÉ


1661 
g‘_auto_cÜr_
(
size_ty³
 
cŞ_Ën
,

1662 
size_ty³
 
Ïg
,

1663 cÚ¡ 
H
 &
cŞumn_begš
) const {

1665 
	gCÜrVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
	gcÜr
 { };

1666 
cÚ¡ex´
 
I
 
	gdummy
 = I();

1668 
	gcÜr
.
´e
();

1669 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_Ën
 - 
	gÏg
; ++i)

1670 
cÜr
 (
dummy
, *(
cŞumn_begš
 + 
i
), *(cŞumn_begš + i + 
Ïg
));

1671 
	gcÜr
.
po¡
();

1673  (
CÜrResuÉ
(
Ïg
, 
cÜr
.
g‘_»suÉ
()));

1679 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1680 
	sKthV®ueVis™Ü
 {

1682 
DEFINE_VISIT_BASIC_TYPES_2


1684 
ex¶ic™
 
KthV®ueVis™Ü
 (
size_ty³
 
ke
, 
boŞ
 
skÇn
 = 
Œue
)

1685 : 
kth_–em’t_
(
ke
), 
sk_Çn_
(
skÇn
) { }

1687 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1688 
šlše
 

1689 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1690 cÚ¡ 
	gK
 &
	gidx_’d
,

1691 cÚ¡ 
	gH
 &
	gv®ues_begš
,

1692 cÚ¡ 
	gH
 &
	gv®ues_’d
) {

1694 
	g»suÉ_
 = 
fšd_kth_–em’t_
(
v®ues_begš
, 
v®ues_’d
, 
kth_–em’t_
);

1696 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

1697 
šlše
 
po¡
 () { }

1698 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1700 
	g´iv©e
:

1702 
»suÉ_ty³
 
»suÉ_
 { };

1703 cÚ¡ 
size_ty³
 
	gkth_–em’t_
;

1704 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1706 
	g‹m¶©e
<
ty³Çme
 
	gIt
>

1707 
šlše
 
v®ue_ty³


1708 
fšd_kth_–em’t_
 (
It
 
begš
, Iˆ
’d
, 
size_ty³
 
k
) const {

1710 cÚ¡ 
size_ty³
 
	gvec_size
 = 
¡d
::
di¡ªû
(
begš
, 
’d
);

1712 ià(
	gk
 > 
	gvec_size
 || k <= 0) {

1713 
”r
[512];

1715 
¥rštf
 (
”r
,

1716 #ifdeà
_WIN32


1721 
vec_size
, 
k
);

1722 
throw
 
NÙF—sibË
 (
”r
);

1725 
	g¡d
::
veùÜ
<
v®ue_ty³
> 
tmp_vec
 (
vec_size
 - 1);

1726 
v®ue_ty³
 
	gkth_v®ue
 =

1727 *(
begš
 + 
¡©ic_ÿ¡
<>(
vec_size
 / 2));

1728 
size_ty³
 
	gËss_couÁ
 = 0;

1729 
size_ty³
 
	gg»©_couÁ
 = 
vec_size
 - 2;

1731 autØ
	gc™”
 = 
begš
; c™” < 
	g’d
; ++citer) {

1732 ià(
	gsk_Çn_
 && 
is_Çn__
(*
c™”
)) ;

1734 ià(*
	gc™”
 < 
	gkth_v®ue
)

1735 
	gtmp_vec
 [
Ëss_couÁ
++] = *
c™”
;

1736 ià(*
	gc™”
 > 
	gkth_v®ue
)

1737 
	gtmp_vec
 [
g»©_couÁ
--] = *
c™”
;

1740 ià(
	gËss_couÁ
 > 
	gk
 - 1)

1741  (
fšd_kth_–em’t_
 (
tmp_vec
.
begš
 (),

1742 
tmp_vec
.
begš
 (è+ 
Ëss_couÁ
,

1743 
k
));

1744 ià(
	gËss_couÁ
 < 
	gk
 - 1)

1745  (
fšd_kth_–em’t_
 (
tmp_vec
.
begš
 (è+ 
Ëss_couÁ
,

1746 
tmp_vec
.
’d
 (),

1747 
k
 - 
Ëss_couÁ
 - 1));

1749  (
	gkth_v®ue
);

1755 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1756 
	sMedŸnVis™Ü
 {

1758 
DEFINE_VISIT_BASIC_TYPES_2


1760 
MedŸnVis™Ü
 () = ;

1761 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1762 
šlše
 

1763 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1764 cÚ¡ 
	gK
 &
	gidx_’d
,

1765 cÚ¡ 
	gH
 &
	gv®ues_begš
,

1766 cÚ¡ 
	gH
 &
	gv®ues_’d
) {

1768 cÚ¡ 
size_ty³
 
	gvec_size
 =

1769 
¡d
::
di¡ªû
(
v®ues_begš
, 
v®ues_’d
);

1770 
	gKthV®ueVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
kv_vis™Ü
 (
vec_size
 >> 1);

1773 
	gkv_vis™Ü
.
´e
();

1774 
kv_vis™Ü
(
idx_begš
, 
idx_’d
, 
v®ues_begš
, 
v®ues_’d
);

1775 
	gkv_vis™Ü
.
po¡
();

1776 
	g»suÉ_
 = 
kv_vis™Ü
.
g‘_»suÉ
();

1777 ià(! (
	gvec_size
 & 0x0001)) {

1778 
	gKthV®ueVis™Ü
<
	gv®ue_ty³
, 
	gI
> 
kv_vis™Ü2
 ((
vec_size
 >> 1) + 1);

1780 
	gkv_vis™Ü2
.
´e
();

1781 
kv_vis™Ü2
(
idx_begš
, 
idx_’d
, 
v®ues_begš
, 
v®ues_’d
);

1782 
	gkv_vis™Ü2
.
po¡
();

1783 
	g»suÉ_
 = (
»suÉ_
 + 
kv_vis™Ü2
.
g‘_»suÉ
()è/ 
v®ue_ty³
(2);

1786 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

1787 
šlše
 
po¡
 () { }

1788 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1790 
	g´iv©e
:

1792 
»suÉ_ty³
 
»suÉ_
 { };

1797 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1798 
	sQuªteVis™Ü
 {

1800 
DEFINE_VISIT_BASIC_TYPES_2


1802 
QuªteVis™Ü
 () = ;

1803 
QuªteVis™Ü
 (
quªte
, 
quªte_pŞicy
 
q_pŞicy
)

1804 : 
qt_
(
quªte
), 
pŞicy_
(
q_pŞicy
) { }

1806 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1807 
šlše
 

1808 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1809 cÚ¡ 
	gK
 &
	gidx_’d
,

1810 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1811 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1813 cÚ¡ 
size_ty³
 
	gvec_Ën
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1815 ià(
	gqt_
 < 0.0 || qt_ > 1.0 || 
	gvec_Ën
 == 0) {

1816 
bufãr
 [512];

1818 
¥rštf
 (
bufãr
,

1820 #ifdeà
_WIN32


1825 
qt_
, 
vec_Ën
);

1826 
throw
 
NÙF—sibË
(
bufãr
);

1829 cÚ¡ 
	gvec_Ën_äac
 = 
qt_
 * 
vec_Ën
;

1830 cÚ¡ 
size_ty³
 
	gšt_idx
 =

1831 
¡©ic_ÿ¡
<
size_ty³
>(
¡d
::
round
(
vec_Ën_äac
));

1832 cÚ¡ 
boŞ
 
	gÃed_two
 =

1833 ! (
vec_Ën
 & 0x01è|| (
št_idx
è< 
vec_Ën_äac
;

1835 ià(
	gqt_
 =ğ0.0 || 
qt_
 == 1.0) {

1836 
KthV®ueVis™Ü
<
T
, 
I
> 
kth_v®ue
((
qt_
 =ğ0.0 ) ? 1 : 
vec_Ën
);

1838 
	gkth_v®ue
.
´e
();

1839 
kth_v®ue
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1840 
	gkth_v®ue
.
po¡
();

1841 
	g»suÉ_
 = 
kth_v®ue
.
g‘_»suÉ
();

1843 ià(
	gpŞicy_
 =ğ
quªte_pŞicy
::
mid_pošt
 ||

1844 
pŞicy_
 =ğ
quªte_pŞicy
::
lš—r
) {

1845 
KthV®ueVis™Ü
<
T
, 
I
> 
kth_v®ue1
(
št_idx
);

1847 
	gkth_v®ue1
.
´e
();

1848 
kth_v®ue1
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1849 
	gkth_v®ue1
.
po¡
();

1850 
	g»suÉ_
 = 
kth_v®ue1
.
g‘_»suÉ
();

1851 ià(
	gÃed_two
 && 
	gšt_idx
 + 1 < 
	gvec_Ën
) {

1852 
	gKthV®ueVis™Ü
<
	gT
, 
	gI
> 
kth_v®ue2
(
št_idx
 + 1);

1854 
	gkth_v®ue2
.
´e
();

1855 
kth_v®ue2
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1856 
	gkth_v®ue2
.
po¡
();

1857 ià(
	gpŞicy_
 =ğ
quªte_pŞicy
::
mid_pošt
)

1858 
»suÉ_
 = (»suÉ_ + 
kth_v®ue2
.
g‘_»suÉ
()) / 2.0;

1860 
	g»suÉ_
 = 
»suÉ_
 + (
kth_v®ue2
.
g‘_»suÉ
() -„esult_) *

1861 (1.0 - 
qt_
);

1864 ià(
	gpŞicy_
 =ğ
quªte_pŞicy
::
low”_v®ue
 ||

1865 
pŞicy_
 =ğ
quªte_pŞicy
::
high”_v®ue
) {

1866 
KthV®ueVis™Ü
<
T
, 
I
> 
kth_v®ue
(

1867 
pŞicy_
 =ğ
quªte_pŞicy
::
low”_v®ue
 ? 
št_idx


1868 : (
št_idx
 + 1 < 
vec_Ën
 && 
Ãed_two
 ? int_idx + 1 : int_idx));

1870 
	gkth_v®ue
.
´e
();

1871 
kth_v®ue
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1872 
	gkth_v®ue
.
po¡
();

1873 
	g»suÉ_
 = 
kth_v®ue
.
g‘_»suÉ
();

1877 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

1878 
šlše
 
po¡
 () { }

1879 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1881 
	g´iv©e
:

1883 
»suÉ_ty³
 
»suÉ_
 { };

1884 cÚ¡ 
	gqt_
 { 0.5 };

1885 cÚ¡ 
quªte_pŞicy
 
	gpŞicy_
 { 
	gquªte_pŞicy
::
mid_pošt
 };

1896 
	g‹m¶©e
<
	g¡d
::
size_t
 
N
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1897 
	sModeVis™Ü
 {

1899 
DEFINE_VISIT_BASIC_TYPES


1901 
	sD©aI‹m
 {

1903 cÚ¡ 
v®ue_ty³
 *
v®ue
 { 
nuÎ±r
 };

1905 
	gVeùÜCÚ¡PŒV›w
<
	gšdex_ty³
> 
	gšdiûs
 { };

1908 
šlše
 
size_ty³
 
»³©_couÁ
(ècÚ¡ {  (
	gšdiûs
.
size
()); }

1911 
	g¡d
::
veùÜ
<
size_ty³
> 
v®ue_šdiûs_š_cŞ
 { };

1913 
D©aI‹m
() = ;

1914 
šlše
 
D©aI‹m
(cÚ¡ 
v®ue_ty³
 &
v
è: 
v®ue
(&v) {

1915 
šdiûs
.
»£rve
(4);

1916 
	gv®ue_šdiûs_š_cŞ
.
»£rve
(4);

1919 cÚ¡ 
	gv®ue_ty³
 &
g‘_v®ue
(ècÚ¡ 
	gnÛxû±
 {  (*
	gv®ue
); }

1922 
	g´iv©e
:

1924 
	smy_hash_
 {

1925 
usšg
 
¬gum’t_ty³
 = cÚ¡ 
v®ue_ty³
 *;

1926 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
size_t
;

1928 
šlše
 
»suÉ_ty³
 
İ”©Ü
(è(cÚ¡ 
	g¬gum’t_ty³
 &
	ga
ècÚ¡ 
	gnÛxû±
 {

1930  (
	g¡d
::
hash
<
v®ue_ty³
>()(*
a
));

1934 
	smy_equ®_to_
 {

1935 
usšg
 
	gfœ¡_¬gum’t_ty³
 = cÚ¡ 
v®ue_ty³
 *;

1936 
usšg
 
	g£cÚd_¬gum’t_ty³
 = cÚ¡ 
v®ue_ty³
 *;

1937 
usšg
 
	g»suÉ_ty³
 = 
boŞ
;

1939 
šlše
 
»suÉ_ty³


1940 
İ”©Ü
(è(cÚ¡ 
	gfœ¡_¬gum’t_ty³
 &
	gf
,

1941 cÚ¡ 
	g£cÚd_¬gum’t_ty³
 &
	gs
ècÚ¡ 
	gnÛxû±
 {

1943  (
	g¡d
::
equ®_to
<
v®ue_ty³
>()(*
f
, *
	gs
));

1947 
usšg
 
	gm­_ty³
 = 
¡d
::
unÜd”ed_m­
<cÚ¡ 
v®ue_ty³
 *,

1948 
	gD©aI‹m
,

1949 
	gmy_hash_
,

1950 
	gmy_equ®_to_
>;

1952 
	gpublic
:

1954 
usšg
 
»suÉ_ty³
 = 
¡d
::
¬¿y
<
D©aI‹m
, 
	gN
>;

1956 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1957 
šlše
 

1958 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1959 cÚ¡ 
	gK
 &
	gidx_’d
,

1960 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1961 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1963 
D©aI‹m
 
	gÇn_™em
;

1964 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1965 cÚ¡ 
size_ty³
 
	gcŞumn_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1966 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
mš
(
idx_size
, 
cŞumn_size
);

1967 
m­_ty³
 
	gv®_m­
;

1969 
	gv®_m­
.
»£rve
(
cŞ_size
);

1970 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_size
; ++i) {

1971 ià(
is_Çn__
(*(
cŞumn_begš
 + 
i
))) {

1972 
	gÇn_™em
.
	gv®ue
 = &*(
cŞumn_begš
 + 
i
);

1973 
	gÇn_™em
.
	gšdiûs
.
push_back
(&*(
idx_begš
 + 
i
));

1974 
	gÇn_™em
.
	gv®ue_šdiûs_š_cŞ
.
push_back
(
i
);

1977 autØ
	g»t
 =

1978 
v®_m­
.
em¶aû
(

1979 
¡d
::
·œ
<cÚ¡ 
v®ue_ty³
 *, 
D©aI‹m
>(

1980 &*(
cŞumn_begš
 + 
i
),

1981 
D©aI‹m
(*(
cŞumn_begš
 + 
i
))));

1983 
	g»t
.
	gfœ¡
->
	g£cÚd
.
	gšdiûs
.
push_back
(&*(
idx_begš
 + 
i
));

1984 
	g»t
.
	gfœ¡
->
	g£cÚd
.
	gv®ue_šdiûs_š_cŞ
.
push_back
(
i
);

1988 
	g¡d
::
veùÜ
<
D©aI‹m
> 
v®_vec
;

1990 
	gv®_vec
.
»£rve
(
v®_m­
.
size
() + 1);

1991 ià(
	gÇn_™em
.
	gv®ue
 !ğ
nuÎ±r
)

1992 
v®_vec
.
push_back
(
Çn_™em
);

1993 
	g¡d
::
fÜ_—ch
(
v®_m­
.
begš
(),

1994 
v®_m­
.
’d
(),

1995 [&
v®_vec
](cÚ¡‡utØ&
m­_·œ
) -> {

1996 
v®_vec
.
push_back
(
m­_·œ
.
£cÚd
);

1999 
	g¡d
::
sÜt
(
v®_vec
.
begš
(), v®_vec.
’d
(),

2000 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

2001  (
lhs
.
»³©_couÁ
(è> 
rhs
.repeat_count());

2003 
size_ty³
 
	gi
 = 0; i < 
	gN
 && i < 
	gv®_vec
.
size
(); ++i)

2004 
	g™ems_
[
i
] = 
v®_vec
[i];

2006 
šlše
 
´e
 (è{ 
»suÉ_ty³
 
	gx
; 
	g™ems_
.
sw­
 (
x
); }

2007 
šlše
 
po¡
 () { }

2008 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g™ems_
); }

2010 
šlše
 
sÜt_by_»³©_couÁ
() {

2012 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

2013 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

2014  (
lhs
.
»³©_couÁ
(è< 
rhs
.repeat_count());

2017 
šlše
 
sÜt_by_v®ue
() {

2019 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

2020 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

2021  (*(
lhs
.
v®ue
è< *(
rhs
.value));

2025 
	g´iv©e
:

2027 
»suÉ_ty³
 
™ems_
 { };

2035 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2036 
ty³Çme
 
	gI
 = ,

2037 
	gty³Çme
 =

2038 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2039 
	sMADVis™Ü
 {

2041 
´iv©e
:

2043 cÚ¡ 
mad_ty³
 
mad_ty³_
;

2044 cÚ¡ 
boŞ
 
	gsk_Çn_
;

2046 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2047 
šlše
 

2048 
ÿlc_m—n_abs_dev_¬ound_m—n_
(cÚ¡ 
K
 &
idx_begš
,

2049 cÚ¡ 
K
 &
idx_’d
,

2050 cÚ¡ 
H
 &
cŞumn_begš
,

2051 cÚ¡ 
H
 &
cŞumn_’d
) {

2053 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2054 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2055 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2056 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_vis™Ü
(
sk_Çn_
);

2058 
	gm—n_vis™Ü
.
´e
();

2059 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2060 
m—n_vis™Ü
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2061 
	gm—n_vis™Ü
.
po¡
();

2063 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_m—n_vis™Ü
(
sk_Çn_
);

2065 
	gm—n_m—n_vis™Ü
.
´e
();

2066 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i) {

2067 ià(
	gsk_Çn_
 && 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) ;

2068 
m—n_m—n_vis™Ü
(*(
idx_begš
 + 
i
),

2069 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
) -

2070 
m—n_vis™Ü
.
g‘_»suÉ
()));

2072 
	gm—n_m—n_vis™Ü
.
po¡
();

2074 
	g»suÉ_
 = 
m—n_m—n_vis™Ü
.
g‘_»suÉ
();

2077 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2078 
šlše
 

2079 
ÿlc_m—n_abs_dev_¬ound_medŸn_
(cÚ¡ 
K
 &
idx_begš
,

2080 cÚ¡ 
K
 &
idx_’d
,

2081 cÚ¡ 
H
 &
cŞumn_begš
,

2082 cÚ¡ 
H
 &
cŞumn_’d
) {

2084 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_vis™Ü
;

2086 
	gmedŸn_vis™Ü
.
´e
();

2087 
medŸn_vis™Ü
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

2088 
	gmedŸn_vis™Ü
.
po¡
();

2090 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2091 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2092 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2093 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_medŸn_vis™Ü
(
sk_Çn_
);

2095 
	gm—n_medŸn_vis™Ü
.
´e
();

2096 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i) {

2097 ià(
	gsk_Çn_
 && 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) ;

2098 
m—n_medŸn_vis™Ü
(

2099 *(
idx_begš
 + 
i
),

2100 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
è- 
medŸn_vis™Ü
.
g‘_»suÉ
()));

2102 
	gm—n_medŸn_vis™Ü
.
po¡
();

2104 
	g»suÉ_
 = 
m—n_medŸn_vis™Ü
.
g‘_»suÉ
();

2107 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2108 
šlše
 

2109 
ÿlc_medŸn_abs_dev_¬ound_m—n_
(cÚ¡ 
K
 &
idx_begš
,

2110 cÚ¡ 
K
 &
idx_’d
,

2111 cÚ¡ 
H
 &
cŞumn_begš
,

2112 cÚ¡ 
H
 &
cŞumn_’d
) {

2114 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_vis™Ü
(
sk_Çn_
);

2115 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2116 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2117 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2119 
	gm—n_vis™Ü
.
´e
();

2120 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2121 
m—n_vis™Ü
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2122 
	gm—n_vis™Ü
.
po¡
();

2124 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_m—n_vis™Ü
;

2125 
	g¡d
::
veùÜ
<
T
> 
m—n_di¡s
;

2127 
	gm—n_di¡s
.
»£rve
(
cŞ_s
);

2128 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2129 
	gm—n_di¡s
.
push_back
(

2130 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
è- 
m—n_vis™Ü
.
g‘_»suÉ
()));

2131 
	gmedŸn_m—n_vis™Ü
.
´e
();

2132 
medŸn_m—n_vis™Ü
(
idx_begš
, 
idx_’d
,

2133 
m—n_di¡s
.
begš
(), m—n_di¡s.
’d
());

2134 
	gmedŸn_m—n_vis™Ü
.
po¡
();

2136 
	g»suÉ_
 = 
medŸn_m—n_vis™Ü
.
g‘_»suÉ
();

2139 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2140 
šlše
 

2141 
ÿlc_medŸn_abs_dev_¬ound_medŸn_
(cÚ¡ 
K
 &
idx_begš
,

2142 cÚ¡ 
K
 &
idx_’d
,

2143 cÚ¡ 
H
 &
cŞumn_begš
,

2144 cÚ¡ 
H
 &
cŞumn_’d
) {

2146 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_vis™Ü
;

2148 
	gmedŸn_vis™Ü
.
´e
();

2149 
medŸn_vis™Ü
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

2150 
	gmedŸn_vis™Ü
.
po¡
();

2152 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2153 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2154 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2155 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_medŸn_vis™Ü
;

2156 
	g¡d
::
veùÜ
<
T
> 
medŸn_di¡s
;

2158 
	gmedŸn_di¡s
.
»£rve
(
cŞ_s
);

2159 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2160 
	gmedŸn_di¡s
.
push_back
(

2161 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
è- 
medŸn_vis™Ü
.
g‘_»suÉ
()));

2162 
	gmedŸn_medŸn_vis™Ü
.
´e
();

2163 
medŸn_medŸn_vis™Ü
(
idx_begš
, 
idx_’d
,

2164 
medŸn_di¡s
.
begš
(), medŸn_di¡s.
’d
());

2165 
	gmedŸn_medŸn_vis™Ü
.
po¡
();

2167 
	g»suÉ_
 = 
medŸn_medŸn_vis™Ü
.
g‘_»suÉ
();

2170 
	gpublic
:

2172 
DEFINE_VISIT_BASIC_TYPES_2


2174 
MADVis™Ü
 (
mad_ty³
 
mt
, 
boŞ
 
sk_Çn
 = 
Œue
)

2175 : 
mad_ty³_
(
mt
), 
sk_Çn_
(
sk_Çn
) { }

2176 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2177 
šlše
 

2178 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2179 cÚ¡ 
	gK
 &
	gidx_’d
,

2180 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2181 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2183 
	gmad_ty³_
) {

2184 
	gmad_ty³
::
m—n_abs_dev_¬ound_m—n
:

2185 
ÿlc_m—n_abs_dev_¬ound_m—n_
(
idx_begš
, 
idx_’d
,

2186 
cŞumn_begš
, 
cŞumn_’d
);

2188 
	gmad_ty³
::
m—n_abs_dev_¬ound_medŸn
:

2189 
ÿlc_m—n_abs_dev_¬ound_medŸn_
(
idx_begš
, 
idx_’d
,

2190 
cŞumn_begš
, 
cŞumn_’d
);

2192 
	gmad_ty³
::
medŸn_abs_dev_¬ound_m—n
:

2193 
ÿlc_medŸn_abs_dev_¬ound_m—n_
(
idx_begš
, 
idx_’d
,

2194 
cŞumn_begš
, 
cŞumn_’d
);

2196 
	gmad_ty³
::
medŸn_abs_dev_¬ound_medŸn
:

2197 
ÿlc_medŸn_abs_dev_¬ound_medŸn_
(
idx_begš
, 
idx_’d
,

2198 
cŞumn_begš
, 
cŞumn_’d
);

2204 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

2205 
šlše
 
po¡
 () { }

2206 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

2208 
	g´iv©e
:

2210 
»suÉ_ty³
 
»suÉ_
 { };

2215 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2216 
ty³Çme
 
	gI
 = ,

2217 
	gty³Çme
 =

2218 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2219 
	sDiffVis™Ü
 {

2221 
DEFINE_VISIT_BASIC_TYPES_3


2223 
ex¶ic™
 
DiffVis™Ü
(
³riods
 = 1, 
boŞ
 
skÇn
 = 
Œue
)

2224 : 
³riods_
(
³riods
), 
sk_Çn_
(
skÇn
) { }

2226 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2227 
šlše
 

2228 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2229 cÚ¡ 
	gK
 &
	gidx_’d
,

2230 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2231 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2233 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2234 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2235 cÚ¡ 
size_ty³
 
	gcŞ_Ën
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2237 
	g»suÉ_
.
»£rve
(
cŞ_Ën
);

2238 ià(
	g³riods_
 >= 0) {

2239 ià(! 
sk_Çn_
) {

2240 
i
 = 0;

2241 
	gi
 < 
	g³riods_
 && 
	g¡©ic_ÿ¡
<
	gsize_ty³
>(iè< 
	gcŞ_Ën
; ++i)

2242 
	g»suÉ_
.
push_back
(

2243 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
());

2246 autØ
	gi
 = 
cŞumn_begš
;

2248 
	gi
 +ğ
³riods_
;

2249 autØ
	gj
 = 
cŞumn_begš
; 
	gi
 < 
	gcŞumn_’d
; ++i, ++j) {

2250 ià(
	gsk_Çn_
 && (
is_Çn__
(*
i
è|| is_Çn__(*
j
))) ;

2251 
	g»suÉ_
.
push_back
(*
i
 - *
j
);

2255 autØ
	gi
 = 
cŞumn_’d
;

2256 autØ
	gj
 = 
cŞumn_’d
;

2258 
	gi
 -ğ(1 + 
¡d
::
abs
(
³riods_
));

2259 
	gj
 -= 1;

2260  ; 
	gi
 >ğ
cŞumn_begš
; --i, --
	gj
) {

2261 ià(
	gsk_Çn_
 && (
is_Çn__
(*
i
è|| is_Çn__(*
j
))) ;

2262 
	g»suÉ_
.
push_back
(*
i
 - *
j
);

2264 
	g¡d
::
»v”£
(
»suÉ_
.
begš
(),„esuÉ_.
’d
());

2266 ià(
	gsk_Çn_
 ) ;

2267 
size_ty³
 
	gi
 = 0;

2268 
	gi
 < 
	g¡©ic_ÿ¡
<
	gsize_ty³
>(
	g¡d
::
abs
(
³riods_
)è&& 
i
 < 
cŞ_Ën
;

2269 ++
	gi
)

2270 
	g»suÉ_
.
push_back
(

2271 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
());

2275 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

2276 
šlše
 
po¡
 () { }

2277 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

2279 
	g´iv©e
:

2281 
»suÉ_ty³
 
»suÉ_
 { };

2282 cÚ¡ 
	g³riods_
 { };

2283 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

2288 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2289 
ty³Çme
 
	gI
 = ,

2290 
	gty³Çme
 =

2291 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2292 
	sZScÜeVis™Ü
 {

2294 
DEFINE_VISIT_BASIC_TYPES_3


2296 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

2297 
šlše
 

2298 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2299 cÚ¡ 
	gK
 &
	gidx_’d
,

2300 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2301 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2303 
	gM—nVis™Ü
<
	gv®ue_ty³
> 
	gmvis™
;

2304 
	gStdVis™Ü
<
	gv®ue_ty³
> 
	gsvis™
;

2305 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2306 cÚ¡ 
size_ty³
 
	gcŞ_size
 =

2307 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2308 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2310 
	gmvis™
.
´e
();

2311 
	gsvis™
.
´e
();

2312 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

2313 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) {

2314 
mvis™
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2315 
svis™
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2318 
	gmvis™
.
po¡
();

2319 
	gsvis™
.
po¡
();

2321 cÚ¡ 
v®ue_ty³
 
	gm
 = 
mvis™
.
g‘_»suÉ
();

2322 cÚ¡ 
v®ue_ty³
 
	gs
 = 
svis™
.
g‘_»suÉ
();

2324 
	gzscÜe_
.
»£rve
(
cŞ_s
);

2325 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2326 
	gzscÜe_
.
push_back
((*
c™”
 - 
m
è/ 
s
);

2328 
šlše
 
´e
 (è{ 
	gzscÜe_
.
ş—r
(); }

2329 
šlše
 
po¡
 () { }

2330 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gzscÜe_
); }

2331 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	gzscÜe_
); }

2333 
ex¶ic™
 
ZScÜeVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

2335 
´iv©e
:

2337 
»suÉ_ty³
 
zscÜe_
 { };

2338 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

2343 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2344 
ty³Çme
 
	gI
 = ,

2345 
	gty³Çme
 =

2346 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2347 
	sSam¶eZScÜeVis™Ü
 {

2349 
DEFINE_VISIT_BASIC_TYPES_2


2351 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

2352 
šlše
 

2353 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2354 cÚ¡ 
	gK
 &
	gidx_’d
,

2355 cÚ¡ 
	gH
 &
	gpİuÏtiÚ_begš
,

2356 cÚ¡ 
	gH
 &
	gpİuÏtiÚ_’d
,

2357 cÚ¡ 
	gH
 &
	g§m¶e_begš
,

2358 cÚ¡ 
	gH
 &
	g§m¶e_’d
) {

2360 
	gM—nVis™Ü
<
	gv®ue_ty³
> 
	gp_mvis™
;

2361 
	gStdVis™Ü
<
	gv®ue_ty³
> 
	gp_svis™
;

2362 
	gM—nVis™Ü
<
	gv®ue_ty³
> 
	gs_mvis™
;

2363 cÚ¡ 
size_ty³
 
	gp_cŞ_s
 =

2364 
¡d
::
di¡ªû
(
pİuÏtiÚ_begš
, 
pİuÏtiÚ_’d
);

2365 cÚ¡ 
size_ty³
 
	gs_cŞ_s
 =

2366 
¡d
::
di¡ªû
(
§m¶e_begš
, 
§m¶e_’d
);

2367 cÚ¡ 
size_ty³
 
	gmax_s
 = 
¡d
::
max
(
p_cŞ_s
, 
s_cŞ_s
);

2369 
	gp_mvis™
.
´e
();

2370 
	gp_svis™
.
´e
();

2371 
	gs_mvis™
.
´e
();

2372 
size_ty³
 
	gi
 = 0; i < 
	gmax_s
; ++i) {

2373 ià(
	gi
 < 
	gp_cŞ_s
) {

2374 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(*(
pİuÏtiÚ_begš
 + 
i
))) {

2375 
p_mvis™
(*(
idx_begš
 + 
i
), *(
pİuÏtiÚ_begš
 + i));

2376 
p_svis™
(*(
idx_begš
 + 
i
), *(
pİuÏtiÚ_begš
 + i));

2379 ià(
	gi
 < 
	gs_cŞ_s
) {

2380 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(*(
§m¶e_begš
 + 
i
))) {

2381 
s_mvis™
(*(
idx_begš
 + 
i
), *(
§m¶e_begš
 + i));

2385 
	gp_mvis™
.
po¡
();

2386 
	gp_svis™
.
po¡
();

2387 
	gs_mvis™
.
po¡
();

2389 
	gzscÜe_
 = (
s_mvis™
.
g‘_»suÉ
(è- 
p_mvis™
.get_result()) /

2390 (
p_svis™
.
g‘_»suÉ
(è/ ::
sq¹
(
s_cŞ_s
));

2392 
šlše
 
´e
 (è{ 
	gzscÜe_
 = 0; }

2393 
šlše
 
po¡
 () { }

2394 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gzscÜe_
); }

2396 
ex¶ic™


2397 
Sam¶eZScÜeVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

2399 
´iv©e
:

2401 
v®ue_ty³
 
zscÜe_
 { };

2402 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

2407 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2408 
ty³Çme
 
	gI
 = ,

2409 
	gty³Çme
 =

2410 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2411 
	sSigmoidVis™Ü
 {

2413 
DEFINE_VISIT_BASIC_TYPES_3


2415 
´iv©e
:

2417 
‹m¶©e
 <
ty³Çme
 
H
>

2418 
šlše
 
logi¡ic_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2420 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2421 
	gsigmoids_
.
push_back
(1.0 / (1.0 + 
¡d
::
exp
(-(*
c™”
))));

2423 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2424 
šlše
 
®geb¿ic_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2426 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2427 
	gsigmoids_
.
push_back
(1.0 / 
¡d
::
sq¹
(1.0 + std::
pow
(*
c™”
, 2.0)));

2429 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2430 
šlše
 
hy³rbŞic_n_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2432 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2433 
	gsigmoids_
.
push_back
(
¡d
::
nh
(*
c™”
));

2435 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2436 
šlše
 
¬c_n_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2438 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2439 
	gsigmoids_
.
push_back
(
¡d
::
©ª
(*
c™”
));

2441 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2442 
šlše
 
”rÜ_funùiÚ_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2444 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2445 
	gsigmoids_
.
push_back
(
¡d
::
”f
(*
c™”
));

2447 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2448 
šlše
 
gud”mªnŸn_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2450 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2451 
	gsigmoids_
.
push_back
(
¡d
::
©ª
(¡d::
sšh
(*
c™”
)));

2453 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2454 
šlše
 
smoÙh¡•_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2456 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer) {

2457 ià(*
	gc™”
 <= 0.0)

2458 
sigmoids_
.
push_back
(0.0);

2459 ià(*
	gc™”
 >= 1.0)

2460 
sigmoids_
.
push_back
(1.0);

2462 
	gsigmoids_
.
push_back
(*
c™”
 * *citer * (3.0 - 2.0 * *citer));

2466 
	gpublic
:

2468 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

2469 
šlše
 

2470 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2471 cÚ¡ 
	gK
 &
	gidx_’d
,

2472 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2473 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2475 
	gsigmoids_
.
»£rve
(
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
));

2476 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
logi¡ic
)

2477 
logi¡ic_
(
cŞumn_begš
, 
cŞumn_’d
);

2478 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
®geb¿ic
)

2479 
®geb¿ic_
(
cŞumn_begš
, 
cŞumn_’d
);

2480 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
hy³rbŞic_n
)

2481 
hy³rbŞic_n_
(
cŞumn_begš
, 
cŞumn_’d
);

2482 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
¬c_n
)

2483 
¬c_n_
(
cŞumn_begš
, 
cŞumn_’d
);

2484 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
”rÜ_funùiÚ
)

2485 
”rÜ_funùiÚ_
(
cŞumn_begš
, 
cŞumn_’d
);

2486 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
gud”mªnŸn
)

2487 
gud”mªnŸn_
(
cŞumn_begš
, 
cŞumn_’d
);

2488 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
smoÙh¡•
)

2489 
smoÙh¡•_
(
cŞumn_begš
, 
cŞumn_’d
);

2491 
šlše
 
´e
 (è{ 
	gsigmoids_
.
ş—r
(); }

2492 
šlše
 
po¡
 () { }

2493 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gsigmoids_
); }

2494 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	gsigmoids_
); }

2496 
ex¶ic™
 
SigmoidVis™Ü
(
sigmoid_ty³
 
¡
è: 
sigmoid_ty³_
(st) { }

2498 
´iv©e
:

2500 
»suÉ_ty³
 
sigmoids_
 { };

2501 cÚ¡ 
sigmoid_ty³
 
	gsigmoid_ty³_
;

	@DataFrame/AIFM/include/DataFrame/DataFrameTransformVisitors.h

30 #´agm¨
Úû


34 
Çme¥aû
 
	ghmdf


37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

38 
	sClVis™Ü
 {

40 
usšg
 
v®ue_ty³
 = 
T
;

41 
usšg
 
	gšdex_ty³
 = 
I
;

42 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

43 
usšg
 
	g»suÉ_ty³
 = 
size_ty³
;

45 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &, 
	gv®ue_ty³
 &
	gv®
) {

47 ià(
	gv®
 > 
	guµ”_
) {

48 
	gv®
 = 
uµ”_
;

49 
	gcouÁ_
 += 1;

51 ià(
	gv®
 < 
	glow”_
) {

52 
	gv®
 = 
low”_
;

53 
	gcouÁ_
 += 1;

56 
šlše
 
´e
 () { }

57 
šlše
 
po¡
 () { }

58 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gcouÁ_
); }

60 
ClVis™Ü
(cÚ¡ 
v®ue_ty³
 &
u
, cÚ¡ v®ue_ty³ &
l
)

61 : 
uµ”_
(
u
), 
low”_
(
l
) { }

63 
	g´iv©e
:

65 
»suÉ_ty³
 
couÁ_
 { 0 };

66 cÚ¡ 
	gv®ue_ty³
 &
	guµ”_
;

67 cÚ¡ 
	gv®ue_ty³
 &
	glow”_
;

	@DataFrame/AIFM/include/DataFrame/DataFrameTypes.h

30 #´agm¨
Úû


32 
	~"d©aäame_veùÜ.hµ
"

34 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.h
>

36 
	~<cm©h
>

37 
	~<lim™s
>

38 
	~<¡dexû±
>

42 
Çme¥aû
 
	ghmdf


45 #ià
defšed
(
WIN32
è|| defšed(
_WIN32
)

46 #ifdeà
mš


47 #undeà
mš


49 #ifdeà
max


50 #undeà
max


56 
	gD©aF¿meE¼Ü
 : 
public
 
¡d
::
ruÁime_”rÜ
 {

58 
D©aF¿meE¼Ü
 (cÚ¡ *
desc
è: 
¡d
::
ruÁime_”rÜ
 (desc) { }

60 
	gCŞNÙFound
 : 
public
 
D©aF¿meE¼Ü
 {

62 
CŞNÙFound
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

64 
	gIncÚsi¡’tD©a
 : 
public
 
D©aF¿meE¼Ü
 {

66 
IncÚsi¡’tD©a
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

68 
	gBadRªge
 : 
public
 
D©aF¿meE¼Ü
 {

70 
BadRªge
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

72 
	gNÙF—sibË
 : 
public
 
D©aF¿meE¼Ü
 {

74 
NÙF—sibË
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

76 
	gNÙIm¶em’‹d
 : 
public
 
D©aF¿meE¼Ü
 {

78 
NÙIm¶em’‹d
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

83 
šlše
 
cÚ¡ex´
 cÚ¡ *cÚ¡ 
	gDF_INDEX_COL_NAME
 = "INDEX";

87 şas 
	cÇn_pŞicy
 : 
boŞ
 {

88 
·d_w™h_Çns
 = 
Œue
,

89 
	gdÚt_·d_w™h_Çns
 = 
çl£


94 şas 
	csÜt_¡©e
 : 
boŞ
 {

95 
sÜ‹d
 = 
Œue
,

96 
	gnÙ_sÜ‹d
 = 
çl£


101 şas 
	csÜt_¥ec
 : {

102 
asûn
 = 1,

103 
	gdesû
 = 2,

108 şas 
	cjoš_pŞicy
 : {

109 
šÃr_još
 = 1,

110 
	gËá_još
 = 2,

111 
	gright_još
 = 3,

112 
	gËá_right_još
 = 4

117 şas 
	ccÚÿt_pŞicy
 : {

118 
commÚ_cŞumns
 = 1,

119 
	g®l_cŞumns
 = 2,

120 
	glhs_ªd_commÚ_cŞumns
 = 3,

127 şas 
	cshiá_pŞicy
 : {

128 
down
 = 1,

130 
	gup
 = 2,

136 şas 
	cfl_pŞicy
 : {

137 
v®ue
 = 1,

138 
	gfl_fÜw¬d
 = 2,

139 
	gfl_backw¬d
 = 3,

144 
	glš—r_š‹½Ş©e
 = 4,

145 
	glš—r_exŒ­Ş©e
 = 5,

146 
	gmid_pošt
 = 6,

151 şas 
	cquªte_pŞicy
 : {

152 
low”_v®ue
 = 1,

153 
	ghigh”_v®ue
 = 2,

154 
	gmid_pošt
 = 3,

155 
	glš—r
 = 4,

160 şas 
	cdrİ_pŞicy
 : {

161 
®l
 = 1,

162 
	gªy
 = 2,

163 
	gth»shŞd
 = 3

168 şas 
	cexpÚ’tŸl_deÿy_¥ec
 : {

169 
ûÁ”_of_g¿v™y
 = 1,

170 
	g¥ª
 = 2,

171 
	gh®æiã
 = 3,

172 
	gfixed
 = 4,

180 şas 
	cmad_ty³
 : {

181 
m—n_abs_dev_¬ound_m—n
 = 1,

182 
	gm—n_abs_dev_¬ound_medŸn
 = 2,

183 
	gmedŸn_abs_dev_¬ound_m—n
 = 3,

184 
	gmedŸn_abs_dev_¬ound_medŸn
 = 4,

189 şas 
	cio_fÜm©
 : {

190 
csv
 = 1,

191 
	gjsÚ
 = 2,

192 
	ghdf5
 = 3,

193 
	gbš¬y
 = 4,

198 şas 
	ctime_äequ’cy
 : {

199 
ªnu®
 = 1,

200 
	gmÚthly
 = 2,

201 
	gw“kly
 = 3,

202 
	gday
 = 4,

203 
	ghou¾y
 = 5,

204 
	gmšu‹ly
 = 6,

205 
	g£cÚdly
 = 7,

206 
	gmli£cÚdly
 = 8,

213 şas 
	c»tuº_pŞicy
 : {

214 
log
 = 1,

215 
	g³rûÁage
 = 2,

216 
	gmÚ‘¬y
 = 3,

227 şas 
	c¿ndom_pŞicy
 : {

228 
num_rows_w™h_£ed
 = 1,

229 
	gnum_rows_no_£ed
 = 2,

230 
	gäac_rows_w™h_£ed
 = 3,

231 
	gäac_rows_no_£ed
 = 4,

236 şas 
	c·‰”n_¥ec
 : {

237 
mÚÙÚic_šü—sšg
 = 1,

238 
	g¡riùly_mÚÙÚic_šü—sšg
 = 2,

239 
	gmÚÙÚic_deü—sšg
 = 3,

240 
	g¡riùly_mÚÙÚic_deü—sšg
 = 4,

241 
	gnÜm®ly_di¡ribu‹d
 = 6,

242 
	g¡ªd¬d_nÜm®ly_di¡ribu‹d
 = 7,

243 
	glognÜm®ly_di¡ribu‹d
 = 8,

251 şas 
	c¿nk_pŞicy
 : {

252 
av”age
 = 1,

253 
	gfœ¡
 = 2,

254 
	gÏ¡
 = 3,

255 
	gaùu®
 = 4,

262 şas 
	csigmoid_ty³
 : {

263 
logi¡ic
 = 1,

264 
	g®geb¿ic
 = 2,

266 
	ghy³rbŞic_n
 = 3,

267 
	g¬c_n
 = 4,

268 
	g”rÜ_funùiÚ
 = 5,

269 
	ggud”mªnŸn
 = 6,

271 
	gsmoÙh¡•
 = 7,

276 
	g‹m¶©e
<
ty³Çme
 
	gT
>

277 
	sRªdG’P¬ams
 {

278 
T
 
	gmš_v®ue
 { 
	g¡d
::
num”ic_lim™s
<T>::
mš
() };

279 
T
 
	gmax_v®ue
 { 
	g¡d
::
num”ic_lim™s
<T>::
max
() };

281 
	g£ed
 { 
	g¡©ic_ÿ¡
<>(-1) };

284 
	g´ob_Œue
 { 0.5 };

286 
	g¡d
::
size_t
 
t_di¡
 { 1 };

288 
	gm—n
 { 1.0 };

290 
	g¡d
 { 0 };

292 
	gÏmbda
 { 1.0 };

294 
	g®pha
 { 1.0 };

296 
	gb‘a
 { 1.0 };

298 
	gm
 { 0 };

300 
	gs
 { 1.0 };

302 
	gn
 { 1.0 };

304 
	gn2
 { 1.0 };

311 
	g‹m¶©e
<
ty³Çme
 
	gT
>

312 
	sIndex2D
 {

313 
T
 
	gbegš
 {};

314 
T
 
	g’d
 {};

319 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

320 
	gty³_deş¬e
;

322 
	g‹m¶©e
<
ty³Çme
 
	gU
>

323 
	gty³_deş¬e
<
	gH‘”oVeùÜ
, 
	gU
> { 
usšg
 
	gty³
 =

324 
çr_memÜy
::
D©aF¿meVeùÜ
<
U
>; };

326 
	g‹m¶©e
<
ty³Çme
 
	gU
>

327 
	gty³_deş¬e
<
	gH‘”oV›w
, 
	gU
> { 
usšg
 
	gty³
 = 
VeùÜV›w
<
U
>; };

329 
	g‹m¶©e
<
ty³Çme
 
	gU
>

330 
	gty³_deş¬e
<
	gH‘”oPŒV›w
, 
	gU
> { 
usšg
 
	gty³
 = 
VeùÜPŒV›w
<
U
>; };

335 
	g‹m¶©e
<
ty³Çme
 
	gI
,y³Çm
	gH
>

336 
şass
 
	gD©aF¿me
;

338 
	g‹m¶©e
<
ty³Çme
 
	gI
>

339 
usšg
 
	gStdD©aF¿me
 = 
D©aF¿me
<
I
, 
	gH‘”oVeùÜ
>;

341 
	g‹m¶©e
<
ty³Çme
 
	gI
>

342 
usšg
 
	gD©aF¿meV›w
 = 
D©aF¿me
<
I
, 
	gH‘”oV›w
>;

344 
	g‹m¶©e
<
ty³Çme
 
	gI
>

345 
usšg
 
	gD©aF¿mePŒV›w
 = 
D©aF¿me
<
I
, 
	gH‘”oPŒV›w
>;

351 
	g‹m¶©e
<
ty³Çme
 
	gT
>

352 
šlše
 
boŞ
 
	$is_Çn__
(cÚ¡ 
T
 &è{ (
çl£
); 
	}
}

354 
	g‹m¶©e
<>

355 
šlše
 
boŞ
 
	gis_Çn__
<>(cÚ¡ &
	gv®
è{ (
	g¡d
::
i¢ª
(
v®
)); }

357 
	g‹m¶©e
<>

358 
šlše
 
boŞ
 
	gis_Çn__
<>(cÚ¡ &
	gv®
è{ (
	g¡d
::
i¢ª
(
v®
)); }

360 
	g‹m¶©e
<>

361 
šlše
 
boŞ


362 
	gis_Çn__
<>(cÚ¡ &
	gv®
è{ (
	g¡d
::
i¢ª
(
v®
)); }

372 
	sMemU§ge
 {

374 
size_t
 
	mcŞumn_u£d_memÜy
 { 0 };

375 
size_t
 
	mcŞumn_ÿ·c™y_memÜy
 { 0 };

376 
size_t
 
	mcŞumn_ty³_size
 { 0 };

377 
size_t
 
	mšdex_u£d_memÜy
 { 0 };

378 
size_t
 
	mšdex_ÿ·c™y_memÜy
 { 0 };

379 
size_t
 
	mšdex_ty³_size
 { 0 };

381 
	m‹m¶©e
<
ty³Çme
 
	mS
>

382 
ä›nd
 
	mS
 &
	mİ”©Ü
 << (S &
	m¡»am
, cÚ¡ 
	mMemU§ge
 &
	mmu
) {

384 
	m¡»am
 << "CŞumÀU£d MemÜy: " << 
	mmu
.
	mcŞumn_u£d_memÜy
 << '\n'

386 << 
	mmu
.
	mcŞumn_ÿ·c™y_memÜy
 << '\n'

387 << "CŞumÀTy³ Size: " << 
	mmu
.
	mcŞumn_ty³_size
 << '\n'

388 << "Index U£d MemÜy: " << 
	mmu
.
	mšdex_u£d_memÜy
 << '\n'

389 << "Index C­ac™y MemÜy: " << 
	mmu
.
	mšdex_ÿ·c™y_memÜy
 << '\n'

390 << "Index Ty³ Size: " << 
	mmu
.
	mšdex_ty³_size
 << '\n';

391  (
	m¡»am
);

	@DataFrame/AIFM/include/DataFrame/GroupbyAggregators.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

36 
Çme¥aû
 
	ghmdf


39 
	sGroupbySum
 {

41 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

42 
šlše
 
	gSumVis™Ü
<
	gT
, 
	gI
>

43 
g‘_agg»g©Ü
(è{  (
	gSumVis™Ü
<
	gT
, 
	gI
>()); }

48 
	sGroupbyM—n
 {

50 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

51 
šlše
 
	gM—nVis™Ü
<
	gT
, 
	gI
>

52 
g‘_agg»g©Ü
(è{  (
	gM—nVis™Ü
<
	gT
, 
	gI
>()); }

57 
	sGroupbyMax
 {

59 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

60 
šlše
 
	gMaxVis™Ü
<
	gT
, 
	gI
>

61 
g‘_agg»g©Ü
(è{  (
	gMaxVis™Ü
<
	gT
, 
	gI
>()); }

66 
	sGroupbyMš
 {

68 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

69 
šlše
 
	gMšVis™Ü
<
	gT
, 
	gI
>

70 
g‘_agg»g©Ü
(è{  (
	gMšVis™Ü
<
	gT
, 
	gI
>()); }

75 
	sGroupbyV¬
 {

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

78 
šlše
 
	gV¬Vis™Ü
<
	gT
, 
	gI
>

79 
g‘_agg»g©Ü
(è{  (
	gV¬Vis™Ü
<
	gT
, 
	gI
>()); }

84 
	sGroupbyStd
 {

86 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

87 
šlše
 
	gStdVis™Ü
<
	gT
, 
	gI
>

88 
g‘_agg»g©Ü
(è{  (
	gStdVis™Ü
<
	gT
, 
	gI
>()); }

93 
	sGroupbySEM
 {

95 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

96 
šlše
 
	gSEMVis™Ü
<
	gT
, 
	gI
>

97 
g‘_agg»g©Ü
(è{  (
	gSEMVis™Ü
<
	gT
, 
	gI
>()); }

102 
	sGroupbyMedŸn
 {

104 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

105 
šlše
 
	gMedŸnVis™Ü
<
	gT
, 
	gI
>

106 
g‘_agg»g©Ü
(è{  (
	gMedŸnVis™Ü
<
	gT
, 
	gI
>()); }

	@DataFrame/AIFM/include/DataFrame/Internals/DataFrame_functors.h

30 #´agm¨
Úû


32 
	~"d©aäame_veùÜ.hµ
"

42 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

43 
	gcÚsi¡’t_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

45 
šlše
 
cÚsi¡’t_funùÜ_
 (
size_ty³
 
s
è: 
size
(s) { }

47 cÚ¡ 
D©aF¿me
::
size_ty³
 
size
;

48 
	g‹m¶©e
<
ty³Çme
 
	gT
>

49 
İ”©Ü
(è(
	gT
 &
	gvec
) const;

54 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

55 
	gshršk_to_f™_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

57 
šlše
 
shršk_to_f™_funùÜ_
 () { }

59 
‹m¶©e
<
ty³Çme
 
T
>

60 
İ”©Ü
(è(
T
 &
vec
) const;

65 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

66 
	gsÜt_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

68 
šlše
 
sÜt_funùÜ_
 (
çr_memÜy
::
F¬MemMªag”
 *
m
,

69 
çr_memÜy
::
D©aF¿meVeùÜ
<> &
si
,

70 
size_t
 
is
)

71 : 
mªag”
(
m
), 
sÜ‹d_idxs
(
si
), 
idx_s
(
is
) { }

73 
	gçr_memÜy
::
F¬MemMªag”
 *
mªag”
;

74 
	gçr_memÜy
::
D©aF¿meVeùÜ
<>& 
sÜ‹d_idxs
;

75 cÚ¡ 
size_t
 
	gidx_s
;

77 
	g‹m¶©e
<
ty³Çme
 
	gT2
>

78 
İ”©Ü
(è(
	gT2
 &
	gvec
);

83 
	g‹m¶©e
<
ty³Çme
 
	gLHS
, 
	gty³Çme
 ... 
	gTs
>

84 
	glßd_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

86 
šlše
 
lßd_funùÜ_
 (
çr_memÜy
::
F¬MemMªag”
 *
m
,

87 cÚ¡ *
n
,

88 
¡d
::
size_t
 
b
,

89 
¡d
::
size_t
 
e
,

90 
LHS
 &
d
,

91 
Çn_pŞicy
 
Å
 =‚ª_pŞicy::
·d_w™h_Çns
)

92 : 
mªag”
(
m
), 
Çme
 (
n
), 
begš
 (
b
), 
’d
 (
e
), 
df
(
d
), 
Çn_p
(
Å
) { }

94 
	gçr_memÜy
::
F¬MemMªag”
 *
mªag”
;

95 cÚ¡ *
	gÇme
;

96 cÚ¡ 
	g¡d
::
size_t
 
begš
;

97 cÚ¡ 
	g¡d
::
size_t
 
’d
;

98 
	gLHS
 &
	gdf
;

99 cÚ¡ 
Çn_pŞicy
 
	gÇn_p
;

101 
	g‹m¶©e
<
ty³Çme
 
	gT
>

102 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

107 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

108 
	glßd_®l_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

110 
šlše
 
lßd_®l_funùÜ_
 (cÚ¡ *
n
, 
D©aF¿me
 &
d
è: 
Çme
Ò), 
df
(d) { }

112 cÚ¡ *
	gÇme
;

113 
	gD©aF¿me
 &
	gdf
;

115 
	g‹m¶©e
<
ty³Çme
 
	gT
>

116 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

121 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

122 
	g»move_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

124 
šlše
 
»move_funùÜ_
 (
¡d
::
size_t
 
b
, std::size_ˆ
e
)

125 : 
begš
 (
b
), 
’d
 (
e
) { }

127 cÚ¡ 
	g¡d
::
size_t
 
begš
;

128 cÚ¡ 
	g¡d
::
size_t
 
’d
;

130 
	g‹m¶©e
<
ty³Çme
 
	gT
>

131 
İ”©Ü
(è(
	gT
 &
	gvec
);

136 
	g‹m¶©e
<
ty³Çme
 
	gLHS
, 
	gty³Çme
 ... 
	gTs
>

137 
	gv›w_£tup_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

139 
šlše
 
v›w_£tup_funùÜ_
 (cÚ¡ *
n
,

140 
¡d
::
size_t
 
b
,

141 
¡d
::
size_t
 
e
,

142 
LHS
 &
d
)

143 : 
Çme
 (
n
), 
begš
 (
b
), 
’d
 (
e
), 
dfv
(
d
) { }

145 cÚ¡ *
	gÇme
;

146 cÚ¡ 
	g¡d
::
size_t
 
begš
;

147 cÚ¡ 
	g¡d
::
size_t
 
’d
;

148 
	gLHS
 &
	gdfv
;

150 
	g‹m¶©e
<
ty³Çme
 
	gT
>

151 
İ”©Ü
(è(
	gT
 &
	gvec
);

154 
	g‹m¶©e
<
ty³Çme
 
	gLHS
, 
	gty³Çme
 ... 
	gTs
>

155 
ä›nd
 
	gv›w_£tup_funùÜ_
;

159 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

160 
	gadd_cŞ_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

162 
šlše
 
add_cŞ_funùÜ_
 (
çr_memÜy
::
F¬MemMªag”
 *
m
, cÚ¡ *
n
,

163 
D©aF¿me
 &
d
)

164 : 
mªag”
(
m
), 
Çme
 (
n
), 
df
(
d
) { }

166 
	gçr_memÜy
::
F¬MemMªag”
 *
mªag”
;

167 cÚ¡ *
	gÇme
;

168 
	gD©aF¿me
 &
	gdf
;

170 
	g‹m¶©e
<
ty³Çme
 
	gT
>

171 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

176 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

177 
	ggroupby_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

179 
šlše
 
groupby_funùÜ_
 (
çr_memÜy
::
F¬MemMªag”
 *
m
,

180 cÚ¡ *
n
,

181 cÚ¡ 
çr_memÜy
::
D©aF¿meVeùÜ
<
T
> &
k
,

182 
F
 &
f
,

183 
D©aF¿me
 &
d
)

184 : 
mªag”
(
m
), 
Çme
(
n
), 
key_vec
(
k
), 
funùÜ
(
f
), 
df
(
d
) { }

186 
	gçr_memÜy
::
F¬MemMªag”
 *
mªag”
;

187 cÚ¡ *
	gÇme
;

188 cÚ¡ 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
> &
key_vec
;

189 
	gF
 &
	gfunùÜ
;

190 
	gD©aF¿me
 &
	gdf
;

192 
	g‹m¶©e
<
ty³Çme
 
	gU
>

193 
İ”©Ü
(è(cÚ¡ 
	gU
 &
	gvec
);

198 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

199 
	gbuck‘_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

201 
šlše
 
buck‘_funùÜ_
 (cÚ¡ *
n
,

202 cÚ¡ 
IndexVecTy³
 &
ts
,

203 cÚ¡ 
IndexTy³
 &
i
,

204 
F
 &
f
,

205 
D©aF¿me
 &
d
)

206 : 
Çme
(
n
), 
šdiûs
(
ts
), 
š‹rv®
(
i
), 
funùÜ
(
f
), 
df
(
d
) { }

208 cÚ¡ *
	gÇme
;

209 cÚ¡ 
	gIndexVecTy³
 &
	gšdiûs
;

210 cÚ¡ 
	gIndexTy³
 &
	gš‹rv®
;

211 
	gF
 &
	gfunùÜ
;

212 
	gD©aF¿me
 &
	gdf
;

214 
	g‹m¶©e
<
ty³Çme
 
	gT
>

215 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

220 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

221 
	g´št_csv_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

223 
šlše
 
´št_csv_funùÜ_
 (cÚ¡ *
n
, 
boŞ
 
vo
, 
¡d
::
o¡»am
 &
o
)

224 : 
Çme
(
n
), 
v®ues_Úly
(
vo
), 
os
(
o
) { }

226 cÚ¡ *
	gÇme
;

227 cÚ¡ 
boŞ
 
	gv®ues_Úly
;

228 
	g¡d
::
o¡»am
 &
os
;

230 
	g‹m¶©e
<
ty³Çme
 
	gT
>

231 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

237 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

238 
	g´št_jsÚ_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

240 
šlše
 
´št_jsÚ_funùÜ_
 (cÚ¡ *
n
,

241 
boŞ
 
vo
,

242 
boŞ
 
Åc
,

243 
¡d
::
o¡»am
 &
o
)

244 : 
Çme
(
n
), 
v®ues_Úly
(
vo
), 
Ãed_´e_comma
(
Åc
), 
os
(
o
) { }

246 cÚ¡ *
	gÇme
;

247 cÚ¡ 
boŞ
 
	gv®ues_Úly
;

248 cÚ¡ 
boŞ
 
	gÃed_´e_comma
;

249 
	g¡d
::
o¡»am
 &
os
;

251 
	g‹m¶©e
<
ty³Çme
 
	gT
>

252 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

257 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

258 
	gequ®_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

260 
šlše
 
equ®_funùÜ_
 (cÚ¡ *
n
, cÚ¡ 
D©aF¿me
 &
d
)

261 : 
Çme
(
n
), 
df
(
d
) { }

263 cÚ¡ *
	gÇme
;

264 cÚ¡ 
	gD©aF¿me
 &
	gdf
;

265 
boŞ
 
	g»suÉ
 { 
	gŒue
 };

267 
	g‹m¶©e
<
ty³Çme
 
	gT
>

268 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
lhs_vec
);

273 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

274 
	gmod_by_idx_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

276 
šlše
 
mod_by_idx_funùÜ_
 (cÚ¡ *
n
,

277 cÚ¡ 
D©aF¿me
 &
d
,

278 
size_ty³
 
li
,

279 
size_ty³
 
ri
)

280 : 
Çme
(
n
), 
rhs_df
(
d
), 
lhs_idx
(
li
), 
rhs_idx
(
ri
) { }

282 cÚ¡ *
	gÇme
;

283 cÚ¡ 
	gD©aF¿me
 &
	grhs_df
;

284 cÚ¡ 
size_ty³
 
	glhs_idx
;

285 cÚ¡ 
size_ty³
 
	grhs_idx
;

287 
	g‹m¶©e
<
ty³Çme
 
	gT
>

288 
İ”©Ü
(è(
	g¡d
::
veùÜ
<
T
> &
lhs_vec
) const;

293 
	g‹m¶©e
<
ty³Çme
 
	gRES_T
, 
	gty³Çme
 ... 
	gTs
>

294 
	gšdex_još_funùÜ_commÚ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

296 
šlše
 
šdex_još_funùÜ_commÚ_
 (

297 cÚ¡ *
n
,

298 cÚ¡ 
D©aF¿me
 &
r
,

299 cÚ¡ 
IndexIdxVeùÜ
 &
mii
,

300 
RES_T
 &
»s
)

301 : 
Çme
(
n
), 
rhs
(
r
), 
jošed_šdex_idx
(
mii
), 
»suÉ
(
»s
) { }

303 cÚ¡ *
	gÇme
;

304 cÚ¡ 
	gD©aF¿me
 &
	grhs
;

305 cÚ¡ 
	gIndexIdxVeùÜ
 &
	gjošed_šdex_idx
;

306 
	gRES_T
 &
	g»suÉ
;

308 
	g‹m¶©e
<
ty³Çme
 
	gT
>

309 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
lhs_vec
);

315 
	g‹m¶©e
<
	gSIDE
, 
ty³Çme
 
	gRES_T
, 
	gty³Çme
 ... 
	gTs
>

316 
	gšdex_još_funùÜ_Úeside_


317 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

319 
šlše
 
šdex_još_funùÜ_Úeside_
 (

320 cÚ¡ *
n
,

321 cÚ¡ 
IndexIdxVeùÜ
 &
mii
,

322 
RES_T
 &
»s
)

323 : 
Çme
(
n
), 
jošed_šdex_idx
(
mii
), 
»suÉ
(
»s
) { }

325 cÚ¡ *
	gÇme
;

326 cÚ¡ 
	gIndexIdxVeùÜ
 &
	gjošed_šdex_idx
;

327 
	gRES_T
 &
	g»suÉ
;

329 
	g‹m¶©e
<
ty³Çme
 
	gT
>

330 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
vec
);

335 
	g‹m¶©e
<
ty³Çme
 
	gRES_T
, 
	gty³Çme
 ... 
	gTs
>

336 
	gcÚÿt_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

338 
šlše
 
cÚÿt_funùÜ_
 (cÚ¡ *
n
, 
RES_T
 &
»s
, 
boŞ
 
ic
, 
size_ty³
 
ois
)

339 : 
Çme
(
n
), 
»suÉ
(
»s
), 
š£¹_cŞ
(
ic
), 
Üigš®_šdex_s
(
ois
) { }

341 cÚ¡ *
	gÇme
;

342 
	gRES_T
 &
	g»suÉ
;

343 cÚ¡ 
boŞ
 
	gš£¹_cŞ
;

344 cÚ¡ 
size_ty³
 
	gÜigš®_šdex_s
;

346 
	g‹m¶©e
<
ty³Çme
 
	gT
>

347 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
vec
);

352 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

353 
	gv”tiÿl_shiá_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

355 
šlše
 
v”tiÿl_shiá_funùÜ_
 (
size_ty³
 
³riods
, 
shiá_pŞicy
 
sh_po
)

356 : 
n
(
³riods
), 
¥
(
sh_po
) { }

358 cÚ¡ 
	gD©aF¿me
::
size_ty³
 
n
;

359 cÚ¡ 
shiá_pŞicy
 
	g¥
;

361 
	g‹m¶©e
<
ty³Çme
 
	gT
>

362 
İ”©Ü
(è(
	gT
 &
	gvec
) const;

365 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

366 
ä›nd
 
	gv”tiÿl_shiá_funùÜ_
;

370 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

371 
	grÙ©e_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

373 
šlše
 
rÙ©e_funùÜ_
 (
size_ty³
 
³riods
, 
shiá_pŞicy
 
sh_po
)

374 : 
n
(
³riods
), 
¥
(
sh_po
) { }

376 cÚ¡ 
	gD©aF¿me
::
size_ty³
 
n
;

377 cÚ¡ 
shiá_pŞicy
 
	g¥
;

379 
	g‹m¶©e
<
ty³Çme
 
	gT
>

380 
İ”©Ü
(è(
	gT
 &
	gvec
) const;

383 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

384 
ä›nd
 
	grÙ©e_funùÜ_
;

388 
	g‹m¶©e
<
ty³Çme
 
	gIDX
,em¶©e<
	gty³Çme
> 
şass
 
	gOPT
,y³Çm... 
	gTs
>

389 
	gİ”©Ü_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

391 
šlše
 
İ”©Ü_funùÜ_
 (cÚ¡ 
¡d
::
veùÜ
<
IDX
> &
lhsidx
,

392 cÚ¡ 
¡d
::
veùÜ
<
IDX
> &
rhsidx
,

393 cÚ¡ 
¡d
::
veùÜ
<
IDX
> &
Ãwidx
,

394 cÚ¡ 
StdD©aF¿me
<
IDX
> &
rhsdf
,

395 cÚ¡ *
cŞÇme
,

396 
StdD©aF¿me
<
IDX
> &
»suÉdf
)

397 : 
lhs_idx
(
lhsidx
),

398 
rhs_idx
(
rhsidx
),

399 
Ãw_idx
(
Ãwidx
),

400 
rhs_df
(
rhsdf
),

401 
cŞ_Çme
(
cŞÇme
),

402 
»suÉ_df
(
»suÉdf
) { }

404 cÚ¡ 
	g¡d
::
veùÜ
<
IDX
> &
lhs_idx
;

405 cÚ¡ 
	g¡d
::
veùÜ
<
IDX
> &
rhs_idx
;

406 cÚ¡ 
	g¡d
::
veùÜ
<
IDX
> &
Ãw_idx
;

407 cÚ¡ 
	gStdD©aF¿me
<
	gIDX
> &
	grhs_df
;

408 cÚ¡ *
	gcŞ_Çme
;

409 
	gStdD©aF¿me
<
	gIDX
> &
	g»suÉ_df
;

411 
	g‹m¶©e
<
ty³Çme
 
	gT
>

412 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
lhs_vec
);

417 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

418 
	gm­_missšg_rows_funùÜ_
 :

419 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

421 
šlše
 
m­_missšg_rows_funùÜ_
 (
size_ty³
 
œ
, 
DrİRowM­
 &
mrm
)

422 : 
šdex_rows
(
œ
), 
missšg_row_m­
(
mrm
) { }

424 cÚ¡ 
size_ty³
 
	gšdex_rows
;

425 
	gDrİRowM­
 &
	gmissšg_row_m­
;

427 
	g‹m¶©e
<
ty³Çme
 
	gT
>

428 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

433 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

434 
	gdrİ_missšg_rows_funùÜ_
 :

435 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

437 
šlše
 
drİ_missšg_rows_funùÜ_
 (cÚ¡ 
DrİRowM­
 &
mrm
,

438 
drİ_pŞicy
 
p
,

439 
size_ty³
 
th
,

440 
size_ty³
 
ú
)

441 : 
missšg_row_m­
(
mrm
),

442 
pŞicy
(
p
),

443 
th»shŞd
(
th
),

444 
cŞ_num
(
ú
) { }

446 cÚ¡ 
	gDrİRowM­
 &
	gmissšg_row_m­
;

447 cÚ¡ 
drİ_pŞicy
 
	gpŞicy
;

448 cÚ¡ 
size_ty³
 
	gth»shŞd
;

449 cÚ¡ 
size_ty³
 
	gcŞ_num
;

451 
	g‹m¶©e
<
ty³Çme
 
	gT
>

452 
İ”©Ü
(è(
	gT
 &
	gvec
);

457 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

458 
	gg‘_row_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

460 
šlše
 
g‘_row_funùÜ_
 (
H‘”oVeùÜ
 &
r
, 
size_ty³
 
º
)

461 : 
»suÉ
(
r
), 
row_num
(
º
) { }

463 
	gH‘”oVeùÜ
 &
	g»suÉ
;

464 cÚ¡ 
size_ty³
 
	grow_num
;

466 
	g‹m¶©e
<
ty³Çme
 
	gT
>

467 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

472 
	g‹m¶©e
<
ty³Çme
 
	gIT
, 
	gty³Çme
 ... 
	gTs
>

473 
	g£l_lßd_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

475 
šlše
 
£l_lßd_funùÜ_
 (
çr_memÜy
::
F¬MemMªag”
 *
m
,

476 cÚ¡ *
n
,

477 
çr_memÜy
::
D©aF¿meVeùÜ
<
IT
> &
si
,

478 
size_ty³
 
is
,

479 
D©aF¿me
 &
d
)

480 : 
mªag”
(
m
), 
Çme
 (
n
), 
£l_šdiûs
 (
si
), 
šdiûs_size
(
is
), 
df
(
d
) { }

482 
	gçr_memÜy
::
F¬MemMªag”
 *
mªag”
;

483 cÚ¡ * 
	gÇme
;

484 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
IT
>& 
£l_šdiûs
;

485 cÚ¡ 
size_ty³
 
	gšdiûs_size
;

486 
	gD©aF¿me
& 
	gdf
;

488 
	g‹m¶©e
<
ty³Çme
 
	gT
>

489 
İ”©Ü
(è(cÚ¡ 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
> &
vec
);

494 
	g‹m¶©e
<
ty³Çme
 
	gIT
, 
	gty³Çme
 ... 
	gTs
>

495 
	g£l_lßd_v›w_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

497 
šlše
 
£l_lßd_v›w_funùÜ_
 (cÚ¡ *
n
,

498 cÚ¡ 
¡d
::
veùÜ
<
IT
> &
si
,

499 
size_ty³
 
is
,

500 
D©aF¿mePŒV›w
<
IndexTy³
> &
d
)

501 : 
Çme
 (
n
), 
£l_šdiûs
 (
si
), 
šdiûs_size
(
is
), 
dfv
(
d
) { }

503 cÚ¡ *
	gÇme
;

504 cÚ¡ 
	g¡d
::
veùÜ
<
IT
> &
£l_šdiûs
;

505 cÚ¡ 
size_ty³
 
	gšdiûs_size
;

506 
	gD©aF¿mePŒV›w
<
	gIndexTy³
> &
	gdfv
;

508 
	g‹m¶©e
<
ty³Çme
 
	gT
>

509 
İ”©Ü
(è(
	g¡d
::
veùÜ
<
T
> &
vec
);

514 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

515 
	g£l_»move_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

517 
šlše
 
£l_»move_funùÜ_
 (cÚ¡ 
¡d
::
veùÜ
<
size_ty³
> &
si
)

518 : 
£l_šdiûs
 (
si
) { }

520 cÚ¡ 
¡d
::
veùÜ
<
size_ty³
> &
£l_šdiûs
;

522 
	g‹m¶©e
<
ty³Çme
 
	gT
>

523 
İ”©Ü
(è(
	g¡d
::
veùÜ
<
T
> &
vec
) const;

528 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

529 
	gshufæe_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

531 
šlše
 
shufæe_funùÜ_
 () { }

533 
‹m¶©e
<
ty³Çme
 
T
>

534 
İ”©Ü
(è(
¡d
::
veùÜ
<
T
> &
vec
) const;

539 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

540 
	g¿ndom_lßd_d©a_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

542 
šlše
 
¿ndom_lßd_d©a_funùÜ_
 (

543 cÚ¡ *
n
,

544 cÚ¡ 
¡d
::
veùÜ
<¡d::
size_t
> &
ri
,

545 
D©aF¿me
 &
d
)

546 : 
Çme
 (
n
), 
¿nd_šdiûs
 (
ri
), 
df
(
d
) { }

548 cÚ¡ *
	gÇme
;

549 cÚ¡ 
	g¡d
::
veùÜ
<
¡d
::
size_t
> &
¿nd_šdiûs
;

550 
	gD©aF¿me
 &
	gdf
;

552 
	g‹m¶©e
<
ty³Çme
 
	gT
>

553 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

558 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

559 
	g¿ndom_lßd_v›w_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

561 
šlše
 
¿ndom_lßd_v›w_funùÜ_
 (

562 cÚ¡ *
n
,

563 cÚ¡ 
¡d
::
veùÜ
<¡d::
size_t
> &
ri
,

564 
D©aF¿mePŒV›w
<
IndexTy³
> &
d
)

565 : 
Çme
 (
n
), 
¿nd_šdiûs
 (
ri
), 
dfv
(
d
) { }

567 cÚ¡ *
	gÇme
;

568 cÚ¡ 
	g¡d
::
veùÜ
<
¡d
::
size_t
> &
¿nd_šdiûs
;

569 
	gD©aF¿mePŒV›w
<
	gIndexTy³
> &
	gdfv
;

571 
	g‹m¶©e
<
ty³Çme
 
	gT
>

572 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

577 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

578 
	gcŞumns_šfo_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

580 
usšg
 
»suÉ_t
 =

581 
¡d
::
veùÜ
<¡d::
tu¶e
<
CŞNameTy³
, 
	gsize_ty³
, 
	g¡d
::
ty³_šdex
>>;

583 
šlše
 
cŞumns_šfo_funùÜ_
 (
»suÉ_t
 &
r
, cÚ¡ *
n
)

584 : 
»suÉ
(
r
), 
Çme
(
n
) { }

586 
	g»suÉ_t
 &
	g»suÉ
;

587 cÚ¡ *
	gÇme
;

589 
	g‹m¶©e
<
ty³Çme
 
	gT
>

590 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

	@DataFrame/AIFM/include/DataFrame/RandGen.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meTy³s.h
>

34 
	~<veùÜ
>

38 
Çme¥aû
 
	ghmdf


55 
	g‹m¶©e
<
ty³Çme
 
	gT
>

56 
	g¡d
::
veùÜ
<
T
>

57 
g’_unifÜm_št_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

74 
	g‹m¶©e
<
ty³Çme
 
	gT
>

75 
	g¡d
::
veùÜ
<
T
>

76 
g’_unifÜm_»®_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

93 
	g¡d
::
veùÜ
<
boŞ
>

94 
g’_b”nouÎi_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
boŞ
> &
·¿ms
 = { });

112 
	g‹m¶©e
<
ty³Çme
 
	gT
>

113 
	g¡d
::
veùÜ
<
T
>

114 
g’_bšomŸl_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

132 
	g‹m¶©e
<
ty³Çme
 
	gT
>

133 
	g¡d
::
veùÜ
<
T
>

134 
g’_Ãg©ive_bšomŸl_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = {});

152 
	g‹m¶©e
<
ty³Çme
 
	gT
>

153 
	g¡d
::
veùÜ
<
T
>

154 
g’_geom‘ric_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

174 
	g‹m¶©e
<
ty³Çme
 
	gT
>

175 
	g¡d
::
veùÜ
<
T
>

176 
g’_poissÚ_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

192 
	g‹m¶©e
<
ty³Çme
 
	gT
>

193 
	g¡d
::
veùÜ
<
T
>

194 
g’_expÚ’tŸl_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

210 
	g‹m¶©e
<
ty³Çme
 
	gT
>

211 
	g¡d
::
veùÜ
<
T
>

212 
g’_gamma_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

228 
	g‹m¶©e
<
ty³Çme
 
	gT
>

229 
	g¡d
::
veùÜ
<
T
>

230 
g’_weibuÎ_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

246 
	g‹m¶©e
<
ty³Çme
 
	gT
>

247 
	g¡d
::
veùÜ
<
T
>

248 
g’_exŒeme_v®ue_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

264 
	g‹m¶©e
<
ty³Çme
 
	gT
>

265 
	g¡d
::
veùÜ
<
T
>

266 
g’_nÜm®_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

282 
	g‹m¶©e
<
ty³Çme
 
	gT
>

283 
	g¡d
::
veùÜ
<
T
>

284 
g’_lognÜm®_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

300 
	g‹m¶©e
<
ty³Çme
 
	gT
>

301 
	g¡d
::
veùÜ
<
T
>

302 
g’_chi_squ¬ed_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

318 
	g‹m¶©e
<
ty³Çme
 
	gT
>

319 
	g¡d
::
veùÜ
<
T
>

320 
g’_ÿuchy_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

335 
	g‹m¶©e
<
ty³Çme
 
	gT
>

336 
	g¡d
::
veùÜ
<
T
>

337 
g’_fish”_f_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

353 
	g‹m¶©e
<
ty³Çme
 
	gT
>

354 
	g¡d
::
veùÜ
<
T
>

355 
g’_¡ud’t_t_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

362 
	g‹m¶©e
<
ty³Çme
 
	gT
>

363 
	g¡d
::
veùÜ
<
T
>

364 
g’_log_¥aû_nums
(
¡d
::
size_t
 
n
, 
T
 
fœ¡
, T 
Ï¡
, T 
ba£
);

370 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


371 
	~<D©aF¿me/IÁ”Çls/RªdG’.tcc
>

	@DataFrame/AIFM/include/DataFrame/Utils/DateTime.h

30 #´agm¨
Úû


32 
	~<c¡dio
>

33 
	~<ùime
>

34 
	~<lim™s
>

35 
	~<¡dexû±
>

36 
	~<¡ršg
>

37 
	~<sys/timeb.h
>

39 #ià
defšed
(
_WIN32
)

40 
	~<wšdows.h
>

41 #ià
defšed
(
HMDF_SHARED
)

42 #ifdeà
LIBRARY_EXPORTS


43 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

45 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

48 #ifdeà
mš


49 #undeà
mš


51 #ifdeà
max


52 #undeà
max


55 
	#LIBRARY_API


	)

60 
Çme¥aû
 
	ghmdf


66 şas 
	cDT_FORMAT
 : {

67 
AMR_DT
 = 1,

68 
	gAMR_DT_CTY
 = 2,

69 
	gEUR_DT
 = 3,

70 
	gEUR_DT_CTY
 = 4,

71 
	gDT_TM
 = 5,

72 
	gSCT_DT
 = 6,

73 
	gDT_MMDDYYYY
 = 7,

74 
	gDT_YYYYMMDD
 = 8,

75 
	gDT_TM2
 = 9,

76 
	gDT_DATETIME
 = 10,

77 
	gDT_PRECISE
 = 11

83 şas 
	cDT_TIME_ZONE
 : {

84 
LOCAL
 = -2,

85 
	gGMT
 = 0,

86 
	gAM_BUENOS_AIRES
 = 1,

87 
	gAM_CHICAGO
 = 2,

88 
	gAM_LOS_ANGELES
 = 3,

89 
	gAM_MEXICO_CITY
 = 4,

90 
	gAM_NEW_YORK
 = 5,

91 
	gAS_DUBAI
 = 6,

92 
	gAS_HONG_KONG
 = 7,

93 
	gAS_SHANGHAI
 = 8,

94 
	gAS_SINGAPORE
 = 9,

95 
	gAS_TEHRAN
 = 10,

96 
	gAS_TEL_AVIV
 = 11,

97 
	gAS_TOKYO
 = 12,

98 
	gAU_MELBOURNE
 = 13,

99 
	gAU_SYDNEY
 = 14,

100 
	gBR_RIO_DE_JANEIRO
 = 15,

101 
	gEU_BERLIN
 = 16,

102 
	gEU_LONDON
 = 17,

103 
	gEU_MOSCOW
 = 18,

104 
	gEU_PARIS
 = 19,

105 
	gEU_ROME
 = 20,

106 
	gEU_VIENNA
 = 21,

107 
	gEU_ZURICH
 = 22,

108 
	gUTC
 = 23,

109 
	gAS_SEOUL
 = 24,

110 
	gAS_TAIPEI
 = 25,

111 
	gEU_STOCKHOLM
 = 26,

112 
	gNZ
 = 27,

113 
	gEU_OSLO
 = 28,

114 
	gEU_WARSAW
 = 29,

115 
	gEU_BUDAPEST
 = 30

121 şas 
	cDT_WEEKDAY
 : {

122 
BAD_DAY
 = 0,

123 
	gSUN
 = 1,

124 
	gMON
 = 2,

125 
	gTUE
 = 3,

126 
	gWED
 = 4,

127 
	gTHU
 = 5,

128 
	gFRI
 = 6,

129 
	gSAT
 = 7

135 şas 
	cDT_MONTH
 : {

136 
BAD_MONTH
 = 0,

137 
	gJAN
 = 1,

138 
	gFEB
 = 2,

139 
	gMAR
 = 3,

140 
	gAPR
 = 4,

141 
	gMAY
 = 5,

142 
	gJUN
 = 6,

143 
	gJUL
 = 7,

144 
	gAUG
 = 8,

145 
	gSEP
 = 9,

146 
	gOCT
 = 10,

147 
	gNOV
 = 11,

148 
	gDEC
 = 12

154 şas 
	cDT_DATE_STYLE
 : {

155 
YYYYMMDD
 = 1,

156 
	gAME_STYLE
 = 2,

157 
	gEUR_STYLE
 = 3

162 şas 
	cLIBRARY_API
 
	gD©eTime
 {

164 
	gpublic
:

166 
usšg
 
D©eTy³
 = ;

167 
usšg
 
	gD©eP¬tTy³
 = ;

168 
usšg
 
	gHourTy³
 = ;

169 
usšg
 
	gMšu‹Ty³
 = ;

170 
usšg
 
	gSecÚdTy³
 = ;

171 
usšg
 
	gMli£cÚdTy³
 = ;

172 
usšg
 
	gMiüo£cÚdTy³
 = ;

173 
usšg
 
	gNªo£cÚdTy³
 = ;

174 
usšg
 
	gEpochTy³
 = 
time_t
;

175 
usšg
 
	gLÚgTimeTy³
 = ;

177 
	g´iv©e
:

179 
‹m¶©e
<
ty³Çme
 
T
>

180 
usšg
 
INVALID_VALUE_
 = 
ty³Çme
 
¡d
::
num”ic_lim™s
<
T
>;

182 cÚ¡ *
	gTIMEZONES_
[];

183 cÚ¡ 
EpochTy³
 
	gINVALID_TIME_T_
 = 
INVALID_VALUE_
<EpochTy³>::
max
();

184 cÚ¡ 
D©eTy³
 
	gINVALID_DATE_
 = 
INVALID_VALUE_
<D©eTy³>::
max
();

185 cÚ¡ 
HourTy³
 
	gINVALID_HOUR_
 = 
INVALID_VALUE_
<HourTy³>::
max
();

186 cÚ¡ 
Mšu‹Ty³
 
	gINVALID_MINUTE_
 = 
INVALID_VALUE_
<Mšu‹Ty³>::
max
();

187 cÚ¡ 
SecÚdTy³
 
	gINVALID_SECOND_
 = 
INVALID_VALUE_
<SecÚdTy³>::
max
();

192 şas 
	cDT_š™Ÿliz”
 { 
	gpublic
: 
DT_š™Ÿliz”
 (è
nÛxû±
; };

194 cÚ¡ 
DT_š™Ÿliz”
 
	gdt_š™_
;

196 
ä›nd
 
şass
 
	gDT_š™Ÿliz”
;

198 
D©eTy³
 
	gd©e_
 { 
	gINVALID_DATE_
 };

199 
HourTy³
 
	ghour_
 { 
	gINVALID_HOUR_
 };

200 
Mšu‹Ty³
 
	gmšu‹_
 { 
	gINVALID_MINUTE_
 };

201 
SecÚdTy³
 
	g£cÚd_
 { 
	gINVALID_SECOND_
 };

202 
Nªo£cÚdTy³
 
	gÇno£cÚd_
 { 0 };

203 
EpochTy³
 
	gtime_
 { 
	gINVALID_TIME_T_
 };

204 
DT_WEEKDAY
 
	gw“k_day_
 { 
	gDT_WEEKDAY
::
BAD_DAY
 };

205 
DT_TIME_ZONE
 
	gtime_zÚe_
 { 
	gDT_TIME_ZONE
::
LOCAL
 };

207 
šlše
 
chªge_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
);

208 
šlše
 
»£t_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
);

210 
	gpublic
:

213 
ex¶ic™
 
D©eTime
 (
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

215 
ex¶ic™
 
D©eTime
 (
D©eTy³
 
d
,

216 
HourTy³
 
hr
 = 0,

217 
Mšu‹Ty³
 
mn
 = 0,

218 
SecÚdTy³
 
sc
 = 0,

219 
Nªo£cÚdTy³
 
ns
 = 0,

220 
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

237 
ex¶ic™
 
D©eTime
 (cÚ¡ *
s
,

238 
DT_DATE_STYLE
 
ds
 = DT_DATE_STYLE::
YYYYMMDD
,

239 
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

241 
D©eTime
 (cÚ¡ D©eTim&
th©
) = ;

242 
D©eTime
 (D©eTim&&
th©
) = ;

243 ~
D©eTime
 () = ;

245 
	gD©eTime
 &
	gİ”©Ü
 = (cÚ¡ 
D©eTime
 &
rhs
) = ;

246 
	gD©eTime
 &
	gİ”©Ü
 = (
D©eTime
 &&
rhs
) = ;

250 
£t_time
 (
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
 = 0è
nÛxû±
;

256 
£t_timezÚe
 (
DT_TIME_ZONE
 
tz
);

257 
šlše
 
DT_TIME_ZONE
 
g‘_timezÚe
 (ècÚ¡ {  (
	gtime_zÚe_
); }

259 
	gD©eTime
 &
	gİ”©Ü
 = (
D©eTy³
 
rhs
);

265 
	gD©eTime
 &
	gİ”©Ü
 = (cÚ¡ *
rhs
);

268 
EpochTy³
 
com·»
(cÚ¡ 
D©eTime
 &
rhs
) const;

270 
D©eTy³
 
d©e
 (ècÚ¡ 
	gnÛxû±
;

271 
D©eP¬tTy³
 
y—r
 (ècÚ¡ 
	gnÛxû±
;

272 
DT_MONTH
 
mÚth
 (ècÚ¡ 
	gnÛxû±
;

273 
D©eP¬tTy³
 
dmÚth
 (ècÚ¡ 
	gnÛxû±
;

274 
D©eP¬tTy³
 
dy—r
 (ècÚ¡ 
	gnÛxû±
;

275 
DT_WEEKDAY
 
dw“k
 (ècÚ¡ 
	gnÛxû±
;

276 
HourTy³
 
hour
 (ècÚ¡ 
	gnÛxû±
;

277 
Mšu‹Ty³
 
mšu‹
 (ècÚ¡ 
	gnÛxû±
;

278 
SecÚdTy³
 
£c
 (ècÚ¡ 
	gnÛxû±
;

279 
Mli£cÚdTy³
 
m£c
 (ècÚ¡ 
	gnÛxû±
;

280 
Miüo£cÚdTy³
 
miüo£c
 (ècÚ¡ 
	gnÛxû±
;

281 
Nªo£cÚdTy³
 
Çno£c
 (ècÚ¡ 
	gnÛxû±
;

282 
EpochTy³
 
time
 (ècÚ¡ 
	gnÛxû±
;

283 
LÚgTimeTy³
 
lÚg_time
 (ècÚ¡ 
	gnÛxû±
;

285 
D©eP¬tTy³
 
days_š_mÚth
 (ècÚ¡ 
	gnÛxû±
;

290 
diff_£cÚds
 (cÚ¡ 
D©eTime
 &
th©
) const;

291 
diff_mšu‹s
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

292 
diff_hours
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

293 
diff_days
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

294 
diff_w“kdays
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

295 
diff_w“ks
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

299 
add_Çno£cÚds
 (
Çno£cs
è
	gnÛxû±
;

300 
add_£cÚds
 (
EpochTy³
 
£cs
è
	gnÛxû±
;

301 
add_days
 (
days
è
	gnÛxû±
;

302 
add_w“kdays
 (
days
è
	gnÛxû±
;

303 
add_mÚths
 (
mÚths
è
	gnÛxû±
;

304 
add_y—rs
 (
y—rs
è
	gnÛxû±
;

306 
boŞ
 
is_w“k’d
 (ècÚ¡ 
	gnÛxû±
;

307 
boŞ
 
is_Ãwy—r
 (ècÚ¡ 
	gnÛxû±
;

308 
boŞ
 
is_xmas
 (ècÚ¡ 
	gnÛxû±
;

309 
boŞ
 
is_us_busšess_day
 (ècÚ¡ 
	gnÛxû±
;

310 
boŞ
 
is_us_bªk_hŞiday
 (ècÚ¡ 
	gnÛxû±
;

311 
boŞ
 
is_v®id
 (ècÚ¡ 
	gnÛxû±
;

314 
	g‹m¶©e
<
ty³Çme
 
	gT
>

315 
d©e_to_¡r
 (
DT_FORMAT
 
fÜm©
, 
T
 &
»suÉ
) const;

316 
	g¡d
::
¡ršg
 
¡ršg_fÜm©
 (
DT_FORMAT
 
fÜm©
) const;

318 
	g´iv©e
:

320 
D©eP¬tTy³


321 
days_š_mÚth_
 (
DT_MONTH
 
mÚth
, 
D©eP¬tTy³
 
y—r
è
	gnÛxû±
;

327 
EpochTy³
 
mak‘ime_
 (
tm
 &
Éime
ècÚ¡ 
	gnÛxû±
;

333 
b»aktime_
 (
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
è
	gnÛxû±
;

335 cÚ¡ *cÚ¡ 
	gMONTH_
[];

336 cÚ¡ *cÚ¡ 
	gMONTH_BR_
[];

337 cÚ¡ *cÚ¡ 
	gWDAY_
[];

338 cÚ¡ *cÚ¡ 
	gWDAY_BR_
[];

343 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

345  (
	glhs
.
com·»
 (
rhs
) == 0);

350 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

352  (
	glhs
.
com·»
 (
rhs
) != 0);

357 
šlše
 
boŞ
 
	gİ”©Ü
 < (cÚ¡ 
	gD©eTime
 &
	glhs
, cÚ¡ D©eTim&
	grhs
è
	gnÛxû±
 {

359  (
	glhs
.
com·»
 (
rhs
) < 0);

364 
šlše
 
boŞ
 
	gİ”©Ü
 <ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

366  (
	glhs
.
com·»
 (
rhs
) <= 0);

371 
šlše
 
boŞ
 
	gİ”©Ü
 > (cÚ¡ 
	gD©eTime
 &
	glhs
, cÚ¡ D©eTim&
	grhs
è
	gnÛxû±
 {

373  (
	glhs
.
com·»
 (
rhs
) > 0);

378 
šlše
 
boŞ
 
	gİ”©Ü
 >ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

380  (
	glhs
.
com·»
 (
rhs
) >= 0);

385 
	g‹m¶©e
<
ty³Çme
 
	gS
>

386 
šlše
 
	gS
 &
	gİ”©Ü
 << (S &
	go
, cÚ¡ 
	gD©eTime
 &
	grhs
) {

388  (
	go
 << 
	grhs
.
¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
));

	@DataFrame/AIFM/include/DataFrame/Utils/FixedSizeString.h

30 #´agm¨
Úû


32 
	~<c¡d¬g
>

33 
	~<c¡dio
>

34 
	~<c¡dlib
>

35 
	~<funùiÚ®
>

36 
	~<io¡»am
>

37 
	~<¡ršg.h
>

39 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

40 #ifdeà
LIBRARY_EXPORTS


41 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

43 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

46 
	#LIBRARY_API


	)

51 
Çme¥aû
 
	ghmdf


64 şas 
	cLIBRARY_API
 
	gVœtu®SŒšg
 {

65 
	gpublic
:

67 
usšg
 
size_ty³
 = 
¡d
::
size_t
;

68 
usšg
 
	gv®ue_ty³
 = ;

69 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

70 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
v®ue_ty³
 *;

71 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

72 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

74 
usšg
 
	g™”©Ü
 = 
poš‹r
;

75 
usšg
 
	gcÚ¡_™”©Ü
 = 
cÚ¡_poš‹r
;

77 cÚ¡ 
size_ty³
 
	gÅos
 = 
¡©ic_ÿ¡
<size_type>(-1);

79 
šlše
 
™”©Ü
 
begš
 (è
	gnÛxû±
 {  (
	g¡ršg_
); }

80 
šlše
 
cÚ¡_™”©Ü
 
begš
 (ècÚ¡ 
	gnÛxû±
 {  (
	g¡ršg_
); }

85 
šlše
 
™”©Ü
 
’d
 (è
	gnÛxû±
 {  (
	g¡ršg_
 + 
size
 ()); }

86 
šlše
 
cÚ¡_™”©Ü
 
’d
 (ècÚ¡ 
	gnÛxû±
 {

88  (
	g¡ršg_
 + 
size
 ());

91 
	g´Ùeùed
:

93 
šlše
 
Vœtu®SŒšg
 (
poš‹r
 
¡r
è
nÛxû±
 : 
¡ršg_
 (str) { }

95 
public
:

97 
Vœtu®SŒšg
 (èğ
d–‘e
;

98 
Vœtu®SŒšg
 (cÚ¡ Vœtu®SŒšg &èğ
d–‘e
;

99 
Vœtu®SŒšg
 (Vœtu®SŒšg &&èğ
d–‘e
;

100 
	gVœtu®SŒšg
 &
	gİ”©Ü
 = (
Vœtu®SŒšg
 &&èğ
d–‘e
;

104 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 = (
cÚ¡_poš‹r
 
rhs
è
nÛxû±
 {

106 ::
¡rıy
 (
¡ršg_
, 
rhs
);

107  (*
	gthis
);

109 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 = (cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
nÛxû±
 {

111  (*
this
 = 
rhs
.
c_¡r
 ());

113 
šlše
 
	gVœtu®SŒšg
 &
ncİy
 (
cÚ¡_poš‹r
 
rhs
, 
size_ty³
 
Ën
è
	gnÛxû±
 {

115 ::
¢´štf
(
¡ršg_
, 
Ën
, "%s", 
rhs
);

116  (*
	gthis
);

123 
šlše
 
	gVœtu®SŒšg
 &
­³nd
 (
cÚ¡_poš‹r
 
rhs
è
	gnÛxû±
 {

125 ::
¡rÿt
 (
¡ršg_
, 
rhs
);

126  (*
	gthis
);

128 
šlše
 
	gVœtu®SŒšg
 &
­³nd
 (cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
	gnÛxû±
 {

130  (
­³nd
 (
rhs
.
c_¡r
 ()));

132 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 +ğ(
cÚ¡_poš‹r
 
rhs
è
nÛxû±
 {

134  (
­³nd
 (
rhs
));

136 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 +ğ(cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
nÛxû±
 {

138  (
­³nd
 (
rhs
.
c_¡r
 ()));

141 
šlše
 
size_ty³


142 
fšd
 (
cÚ¡_»ã»nû
 
tok’
, 
size_ty³
 
pos
 = 0ècÚ¡ 
nÛxû±
 {

144 
size_ty³
 
couÁ”
 = 0;

146 
cÚ¡_poš‹r
 
	g™r
 = &(
¡ršg_
 [
pos
]); *™r; ++™r, ++
	gcouÁ”
)

147 ià(
	g¡ršg_
 [
pos
 + 
couÁ”
] =ğ
tok’
)

148  (
pos
 + 
couÁ”
);

150  (
	gÅos
);

152 
šlše
 
size_ty³


153 
fšd
 (
cÚ¡_poš‹r
 
tok’
, 
size_ty³
 
pos
 = 0ècÚ¡ 
nÛxû±
 {

155 cÚ¡ 
size_ty³
 
tok’_Ën
 = ::
¡¾’
 (
tok’
);

156 cÚ¡ 
size_ty³
 
	g£lf_Ën
 = 
size
 ();

158 ià((
	gtok’_Ën
 + 
	gpos
è> 
	g£lf_Ën
)

159  (
	gÅos
);

161 
size_ty³
 
	gcouÁ”
 = 0;

163 
cÚ¡_poš‹r
 
	g™r
 = &(
¡ršg_
 [
pos
]);

164 
	g™r
 + 
	gtok’_Ën
 - 
begš
 (è<ğ
¡©ic_ÿ¡
<>(
£lf_Ën
);

165 ++
	g™r
, ++
	gcouÁ”
)

166 ià(! ::
¡ºcmp
 (
tok’
, 
™r
, 
tok’_Ën
))

167  (
	gpos
 + 
	gcouÁ”
);

169  (
	gÅos
);

171 
šlše
 
size_ty³


172 
fšd
 (cÚ¡ 
Vœtu®SŒšg
 &
tok’
, 
size_ty³
 
pos
 = 0ècÚ¡ 
nÛxû±
 {

174 cÚ¡ 
size_ty³
 
Ën
 = 
size
 ();

176  (
fšd
 (
tok’
.
c_¡r
 (), 
pos
));

181 
šlše
 
	gVœtu®SŒšg
 &

182 
»¶aû
 (
size_ty³
 
pos
, size_ty³ 
n
, 
cÚ¡_poš‹r
 
s
) {

184 ià(*
	gs
 == 0) {

185 
size_ty³
 
i
 = 
pos
;

187 ; 
	g¡ršg_
 [
i
]; ++
	gi
)

188 
	g¡ršg_
 [
i
] = 
¡ršg_
 [i + 1];

189 
	g¡ršg_
 [
i
] = 
¡ršg_
 [i + 1];

192 
boŞ
 
	gov”wrÙe_nuÎ
 = 
çl£
;

193 
size_ty³
 
	gi
 = 0;

195 
	gs
 [
i
]) {

196 ià(
	g¡ršg_
 [
i
 + 
pos
] == 0)

197 
ov”wrÙe_nuÎ
 = 0;

198 ià(
	gi
 >ğ
n
)

199 
¡ršg_
 [
i
 + 
pos
 + 1] = string_ [i +…os];

200 
	g¡ršg_
 [
i
 + 
pos
] = 
s
 [i];

201 ++
	gi
;

203 ià(
	gov”wrÙe_nuÎ
)

204 
	g¡ršg_
 [
i
 + 
pos
] = 0;

207  (*
	gthis
);

210 
šlše
 
´štf
 (cÚ¡ *
fÜm©_¡r
, ...è
	gnÛxû±
 {

212 
va_li¡
 
	g¬gum’t_±r
;

214 
va_¡¬t
 (
¬gum’t_±r
, 
fÜm©_¡r
);

216 cÚ¡ 
	g»t
 = ::
v¥rštf
 (
¡ršg_
, 
fÜm©_¡r
, 
¬gum’t_±r
);

218 
va_’d
 (
¬gum’t_±r
);

219  (
	g»t
);

222 
šlše
 
­³nd_´štf
 (cÚ¡ *
fÜm©_¡r
, ...è
	gnÛxû±
 {

224 
va_li¡
 
	g¬gum’t_±r
;

226 
va_¡¬t
 (
¬gum’t_±r
, 
fÜm©_¡r
);

228 cÚ¡ 
	g»t
 =

229 ::
v¥rštf
 (
¡ršg_
 + 
size
 (), 
fÜm©_¡r
, 
¬gum’t_±r
);

231 
va_’d
 (
¬gum’t_±r
);

232  (
	g»t
);

237 
šlše
 
com·»
 (
cÚ¡_poš‹r
 
rhs
ècÚ¡ 
	gnÛxû±
 {

239  (::
¡rcmp
 (
¡ršg_
, 
rhs
));

241 
šlše
 
com·»
 (cÚ¡ 
Vœtu®SŒšg
 &
rhs
ècÚ¡ 
	gnÛxû±
 {

243  (
com·»
 (
rhs
.
c_¡r
 ()));

246 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(
cÚ¡_poš‹r
 
rhs
ècÚ¡ 
nÛxû±
 {

248  (
com·»
 (
rhs
) == 0);

250 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
Vœtu®SŒšg
 &
rhs
ècÚ¡ 
nÛxû±
 {

252  (*
this
 =ğ
rhs
.
c_¡r
 ());

254 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(
cÚ¡_poš‹r
 
rhs
ècÚ¡ 
nÛxû±
 {

256  (
com·»
 (
rhs
) != 0);

258 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
Vœtu®SŒšg
 &
rhs
ècÚ¡ 
nÛxû±
 {

260  (*
this
 !ğ
rhs
.
c_¡r
 ());

262 
šlše
 
boŞ
 
	gİ”©Ü
 > (
cÚ¡_poš‹r
 
	grhs
ècÚ¡ 
	gnÛxû±
 {

264  (
com·»
 (
rhs
) > 0);

266 
šlše
 
boŞ
 
	gİ”©Ü
 > (cÚ¡ 
	gVœtu®SŒšg
 &
	grhs
ècÚ¡ 
	gnÛxû±
 {

268  (*
	gthis
 > 
	grhs
.
c_¡r
 ());

270 
šlše
 
boŞ
 
	gİ”©Ü
 < (
cÚ¡_poš‹r
 
	grhs
ècÚ¡ 
	gnÛxû±
 {

272  (
com·»
 (
rhs
) < 0);

274 
šlše
 
boŞ
 
	gİ”©Ü
 < (cÚ¡ 
	gVœtu®SŒšg
 &
	grhs
ècÚ¡ 
	gnÛxû±
 {

276  (*
	gthis
 < 
	grhs
.
c_¡r
 ());

281 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gšdex
ècÚ¡ 
	gnÛxû±
 {

283  (
	g¡ršg_
 [
šdex
]);

285 
šlše
 
»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gšdex
è
	gnÛxû±
 {

287  (
	g¡ršg_
 [
šdex
]);

290 
šlše
 
ş—r
 (è
	gnÛxû±
 { *
	g¡ršg_
 = 0; }

294 
šlše
 
»size
 (
size_ty³
è
	gnÛxû±
 { }

295 
šlše
 
»size
 (
size_ty³
, 
v®ue_ty³
è
	gnÛxû±
 { }

299 
šlše
 
cÚ¡_poš‹r
 
c_¡r
 (ècÚ¡ 
	gnÛxû±
 {  (
	g¡ršg_
); }

300 
šlše
 
cÚ¡_poš‹r
 
sub_c_¡r
 (
size_ty³
 
off£t
ècÚ¡ 
	gnÛxû±
 {

302  (
	goff£t
 !ğ
Åos
 ? 
¡ršg_
 + 
off£t
 : 
nuÎ±r
);

304 
šlše
 
size_ty³
 
size
 (ècÚ¡ 
	gnÛxû±
 {  (::
¡¾’
(
¡ršg_
)); }

305 
šlše
 
boŞ
 
em±y
 (ècÚ¡ 
	gnÛxû±
 {  (*
	g¡ršg_
 == 0); }

310 
šlše
 
size_ty³
 
hash
 (ècÚ¡ 
	gnÛxû±
 {

312 
size_ty³
 
	gh
 = 14695981039346656037UL;

313 
cÚ¡_poš‹r
 
	gs
 = 
¡ršg_
;

315 *(
	gs
++)è{ 
	gh
 = (
h
 ^ *
s
) * 1099511628211UL; }

316  (
	gh
);

319 
	g´iv©e
:

321 
poš‹r
 
¡ršg_
;

335 
	g‹m¶©e
 <
	gS
>

336 şas 
	cFixedSizeSŒšg
 : 
public
 
Vœtu®SŒšg
 {

338 
public
:

340 
šlše
 
FixedSizeSŒšg
 (è
nÛxû±


341 : 
Vœtu®SŒšg
 (
bufãr_
) { *buffer_ = 0; }

342 
šlše
 
FixedSizeSŒšg
 (
cÚ¡_poš‹r
 
¡r
è
	gnÛxû±


343 : 
Vœtu®SŒšg
 (
bufãr_
è{ *
this
 = 
¡r
; }

344 
šlše
 
FixedSizeSŒšg
 (cÚ¡ FixedSizeSŒšg &
th©
è
	gnÛxû±


345 : 
Vœtu®SŒšg
 (
bufãr_
è{ *
this
 = 
th©
; }

346 
šlše
 
FixedSizeSŒšg
 (cÚ¡ 
Vœtu®SŒšg
 &
th©
è
	gnÛxû±


347 : 
Vœtu®SŒšg
 (
bufãr_
è{ *
this
 = 
th©
; }

351 
šlše
 
	gFixedSizeSŒšg
 &
	gİ”©Ü
 = (cÚ¡ 
FixedSizeSŒšg
 &
rhs
è
nÛxû±
 {

353 ::
¡rıy
 (
bufãr_
, 
rhs
.buffer_);

354  (*
	gthis
);

356 
šlše
 
	gFixedSizeSŒšg
 &
	gİ”©Ü
 = (
cÚ¡_poš‹r
 
rhs
è
nÛxû±
 {

358 ::
¢´štf
(
bufãr_
, 
S
, "%s", 
rhs
);

359  (*
	gthis
);

361 
šlše
 
	gFixedSizeSŒšg
 &
	gİ”©Ü
 = (cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
nÛxû±
 {

363 *
this
 = 
rhs
.
c_¡r
 ();

364  (*
	gthis
);

367 
šlše
 
size_ty³
 
ÿ·c™y
 (è
	gnÛxû±
 {  (
	gS
); }

369 
	g´iv©e
:

371 
v®ue_ty³
 
bufãr_
 [
S
 + 1];

376 
	g‹m¶©e
<
ty³Çme
 
	gS
>

377 
šlše
 
	gS
 &
	gİ”©Ü
 << (S &
	glhs
, cÚ¡ 
	gVœtu®SŒšg
 &
	grhs
) {

379  (
	glhs
 << 
	grhs
.
c_¡r
 ());

384 
usšg
 
	gSŒšg32
 = 
FixedSizeSŒšg
<31>;

385 
usšg
 
	gSŒšg64
 = 
FixedSizeSŒšg
<63>;

386 
usšg
 
	gSŒšg128
 = 
FixedSizeSŒšg
<127>;

387 
usšg
 
	gSŒšg512
 = 
FixedSizeSŒšg
<511>;

388 
usšg
 
	gSŒšg1K
 = 
FixedSizeSŒšg
<1023>;

389 
usšg
 
	gSŒšg2K
 = 
FixedSizeSŒšg
<2047>;

395 
Çme¥aû
 
	g¡d
 {

396 
	g‹m¶©e
<>

397 
	ghash
<
ty³Çme
 
	ghmdf
::
Vœtu®SŒšg
> {

399 
šlše
 
size_t
 
İ”©Ü
()(cÚ¡ 
hmdf
::
Vœtu®SŒšg
 &
key
ècÚ¡ 
nÛxû±
 {

401  (
key
.
hash
());

	@DataFrame/AIFM/include/DataFrame/Utils/ThreadGranularity.h

30 
	~<®gÜ™hm
>

31 
	~<©omic
>

33 #´agm¨
Úû


35 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

36 #ifdeà
LIBRARY_EXPORTS


37 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

39 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

41 #ifdeà
mš


42 #undeà
mš


44 #ifdeà
max


45 #undeà
max


48 
	#LIBRARY_API


	)

53 
Çme¥aû
 
	ghmdf


56 
LIBRARY_API
 
	gTh»adG¿nuÏr™y
 {

58 
šlše
 

59 
£t_th»ad_Ëv–
(
n
è{ 
	gnum_of_th»ads_
 =‚; }

60 
šlše
 

61 
g‘_th»ad_Ëv–
(è{  (
	gnum_of_th»ads_
); }

62 
šlše
 

63 
g‘_suµÜ‹d_th»ad
(è{  (
	gsuµÜ‹d_th»ads_
); }

65 
šlše
 

66 
g‘_£nsibË_th»ad_Ëv–
() {

68  (
	gsuµÜ‹d_th»ads_
 != 0

69 ? 
¡d
::
mš
(
suµÜ‹d_th»ads_
, 
num_of_th»ads_
)

70 : 
num_of_th»ads_
);

73 
	g´Ùeùed
:

75 
Th»adG¿nuÏr™y
() = ;

77 
	g´iv©e
:

79 
num_of_th»ads_
;

80 cÚ¡ 
	gsuµÜ‹d_th»ads_
;

85 
	sSpšLock
 {

87 
SpšLock
 () = ;

88 ~
SpšLock
() = ;

90 
šlše
 

91 
lock
(è
	gnÛxû±
 { 
	glock_
.
‹¡_ªd_£t
(
¡d
::
memÜy_Üd”_acquœe
)) ; }

92 
šlše
 
boŞ
 
Œy_lock
(è
	gnÛxû±
 {

94  (! 
	glock_
.
‹¡_ªd_£t
(
¡d
::
memÜy_Üd”_acquœe
));

96 
šlše
 
uÆock
(è
	gnÛxû±
 { 
	glock_
.
ş—r
(
¡d
::
memÜy_Üd”_»Ëa£
); }

98 
SpšLock
 (cÚ¡ SpšLock &èğ
d–‘e
;

99 
	gSpšLock
 &
	gİ”©Ü
 = (cÚ¡ 
SpšLock
 &èğ
d–‘e
;

101 
	g´iv©e
:

103 
¡d
::
©omic_æag
 
lock_
 = 
ATOMIC_FLAG_INIT
;

108 
	sSpšGu¬d
 {

110 
šlše


111 
SpšGu¬d
(
SpšLock
 *
l
è
	gnÛxû±
 : 
lock_
Öè{ iàÖock_èlock_->
lock
(); }

112 
	gšlše
 ~
SpšGu¬d
(è
	gnÛxû±
 { ià(
	glock_
èlock_->
uÆock
(); }

114 
šlše
 
»Ëa£
(è
	gnÛxû±
 {

116 ià(
	glock_
) {

117 
	glock_
->
uÆock
();

118 
	glock_
 = 
nuÎ±r
;

122 
SpšGu¬d
 (èğ
d–‘e
;

123 
SpšGu¬d
 (cÚ¡ SpšGu¬d &èğ
d–‘e
;

124 
	gSpšGu¬d
 &
	gİ”©Ü
 = (cÚ¡ 
SpšGu¬d
 &èğ
d–‘e
;

126 
	g´iv©e
:

128 
SpšLock
 *
lock_
;

	@DataFrame/AIFM/include/DataFrame/Vectors/HeteroPtrView.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/VeùÜs/VeùÜPŒV›w.h
>

34 
	~<funùiÚ®
>

35 
	~<unÜd”ed_m­
>

39 
Çme¥aû
 
	ghmdf


42 
LIBRARY_API
 
	gH‘”oPŒV›w
 {

44 
	gpublic
:

46 
usšg
 
size_ty³
 = 
size_t
;

48 
H‘”oPŒV›w
() = ;

49 
	g‹m¶©e
<
ty³Çme
 
	gT
>

50 
H‘”oPŒV›w
(
T
 *
begš_±r
, T *
’d_±r
);

61 
	g‹m¶©e
<
ty³Çme
 
	gT
>

62 
£t_begš_’d_¥ecŸl
(
T
 *
bp
, T *
•_1
);

64 
	g‹m¶©e
<
ty³Çme
 
	gT
>

65 
H‘”oPŒV›w
(
VeùÜPŒV›w
<
T
> &
vec
);

66 
	g‹m¶©e
<
ty³Çme
 
	gT
>

67 
H‘”oPŒV›w
(
VeùÜPŒV›w
<
T
> &&
vec
);

68 
H‘”oPŒV›w
(cÚ¡ H‘”oPŒV›w &
th©
);

69 
H‘”oPŒV›w
(H‘”oPŒV›w &&
th©
);

71 ~
H‘”oPŒV›w
(è{ 
ş—r
(); }

73 
	gH‘”oPŒV›w
 &
	gİ”©Ü
ğ(cÚ¡ 
H‘”oPŒV›w
 &
rhs
);

74 
	gH‘”oPŒV›w
 &
	gİ”©Ü
ğ(
H‘”oPŒV›w
 &&
rhs
);

76 
	g‹m¶©e
<
ty³Çme
 
	gT
>

77 
	gVeùÜPŒV›w
<
	gT
> &
g‘_veùÜ
();

78 
	g‹m¶©e
<
ty³Çme
 
	gT
>

79 cÚ¡ 
	gVeùÜPŒV›w
<
	gT
> &
g‘_veùÜ
() const;

81 
	g‹m¶©e
<
ty³Çme
 
	gT
>

82 
»£rve
 (
size_ty³
 
r
è{ 
	gg‘_veùÜ
<
	gT
>().reserve (r); }

83 
	g‹m¶©e
<
ty³Çme
 
	gT
>

84 
shršk_to_f™
 (è{ 
	gg‘_veùÜ
<
	gT
>().shrink_to_fit (); }

86 
	g‹m¶©e
<
ty³Çme
 
	gT
>

87 
ty³Çme
 
	gVeùÜPŒV›w
<
	gT
>::

88 
size_ty³
 
size
 (ècÚ¡ {  (
g‘_veùÜ
<
T
>().size()); }

90 
ş—r
();

92 
	g‹m¶©e
<
ty³Çme
 
	gT
>

93 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
;

95 
	g‹m¶©e
<
ty³Çme
 
	gT
>

96 
	gT
 &
©
(
size_ty³
 
idx
);

97 
	g‹m¶©e
<
ty³Çme
 
	gT
>

98 cÚ¡ 
	gT
 &
©
(
size_ty³
 
idx
) const;

100 
	g‹m¶©e
<
ty³Çme
 
	gT
>

101 
	gT
 &
back
();

102 
	g‹m¶©e
<
ty³Çme
 
	gT
>

103 cÚ¡ 
	gT
 &
back
() const;

105 
	g‹m¶©e
<
ty³Çme
 
	gT
>

106 
	gT
 &
äÚt
();

107 
	g‹m¶©e
<
ty³Çme
 
	gT
>

108 cÚ¡ 
	gT
 &
äÚt
() const;

110 
	g´iv©e
:

112 
‹m¶©e
<
ty³Çme
 
T
>

113 
šlše
 
¡d
::
unÜd”ed_m­
<cÚ¡ 
H‘”oPŒV›w
 *, 
	gVeùÜPŒV›w
<
	gT
>>

114 
	gv›ws_
 { };

116 
	g¡d
::
funùiÚ
<(
H‘”oPŒV›w
 &)>

117 
ş—r_funùiÚ_
 {

118 [](
H‘”oPŒV›w
 &) { ; }

120 
	g¡d
::
funùiÚ
<(cÚ¡ 
H‘”oPŒV›w
 &, 
	gH‘”oPŒV›w
 &)>

121 
	gcİy_funùiÚ_
 {

122 [](cÚ¡ 
	gH‘”oPŒV›w
 &, HeteroPtrView &) { ; }

124 
	g¡d
::
funùiÚ
<(
H‘”oPŒV›w
 &, 
	gH‘”oPŒV›w
 &)>

125 
	gmove_funùiÚ_
 {

126 [](
	gH‘”oPŒV›w
 &, HeteroPtrView &) { ; }

131 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

132 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
);

133 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

134 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
) const;

136 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

137 
sÜt_im¶_h–p_
 (
T
 &
funùÜ
);

139 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

140 
chªge_im¶_h–p_
 (
T
 &
funùÜ
);

141 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

142 
chªge_im¶_h–p_
 (
T
 &
funùÜ
) const;

146 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

147 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>);

148 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

149 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>) const;

151 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

152 
sÜt_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

154 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

155 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

156 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

157 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>) const;

159 
	gpublic
:

161 
‹m¶©e
<
ty³Çme
... 
Ts
>

162 
	sty³_li¡
 { };

164 
	g‹m¶©e
<
	gty³Çme
... 
	gTs
>

165 
	svis™Ü_ba£
 { 
usšg
 
	gty³s
 = 
ty³_li¡
<
Ts
 ...>; };

167 
	g‹m¶©e
<
ty³Çme
 
	gT
>

168 
vis™
 (
T
 &&
vis™Ü
) {

170 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

172 
	g‹m¶©e
<
ty³Çme
 
	gT
>

173 
vis™
 (
T
 &&
vis™Ü
) const {

175 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

177 
	g‹m¶©e
<
ty³Çme
 
	gT
>

178 
sÜt
 (
T
 &&
funùÜ
) {

180 
sÜt_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

182 
	g‹m¶©e
<
ty³Çme
 
	gT
>

183 
chªge
 (
T
 &&
funùÜ
) {

185 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

187 
	g‹m¶©e
<
ty³Çme
 
	gT
>

188 
chªge
 (
T
 &&
funùÜ
) const {

190 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

198 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


199 
	~<D©aF¿me/VeùÜs/H‘”oPŒV›w.tcc
>

	@DataFrame/AIFM/include/DataFrame/Vectors/HeteroVector.h

30 #´agm¨
Úû


32 
	~"d©aäame_veùÜ.hµ
"

33 
	~"mªag”.hµ
"

35 
	~<D©aF¿me/VeùÜs/H‘”oPŒV›w.h
>

36 
	~<D©aF¿me/VeùÜs/H‘”oV›w.h
>

38 
	~<unÜd”ed_m­
>

42 
Çme¥aû
 
	ghmdf


49 
	sH‘”oVeùÜ
 {

51 
	gpublic
:

53 
usšg
 
size_ty³
 = 
size_t
;

55 
H‘”oVeùÜ
();

56 
H‘”oVeùÜ
(cÚ¡ H‘”oVeùÜ &
th©
);

57 
H‘”oVeùÜ
(H‘”oVeùÜ &&
th©
è
	gnÛxû±
;

59 ~
H‘”oVeùÜ
(è{ 
ş—r
(); }

61 
	gH‘”oVeùÜ
 &
	gİ”©Ü
ğ(cÚ¡ 
H‘”oVeùÜ
 &
rhs
);

62 
	gH‘”oVeùÜ
 &
	gİ”©Ü
ğ(
H‘”oVeùÜ
 &&
rhs
è
nÛxû±
;

64 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

65 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
>& 
g‘_exi¡ed_veùÜ
();

66 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

67 cÚ¡ 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
>&

68 
g‘_exi¡ed_veùÜ
() const;

70 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

71 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
>&

72 
g‘_veùÜ
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
);

73 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

74 cÚ¡ 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
>&

75 
g‘_veùÜ
(
çr_memÜy
::
F¬MemMªag”
 *
mªag”
) const;

82 
	g‹m¶©e
<
ty³Çme
 
	gT
>

83 
H‘”oV›w
 
g‘_v›w
(
size_ty³
 
begš
 = 0, size_ty³ 
’d
 = -1);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
>

86 
H‘”oPŒV›w
 
g‘_±r_v›w
(
size_ty³
 
begš
 = 0, size_ty³ 
’d
 = -1);

88 
	g‹m¶©e
<
ty³Çme
 
	gT
>

89 
push_back
(cÚ¡ 
T
 &
v
);

90 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gşass
... 
	gArgs
>

91 
em¶aû_back
 (
Args
 &&... 
¬gs
);

92 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
, 
	gşass
... 
	gArgs
>

93 
em¶aû
 (
ITR
 
pos
, 
Args
 &&... 
¬gs
);

95 
	g‹m¶©e
<
ty³Çme
 
	gT
>

96 
»£rve
 (
size_ty³
 
r
è{ 
	gg‘_exi¡ed_veùÜ
<
	gT
>().reserve (r); }

97 
	g‹m¶©e
<
ty³Çme
 
	gT
>

98 
shršk_to_f™
 (è{ 
	gg‘_exi¡ed_veùÜ
<
	gT
>().shrink_to_fit (); }

100 
	g‹m¶©e
<
ty³Çme
 
	gT
>

101 
size_ty³
 
size
 (ècÚ¡ {  (
	gg‘_exi¡ed_veùÜ
<
	gT
>().size()); }

103 
ş—r
();

105 
	g‹m¶©e
<
ty³Çme
 
	gT
>

106 
”a£
(
size_ty³
 
pos
);

108 
	g‹m¶©e
<
ty³Çme
 
	gT
>

109 
»size
(
size_ty³
 
couÁ
);

110 
	g‹m¶©e
<
ty³Çme
 
	gT
>

111 
»size
(
size_ty³
 
couÁ
, cÚ¡ 
T
 &
v
);

113 
	g‹m¶©e
<
ty³Çme
 
	gT
>

114 
pİ_back
();

116 
	g‹m¶©e
<
ty³Çme
 
	gT
>

117 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
;

119 
	g‹m¶©e
<
ty³Çme
 
	gT
>

120 
	gT
 &
©
(
size_ty³
 
idx
);

121 
	g‹m¶©e
<
ty³Çme
 
	gT
>

122 cÚ¡ 
	gT
 &
©
(
size_ty³
 
idx
) const;

124 
	g‹m¶©e
<
ty³Çme
 
	gT
>

125 
	gT
 &
back
();

126 
	g‹m¶©e
<
ty³Çme
 
	gT
>

127 cÚ¡ 
	gT
 &
back
() const;

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
	gT
 &
äÚt
();

131 
	g‹m¶©e
<
ty³Çme
 
	gT
>

132 cÚ¡ 
	gT
 &
äÚt
() const;

134 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

135 şas 
	cNÙIm¶em’‹d
 {};

136 
	g‹m¶©e
<
ty³Çme
 
	gT
>

137 
usšg
 
	g™”©Ü
 = 
NÙIm¶em’‹d
<
T
>;

138 
	g‹m¶©e
<
ty³Çme
 
	gT
>

139 
usšg
 
	gcÚ¡_™”©Ü
 = 
NÙIm¶em’‹d
<
T
>;

140 
	g‹m¶©e
<
ty³Çme
 
	gT
>

141 
usšg
 
	g»v”£_™”©Ü
 = 
NÙIm¶em’‹d
<
T
>;

142 
	g‹m¶©e
<
ty³Çme
 
	gT
>

143 
usšg
 
	gcÚ¡_»v”£_™”©Ü
 = 
NÙIm¶em’‹d
<
T
>;

145 
	g‹m¶©e
<
ty³Çme
 
	gT
>

146 
šlše
 
	g™”©Ü
<
	gT
>

147 
begš
(è
	gnÛxû±
 {

148 
BUG
();

151 
	g‹m¶©e
<
ty³Çme
 
	gT
>

152 
šlše
 
	g™”©Ü
<
	gT
>

153 
’d
(è
	gnÛxû±
 {

154 
BUG
();

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	gcÚ¡_™”©Ü
<
	gT
>

159 
begš
 (ècÚ¡ 
	gnÛxû±
 {

160 
BUG
();

163 
	g‹m¶©e
<
ty³Çme
 
	gT
>

164 
šlše
 
	gcÚ¡_™”©Ü
<
	gT
>

165 
’d
 (ècÚ¡ 
	gnÛxû±
 {

166 
BUG
();

169 
	g‹m¶©e
<
ty³Çme
 
	gT
>

170 
šlše
 
	g»v”£_™”©Ü
<
	gT
>

171 
rbegš
(è
	gnÛxû±
 {

172 
BUG
();

175 
	g‹m¶©e
<
ty³Çme
 
	gT
>

176 
šlše
 
	g»v”£_™”©Ü
<
	gT
>

177 
»nd
(è
	gnÛxû±
 {

178 
BUG
();

181 
	g‹m¶©e
<
ty³Çme
 
	gT
>

182 
šlše
 
	gcÚ¡_»v”£_™”©Ü
<
	gT
>

183 
rbegš
 (ècÚ¡ 
	gnÛxû±
 {

184 
BUG
();

187 
	g‹m¶©e
<
ty³Çme
 
	gT
>

188 
šlše
 
	gcÚ¡_»v”£_™”©Ü
<
	gT
>

189 
»nd
 (ècÚ¡ 
	gnÛxû±
 {

190 
BUG
();

193 
	g´iv©e
:

195 
‹m¶©e
<
ty³Çme
 
T
>

196 
šlše
 
¡d
::
unÜd”ed_m­
<cÚ¡ 
H‘”oVeùÜ
 *,

197 
	gçr_memÜy
::
D©aF¿meVeùÜ
<
T
>>

198 
veùÜs_
 { };

200 
	g¡d
::
veùÜ
<
¡d
::
funùiÚ
<(
H‘”oVeùÜ
 &)>> 
ş—r_funùiÚs_
;

201 
	g¡d
::
veùÜ
<
¡d
::
funùiÚ
<(cÚ¡ 
H‘”oVeùÜ
 &,

202 
	gH‘”oVeùÜ
 &)>> 
	gcİy_funùiÚs_
;

203 
	g¡d
::
veùÜ
<
¡d
::
funùiÚ
<(
H‘”oVeùÜ
 &,

204 
	gH‘”oVeùÜ
 &)>> 
	gmove_funùiÚs_
;

208 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

209 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
);

210 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

211 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
) const;

213 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

214 
sÜt_im¶_h–p_
 (
T
 &
funùÜ
);

216 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

217 
chªge_im¶_h–p_
 (
T
 &
funùÜ
);

218 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

219 
chªge_im¶_h–p_
 (
T
 &
funùÜ
) const;

223 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

224 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>);

225 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

226 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>) const;

228 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

229 
sÜt_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

231 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

232 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

233 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

234 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>) const;

236 
	gpublic
:

238 
‹m¶©e
<
ty³Çme
... 
Ts
>

239 
	sty³_li¡
 { };

241 
	g‹m¶©e
<
	gty³Çme
... 
	gTs
>

242 
	svis™Ü_ba£
 { 
usšg
 
	gty³s
 = 
ty³_li¡
<
Ts
 ...>; };

244 
	g‹m¶©e
<
ty³Çme
 
	gT
>

245 
vis™
 (
T
 &&
vis™Ü
) {

247 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

249 
	g‹m¶©e
<
ty³Çme
 
	gT
>

250 
vis™
 (
T
 &&
vis™Ü
) const {

252 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

254 
	g‹m¶©e
<
ty³Çme
 
	gT
>

255 
sÜt
 (
T
 &&
funùÜ
) {

257 
sÜt_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

259 
	g‹m¶©e
<
ty³Çme
 
	gT
>

260 
chªge
 (
T
 &&
funùÜ
) {

262 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

264 
	g‹m¶©e
<
ty³Çme
 
	gT
>

265 
chªge
 (
T
 &&
funùÜ
) const {

267 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

275 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


276 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.tcc
>

	@DataFrame/AIFM/include/DataFrame/Vectors/HeteroView.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/VeùÜs/VeùÜV›w.h
>

34 
	~<funùiÚ®
>

35 
	~<unÜd”ed_m­
>

39 
Çme¥aû
 
	ghmdf


42 
	sH‘”oV›w
 {

44 
	gpublic
:

46 
usšg
 
size_ty³
 = 
size_t
;

48 
H‘”oV›w
() = ;

49 
	g‹m¶©e
<
ty³Çme
 
	gT
>

50 
H‘”oV›w
(
T
 *
begš_±r
, T *
’d_±r
);

61 
	g‹m¶©e
<
ty³Çme
 
	gT
>

62 
£t_begš_’d_¥ecŸl
(
T
 *
bp
, T *
•_1
);

64 
H‘”oV›w
(cÚ¡ H‘”oV›w &
th©
);

65 
H‘”oV›w
(H‘”oV›w &&
th©
);

67 ~
H‘”oV›w
(è{ 
ş—r
(); }

69 
	gH‘”oV›w
 &
	gİ”©Ü
ğ(cÚ¡ 
H‘”oV›w
 &
rhs
);

70 
	gH‘”oV›w
 &
	gİ”©Ü
ğ(
H‘”oV›w
 &&
rhs
);

72 
	g‹m¶©e
<
ty³Çme
 
	gT
>

73 
	gVeùÜV›w
<
	gT
> &
g‘_veùÜ
();

74 
	g‹m¶©e
<
ty³Çme
 
	gT
>

75 cÚ¡ 
	gVeùÜV›w
<
	gT
> &
g‘_veùÜ
() const;

77 
	g‹m¶©e
<
ty³Çme
 
	gT
>

78 
ty³Çme
 
	gVeùÜV›w
<
	gT
>::

79 
size_ty³
 
size
 (ècÚ¡ {  (
g‘_veùÜ
<
T
>().size()); }

81 
ş—r
();

83 
	g‹m¶©e
<
ty³Çme
 
	gT
>

84 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
;

86 
	g‹m¶©e
<
ty³Çme
 
	gT
>

87 
	gT
 &
©
(
size_ty³
 
idx
);

88 
	g‹m¶©e
<
ty³Çme
 
	gT
>

89 cÚ¡ 
	gT
 &
©
(
size_ty³
 
idx
) const;

91 
	g‹m¶©e
<
ty³Çme
 
	gT
>

92 
	gT
 &
back
();

93 
	g‹m¶©e
<
ty³Çme
 
	gT
>

94 cÚ¡ 
	gT
 &
back
() const;

96 
	g‹m¶©e
<
ty³Çme
 
	gT
>

97 
	gT
 &
äÚt
();

98 
	g‹m¶©e
<
ty³Çme
 
	gT
>

99 cÚ¡ 
	gT
 &
äÚt
() const;

101 
	g‹m¶©e
<
ty³Çme
 
	gT
>

102 
usšg
 
	g™”©Ü
 = 
ty³Çme
 
VeùÜV›w
<
T
>::
™”©Ü
;

103 
	g‹m¶©e
<
ty³Çme
 
	gT
>

104 
usšg
 
	gcÚ¡_™”©Ü
 = 
ty³Çme
 
VeùÜV›w
<
T
>::
cÚ¡_™”©Ü
;

105 
	g‹m¶©e
<
ty³Çme
 
	gT
>

106 
usšg
 
	g»v”£_™”©Ü
 = 
ty³Çme
 
VeùÜV›w
<
T
>::
»v”£_™”©Ü
;

107 
	g‹m¶©e
<
ty³Çme
 
	gT
>

108 
usšg
 
	gcÚ¡_»v”£_™”©Ü
 =

109 
ty³Çme
 
VeùÜV›w
<
T
>::
cÚ¡_»v”£_™”©Ü
;

111 
	g‹m¶©e
<
ty³Çme
 
	gT
>

112 
	g™”©Ü
<
	gT
> 
begš
();

113 
	g‹m¶©e
<
ty³Çme
 
	gT
>

114 
	gcÚ¡_™”©Ü
<
	gT
> 
begš
() const;

116 
	g‹m¶©e
<
ty³Çme
 
	gT
>

117 
	g™”©Ü
<
	gT
> 
’d
();

118 
	g‹m¶©e
<
ty³Çme
 
	gT
>

119 
	gcÚ¡_™”©Ü
<
	gT
> 
’d
() const;

121 
	g‹m¶©e
<
ty³Çme
 
	gT
>

122 
	g»v”£_™”©Ü
<
	gT
> 
rbegš
();

123 
	g‹m¶©e
<
ty³Çme
 
	gT
>

124 
	gcÚ¡_»v”£_™”©Ü
<
	gT
> 
rbegš
() const;

126 
	g‹m¶©e
<
ty³Çme
 
	gT
>

127 
	g»v”£_™”©Ü
<
	gT
> 
»nd
();

128 
	g‹m¶©e
<
ty³Çme
 
	gT
>

129 
	gcÚ¡_»v”£_™”©Ü
<
	gT
> 
»nd
() const;

131 
	g´iv©e
:

133 
‹m¶©e
<
ty³Çme
 
T
>

134 
šlše
 

135 
¡d
::
unÜd”ed_m­
<cÚ¡ 
H‘”oV›w
 *, 
	gVeùÜV›w
<
	gT
>> 
	gv›ws_
 { };

137 
	g¡d
::
funùiÚ
<(
H‘”oV›w
 &)> 
ş—r_funùiÚ_
 {

138 [](
H‘”oV›w
 &) { ; }

140 
	g¡d
::
funùiÚ
<(cÚ¡ 
H‘”oV›w
 &, 
	gH‘”oV›w
 &)> 
	gcİy_funùiÚ_
 {

141 [](cÚ¡ 
	gH‘”oV›w
 &, HeteroView &) { ; }

143 
	g¡d
::
funùiÚ
<(
H‘”oV›w
 &, 
	gH‘”oV›w
 &)> 
	gmove_funùiÚ_
 {

144 [](
	gH‘”oV›w
 &, HeteroView &) { ; }

149 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

150 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
);

151 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

152 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
) const;

154 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

155 
sÜt_im¶_h–p_
 (
T
 &
funùÜ
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

158 
chªge_im¶_h–p_
 (
T
 &
funùÜ
);

159 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

160 
chªge_im¶_h–p_
 (
T
 &
funùÜ
) const;

164 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

165 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>);

166 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

167 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>) const;

169 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

170 
sÜt_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

172 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

173 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

174 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

175 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>) const;

177 
	gpublic
:

179 
‹m¶©e
<
ty³Çme
... 
Ts
>

180 
	sty³_li¡
 { };

182 
	g‹m¶©e
<
	gty³Çme
... 
	gTs
>

183 
	svis™Ü_ba£
 { 
usšg
 
	gty³s
 = 
ty³_li¡
<
Ts
 ...>; };

185 
	g‹m¶©e
<
ty³Çme
 
	gT
>

186 
vis™
 (
T
 &&
vis™Ü
) {

188 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

190 
	g‹m¶©e
<
ty³Çme
 
	gT
>

191 
vis™
 (
T
 &&
vis™Ü
) const {

193 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

195 
	g‹m¶©e
<
ty³Çme
 
	gT
>

196 
sÜt
 (
T
 &&
funùÜ
) {

198 
sÜt_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

200 
	g‹m¶©e
<
ty³Çme
 
	gT
>

201 
chªge
 (
T
 &&
funùÜ
) {

203 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

205 
	g‹m¶©e
<
ty³Çme
 
	gT
>

206 
chªge
 (
T
 &&
funùÜ
) const {

208 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

216 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


217 
	~<D©aF¿me/VeùÜs/H‘”oV›w.tcc
>

	@DataFrame/AIFM/include/DataFrame/Vectors/VectorPtrView.h

30 #´agm¨
Úû


32 
	~<®gÜ™hm
>

33 
	~<funùiÚ®
>

34 
	~<™”©Ü
>

35 
	~<veùÜ
>

37 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

38 #ifdeà
LIBRARY_EXPORTS


39 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

41 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

44 
	#LIBRARY_API


	)

49 
Çme¥aû
 
	ghmdf


52 
	g‹m¶©e
<
ty³Çme
 
	gT
>

53 şas 
	cLIBRARY_API
 
	gVeùÜPŒV›w
 {

55 
	g´iv©e
:

57 
usšg
 
veùÜ_ty³
 = 
¡d
::
veùÜ
<
T
 *>;

59 
veùÜ_ty³
 
	gveùÜ_
 { };

61 
	gpublic
:

63 
usšg
 
v®ue_ty³
 = 
T
;

64 
usšg
 
	gpoš‹r
 = 
T
 *;

65 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
T
 *;

66 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
T
 *const;

67 
usšg
 
	g»ã»nû
 = 
T
 &;

68 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
T
 &;

69 
usšg
 
	gsize_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
size_ty³
;

70 
usšg
 
	gdifã»nû_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
difã»nû_ty³
;

72 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
T
);

74 
	gpublic
:

76 
šlše
 
size_ty³
 
size
(ècÚ¡ 
nÛxû±
 {  (
veùÜ_
.size ()); }

77 
šlše
 
size_ty³
 
max_size
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.max_size()); }

78 
šlše
 
size_ty³
 
ÿ·c™y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.capacity()); }

80 
šlše
 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.empty()); }

81 
šlše
 
shršk_to_f™
(è{ 
	gveùÜ_
.shrink_to_fit(); }

83 
šlše
 
»ã»nû
 
©
(
size_ty³
 
n
è{  (*(
	gveùÜ_
[n])); }

84 
šlše
 
	gpoš‹r
 &
±r_©
(
size_ty³
 
n
è{  (
	gveùÜ_
[n]); }

85 
šlše
 
cÚ¡_»ã»nû
 
©
(
size_ty³
 
n
ècÚ¡ {  (*(
	gveùÜ_
[n])); }

86 
šlše
 
»ã»nû
 
	gİ”©Ü
[](
size_ty³
 
	gn
è{  (
©
(
n
)); }

87 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
[](
size_ty³
 
	gn
ècÚ¡ {  (
©
(
n
)); }

89 
šlše
 
»£rve
 (
size_ty³
 
n
è
	gnÛxû±
 { 
	gveùÜ_
.reserve (n); }

91 
šlše
 
»ã»nû
 
äÚt
 (è
	gnÛxû±
 {  (*(
	gveùÜ_
.front ())); }

92 
šlše
 
cÚ¡_»ã»nû


93 
äÚt
(ècÚ¡ 
	gnÛxû±
 { (*(
	gveùÜ_
.front())); }

94 
šlše
 
»ã»nû
 
back
 (è
	gnÛxû±
 {  (*(
	gveùÜ_
.back ())); }

95 
šlše
 
cÚ¡_»ã»nû


96 
back
 (ècÚ¡ 
	gnÛxû±
 {  (*(
	gveùÜ_
.back ())); }

98 
šlše
 
push_back
(
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.push_back(v); }

99 
šlše
 
em¶aû_back
(
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.emplace_back(v); }

100 
šlše
 
pİ_back
(è{ 
	gveùÜ_
.pop_back(); }

102 
šlše
 

103 
sw­
 (
VeùÜPŒV›w
 &
rhs
è
	gnÛxû±
 { 
	gveùÜ_
.sw­ (rhs.
veùÜ_
); }

105 
šlše
 
ä›nd
 
boŞ


106 
	gİ”©Ü
 =ğ(cÚ¡ 
VeùÜPŒV›w
 &
lhs
, cÚ¡ 
	gVeùÜPŒV›w
 &
	grhs
) {

108  (
	glhs
.
	gveùÜ_
 =ğ
rhs
.
veùÜ_
);

110 
šlše
 
ä›nd
 
boŞ


111 
	gİ”©Ü
 < (cÚ¡ 
	gVeùÜPŒV›w
 &
	glhs
, cÚ¡ VeùÜPŒV›w &
	grhs
) {

113  (
	glhs
.
	gveùÜ_
 < 
	grhs
.vector_);

116 
šlše
 
VeùÜPŒV›w
 () = ;

117 
šlše
 
VeùÜPŒV›w
 (const VectorPtrView &) = ;

118 
šlše
 
VeùÜPŒV›w
 (VectorPtrView &&) = ;

119 
šlše
 
VeùÜPŒV›w
(cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

120 
šlše
 
VeùÜPŒV›w
(
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

121 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

122 
VeùÜPŒV›w
(
ITR
 
fœ¡
, ITR 
Ï¡
) {

124 
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

125 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

126 
push_back
(&(*
™”
));

128 ~
VeùÜPŒV›w
 () = ;

139 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

140 
šlše
 
£t_begš_’d_¥ecŸl
(
ITR
 
fœ¡
, ITR 
Ï¡_1
) {

142 
ITR
 
	gÏ¡
 = 
Ï¡_1
;

144 
	gÏ¡
 += 1;

145 
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

146 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

147 
push_back
(&(*
™”
));

150 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (cÚ¡ 
VeùÜPŒV›w
 &) = ;

151 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (
VeùÜPŒV›w
 &&) = ;

152 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
) {

154 
VeùÜPŒV›w
 
tmp_vec
;

155 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

157 
»£rve
(
vec_size
);

158 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

159 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

160 
sw­
(
tmp_vec
);

161  (*
	gthis
);

163 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (
¡d
::
veùÜ
<
T
> &
rhs
) {

165 
VeùÜPŒV›w
 
tmp_vec
;

166 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

168 
»£rve
(
vec_size
);

169 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

170 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

171 
sw­
(
tmp_vec
);

172  (*
	gthis
);

175 
šlše
 
ş—r
 (è
throw
 (è{ 
	gveùÜ_
.clear(); }

176 
šlše
 
»size
 (
size_ty³
 
n
è
throw
 (è{ 
	gveùÜ_
.resize(n); }

178 
šlše
 

179 
”a£
 (
size_ty³
 
pos
è{ 
	gveùÜ_
.”a£ (
veùÜ_
.
begš
() +…os); }

180 
šlše
 
”a£
 (
size_ty³
 
fœ¡
, size_ty³ 
Ï¡
) {

182 
	gveùÜ_
.
”a£
 (
veùÜ_
.
begš
(è+ 
fœ¡
, veùÜ_.begš(è+ 
Ï¡
);

185 
šlše
 
š£¹
 (
size_ty³
 
pos
, 
v®ue_ty³
 *
v
) {

187 
	gveùÜ_
.
š£¹
 (
veùÜ_
.
begš
(è+ 
pos
, 
v
);

189 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

190 
šlše
 
š£¹
(
size_ty³
 
pos
, 
ITR
 
fœ¡
, ITR 
Ï¡
) {

192 
	g¡d
::
veùÜ
<
T
 *> 
tmp_vec
;

194 
	gtmp_vec
.
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

195 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

196 
	gtmp_vec
.
push_back
(&(*
™”
));

197 
	gveùÜ_
.
»£rve
(
veùÜ_
.
size
(è+ 
tmp_vec
.size());

198 
	gveùÜ_
.
š£¹
(
veùÜ_
.
begš
(è+ 
pos
, 
tmp_vec
.begš(),mp_vec.
’d
());

201 
šlše
 

202 
sÜt
(
¡d
::
funùiÚ
<
boŞ
(cÚ¡ 
v®ue_ty³
 *, cÚ¡ v®ue_ty³ *)> 
comp
 =

203 [](cÚ¡ 
v®ue_ty³
 *
l
, cÚ¡ v®ue_ty³ *
r
è-> 
boŞ
 {

204  *
l
 < *
r
;

207 
	g¡d
::
sÜt
(
veùÜ_
.
begš
(), veùÜ_.
’d
(), 
comp
);

210 
	gpublic
:

215 
şass
 
cÚ¡_™”©Ü
;

216 şas 
	c™”©Ü
 {

218 
	g´iv©e
:

220 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
™”©Ü
;

222 
	gpublic
:

224 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

225 
usšg
 
	gv®ue_ty³
 = 
T
;

226 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

227 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

228 
usšg
 
	gdifã»nû_ty³
 = ;

230 
	gpublic
:

235 
šlše
 
™”©Ü
 () = ;

236 
šlše
 
™”©Ü
 (const iterator &) = ;

237 
šlše
 
™”©Ü
 (iterator &&) = ;

238 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &) = ;

239 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 = (
™”©Ü
 &&) = ;

241 
šlše
 
™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±
 : 
node_
 (node) { }

242 
šlše
 
™”©Ü
 (
poš‹r
 *
node
è
nÛxû±
 : 
node_
 (node) { }

244 
šlše
 
™”©Ü
 &
İ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

246 
node_
 = 
rhs
;

247  (*
	gthis
);

249 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 = (
poš‹r
 *
rhs
è
nÛxû±
 {

251 
node_
 = 
™”_ty³
(
rhs
);

252  (*
	gthis
);

255 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

257  (
node_
 =ğ
rhs
.node_);

259 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

261  (
node_
 !ğ
rhs
.node_);

267 
šlše
 
poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

268 
šlše
 
»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {  (**
	gnode_
); }

269 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

273 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

275 
	gnode_
 += 1;

276  (*
	gthis
);

278 
šlše
 
™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

280 
™”_ty³
 
	g»t_node
 = 
node_
;

282 
	gnode_
 += 1;

283  (
™”©Ü
 (
»t_node
));

286 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

288 
node_
 +ğ
¡•
;

289  (*
	gthis
);

292 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

294 
	gnode_
 -= 1;

295  (*
	gthis
);

297 
šlše
 
™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

299 
™”_ty³
 
	g»t_node
 = 
node_
;

301 
	gnode_
 -= 1;

302  (
™”©Ü
 (
»t_node
));

305 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

307 
node_
 -ğ
¡•
;

308  (*
	gthis
);

311 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

313 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

315 
	g»t_node
 +ğ
¡•
;

316  (
™”©Ü
 (
»t_node
));

319 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

321 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

323 
	g»t_node
 -ğ
¡•
;

324  (
™”©Ü
 (
»t_node
));

327 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

329 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

331 
	g»t_node
 +ğ
¡•
;

332  (
™”©Ü
 (
»t_node
));

335 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

337 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

339 
	g»t_node
 -ğ
¡•
;

340  (
™”©Ü
 (
»t_node
));

343 
	g´iv©e
:

345 
™”_ty³
 
node_
 { };

347 
ä›nd
 
şass
 
	gcÚ¡_™”©Ü
;

350 şas 
	ccÚ¡_™”©Ü
 {

352 
	g´iv©e
:

354 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_™”©Ü
;

356 
	gpublic
:

358 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

359 
usšg
 
	gv®ue_ty³
 = 
T
;

360 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

361 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

362 
usšg
 
	gdifã»nû_ty³
 = ;

364 
	gpublic
:

369 
šlše
 
cÚ¡_™”©Ü
 () = ;

370 
šlše
 
cÚ¡_™”©Ü
 (const const_iterator &) = ;

371 
šlše
 
cÚ¡_™”©Ü
 (const_iterator &&) = ;

372 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &) = ;

373 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
cÚ¡_™”©Ü
 &&) = ;

375 
šlše
 
cÚ¡_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±
 : 
node_
 (node) { }

376 
šlše
 
cÚ¡_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


377 : 
node_
 (
node
) { }

378 
šlše
 
cÚ¡_™”©Ü
 (cÚ¡ 
™”©Ü
 &
™r
è
nÛxû±
 { *
this
 = itr; }

380 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

382 
node_
 = 
rhs
;

383  (*
	gthis
);

385 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

387 
node_
 = 
™”_ty³
(
rhs
);

388  (*
	gthis
);

390 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &
rhs
è
nÛxû±
 {

392 
node_
 = 
rhs
.node_;

393  (*
	gthis
);

396 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

397 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

399  (
node_
 =ğ
rhs
.node_);

401 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

402 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

404  (
node_
 !ğ
rhs
.node_);

410 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

411 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

413  (**
	gnode_
);

415 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

419 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

421 
	gnode_
 += 1;

422  (*
	gthis
);

427 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

429 
™”_ty³
 
	g»t_node
 = 
node_
;

431 
	gnode_
 += 1;

432  (
cÚ¡_™”©Ü
 (
»t_node
));

435 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

437 
node_
 +ğ
¡•
;

438  (*
	gthis
);

443 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

445 
	gnode_
 -= 1;

446  (*
	gthis
);

451 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

453 
™”_ty³
 
	g»t_node
 = 
node_
;

455 
	gnode_
 -= 1;

456  (
cÚ¡_™”©Ü
 (
»t_node
));

459 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

461 
node_
 -ğ
¡•
;

462  (*
	gthis
);

465 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

467 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

469 
	g»t_node
 +ğ
¡•
;

470  (
cÚ¡_™”©Ü
 (
»t_node
));

473 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

475 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

477 
	g»t_node
 -ğ
¡•
;

478  (
cÚ¡_™”©Ü
 (
»t_node
));

481 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

483 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

485 
	g»t_node
 +ğ
¡•
;

486  (
cÚ¡_™”©Ü
 (
»t_node
));

489 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

491 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

493 
	g»t_node
 -ğ
¡•
;

494  (
cÚ¡_™”©Ü
 (
»t_node
));

497 
	g´iv©e
:

499 
™”_ty³
 
node_
 { };

502 şas 
	ccÚ¡_»v”£_™”©Ü
 {

504 
	g´iv©e
:

506 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_»v”£_™”©Ü
;

508 
	gpublic
:

510 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

511 
usšg
 
	gv®ue_ty³
 = 
T
;

512 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

513 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

514 
usšg
 
	gdifã»nû_ty³
 = ;

516 
	gpublic
:

521 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

522 
šlše
 
cÚ¡_»v”£_™”©Ü
(const const_reverse_iterator &) = ;

523 
šlše
 
cÚ¡_»v”£_™”©Ü
(const_reverse_iterator &&) = ;

524 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

525 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &) = ;

526 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

527 
	gİ”©Ü
 = (
cÚ¡_»v”£_™”©Ü
 &&) = ;

529 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±


530 : 
node_
 (
node
) { }

531 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


532 : 
node_
 (
node
) { }

533 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


534 { *
this
 = 
™r
; }

536 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
™”©Ü
 &
™r
è
	gnÛxû±


537 { *
	gthis
 = 
™r
; }

539 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

541 
node_
 = 
rhs
;

542  (*
	gthis
);

544 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

545 
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

547 
node_
 = 
™”_ty³
(
rhs
);

548  (*
	gthis
);

550 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

551 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

553 
node_
 = 
rhs
.node_;

554  (*
	gthis
);

556 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

557 
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &
rhs
è
nÛxû±
 {

559 
node_
 = 
rhs
.node_;

560  (*
	gthis
);

563 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

564 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

566  (
node_
 =ğ
rhs
.node_);

568 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

569 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

571  (
node_
 !ğ
rhs
.node_);

577 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

578 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 { (**
	gnode_
); }

579 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

583 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

585 
	gnode_
 -= 1;

586  (*
	gthis
);

591 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

593 
™”_ty³
 
	g»t_node
 = 
node_
;

595 
	gnode_
 -= 1;

596  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

599 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

601 
node_
 -ğ
¡•
;

602  (*
	gthis
);

607 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

609 
	gnode_
 += 1;

610  (*
	gthis
);

615 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

617 
™”_ty³
 
	g»t_node
 = 
node_
;

619 
	gnode_
 += 1;

620  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

623 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

625 
node_
 +ğ
¡•
;

626  (*
	gthis
);

629 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

631 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

633 
	g»t_node
 -ğ
¡•
;

634  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

637 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

639 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

641 
	g»t_node
 +ğ
¡•
;

642  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

645 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

647 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

649 
	g»t_node
 -ğ
¡•
;

650  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

653 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

655 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

657 
	g»t_node
 +ğ
¡•
;

658  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

661 
	g´iv©e
:

663 
™”_ty³
 
node_
 { };

665 
ä›nd
 
şass
 
	gcÚ¡_™”©Ü
;

668 
	gpublic
:

670 
šlše
 
™”©Ü
 
begš
 (è
nÛxû±
 {  (™”©Ü(
veùÜ_
.begin())); }

671 
šlše
 
™”©Ü
 
’d
 (è
	gnÛxû±
 {  (™”©Ü(
veùÜ_
.end())); }

672 
šlše
 
cÚ¡_™”©Ü


673 
begš
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.begin())); }

674 
šlše
 
cÚ¡_™”©Ü


675 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.end())); }

677 
šlše
 
cÚ¡_»v”£_™”©Ü


678 
rbegš
 (ècÚ¡ 
	gnÛxû±
 {

679  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
rbegš
()));

681 
šlše
 
cÚ¡_»v”£_™”©Ü


682 
»nd
 (ècÚ¡ 
	gnÛxû±
 {

684  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
»nd
()));

690 
	g‹m¶©e
<
ty³Çme
 
	gT
>

691 şas 
	cVeùÜCÚ¡PŒV›w
 {

693 
	g´iv©e
:

695 
usšg
 
veùÜ_ty³
 = 
¡d
::
veùÜ
<cÚ¡ 
T
 *>;

697 
veùÜ_ty³
 
	gveùÜ_
 { };

699 
	gpublic
:

701 
usšg
 
v®ue_ty³
 = 
T
;

702 
usšg
 
	gpoš‹r
 = cÚ¡ 
T
 *;

703 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
T
 *;

704 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
T
 *const;

705 
usšg
 
	g»ã»nû
 = cÚ¡ 
T
 &;

706 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
T
 &;

707 
usšg
 
	gsize_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
size_ty³
;

708 
usšg
 
	gdifã»nû_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
difã»nû_ty³
;

710 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
T
);

712 
	gpublic
:

714 
šlše
 
size_ty³
 
size
(ècÚ¡ 
nÛxû±
 {  (
veùÜ_
.size ()); }

715 
šlše
 
size_ty³
 
max_size
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.max_size()); }

716 
šlše
 
size_ty³
 
ÿ·c™y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.capacity()); }

718 
šlše
 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.empty()); }

719 
šlše
 
shršk_to_f™
(è{ 
	gveùÜ_
.shrink_to_fit(); }

721 
šlše
 
	gcÚ¡_poš‹r
 &
±r_©
(
size_ty³
 
n
ècÚ¡ {  (
	gveùÜ_
[n]); }

722 
šlše
 
cÚ¡_»ã»nû
 
©
(
size_ty³
 
n
ècÚ¡ {  (*(
	gveùÜ_
[n])); }

723 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
[](
size_ty³
 
	gn
ècÚ¡ {  (
©
(
n
)); }

725 
šlše
 
»£rve
 (
size_ty³
 
n
è
	gnÛxû±
 { 
	gveùÜ_
.reserve (n); }

727 
šlše
 
cÚ¡_»ã»nû


728 
äÚt
(ècÚ¡ 
	gnÛxû±
 { (*(
	gveùÜ_
.front())); }

729 
šlše
 
cÚ¡_»ã»nû


730 
back
 (ècÚ¡ 
	gnÛxû±
 {  (*(
	gveùÜ_
.back ())); }

732 
šlše
 
push_back
(cÚ¡ 
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.push_back(v); }

733 
šlše
 
em¶aû_back
(cÚ¡ 
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.emplace_back(v); }

734 
šlše
 
pİ_back
(è{ 
	gveùÜ_
.pop_back(); }

736 
šlše
 

737 
sw­
 (
VeùÜCÚ¡PŒV›w
 &
rhs
è
	gnÛxû±
 { 
	gveùÜ_
.sw­ (rhs.
veùÜ_
); }

739 
šlše
 
ä›nd
 
boŞ


740 
	gİ”©Ü
 =ğ(cÚ¡ 
VeùÜCÚ¡PŒV›w
 &
lhs
, cÚ¡ 
	gVeùÜCÚ¡PŒV›w
 &
	grhs
) {

742  (
	glhs
.
	gveùÜ_
 =ğ
rhs
.
veùÜ_
);

744 
šlše
 
ä›nd
 
boŞ


745 
	gİ”©Ü
 < (cÚ¡ 
	gVeùÜCÚ¡PŒV›w
 &
	glhs
, cÚ¡ VeùÜCÚ¡PŒV›w &
	grhs
) {

747  (
	glhs
.
	gveùÜ_
 < 
	grhs
.vector_);

750 
šlše
 
VeùÜCÚ¡PŒV›w
 () = ;

751 
šlše
 
VeùÜCÚ¡PŒV›w
 (const VectorConstPtrView &) = ;

752 
šlše
 
VeùÜCÚ¡PŒV›w
 (VectorConstPtrView &&) = ;

753 
šlše
 
VeùÜCÚ¡PŒV›w
(cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

754 
šlše
 
VeùÜCÚ¡PŒV›w
(
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

755 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

756 
VeùÜCÚ¡PŒV›w
(
ITR
 
fœ¡
, ITR 
Ï¡
) {

758 
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

759 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

760 
push_back
(&(*
™”
));

762 ~
VeùÜCÚ¡PŒV›w
 () = ;

764 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &

765 
	gİ”©Ü
 = (cÚ¡ 
VeùÜCÚ¡PŒV›w
 &) = ;

766 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &
	gİ”©Ü
 = (
VeùÜCÚ¡PŒV›w
 &&) = ;

767 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &
	gİ”©Ü
 = (cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
) {

769 
VeùÜCÚ¡PŒV›w
 
tmp_vec
;

770 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

772 
»£rve
(
vec_size
);

773 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

774 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

775 
sw­
(
tmp_vec
);

776  (*
	gthis
);

778 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &
	gİ”©Ü
 = (
¡d
::
veùÜ
<
T
> &
rhs
) {

780 
VeùÜCÚ¡PŒV›w
 
tmp_vec
;

781 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

783 
»£rve
(
vec_size
);

784 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

785 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

786 
sw­
(
tmp_vec
);

787  (*
	gthis
);

790 
šlše
 
ş—r
 (è
throw
 (è{ 
	gveùÜ_
.clear(); }

791 
šlše
 
»size
 (
size_ty³
 
n
è
throw
 (è{ 
	gveùÜ_
.resize(n); }

793 
šlše
 

794 
”a£
 (
size_ty³
 
pos
è{ 
	gveùÜ_
.”a£ (
veùÜ_
.
begš
() +…os); }

795 
šlše
 
”a£
 (
size_ty³
 
fœ¡
, size_ty³ 
Ï¡
) {

797 
	gveùÜ_
.
”a£
 (
veùÜ_
.
begš
(è+ 
fœ¡
, veùÜ_.begš(è+ 
Ï¡
);

800 
šlše
 
š£¹
 (
size_ty³
 
pos
, 
v®ue_ty³
 *
v
) {

802 
	gveùÜ_
.
š£¹
 (
veùÜ_
.
begš
(è+ 
pos
, 
v
);

804 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

805 
šlše
 
š£¹
(
size_ty³
 
pos
, 
ITR
 
fœ¡
, ITR 
Ï¡
) {

807 
	g¡d
::
veùÜ
<
T
 *> 
tmp_vec
;

809 
	gtmp_vec
.
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

810 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

811 
	gtmp_vec
.
push_back
(&(*
™”
));

812 
	gveùÜ_
.
»£rve
(
veùÜ_
.
size
(è+ 
tmp_vec
.size());

813 
	gveùÜ_
.
š£¹
(
veùÜ_
.
begš
(è+ 
pos
, 
tmp_vec
.begš(),mp_vec.
’d
());

816 
šlše
 

817 
sÜt
(
¡d
::
funùiÚ
<
boŞ
(cÚ¡ 
v®ue_ty³
 *, cÚ¡ v®ue_ty³ *)> 
comp
 =

818 [](cÚ¡ 
v®ue_ty³
 *
l
, cÚ¡ v®ue_ty³ *
r
è-> 
boŞ
 {

819  *
l
 < *
r
;

822 
	g¡d
::
sÜt
(
veùÜ_
.
begš
(), veùÜ_.
’d
(), 
comp
);

825 
	gpublic
:

830 şas 
	ccÚ¡_™”©Ü
 {

832 
´iv©e
:

834 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_™”©Ü
;

836 
	gpublic
:

838 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

839 
usšg
 
	gv®ue_ty³
 = 
T
;

840 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

841 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

842 
usšg
 
	gdifã»nû_ty³
 = ;

844 
	gpublic
:

849 
šlše
 
cÚ¡_™”©Ü
 () = ;

850 
šlše
 
cÚ¡_™”©Ü
 (const const_iterator &) = ;

851 
šlše
 
cÚ¡_™”©Ü
 (const_iterator &&) = ;

852 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &) = ;

853 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
cÚ¡_™”©Ü
 &&) = ;

855 
šlše
 
cÚ¡_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±
 : 
node_
 (node) { }

856 
šlše
 
cÚ¡_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


857 : 
node_
 (
node
) { }

859 
šlše
 
cÚ¡_™”©Ü
 &
İ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

861 
node_
 = 
rhs
;

862  (*
	gthis
);

864 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

866 
node_
 = 
™”_ty³
(
rhs
);

867  (*
	gthis
);

870 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

871 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

873  (
node_
 =ğ
rhs
.node_);

875 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

876 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

878  (
node_
 !ğ
rhs
.node_);

884 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

885 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

887  (**
	gnode_
);

889 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

893 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

895 
	gnode_
 += 1;

896  (*
	gthis
);

901 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

903 
™”_ty³
 
	g»t_node
 = 
node_
;

905 
	gnode_
 += 1;

906  (
cÚ¡_™”©Ü
 (
»t_node
));

909 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

911 
node_
 +ğ
¡•
;

912  (*
	gthis
);

917 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

919 
	gnode_
 -= 1;

920  (*
	gthis
);

925 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

927 
™”_ty³
 
	g»t_node
 = 
node_
;

929 
	gnode_
 -= 1;

930  (
cÚ¡_™”©Ü
 (
»t_node
));

933 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

935 
node_
 -ğ
¡•
;

936  (*
	gthis
);

939 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

941 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

943 
	g»t_node
 +ğ
¡•
;

944  (
cÚ¡_™”©Ü
 (
»t_node
));

947 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

949 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

951 
	g»t_node
 -ğ
¡•
;

952  (
cÚ¡_™”©Ü
 (
»t_node
));

955 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

957 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

959 
	g»t_node
 +ğ
¡•
;

960  (
cÚ¡_™”©Ü
 (
»t_node
));

963 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

965 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

967 
	g»t_node
 -ğ
¡•
;

968  (
cÚ¡_™”©Ü
 (
»t_node
));

971 
	g´iv©e
:

973 
™”_ty³
 
node_
 { };

976 şas 
	ccÚ¡_»v”£_™”©Ü
 {

978 
	g´iv©e
:

980 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_»v”£_™”©Ü
;

982 
	gpublic
:

984 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

985 
usšg
 
	gv®ue_ty³
 = 
T
;

986 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

987 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

988 
usšg
 
	gdifã»nû_ty³
 = ;

990 
	gpublic
:

995 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

996 
šlše
 
cÚ¡_»v”£_™”©Ü
(const const_reverse_iterator &) = ;

997 
šlše
 
cÚ¡_»v”£_™”©Ü
(const_reverse_iterator &&) = ;

998 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

999 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &) = ;

1000 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

1001 
	gİ”©Ü
 = (
cÚ¡_»v”£_™”©Ü
 &&) = ;

1003 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±


1004 : 
node_
 (
node
) { }

1005 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


1006 : 
node_
 (
node
) { }

1007 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


1008 { *
this
 = 
™r
; }

1010 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

1012 
node_
 = 
rhs
;

1013  (*
	gthis
);

1015 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

1016 
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

1018 
node_
 = 
™”_ty³
(
rhs
);

1019  (*
	gthis
);

1021 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

1022 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

1024 
node_
 = 
rhs
.node_;

1025  (*
	gthis
);

1028 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

1029 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

1031  (
node_
 =ğ
rhs
.node_);

1033 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

1034 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

1036  (
node_
 !ğ
rhs
.node_);

1042 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

1043 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 { (**
	gnode_
); }

1044 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

1048 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

1050 
	gnode_
 -= 1;

1051  (*
	gthis
);

1056 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

1058 
™”_ty³
 
	g»t_node
 = 
node_
;

1060 
	gnode_
 -= 1;

1061  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1064 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

1066 
node_
 -ğ
¡•
;

1067  (*
	gthis
);

1072 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

1074 
	gnode_
 += 1;

1075  (*
	gthis
);

1080 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

1082 
™”_ty³
 
	g»t_node
 = 
node_
;

1084 
	gnode_
 += 1;

1085  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1088 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

1090 
node_
 +ğ
¡•
;

1091  (*
	gthis
);

1094 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

1096 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1098 
	g»t_node
 -ğ
¡•
;

1099  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1102 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

1104 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1106 
	g»t_node
 +ğ
¡•
;

1107  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1110 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

1112 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1114 
	g»t_node
 -ğ
¡•
;

1115  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1118 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

1120 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1122 
	g»t_node
 +ğ
¡•
;

1123  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1126 
	g´iv©e
:

1128 
™”_ty³
 
node_
 { };

1130 
ä›nd
 
şass
 
	gcÚ¡_™”©Ü
;

1133 
	gpublic
:

1135 
šlše
 
cÚ¡_™”©Ü


1136 
begš
(ècÚ¡ 
nÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.begin())); }

1137 
šlše
 
cÚ¡_™”©Ü


1138 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.end())); }

1140 
šlše
 
cÚ¡_»v”£_™”©Ü


1141 
rbegš
 (ècÚ¡ 
	gnÛxû±
 {

1142  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
rbegš
()));

1144 
šlše
 
cÚ¡_»v”£_™”©Ü


1145 
»nd
 (ècÚ¡ 
	gnÛxû±
 {

1147  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
»nd
()));

	@DataFrame/AIFM/include/DataFrame/Vectors/VectorView.h

30 #´agm¨
Úû


32 
	~<™”©Ü
>

33 
	~<veùÜ
>

35 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

36 #ifdeà
LIBRARY_EXPORTS


37 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

39 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

42 
	#LIBRARY_API


	)

47 
Çme¥aû
 
	ghmdf


54 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

55 şas 
	cLIBRARY_API
 
	gVeùÜV›w
 {

57 
	gpublic
:

59 
usšg
 
v®ue_ty³
 = 
T
;

60 
usšg
 
	gsize_ty³
 = ;

61 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

62 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
v®ue_ty³
 *;

63 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
v®ue_ty³
 *const;

64 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

65 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

67 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
v®ue_ty³
);

69 
	gpublic
:

71 
VeùÜV›w
() = ;

72 
VeùÜV›w
(const VectorView &) = ;

73 
VeùÜV›w
(VectorView &&) = ;

74 
	gVeùÜV›w
 &
	gİ”©Ü
ğ(cÚ¡ 
VeùÜV›w
 &) = ;

75 
	gVeùÜV›w
 &
	gİ”©Ü
ğ(
VeùÜV›w
 &&) = ;

76 ~
VeùÜV›w
() = ;

78 
šlše
 
VeùÜV›w
 (
v®ue_ty³
 *
bp
, v®ue_ty³ *
•
è
	gnÛxû±


79 : 
begš_±r_
(
bp
), 
’d_±r_
(
•
) { }

90 
šlše
 
£t_begš_’d_¥ecŸl
(
v®ue_ty³
 *
bp
, v®ue_ty³ *
•_1
) {

92 
	gbegš_±r_
 = 
bp
;

93 
	g’d_±r_
 = 
•_1
;

94 
	g’d_±r_
 += 1;

97 
šlše
 
boŞ
 
em±y
 (ècÚ¡ 
	gnÛxû±
 {  (
	gbegš_±r_
 =ğ
’d_±r_
); }

98 
šlše
 
size_ty³
 
size
 (ècÚ¡ 
	gnÛxû±
 {

100  (
	g¡©ic_ÿ¡
<
	gsize_ty³
>(
	g’d_±r_
 - 
	gbegš_±r_
));

102 
šlše
 
size_ty³
 
ÿ·c™y
 (ècÚ¡ 
	gnÛxû±
 {  (
size
()); }

103 
šlše
 
ş—r
 (è
	gnÛxû±
 { 
	gbegš_±r_
 = 
’d_±r_
 = 
nuÎ±r
; }

105 
šlše
 
»ã»nû
 
©
 (
size_ty³
 
i
è
	gnÛxû±
 {  (*(
	gbegš_±r_
 + 
	gi
)); }

106 
šlše
 
cÚ¡_»ã»nû


107 
©
 (
size_ty³
 
i
ècÚ¡ 
	gnÛxû±
 {  (*(
	gbegš_±r_
 + 
	gi
)); }

108 
šlše
 
»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gi
è
	gnÛxû±
 {

110  (*(
	gbegš_±r_
 + 
	gi
));

112 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gi
ècÚ¡ 
	gnÛxû±
 {

114  (*(
	gbegš_±r_
 + 
	gi
));

116 
šlše
 
»ã»nû
 
äÚt
(è
	gnÛxû±
 {  (*
	gbegš_±r_
); }

117 
šlše
 
cÚ¡_»ã»nû
 
äÚt
(ècÚ¡ 
	gnÛxû±
 {  (*
	gbegš_±r_
); }

118 
šlše
 
»ã»nû
 
back
(è
	gnÛxû±
 {  (*(
	g’d_±r_
 - 1)); }

119 
šlše
 
cÚ¡_»ã»nû
 
back
(ècÚ¡ 
	gnÛxû±
 {  (*(
	g’d_±r_
 - 1)); }

123 
šlše
 
shršk_to_f™
() { }

124 
šlše
 
»£rve
 (
size_ty³
) { }

126 
šlše
 
sw­
 (
VeùÜV›w
 &
rhs
è
	gnÛxû±
 {

128 
	g¡d
::
sw­
 (
begš_±r_
, 
rhs
.begin_ptr_);

129 
	g¡d
::
sw­
 (
’d_±r_
, 
rhs
.end_ptr_);

133 
	gVeùÜV›w
 &
	gİ”©Ü
ğ(
¡d
::
veùÜ
<
T
> &
rhs
) {

135 
VeùÜV›w
 
vw
(&*(
rhs
.
begš
()), &*Ôhs.
’d
()));

137 
sw­
(
vw
);

138  (*
	gthis
);

141 
	g´iv©e
:

143 
v®ue_ty³
 *
begš_±r_
 { 
nuÎ±r
 };

144 
v®ue_ty³
 *
	g’d_±r_
 { 
	gnuÎ±r
 };

146 
	gpublic
:

148 
şass
 
cÚ¡_™”©Ü
;

149 şas 
	ccÚ¡_»v”£_™”©Ü
 {

151 
	gpublic
:

153 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

154 
usšg
 
	gv®ue_ty³
 = 
T
;

155 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

156 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

157 
usšg
 
	gdifã»nû_ty³
 = ;

159 
	gpublic
:

164 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

166 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
)

167 
	gnÛxû±
 : 
node_
 (
node
) { }

169 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


170 : 
node_
 (
nuÎ±r
è{ *
this
 = 
™r
; }

172 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

173 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

175 
node_
 = 
rhs
.node_;

176  (*
	gthis
);

179 
šlše
 
boŞ


180 
	gİ”©Ü
 =ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

182  (
node_
 =ğ
rhs
.node_);

184 
šlše
 
boŞ


185 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

187  (
node_
 !ğ
rhs
.node_);

193 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {

195  (
	gnode_
);

197 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 {

199  (*
	gnode_
);

201 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

205 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

207 
	gnode_
 -= 1;

208  (*
	gthis
);

213 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

215 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

217 
	gnode_
 -= 1;

218  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

221 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

223 
node_
 -ğ
¡•
;

224  (*
	gthis
);

229 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

231 
	gnode_
 += 1;

232  (*
	gthis
);

237 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

239 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

241 
	gnode_
 += 1;

242  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

245 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

247 
node_
 +ğ
¡•
;

248  (*
	gthis
);

251 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

253 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

255 
	g»t_node
 -ğ
¡•
;

256  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

259 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

261 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

263 
	g»t_node
 +ğ
¡•
;

264  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

267 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

269 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

271 
	g»t_node
 -ğ
¡•
;

272  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

275 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

277 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

279 
	g»t_node
 +ğ
¡•
;

280  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

283 
	g´iv©e
:

285 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

288 
şass
 
	g™”©Ü
;

289 şas 
	ccÚ¡_™”©Ü
 {

291 
	gpublic
:

293 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

294 
usšg
 
	gv®ue_ty³
 = 
T
;

295 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

296 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

297 
usšg
 
	gdifã»nû_ty³
 = ;

299 
	gpublic
:

304 
šlše
 
cÚ¡_™”©Ü
 () = ;

306 
šlše
 
cÚ¡_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
è
	gnÛxû±


307 : 
node_
 (
node
) { }

309 
šlše
 
cÚ¡_™”©Ü
 (cÚ¡ 
™”©Ü
 &
™r
è
nÛxû±


310 : 
node_
 (
nuÎ±r
è{ *
this
 = 
™r
; }

312 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &
rhs
è
nÛxû±
 {

314 
node_
 = 
rhs
.node_;

315  (*
	gthis
);

318 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

320  (
node_
 =ğ
rhs
.node_);

322 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

324  (
node_
 !ğ
rhs
.node_);

330 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

331 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

333  (*
	gnode_
);

335 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

339 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

341 
	gnode_
 += 1;

342  (*
	gthis
);

347 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

349 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

351 
	gnode_
 += 1;

352  (
cÚ¡_™”©Ü
 (
»t_node
));

355 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

357 
node_
 +ğ
¡•
;

358  (*
	gthis
);

363 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

365 
	gnode_
 -= 1;

366  (*
	gthis
);

371 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

373 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

375 
	gnode_
 -= 1;

376  (
cÚ¡_™”©Ü
 (
»t_node
));

379 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

381 
node_
 -ğ
¡•
;

382  (*
	gthis
);

385 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

387 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

389 
	g»t_node
 +ğ
¡•
;

390  (
cÚ¡_™”©Ü
 (
»t_node
));

393 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

395 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

397 
	g»t_node
 -ğ
¡•
;

398  (
cÚ¡_™”©Ü
 (
»t_node
));

401 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

403 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

405 
	g»t_node
 +ğ
¡•
;

406  (
cÚ¡_™”©Ü
 (
»t_node
));

409 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

411 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

413 
	g»t_node
 -ğ
¡•
;

414  (
cÚ¡_™”©Ü
 (
»t_node
));

417 
	g´iv©e
:

419 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

421 
ä›nd
 
şass
 
	gVeùÜV›w
::
cÚ¡_»v”£_™”©Ü
;

427 şas 
	c™”©Ü
 {

429 
	gpublic
:

431 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

432 
usšg
 
	gv®ue_ty³
 = 
T
;

433 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

434 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

435 
usšg
 
	gdifã»nû_ty³
 = ;

437 
	gpublic
:

442 
šlše
 
™”©Ü
 () = ;

444 
šlše
 
™”©Ü
 (
v®ue_ty³
 *
node
è
	gnÛxû±
 : 
node_
 (node) { }

446 
šlše
 
boŞ
 
İ”©Ü
 =ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

448  (
node_
 =ğ
rhs
.node_);

450 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

452  (
node_
 !ğ
rhs
.node_);

458 
šlše
 
poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

459 
šlše
 
»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

460 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

464 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

466 
	gnode_
 += 1;

467  (*
	gthis
);

469 
šlše
 
™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

471 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

473 
	gnode_
 += 1;

474  (
™”©Ü
 (
»t_node
));

477 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

479 
node_
 +ğ
¡•
;

480  (*
	gthis
);

483 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

485 
	gnode_
 -= 1;

486  (*
	gthis
);

488 
šlše
 
™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

490 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

492 
	gnode_
 -= 1;

493  (
™”©Ü
 (
»t_node
));

496 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

498 
node_
 -ğ
¡•
;

499  (*
	gthis
);

502 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

504 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

506 
	g»t_node
 +ğ
¡•
;

507  (
™”©Ü
 (
»t_node
));

510 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

512 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

514 
	g»t_node
 -ğ
¡•
;

515  (
™”©Ü
 (
»t_node
));

518 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

520 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

522 
	g»t_node
 +ğ
¡•
;

523  (
™”©Ü
 (
»t_node
));

526 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

528 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

530 
	g»t_node
 -ğ
¡•
;

531  (
™”©Ü
 (
»t_node
));

534 
	g´iv©e
:

536 
poš‹r
 
node_
 { 
nuÎ±r
 };

538 
ä›nd
 
şass
 
	gVeùÜV›w
::
cÚ¡_™”©Ü
;

541 
	gpublic
:

543 
šlše
 
™”©Ü
 
begš
 (è
nÛxû±
 {  (™”©Ü (
begš_±r_
)); }

544 
šlše
 
™”©Ü
 
’d
 (è
	gnÛxû±
 {  (™”©Ü (
’d_±r_
)); }

545 
šlše
 
cÚ¡_™”©Ü


546 
begš
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
 (
begš_±r_
)); }

547 
šlše
 
cÚ¡_™”©Ü


548 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
 (
’d_±r_
)); }

550 
šlše
 
cÚ¡_»v”£_™”©Ü


551 
rbegš
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
’d_±r_
 - 1)); }

552 
šlše
 
cÚ¡_»v”£_™”©Ü


553 
»nd
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
begš_±r_
 - 1)); }

558 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

559 şas 
	cVeùÜCÚ¡V›w
 {

561 
	gpublic
:

563 
usšg
 
v®ue_ty³
 = 
T
;

564 
usšg
 
	gsize_ty³
 = ;

565 
usšg
 
	gpoš‹r
 = cÚ¡ 
v®ue_ty³
 *;

566 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
v®ue_ty³
 *;

567 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
v®ue_ty³
 *const;

568 
usšg
 
	g»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

569 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

571 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
v®ue_ty³
);

573 
	gpublic
:

575 
VeùÜCÚ¡V›w
() = ;

576 
VeùÜCÚ¡V›w
(const VectorConstView &) = ;

577 
VeùÜCÚ¡V›w
(VectorConstView &&) = ;

578 
	gVeùÜCÚ¡V›w
 &
	gİ”©Ü
ğ(cÚ¡ 
VeùÜCÚ¡V›w
 &) = ;

579 
	gVeùÜCÚ¡V›w
 &
	gİ”©Ü
ğ(
VeùÜCÚ¡V›w
 &&) = ;

580 ~
VeùÜCÚ¡V›w
() = ;

582 
šlše


583 
VeùÜCÚ¡V›w
 (cÚ¡ 
v®ue_ty³
 *
bp
, cÚ¡ v®ue_ty³ *
•
è
	gnÛxû±


584 : 
begš_±r_
(
bp
), 
’d_±r_
(
•
) { }

595 
šlše
 
£t_begš_’d_¥ecŸl
(
v®ue_ty³
 *
bp
, v®ue_ty³ *
•_1
) {

597 
	gbegš_±r_
 = 
bp
;

598 
	g’d_±r_
 = 
•_1
;

599 
	g’d_±r_
 += 1;

602 
šlše
 
boŞ
 
em±y
 (ècÚ¡ 
	gnÛxû±
 {  (
	gbegš_±r_
 =ğ
’d_±r_
); }

603 
šlše
 
size_ty³
 
size
 (ècÚ¡ 
	gnÛxû±
 {

605  (
	g¡©ic_ÿ¡
<
	gsize_ty³
>(
	g’d_±r_
 - 
	gbegš_±r_
));

607 
šlše
 
ş—r
 (è
	gnÛxû±
 { 
	gbegš_±r_
 = 
’d_±r_
 = 
nuÎ±r
; }

609 
šlše
 
cÚ¡_»ã»nû


610 
©
 (
size_ty³
 
i
ècÚ¡ 
	gnÛxû±
 {  (*(
	gbegš_±r_
 + 
	gi
)); }

611 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gi
ècÚ¡ 
	gnÛxû±
 {

613  (*(
	gbegš_±r_
 + 
	gi
));

615 
šlše
 
cÚ¡_»ã»nû
 
äÚt
(ècÚ¡ 
	gnÛxû±
 {  (*
	gbegš_±r_
); }

616 
šlše
 
cÚ¡_»ã»nû
 
back
(ècÚ¡ 
	gnÛxû±
 {  (*(
	g’d_±r_
 - 1)); }

620 
šlše
 
shršk_to_f™
() { }

621 
šlše
 
»£rve
 (
size_ty³
) { }

623 
šlše
 
sw­
 (
VeùÜCÚ¡V›w
 &
rhs
è
	gnÛxû±
 {

625 
	g¡d
::
sw­
 (
begš_±r_
, 
rhs
.begin_ptr_);

626 
	g¡d
::
sw­
 (
’d_±r_
, 
rhs
.end_ptr_);

630 
	gVeùÜCÚ¡V›w
 &
	gİ”©Ü
ğ(cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
) {

632 
VeùÜCÚ¡V›w
 
vw
(&*(
rhs
.
begš
()), &*Ôhs.
’d
()));

634 
sw­
(
vw
);

635  (*
	gthis
);

638 
	g´iv©e
:

640 cÚ¡ 
v®ue_ty³
 *
begš_±r_
 { 
nuÎ±r
 };

641 cÚ¡ 
v®ue_ty³
 *
	g’d_±r_
 { 
	gnuÎ±r
 };

643 
	gpublic
:

645 
şass
 
cÚ¡_™”©Ü
;

646 şas 
	ccÚ¡_»v”£_™”©Ü
 {

648 
	gpublic
:

650 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

651 
usšg
 
	gv®ue_ty³
 = 
T
;

652 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

653 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

654 
usšg
 
	gdifã»nû_ty³
 = ;

656 
	gpublic
:

661 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

663 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
)

664 
	gnÛxû±
 : 
node_
 (
node
) { }

666 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


667 : 
node_
 (
nuÎ±r
è{ *
this
 = 
™r
; }

669 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

670 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

672 
node_
 = 
rhs
.node_;

673  (*
	gthis
);

676 
šlše
 
boŞ


677 
	gİ”©Ü
 =ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

679  (
node_
 =ğ
rhs
.node_);

681 
šlše
 
boŞ


682 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

684  (
node_
 !ğ
rhs
.node_);

690 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {

692  (
	gnode_
);

694 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 {

696  (*
	gnode_
);

698 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

702 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

704 
	gnode_
 -= 1;

705  (*
	gthis
);

710 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

712 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

714 
	gnode_
 -= 1;

715  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

718 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

720 
node_
 -ğ
¡•
;

721  (*
	gthis
);

726 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

728 
	gnode_
 += 1;

729  (*
	gthis
);

734 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

736 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

738 
	gnode_
 += 1;

739  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

742 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

744 
node_
 +ğ
¡•
;

745  (*
	gthis
);

748 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

750 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

752 
	g»t_node
 -ğ
¡•
;

753  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

756 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

758 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

760 
	g»t_node
 +ğ
¡•
;

761  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

764 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

766 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

768 
	g»t_node
 -ğ
¡•
;

769  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

772 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

774 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

776 
	g»t_node
 +ğ
¡•
;

777  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

780 
	g´iv©e
:

782 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

785 şas 
	ccÚ¡_™”©Ü
 {

787 
	gpublic
:

789 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

790 
usšg
 
	gv®ue_ty³
 = 
T
;

791 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

792 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

793 
usšg
 
	gdifã»nû_ty³
 = ;

795 
	gpublic
:

800 
šlše
 
cÚ¡_™”©Ü
 () = ;

802 
šlše
 
cÚ¡_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
è
	gnÛxû±


803 : 
node_
 (
node
) { }

805 
šlše
 
boŞ
 
İ”©Ü
 =ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

807  (
node_
 =ğ
rhs
.node_);

809 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

811  (
node_
 !ğ
rhs
.node_);

817 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

818 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

820  (*
	gnode_
);

822 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

826 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

828 
	gnode_
 += 1;

829  (*
	gthis
);

834 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

836 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

838 
	gnode_
 += 1;

839  (
cÚ¡_™”©Ü
 (
»t_node
));

842 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

844 
node_
 +ğ
¡•
;

845  (*
	gthis
);

850 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

852 
	gnode_
 -= 1;

853  (*
	gthis
);

858 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

860 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

862 
	gnode_
 -= 1;

863  (
cÚ¡_™”©Ü
 (
»t_node
));

866 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

868 
node_
 -ğ
¡•
;

869  (*
	gthis
);

872 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

874 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

876 
	g»t_node
 +ğ
¡•
;

877  (
cÚ¡_™”©Ü
 (
»t_node
));

880 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

882 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

884 
	g»t_node
 -ğ
¡•
;

885  (
cÚ¡_™”©Ü
 (
»t_node
));

888 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

890 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

892 
	g»t_node
 +ğ
¡•
;

893  (
cÚ¡_™”©Ü
 (
»t_node
));

896 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

898 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

900 
	g»t_node
 -ğ
¡•
;

901  (
cÚ¡_™”©Ü
 (
»t_node
));

904 
	g´iv©e
:

906 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

908 
ä›nd
 
şass
 
	gVeùÜCÚ¡V›w
::
cÚ¡_»v”£_™”©Ü
;

911 
	gpublic
:

913 
šlše
 
cÚ¡_™”©Ü


914 
begš
 (ècÚ¡ 
nÛxû±
 {  (
cÚ¡_™”©Ü
 (
begš_±r_
)); }

915 
šlše
 
cÚ¡_™”©Ü


916 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
 (
’d_±r_
)); }

918 
šlše
 
cÚ¡_»v”£_™”©Ü


919 
rbegš
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
’d_±r_
 - 1)); }

920 
šlše
 
cÚ¡_»v”£_™”©Ü


921 
»nd
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
begš_±r_
 - 1)); }

	@DataFrame/AIFM/include/simple_time.hpp

1 #´agm¨
Úû


3 
	~<c¡dšt
>

4 
	~<io¡»am
>

6 
	sSim¶eTime
 {

7 
	my—r_
;

8 
	mmÚth_
;

9 
	mday_
;

10 
	mhour_
;

11 
	mmš_
;

12 
	m£cÚd_
;

14 
Sim¶eTime
() {}

16 
Sim¶eTime
(
y—r
, 
mÚth
, 
day
, 
hour
, 
mš
, 
£cÚd
)

17 : 
y—r_
(
y—r
), 
mÚth_
(
mÚth
), 
day_
(
day
), 
hour_
(
hour
), 
mš_
(
mš
), 
£cÚd_
(
£cÚd
)

21 
ušt64_t
 
to_£cÚd
() const

23 
ušt64_t
 
	m»t
 = 
y—r_
;

24 
	m»t
 = 12 * 
»t
 + 
mÚth_
;

26 
	m»t
 = 30 * 
»t
 + 
day_
;

27 
	m»t
 = 24 * 
»t
 + 
hour_
;

28 
	m»t
 = 60 * 
»t
 + 
mš_
;

29 
	m»t
 = 60 * 
»t
 + 
£cÚd_
;

30  
	m»t
;

33 
ä›nd
 
	m¡d
::
i¡»am
& 
İ”©Ü
>>(
¡d
::i¡»am& 
š
, 
	mSim¶eTime
& 
	mt
)

35 
	md–im
;

36 
ušt16_t
 
	mmÚth
, 
	mday
, 
	mhour
, 
	mmš
, 
	m£cÚd
;

37 
	mš
 >> 
	mt
.
	my—r_
 >> 
	md–im
 >> 
	mmÚth
 >> d–im >> 
	mday
 >> d–im >> 
	mhour
 >> d–im >> 
	mmš
 >> delim >>

38 
	m£cÚd
;

39 
	mt
.
	mmÚth_
 = 
mÚth
;

40 
	mt
.
	mday_
 = 
day
;

41 
	mt
.
	mhour_
 = 
hour
;

42 
	mt
.
	mmš_
 = 
mš
;

43 
	mt
.
	m£cÚd_
 = 
£cÚd
;

44  
	mš
;

47 
ä›nd
 
	m¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ 
	mSim¶eTime
& 
	mt
)

49 
	mout
 << 
	mt
.
	my—r_
 << '-' << (é.
	mmÚth_
 << '-' << (é.
	mday_
 << ' ' << (é.
	mhour_
 << ':'

50 << ()
	mt
.
	mmš_
 << ':' << (é.
	m£cÚd_
;

51  
	mout
;

54 
boŞ
 
	mİ”©Ü
<(cÚ¡ 
	mSim¶eTime
& 
	mo
) const

56 ià(
	my—r_
 !ğ
o
.
y—r_
)  year_ < o.year_;

57 ià(
	mmÚth_
 !ğ
o
.
mÚth_
)  month_ < o.month_;

58 ià(
	mday_
 !ğ
o
.
day_
)  day_ < o.day_;

59 ià(
	mhour_
 !ğ
o
.
hour_
)  hour_ < o.hour_;

60 ià(
	mmš_
 !ğ
o
.
mš_
)  min_ < o.min_;

61 ià(
	m£cÚd_
 !ğ
o
.
£cÚd_
)  second_ < o.second_;

62  
	mçl£
;

65 
boŞ
 
	mİ”©Ü
>(cÚ¡ 
	mSim¶eTime
& 
	mo
) const

67 ià(
	my—r_
 !ğ
o
.
y—r_
)  year_ > o.year_;

68 ià(
	mmÚth_
 !ğ
o
.
mÚth_
)  month_ > o.month_;

69 ià(
	mday_
 !ğ
o
.
day_
)  day_ > o.day_;

70 ià(
	mhour_
 !ğ
o
.
hour_
)  hour_ > o.hour_;

71 ià(
	mmš_
 !ğ
o
.
mš_
)  min_ > o.min_;

72 ià(
	m£cÚd_
 !ğ
o
.
£cÚd_
)  second_ > o.second_;

73  
	mçl£
;

76 
boŞ
 
	mİ”©Ü
==(cÚ¡ 
Sim¶eTime
& 
o
) const

78  
__butš_¡ºcmp
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
this
),

79 
»š‹½»t_ÿ¡
<cÚ¡ *>(&
o
), (o)) == 0;

82 
boŞ
 
	mİ”©Ü
!=(cÚ¡ 
Sim¶eTime
& 
o
) const

84  !
İ”©Ü
==(
o
);

88 
	g‹m¶©e
 <> 
	g¡d
::
hash
<
Sim¶eTime
> {

89 
size_t
 
İ”©Ü
()(cÚ¡ 
Sim¶eTime
& 
sim¶e_time
) const

91 
ušt64_t
 
hash
 = 0;

92 
¡©ic_as£¹
((
sim¶e_time
è<ğ(
hash
));

93 
__butš_memıy
(&
hash
, &
sim¶e_time
, (simple_time));

94  
	ghash
;

	@DataFrame/AIFM/src/Utils/DateTime.cc

30 
	~<D©aF¿me/Uts/D©eTime.h
>

31 
	~<D©aF¿me/Uts/FixedSizeSŒšg.h
>

33 
	~<time.h
>

35 #ifdeà
_WIN32


36 #ià
defšed
(
_MSC_VER
è|| defšed(
_MSC_EXTENSIONS
)

37 
	#DELTA_EPOCH_IN_MICROSECS
 11644473600000000U
i64


	)

39 
	#DELTA_EPOCH_IN_MICROSECS
 11644473600000000ULL

	)

42 
	~<sys/time.h
>

47 
Çme¥aû
 
	ghmdf


50 #ifdeà
_WIN32


51 cÚ¡ *
	gD©eTime
::
TIMEZONES_
[] =

86 cÚ¡ *
	gD©eTime
::
TIMEZONES_
[] =

122 cÚ¡ 
	gD©eTime
::
DT_š™Ÿliz”
 
D©eTime
::
dt_š™_
;

126 
	gD©eTime
::
DT_š™Ÿliz”
::DT_š™Ÿliz”(è
nÛxû±
 {

128 #ifdeà
_WIN32


129 
_tz£t
 ();

131 ::
tz£t
 ();

137 cÚ¡ *cÚ¡ 
	gD©eTime
::
MONTH_
[] =

142 cÚ¡ *cÚ¡ 
	gD©eTime
::
MONTH_BR_
[] =

147 cÚ¡ *cÚ¡ 
	gD©eTime
::
WDAY_
[] =

152 cÚ¡ *cÚ¡ 
	gD©eTime
::
WDAY_BR_
[] =

159 
	gD©eTime
::
D©eTime
 (
DT_TIME_ZONE
 
tz
è: 
time_zÚe_
(tz) {

161 #ifdeà
_WIN32


162 
FILETIME
 
á
;

163 
__št64
 
	gtm´es
 = 0;

165 
G‘Sy¡emTimeAsFeTime
(&
á
);

167 
	gtm´es
 |ğ
á
.
dwHighD©eTime
;

168 
	gtm´es
 <<= 32;

169 
	gtm´es
 |ğ
á
.
dwLowD©eTime
;

171 
	gtm´es
 /= 10;

173 
	gtm´es
 -ğ
DELTA_EPOCH_IN_MICROSECS
;

175 
£t_time
(
tm´es
 / 1000000UL, (tmpres % 1000000UL) * 1000000);

176 #–ià
defšed
 
HMDF_HAVE_CLOCK_GETTIME


177 
time¥ec
 
	gts
;

179 ::
şock_g‘time
(
CLOCK_REALTIME
, &
ts
);

180 
£t_time
(
ts
.
tv_£c
,s.
tv_n£c
);

182 
timev®
 
	gtv
 { };

184 ::
g‘timeofday
(&
tv
, 
nuÎ±r
);

185 
£t_time
(
tv
.
tv_£c
,v.
tv_u£c
 * 1000);

191 
	gD©eTime
::
£t_time
(
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
è
	gnÛxû±
 {

193 
	gd©e_
 = 
INVALID_DATE_
;

194 
	ghour_
 = 
INVALID_HOUR_
;

195 
	gmšu‹_
 = 
INVALID_MINUTE_
;

196 
	g£cÚd_
 = 
INVALID_SECOND_
;

197 
	gw“k_day_
 = 
DT_WEEKDAY
::
BAD_DAY
;

199 
	gÇno£cÚd_
 = 
Çno£c
;

200 
	gtime_
 = 
the_time
;

205 
	gD©eTime
::
D©eTime
 (
D©eTy³
 
d
,

206 
HourTy³
 
hr
,

207 
Mšu‹Ty³
 
mn
,

208 
SecÚdTy³
 
sc
,

209 
Nªo£cÚdTy³
 
ns
,

210 
DT_TIME_ZONE
 
tz
)

211 : 
d©e_
 (
d
),

212 
hour_
 (
hr
),

213 
mšu‹_
 (
mn
),

214 
£cÚd_
 (
sc
),

215 
Çno£cÚd_
 (
ns
),

216 
time_zÚe_
 (
tz
) {

237 
	gD©eTime
::
D©eTime
 (cÚ¡ *
s
, 
DT_DATE_STYLE
 
ds
, 
DT_TIME_ZONE
 
tz
)

238 : 
time_zÚe_
 (
tz
) {

240 cÚ¡ *
¡r
 = 
s
;

242 ::
is¥aû
 (*
¡r
)) ++str;

244 ià(
	gds
 =ğ
DT_DATE_STYLE
::
YYYYMMDD
)

245 *
this
 = 
¡r
;

247 cÚ¡ 
size_t
 
	g¡r_Ën
 = ::
¡¾’
 (
¡r
);

248 
	gy—r
 { 0 }, 
	gmÚth
 { 0 }, 
	gday
 { 0 };

250 
	ghour_
 = 
mšu‹_
 = 
£cÚd_
 = 
Çno£cÚd_
 = 0;

251 ià(
	gds
 =ğ
DT_DATE_STYLE
::
AME_STYLE
) {

252 ià(
¡r_Ën
 == 10) {

253 ::
ssÿnf
 (
¡r
, "%d/%d/%d", &
mÚth
, &
day
, &
y—r
);

255 ià(
	g¡r_Ën
 == 13) {

256 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd", &
mÚth
, &
day
, &
y—r
, &
hour_
);

258 ià(
	g¡r_Ën
 == 16) {

259 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd",

260 &
mÚth
, &
day
, &
y—r
, &
hour_
, &
mšu‹_
);

262 ià(
	g¡r_Ën
 == 19) {

263 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd",

264 &
mÚth
, &
day
, &
y—r
, &
hour_
, &
mšu‹_
, &
£cÚd_
);

266 ià(
	g¡r_Ën
 == 23) {

267 
Mli£cÚdTy³
 
ms
 { 0 };

269 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd.%hd",

270 &
mÚth
, &
day
, &
y—r
, &
hour_
, &
mšu‹_
, &
£cÚd_
, &
ms
);

271 
	gÇno£cÚd_
 = 
ms
 * 1000000;

274 ià(
	gds
 =ğ
DT_DATE_STYLE
::
EUR_STYLE
) {

275 ià(
¡r_Ën
 == 10) {

276 ::
ssÿnf
 (
¡r
, "%d/%d/%d", &
y—r
, &
mÚth
, &
day
);

278 ià(
	g¡r_Ën
 == 13) {

279 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd", &
y—r
, &
mÚth
, &
day
, &
hour_
);

281 ià(
	g¡r_Ën
 == 16) {

282 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd",

283 &
y—r
, &
mÚth
, &
day
, &
hour_
, &
mšu‹_
);

285 ià(
	g¡r_Ën
 == 19) {

286 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd",

287 &
y—r
, &
mÚth
, &
day
, &
hour_
, &
mšu‹_
, &
£cÚd_
);

289 ià(
	g¡r_Ën
 == 23) {

290 
Mli£cÚdTy³
 
ms
 { 0 };

292 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd.%hd",

293 &
y—r
, &
mÚth
, &
day
, &
hour_
, &
mšu‹_
, &
£cÚd_
, &
ms
);

294 
	gÇno£cÚd_
 = 
ms
 * 1000000;

297 ià(
	gy—r
 =ğ0 && 
mÚth
 =ğ0 && 
day
 == 0) {

298 
SŒšg512
 
”r
;

300 
	g”r
.
´štf
 ("DateTime::DateTime(const char *): Don't know "

301 "howØ·r£ '%s'", 
s
);

302 
throw
 
	g¡d
::
ruÁime_”rÜ
 (
”r
.
c_¡r
 ());

304 
	gd©e_
 = 
y—r
 * 10000 + 
mÚth
 * 100 + 
day
;

320 
	gD©eTime
 &D©eTime::
İ”©Ü
 = (cÚ¡ *
s
) {

322 cÚ¡ *
¡r
 = 
s
;

324 ::
is¥aû
 (*
¡r
)) ++str;

326 cÚ¡ 
size_t
 
	g¡r_Ën
 = ::
¡¾’
 (
¡r
);

328 ià(
	g¡r_Ën
 == 8) {

329 
hour_
 = 
mšu‹_
 = 
£cÚd_
 = 
Çno£cÚd_
 = 0;

330 ::
ssÿnf
 (
¡r
, "%d", &
d©e_
);

332 ià(
	g¡r_Ën
 == 11) {

333 
mšu‹_
 = 
£cÚd_
 = 
Çno£cÚd_
 = 0;

334 ::
ssÿnf
 (
¡r
, "%d %hd", &
d©e_
, &
hour_
);

336 ià(
	g¡r_Ën
 == 14) {

337 
£cÚd_
 = 
Çno£cÚd_
 = 0;

338 ::
ssÿnf
 (
¡r
, "%d %hd:%hd", &
d©e_
, &
hour_
, &
mšu‹_
);

340 ià(
	g¡r_Ën
 == 17) {

341 
Çno£cÚd_
 = 0;

342 ::
ssÿnf
 (
¡r
, "%d %hd:%hd:%hd", &
d©e_
, &
hour_
, &
mšu‹_
, &
£cÚd_
);

344 ià(
	g¡r_Ën
 == 21) {

345 
Mli£cÚdTy³
 
ms
;

347 ::
ssÿnf
 (
¡r
, "%d %hd:%hd:%hd.%hd",

348 &
d©e_
, &
hour_
, &
mšu‹_
, &
£cÚd_
, &
ms
);

349 
	gÇno£cÚd_
 = 
ms
 * 1000000;;

352 
SŒšg512
 
	g”r
;

354 
	g”r
.
´štf
 ("DateTime::operator=(const char *): Don't know howo "

355 "·r£ '%s'", 
s
);

356 
throw
 
	g¡d
::
ruÁime_”rÜ
 (
”r
.
c_¡r
 ());

359  (*
	gthis
);

364 
	gD©eTime
 &D©eTime::
İ”©Ü
 = (
D©eTy³
 
the_d©e
) {

366 
SŒšg512
 
bufãr
;

368 
	gbufãr
.
´štf
 ("%u", 
the_d©e
);

369 *
	gthis
 = 
bufãr
.
c_¡r
 ();

370  (*
	gthis
);

375 
	gD©eTime
::
EpochTy³
 
D©eTime
::
com·»
 (cÚ¡ D©eTim&
rhs
) const {

377 cÚ¡ 
EpochTy³
 
t
 = 
this
->
time
(è- 
rhs
.time();

379  (
	gt
 =ğ0 ? 
Çno£c
 (è- 
rhs
.Çno£ø(è: 
t
);

384 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
days_š_mÚth
 (ècÚ¡ 
nÛxû±
 {

386  (
days_š_mÚth_
(
mÚth
(), 
y—r
()));

391 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::

392 
days_š_mÚth_
 (
DT_MONTH
 
mÚth
, 
D©eP¬tTy³
 
y—r
è
	gnÛxû±
 {

394 
	gmÚth
) {

395 
	gDT_MONTH
::
APR
:

396 
DT_MONTH
::
JUN
:

397 
DT_MONTH
::
SEP
:

398 
DT_MONTH
::
NOV
:

400 
	gDT_MONTH
::
FEB
:

403 ià((
y—r
 % 4 == 0 && year % 100 != 0) || year % 400 == 0)

417 
boŞ
 
	gD©eTime
::
is_v®id
 (ècÚ¡ 
nÛxû±
 {

419  (
y—r
 () > 0 && year () < 9999 &&

420 
mÚth
 (è> 
DT_MONTH
::
BAD_MONTH
 && mÚth (è<ğDT_MONTH::
DEC
 &&

421 
dmÚth
 () > 0 &&

422 
dmÚth
 (è<ğ
days_š_mÚth_
 (
mÚth
(), 
y—r
()) &&

423 
hour
 () >= 0 && hour () < 24 &&

424 
mšu‹
 () >= 0 && minute () < 60 &&

425 
£c
 () >= 0 && sec () < 60 &&

426 
Çno£c
 () >= 0 &&‚anosec () < 1000000000);

438 
boŞ
 
	gD©eTime
::
is_us_busšess_day
 (ècÚ¡ 
nÛxû±
 {

440 cÚ¡ 
D©eP¬tTy³
 
m_day
 = 
dmÚth
 ();

441 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

442 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

443 cÚ¡ 
D©eTy³
 
	gd©e_·¹
 = 
d©e
();

445  (! (
is_w“k’d
 () ||

446 
is_Ãwy—r
 () ||

450 (
	gd©e_·¹
 =ğ19450815 || 
d©e_·¹
 == 19450816) ||

454 (
d©e_·¹
 == 19631122) ||

458 (
d©e_·¹
 == 19721228) ||

462 (
d©e_·¹
 == 19730125) ||

466 (
d©e_·¹
 == 19770714) ||

470 (
d©e_·¹
 == 19940427) ||

474 (
d©e_·¹
 == 20040611) ||

478 (
d©e_·¹
 == 20070102) ||

482 (
d©e_·¹
 == 20181205) ||

486 (
y—r
 (è=ğ2001 && 
mÚ
 =ğ
DT_MONTH
::
SEP
 && 
m_day
 >= 11 &&

487 
m_day
 <= 14) ||

491 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 &&

492 (
m_day
 >ğ15 && m_day <ğ21è&& 
mÚ
 =ğ
DT_MONTH
::
JAN
) ||

496 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 &&

497 (
m_day
 >ğ15 && m_day <ğ21è&& 
mÚ
 =ğ
DT_MONTH
::
FEB
) ||

501 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 >= 25 &&

502 
mÚ
 =ğ
DT_MONTH
::
MAY
) ||

506 ((
m_day
 =ğ4 || (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && m_day == 5) ||

507 (
w_day
 =ğ
DT_WEEKDAY
::
FRI
 && 
m_day
 == 3)) &&

508 
mÚ
 =ğ
DT_MONTH
::
JUL
) ||

512 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 <= 7 &&

513 
mÚ
 =ğ
DT_MONTH
::
SEP
) ||

517 (
w_day
 =ğ
DT_WEEKDAY
::
THU
 &&

518 (
m_day
 >ğ22 && m_day <ğ28è&& 
mÚ
 =ğ
DT_MONTH
::
NOV
) ||

520 
is_xmas
 ()));

527 
boŞ
 
	gD©eTime
::
is_us_bªk_hŞiday
 (ècÚ¡ 
nÛxû±
 {

529 ià(! 
is_us_busšess_day
 ())

530  (
Œue
);

532 cÚ¡ 
D©eP¬tTy³
 
	gm_day
 = 
dmÚth
 ();

533 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

534 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

538 ià(
	gw_day
 =ğ
DT_WEEKDAY
::
MON
 &&

539 
m_day
 >= 8 &&

540 
m_day
 <= 14 &&

541 
mÚ
 =ğ
DT_MONTH
::
OCT
)

542  (
Œue
);

545  (
	gçl£
);

550 
	gD©eTime
::
£t_timezÚe
 (
DT_TIME_ZONE
 
tz
) {

552 cÚ¡ 
EpochTy³
 
t
 = 
this
->
time
 ();

554 
	gtime_zÚe_
 = 
tz
;

555 
b»aktime_
 (
t
, 
Çno£c
 ());

561 
	gD©eTime
::
D©eTy³
 
D©eTime
::
d©e
 (ècÚ¡ 
nÛxû±
 {

563 ià(
d©e_
 =ğ
INVALID_DATE_
)

564 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

566  (
	gd©e_
);

571 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
y—r
 (ècÚ¡ 
nÛxû±
 {

573  (
d©e
 () / 10000);

578 
DT_MONTH
 
	gD©eTime
::
mÚth
 (ècÚ¡ 
nÛxû±
 {

580  (
¡©ic_ÿ¡
<
DT_MONTH
>((
d©e
 () % 10000) / 100));

585 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
dmÚth
 (ècÚ¡ 
nÛxû±
 {

587  (
d©e
 () % 100);

592 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
dy—r
 (ècÚ¡ 
nÛxû±
 {

594 
tm
 
Éime
;

599 
	gcÚ¡_ÿ¡
<
	gD©eTime
 *>(
	gthis
)->
	gtime_
 = 
mak‘ime_
 (
Éime
);

601  (
	gÉime
.
	gtm_yday
 + 1);

606 
DT_WEEKDAY
 
	gD©eTime
::
dw“k
 (ècÚ¡ 
nÛxû±
 {

611 ià(
w“k_day_
 =ğ
DT_WEEKDAY
::
BAD_DAY
)

612 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

614  (
	gw“k_day_
);

619 
	gD©eTime
::
HourTy³
 
D©eTime
::
hour
 (ècÚ¡ 
nÛxû±
 {

624 ià(
hour_
 =ğ
INVALID_HOUR_
)

625 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

626  (
	ghour_
);

631 
	gD©eTime
::
Mšu‹Ty³
 
D©eTime
::
mšu‹
 (ècÚ¡ 
nÛxû±
 {

633 ià(
mšu‹_
 =ğ
INVALID_MINUTE_
)

634 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

636  (
	gmšu‹_
);

641 
	gD©eTime
::
SecÚdTy³
 
D©eTime
::
£c
 (ècÚ¡ 
nÛxû±
 {

643 ià(
£cÚd_
 =ğ
INVALID_SECOND_
)

644 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

646  (
	g£cÚd_
);

651 
	gD©eTime
::
Mli£cÚdTy³
 
D©eTime
::
m£c
 (ècÚ¡ 
nÛxû±
 {

653 cÚ¡ 
¦ug
 = (
Çno£c
 ()) / 1000000.0 + 0.5;

655 (
	g¡©ic_ÿ¡
<
	gMli£cÚdTy³
>(
	g¦ug
 < 1000.0 ? slug : 999.0));

660 
	gD©eTime
::
Miüo£cÚdTy³
 
D©eTime
::
miüo£c
 (ècÚ¡ 
nÛxû±
 {

662 cÚ¡ 
¦ug
 = (
Çno£c
 ()) / 1000.0 + 0.5;

664  (
	g¡©ic_ÿ¡
<
	gMiüo£cÚdTy³
>(
	g¦ug
 < 1000000.0 ? slug : 999999.0));

669 
	gD©eTime
::
Nªo£cÚdTy³
 
D©eTime
::
Çno£c
 (ècÚ¡ 
nÛxû±
 {

672  (
Çno£cÚd_
);

683 
	gD©eTime
::
EpochTy³
 
D©eTime
::
time
 (ècÚ¡ 
nÛxû±
 {

685 ià(
time_
 =ğ
INVALID_TIME_T_
) {

686 
tm
 
Éime
;

691 
	gcÚ¡_ÿ¡
<
	gD©eTime
 *>(
	gthis
)->
	gtime_
 = 
mak‘ime_
 (
Éime
);

694  (
	gtime_
);

699 
	gD©eTime
::
LÚgTimeTy³
 
D©eTime
::
lÚg_time
 (ècÚ¡ 
nÛxû±
 {

701  (
¡©ic_ÿ¡
<
LÚgTimeTy³
>(
this
->
time
()) * 1000000000LL +

702 
¡©ic_ÿ¡
<
LÚgTimeTy³
>(
Çno£c
()));

707 
	gD©eTime
::
diff_£cÚds
 (cÚ¡ 
D©eTime
 &
th©
) const {

713 ià(
time_zÚe_
 !ğ
th©
.time_zone_)

714 
throw
 
¡d
::
ruÁime_”rÜ
 (

719 cÚ¡ 
	gthis_time
 =

720 
¡©ic_ÿ¡
<>(
this
->
time
 ()) +

721 (
¡©ic_ÿ¡
<>(
Çno£c
 ()) / 1000000000.0);

722 cÚ¡ 
	gth©_time
 =

723 
¡©ic_ÿ¡
<>(
th©
.
time
 ()) +

724 (
¡©ic_ÿ¡
<>(
th©
.
Çno£c
 ()) / 1000000000.0);

726  (
	gthis_time
 - 
	gth©_time
);

731 
	gD©eTime
::
diff_mšu‹s
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

733  (
diff_£cÚds
 (
th©
) / 60.0);

738 
	gD©eTime
::
diff_hours
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

740  (
diff_mšu‹s
 (
th©
) / 60.0);

745 
	gD©eTime
::
diff_days
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

747  (
diff_hours
 (
th©
) / 24.0);

752 
	gD©eTime
::
diff_w“kdays
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

754 cÚ¡ 
add’d
 = 
com·»
(
th©
) ? -1 : 1;

755 
D©eTime
 
¦ug
 (
th©
);

756 
	gddays
 = 0.0;

758 
	g¦ug
.
d©e
 () != date ()) {

759 ià(! 
¦ug
.
is_w“k’d
 ())

760 
ddays
 +ğ
¡©ic_ÿ¡
<cÚ¡ >(
add’d
);

761 
	g¦ug
.
add_days
 (
add’d
);

764  (
	gddays
 + (
diff_£cÚds
 (
¦ug
è/ 
	g¡©ic_ÿ¡
<>(24 * 3600)));

769 
	gD©eTime
::
diff_w“ks
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

771  (
diff_days
 (
th©
) / 7.0);

776 
	gD©eTime
::
add_£cÚds
 (
EpochTy³
 
£cs
è
nÛxû±
 {

778 
£t_time
 (
this
->
time
 (è+ 
£cs
, 
Çno£c
 ());

784 
	gD©eTime
::
add_Çno£cÚds
 (
Çno£cs
è
nÛxû±
 {

786 
Ãw_time
 =

787 
¡©ic_ÿ¡
<>(
this
->
time
()) * 1000000000LL +

788 
¡©ic_ÿ¡
<>(
Çno£c
());

790 
	gÃw_time
 +ğ
¡©ic_ÿ¡
<>(
Çno£cs
);

791 
£t_time
(
¡©ic_ÿ¡
<
EpochTy³
>(
Ãw_time
 / 1000000000LL),

792 
¡©ic_ÿ¡
<
Nªo£cÚdTy³
>(
Ãw_time
 % 1000000000LL));

798 
	gD©eTime
::
add_days
 (
days
è
nÛxû±
 {

800 ià(
days
 != 0) {

801 cÚ¡ 
add’d
 = 
days
 < 0 ? -1 : 1;

803 
	gdays
) {

804 cÚ¡ 
D©eTime
 
´ev_d©e
 (*
this
);

806 
add_£cÚds
 (
add’d
 * 24 * 3600);

811 ià(
d©e
 (è=ğ
´ev_d©e
.date ()) {

812 
d©e
 (è=ğ
´ev_d©e
.date ())

813 
add_£cÚds
 (3600 * 
add’d
);

815 ià(
	gadd’d
 > 0 && (
dy—r
()è- (
	g´ev_d©e
.dyear()) > 1) {

816 (
dy—r
 ()è- (
	g´ev_d©e
.dyear ()) > 1)

817 
add_£cÚds
 (-3600 * 
add’d
);

819 ià(
	gadd’d
 < 0 && (
dy—r
()è- (
	g´ev_d©e
.dyear()) < -1) {

820 (
dy—r
 ()è- (
	g´ev_d©e
.dyear()) < -1)

821 
add_£cÚds
 (3600);

823 ià(
hour
 (è< 
	g´ev_d©e
.hour ()) {

824 
hour
 (è< 
	g´ev_d©e
.hour ())

825 
add_£cÚds
 (3600);

827 ià(
hour
 (è> 
	g´ev_d©e
.hour ()) {

828 
hour
 (è> 
	g´ev_d©e
.hour ())

829 
add_£cÚds
 (-3600);

832 
	gdays
 -ğ
add’d
;

841 
	gD©eTime
::
add_w“kdays
 (
days
è
nÛxû±
 {

843 ià(
days
 != 0) {

844 cÚ¡ 
add’d
 = 
days
 < 0 ? -1 : 1;

846 
	gdays
) {

847 
add_days
 (
add’d
);

849 
is_w“k’d
 ())

850 
add_days
 (
add’d
);

851 
	gdays
 -ğ
add’d
;

859 
	gD©eTime
::
add_mÚths
 (
mÚths
è
nÛxû±
 {

861 
y
 = 
y—r
();

862 
	gm
 = 
¡©ic_ÿ¡
<>(
mÚth
());

863 cÚ¡ 
	gadd’d
 = 
mÚths
 >= 0 ? 1 : -1;

865 
	gmÚths
) {

866 
	gm
 +ğ
add’d
;

867 ià(
	gm
 > 12 || m == 0) {

868 
m
 = m > 12 ? 1 : 12;

869 
	gy
 +ğ
add’d
;

871 
	gmÚths
 -ğ
add’d
;

874 
	gÃw_day
 = 
dmÚth
();

875 cÚ¡ 
	gdays_max
 = 
days_š_mÚth_
(
¡©ic_ÿ¡
<
DT_MONTH
>(
m
), 
y
);

877 ià(
	gÃw_day
 > 
	gdays_max
)

878 
	gÃw_day
 = 
days_max
;

880 cÚ¡ 
D©eTime
 
Ãw_di
((
y
 * 100 + 
m
è* 100 + 
Ãw_day
,

881 
hour
(),

882 
mšu‹
(),

883 
£c
(),

884 
Çno£c
(),

885 
g‘_timezÚe
());

887 *
	gthis
 = 
Ãw_di
;

893 
	gD©eTime
::
add_y—rs
 (
y—rs
è
nÛxû±
 {

895 
Ãw_y—r
 = 
y—r
(è+ 
y—rs
;

896 
	gÃw_day
 = 
dmÚth
();

897 cÚ¡ 
	gdays_max
 = 
days_š_mÚth_
(
mÚth
(), 
Ãw_y—r
);

899 ià(
	gÃw_day
 > 
	gdays_max
)

900 
	gÃw_day
 = 
days_max
;

902 cÚ¡ 
D©eTime
 
Ãw_di
(

903 (
Ãw_y—r
 * 100 + 
¡©ic_ÿ¡
<>(
mÚth
())è* 100 + 
Ãw_day
,

904 
hour
(),

905 
mšu‹
(),

906 
£c
(),

907 
Çno£c
(),

908 
g‘_timezÚe
());

910 *
	gthis
 = 
Ãw_di
;

916 
boŞ
 
	gD©eTime
::
is_w“k’d
 (ècÚ¡ 
nÛxû±
 {

918 cÚ¡ 
DT_WEEKDAY
 
w_day
 = 
dw“k
 ();

920  (
	gw_day
 =ğ
DT_WEEKDAY
::
SUN
 || 
w_day
 =ğDT_WEEKDAY::
SAT
);

925 
boŞ
 
	gD©eTime
::
is_Ãwy—r
 (ècÚ¡ 
nÛxû±
 {

927 cÚ¡ 
D©eP¬tTy³
 
m_day
 = 
dmÚth
 ();

928 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

929 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

934  (((
	gm_day
 =ğ1 || (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 == 2)) &&

935 
mÚ
 =ğ
DT_MONTH
::
JAN
) ||

936 (
m_day
 =ğ31 && 
w_day
 =ğ
DT_WEEKDAY
::
FRI
 &&

937 
mÚ
 =ğ
DT_MONTH
::
DEC
));

942 
boŞ
 
	gD©eTime
::
is_xmas
 (ècÚ¡ 
nÛxû±
 {

944 cÚ¡ 
D©eP¬tTy³
 
m_day
 = 
dmÚth
 ();

945 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

946 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

951  ((
	gm_day
 =ğ25 || (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 == 26) ||

952 (
w_day
 =ğ
DT_WEEKDAY
::
FRI
 && 
m_day
 == 24)) &&

953 
mÚ
 =ğ
DT_MONTH
::
DEC
);

958 
	g¡d
::
¡ršg
 
D©eTime
::
¡ršg_fÜm©
 (
DT_FORMAT
 
fÜm©
) const {

960 
¡d
::
¡ršg
 
»suÉ
;

962 
d©e_to_¡r
 (
fÜm©
, 
»suÉ
);

963  (
	g»suÉ
);

968 
šlše
 
	gD©eTime
::
chªge_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
) {

970 ià(
time_zÚe
 !ğ
DT_TIME_ZONE
::
LOCAL
) {

971 #ifdeà
_WIN32


973 
_pu‹nv
 (
TIMEZONES_
[
¡©ic_ÿ¡
<>(
time_zÚe
)]);

974 
_tz£t
 ();

976 ::
£‹nv
 ("TZ", 
TIMEZONES_
[
¡©ic_ÿ¡
<>(
time_zÚe
)], 1);

977 ::
tz£t
 ();

984 
šlše
 
	gD©eTime
::
»£t_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
) {

986 ià(
time_zÚe
 !ğ
DT_TIME_ZONE
::
LOCAL
) {

987 #ifdeà
_WIN32


989 
_pu‹nv
 ("TZ=");

990 
_tz£t
 ();

992 ::
un£‹nv
 ("TZ");

993 ::
tz£t
 ();

1000 
	gD©eTime
::
EpochTy³
 
D©eTime
::
mak‘ime_
 (
tm
 &
Éime
ècÚ¡ 
nÛxû±
 {

1002 
Éime
.
tm_£c
 = 
£c
 ();

1003 
	gÉime
.
	gtm_isd¡
 = -1;

1004 
	gÉime
.
	gtm_mš
 = 
mšu‹
 ();

1005 
	gÉime
.
	gtm_hour
 = 
hour
 ();

1006 
	gÉime
.
	gtm_mday
 = 
dmÚth
 ();

1007 
	gÉime
.
	gtm_mÚ
 = 
¡©ic_ÿ¡
<>(
mÚth
()) - 1;

1008 
	gÉime
.
	gtm_y—r
 = 
y—r
 () - 1900;

1010 
chªge_’v_timezÚe_
(
time_zÚe_
);

1012 cÚ¡ 
time_t
 
	gt
 = ::
mktime
 (&
Éime
);

1014 
»£t_’v_timezÚe_
(
time_zÚe_
);

1015  (
	gt
);

1021 
	gD©eTime
::
b»aktime_
 (
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
è
	gnÛxû±
 {

1023 
chªge_’v_timezÚe_
(
time_zÚe_
);

1025 
tm
 
	gÉime
;

1027 #ifdeà
_WIN32


1028 
loÿÉime_s
 (&
Éime
, &
the_time
);

1030 
loÿÉime_r
 (&
the_time
, &
Éime
);

1033 
»£t_’v_timezÚe_
(
time_zÚe_
);

1035 
	gd©e_
 = (
Éime
.
tm_y—r
 + 1900) * 100;

1037 
	gd©e_
 +ğ(
Éime
.
tm_mÚ
 + 1);

1038 
	gd©e_
 *= 100;

1039 
	gd©e_
 +ğ
Éime
.
tm_mday
;

1041 
	ghour_
 = 
Éime
.
tm_hour
;

1042 
	gmšu‹_
 = 
Éime
.
tm_mš
;

1043 
	g£cÚd_
 = 
Éime
.
tm_£c
;

1044 
	gÇno£cÚd_
 = 
Çno£c
;

1045 
	gtime_
 = 
the_time
;

1046 
	gw“k_day_
 = 
¡©ic_ÿ¡
<
DT_WEEKDAY
>(
Éime
.
tm_wday
 + 1);

1053 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1054 
	gD©eTime
::
d©e_to_¡r
 (
DT_FORMAT
 
fÜm©
, 
T
 &
»suÉ
) const {

1056 
SŒšg128
 
	gbufãr
;

1058 
	gfÜm©
) {

1059 
	gDT_FORMAT
::
AMR_DT
:

1061 
bufãr
.
´štf
 ("%002d/%002d/%002d",

1062 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1063 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1064 
¡©ic_ÿ¡
<>(
y—r
 ()) % 100);

1067 
	gDT_FORMAT
::
AMR_DT_CTY
:

1069 
bufãr
.
´štf
 ("%002d/%002d/%d",

1070 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1071 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1072 
¡©ic_ÿ¡
<>(
y—r
 ()));

1075 
	gDT_FORMAT
::
EUR_DT
:

1077 
bufãr
.
´štf
 ("%002d/%002d/%002d",

1078 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1079 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1080 
¡©ic_ÿ¡
<>(
y—r
 ()) % 100);

1083 
	gDT_FORMAT
::
EUR_DT_CTY
:

1085 
bufãr
.
´štf
 ("%002d/%002d/%d",

1086 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1087 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1088 
¡©ic_ÿ¡
<>(
y—r
 ()));

1091 
	gDT_FORMAT
::
DT_TM
:

1093 
bufãr
.
´štf
 ("%002d/%002d/%d %002d:%002d:%002d",

1094 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1095 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1096 
¡©ic_ÿ¡
<>(
y—r
 ()),

1097 
¡©ic_ÿ¡
<>(
hour
 ()),

1098 
¡©ic_ÿ¡
<>(
mšu‹
 ()),

1099 
¡©ic_ÿ¡
<>(
£c
 ()));

1102 
	gDT_FORMAT
::
DT_TM2
:

1104 
bufãr
.
´štf
 ("%002d/%002d/%d %002d:%002d:%002d.%0003d",

1105 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1106 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1107 
¡©ic_ÿ¡
<>(
y—r
 ()),

1108 
¡©ic_ÿ¡
<>(
hour
 ()),

1109 
¡©ic_ÿ¡
<>(
mšu‹
 ()),

1110 
¡©ic_ÿ¡
<>(
£c
 ()),

1111 
¡©ic_ÿ¡
<>(
m£c
 ()));

1114 
	gDT_FORMAT
::
DT_DATETIME
:

1116 
bufãr
.
´štf
 ("%d%002d%002d %002d:%002d:%002d.%0003d",

1117 
¡©ic_ÿ¡
<>(
y—r
 ()),

1118 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1119 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1120 
¡©ic_ÿ¡
<>(
hour
 ()),

1121 
¡©ic_ÿ¡
<>(
mšu‹
 ()),

1122 
¡©ic_ÿ¡
<>(
£c
 ()),

1123 
¡©ic_ÿ¡
<>(
m£c
 ()));

1126 
	gDT_FORMAT
::
SCT_DT
:

1128 
bufãr
.
´štf
 ("%s %002d, %d",

1129 
MONTH_BR_
 [
¡©ic_ÿ¡
<>(
mÚth
 ()) - 1],

1130 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1131 
¡©ic_ÿ¡
<>(
y—r
 ()));

1134 
	gDT_FORMAT
::
DT_MMDDYYYY
:

1136 
bufãr
.
´štf
 ("%002d%002d%d",

1137 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1138 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1139 
¡©ic_ÿ¡
<>(
y—r
 ()));

1142 
	gDT_FORMAT
::
DT_YYYYMMDD
:

1144 
bufãr
.
´štf
 ("%002d%002d%002d",

1145 
¡©ic_ÿ¡
<>(
y—r
 ()),

1146 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1147 
¡©ic_ÿ¡
<>(
dmÚth
 ()));

1150 
	gDT_FORMAT
::
DT_PRECISE
:

1152 
bufãr
.
´štf
 ("%ld.%d", 
this
->
time
(), 
Çno£c
());

1157 
bufãr
.
´štf
 ("ERROR: DateTime::date_to_str(): "

1159 
fÜm©
);

1160 
throw
 
	g¡d
::
ruÁime_”rÜ
 (
bufãr
.
c_¡r
 ());

1164 
	g»suÉ
 = 
bufãr
.
c_¡r
 ();

	@DataFrame/AIFM/src/Utils/ThreadGranularity.cc

30 
	~<D©aF¿me/Uts/Th»adG¿nuÏr™y.h
>

32 
	~<th»ad
>

36 
Çme¥aû
 
	ghmdf


39 
	gTh»adG¿nuÏr™y
::
num_of_th»ads_
 = 0;

40 cÚ¡ 
	gTh»adG¿nuÏr™y
::
suµÜ‹d_th»ads_
 =

41 
¡d
::
th»ad
::
h¬dw¬e_cÚcu¼’cy
();

	@DataFrame/AIFM/src/Vectors/HeteroPtrView.cc

30 
	~<D©aF¿me/VeùÜs/H‘”oPŒV›w.h
>

34 
Çme¥aû
 
	ghmdf


37 
	gH‘”oPŒV›w
::
H‘”oPŒV›w
 (cÚ¡ H‘”oPŒV›w &
th©
è{ *
this
 =hat; }

38 
	gH‘”oPŒV›w
::
H‘”oPŒV›w
 (H‘”oPŒV›w &&
th©
è{ *
this
 =hat; }

42 
	gH‘”oPŒV›w
 &H‘”oPŒV›w::
İ”©Ü
ğ(cÚ¡ 
H‘”oPŒV›w
 &
rhs
) {

44 ià(&
rhs
 !ğ
this
) {

45 
ş—r
();

46 
	gş—r_funùiÚ_
 = 
rhs
.
ş—r_funùiÚ_
;

47 
	gcİy_funùiÚ_
 = 
rhs
.
cİy_funùiÚ_
;

48 
	gmove_funùiÚ_
 = 
rhs
.
move_funùiÚ_
;

50 
cİy_funùiÚ_
(
rhs
, *
this
);

53  (*
	gthis
);

58 
	gH‘”oPŒV›w
 &H‘”oPŒV›w::
İ”©Ü
ğ(
H‘”oPŒV›w
 &&
rhs
) {

60 ià(&
rhs
 !ğ
this
) {

61 
ş—r
();

62 
	gş—r_funùiÚ_
 = 
¡d
::
move
(
rhs
.
ş—r_funùiÚ_
);

63 
	gcİy_funùiÚ_
 = 
¡d
::
move
(
rhs
.
cİy_funùiÚ_
);

64 
	gmove_funùiÚ_
 = 
¡d
::
move
(
rhs
.
move_funùiÚ_
);

66 
move_funùiÚ_
(
rhs
, *
this
);

69  (*
	gthis
);

74 
	gH‘”oPŒV›w
::
ş—r
() {

76 
ş—r_funùiÚ_
(*
this
);

	@DataFrame/AIFM/src/Vectors/HeteroVector.cc

30 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.h
>

34 
Çme¥aû
 
	ghmdf


37 
	gH‘”oVeùÜ
::
H‘”oVeùÜ
 () {

39 
ş—r_funùiÚs_
.
»£rve
(2);

40 
	gcİy_funùiÚs_
.
»£rve
(2);

41 
	gmove_funùiÚs_
.
»£rve
(2);

46 
	gH‘”oVeùÜ
::
H‘”oVeùÜ
 (cÚ¡ H‘”oVeùÜ &
th©
è{ *
this
 =hat; }

47 
	gH‘”oVeùÜ
::
H‘”oVeùÜ
 (H‘”oVeùÜ &&
th©
è
nÛxû±
 { *
this
 = 
¡d
::
move
(that); }

50 
	gH‘”oVeùÜ
 &H‘”oVeùÜ::
İ”©Ü
ğ(cÚ¡ 
H‘”oVeùÜ
 &
rhs
) {

52 ià(&
rhs
 !ğ
this
) {

53 
ş—r
();

54 
	gş—r_funùiÚs_
 = 
rhs
.
ş—r_funùiÚs_
;

55 
	gcİy_funùiÚs_
 = 
rhs
.
cİy_funùiÚs_
;

56 
	gmove_funùiÚs_
 = 
rhs
.
move_funùiÚs_
;

58 autØ&&
	gcİy_funùiÚ
 : 
cİy_funùiÚs_
)

59 
cİy_funùiÚ
(
rhs
, *
this
);

62  (*
	gthis
);

67 
	gH‘”oVeùÜ
 &H‘”oVeùÜ::
İ”©Ü
ğ(
H‘”oVeùÜ
 &&
rhs
è
nÛxû±
 {

69 ià(&
rhs
 !ğ
this
) {

70 
ş—r
();

71 
	gş—r_funùiÚs_
 = 
¡d
::
move
(
rhs
.
ş—r_funùiÚs_
);

72 
	gcİy_funùiÚs_
 = 
¡d
::
move
(
rhs
.
cİy_funùiÚs_
);

73 
	gmove_funùiÚs_
 = 
¡d
::
move
(
rhs
.
move_funùiÚs_
);

75 autØ&&
	gmove_funùiÚ
 : 
move_funùiÚs_
)

76 
move_funùiÚ
(
rhs
, *
this
);

79  (*
	gthis
);

84 
	gH‘”oVeùÜ
::
ş—r
() {

86 autØ&&
ş—r_func
 : 
ş—r_funùiÚs_
)

87 
ş—r_func
 (*
this
);

	@DataFrame/AIFM/src/Vectors/HeteroView.cc

30 
	~<D©aF¿me/VeùÜs/H‘”oV›w.h
>

34 
Çme¥aû
 
	ghmdf


37 
	gH‘”oV›w
::
H‘”oV›w
 (cÚ¡ H‘”oV›w &
th©
è{ *
this
 =hat; }

38 
	gH‘”oV›w
::
H‘”oV›w
 (H‘”oV›w &&
th©
è{ *
this
 =hat; }

42 
	gH‘”oV›w
 &H‘”oV›w::
İ”©Ü
ğ(cÚ¡ 
H‘”oV›w
 &
rhs
) {

44 ià(&
rhs
 !ğ
this
) {

45 
ş—r
();

46 
	gş—r_funùiÚ_
 = 
rhs
.
ş—r_funùiÚ_
;

47 
	gcİy_funùiÚ_
 = 
rhs
.
cİy_funùiÚ_
;

48 
	gmove_funùiÚ_
 = 
rhs
.
move_funùiÚ_
;

50 
cİy_funùiÚ_
(
rhs
, *
this
);

53  (*
	gthis
);

58 
	gH‘”oV›w
 &H‘”oV›w::
İ”©Ü
ğ(
H‘”oV›w
 &&
rhs
) {

60 ià(&
rhs
 !ğ
this
) {

61 
ş—r
();

62 
	gş—r_funùiÚ_
 = 
¡d
::
move
(
rhs
.
ş—r_funùiÚ_
);

63 
	gcİy_funùiÚ_
 = 
¡d
::
move
(
rhs
.
cİy_funùiÚ_
);

64 
	gmove_funùiÚ_
 = 
¡d
::
move
(
rhs
.
move_funùiÚ_
);

66 
move_funùiÚ_
(
rhs
, *
this
);

69  (*
	gthis
);

74 
	gH‘”oV›w
::
ş—r
() {

76 
ş—r_funùiÚ_
(*
this
);

	@DataFrame/AIFM/test/dataframe_performance.cc

28 
	~<D©aF¿me/D©aF¿me.h
>

29 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

30 
	~<D©aF¿me/RªdG’.h
>

32 
	~<io¡»am
>

34 
usšg
 
Çme¥aû
 
	ghmdf
;

36 
	gStdD©aF¿me
<
	ttime_t
> 
	tMyD©aF¿me
;

40 
	$maš
(
¬gc
, *
¬gv
[]) {

42 
MyD©aF¿me
 
df
;

43 cÚ¡ 
size_t
 
šdex_sz
 =

44 
df
.
	`lßd_šdex
(

45 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
("01/01/1970",

47 
time_äequ’cy
::
£cÚdly
,

49 
RªdG’P¬ams
<> 
p
;

51 
p
.
m—n
 = 1.0;

52 
p
.
¡d
 = 0.005;

54 
df
.
	`lßd_cŞumn
("nÜm®", 
g’_nÜm®_di¡
<>(
šdex_sz
, 
p
));

55 
df
.
	`lßd_cŞumn
("log_nÜm®", 
g’_lognÜm®_di¡
<>(
šdex_sz
));

56 
p
.
Ïmbda
 = 1.5;

57 
df
.
	`lßd_cŞumn
("expÚ’tŸl", 
g’_expÚ’tŸl_di¡
<>(
šdex_sz
, 
p
));

59 
¡d
::
cout
 << "All memory‡llocations‡re done. Calculating means ..."

60 << 
¡d
::
’dl
;

62 
M—nVis™Ü
<, 
time_t
> 
n_mv
;

63 
M—nVis™Ü
<, 
time_t
> 
Ê_mv
;

64 
M—nVis™Ü
<, 
time_t
> 
e_mv
;

66 autØ
fut1
 = 
df
.
vis™_async
<>("nÜm®", 
n_mv
);

67 autØ
fut2
 = 
df
.
vis™_async
<>("log_nÜm®", 
Ê_mv
);

68 autØ
fut3
 = 
df
.
vis™_async
<>("expÚ’tŸl", 
e_mv
);

70 
fut1
.
	`g‘
();

71 
fut2
.
	`g‘
();

72 
fut3
.
	`g‘
();

77 
	}
}

	@DataFrame/AIFM/test/dataframe_tester.cc

28 
	~<CSV/csv.hµ
>

29 
	~<D©aF¿me/D©aF¿me.h
>

30 
	~<D©aF¿me/D©aF¿meO³¿tÜs.h
>

31 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

32 
	~<D©aF¿me/D©aF¿meMLVis™Üs.h
>

33 
	~<D©aF¿me/D©aF¿meFšªcŸlVis™Üs.h
>

34 
	~<D©aF¿me/GroupbyAgg»g©Üs.h
>

35 
	~<D©aF¿me/RªdG’.h
>

37 
	~<®gÜ™hm
>

38 
	~<ÿs£¹
>

39 
	~<cm©h
>

40 
	~<io¡»am
>

41 
	~<lim™s
>

42 
	~<¡ršg
>

43 
	~<ty³šfo
>

45 
usšg
 
Çme¥aû
 
	ghmdf
;

47 
	gStdD©aF¿me
<> 
	tMyD©aF¿me
;

51 
	sR•ÏûFunùÜ
 {

53 
boŞ
 
İ”©Ü
(è(cÚ¡ &
	midx
, &
	mv®ue
) {

55 ià(
	midx
 == 20180103) {

56 
v®ue
 *= 1000.0;

57 
	mcouÁ
 += 1;

59 ià(
	midx
 == 20180115) {

60 
v®ue
 *= 1000.0;

61 
	mcouÁ
 += 1;

63 ià(
	midx
 == 20180121) {

64 
v®ue
 *= 1000.0;

65 
	mcouÁ
 += 1;

68  (
	mŒue
);

71 
size_t
 
	mcouÁ
 { 0 };

76 
	$‹¡_h­haz¬d
() {

78 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

80 
¡d
::
cout
 << "\nTe¡šg†ßd_d©¨..." << std::
’dl
;

82 
MyD©aF¿me
 
df
;

83 
¡d
::
veùÜ
<> &
cŞ0
 =

84 
df
.
ü—‹_cŞumn
<>(
¡©ic_ÿ¡
<const *>("col_name"));

86 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5 };

87 
¡d
::
veùÜ
<> 
dblvec
 =

89 
¡d
::
veùÜ
<> 
dblvec2
 =

91 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 =

93 
¡d
::
veùÜ
<> 
ulgvec
 =

95 
¡d
::
veùÜ
<> 
xulgvec
 = 
ulgvec
;

96 cÚ¡ 
size_t
 
tÙ®_couÁ
 =

97 
ulgvec
.
	`size
() +

98 
štvec
.
	`size
() +

99 
dblvec
.
	`size
() +

100 
dblvec2
.
	`size
() +

101 
¡rvec
.
	`size
() +

102 
xulgvec
.
	`size
() +

105 
MyD©aF¿me
::
size_ty³
 
rc
 =

106 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
ulgvec
),

107 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

108 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

109 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

110 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
),

111 
¡d
::
	`make_·œ
("ul_cŞ", 
xulgvec
));

113 
	`as£¹
(
rc
 == 48);

115 
df
.
	`lßd_šdex
(
ulgvec
.
	`begš
(), ulgvec.
	`’d
());

116 
df
.
lßd_cŞumn
<>("št_cŞ", { 
štvec
.
	`begš
(), iÁvec.
	`’d
() },

117 
Çn_pŞicy
::
·d_w™h_Çns
);

118 
df
.
lßd_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ", { 
¡rvec
.
	`begš
(), sŒvec.
	`’d
() },

119 
Çn_pŞicy
::
·d_w™h_Çns
);

120 
df
.
lßd_cŞumn
<>("dbl_cŞ", { 
dblvec
.
	`begš
(), dblvec.
	`’d
() },

121 
Çn_pŞicy
::
·d_w™h_Çns
);

122 
df
.
lßd_cŞumn
<>("dbl_cŞ_2", { 
dblvec2
.
	`begš
(), dblvec2.
	`’d
() },

123 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

125 
df
.
­³nd_cŞumn
<
¡d
::
¡ršg
>("str_col", "Additional column");

126 
df
.
	`­³nd_cŞumn
("dbl_col", 10.56);

128 
¡d
::
veùÜ
<> 
ivec
 = 
df
.
g‘_cŞumn
<> ("int_col");

130 
	`as£¹
(
df
.
g‘_cŞumn
<> ("dbl_col")[2] == 3.2345);

132 
¡d
::
cout
 << "\nTe¡šg Vis™Ü 1 ..." << std::
’dl
;

134 
M—nVis™Ü
<> 
ivis™Ü
;

135 
M—nVis™Ü
<> 
dvis™Ü
;

136 cÚ¡ 
MyD©aF¿me
 
cÚ¡_df
 = 
df
;

137 autØ
cÚ¡_fut
 =

138 
cÚ¡_df
.
vis™_async
<>("št_cŞ", 
ivis™Ü
);

140 
	`as£¹
(
cÚ¡_fut
.
	`g‘
().
	`g‘_»suÉ
() == 1);

142 autØ
fut
 = 
df
.
vis™_async
<>("dbl_cŞ", 
dvis™Ü
);

144 
	`as£¹
(
	`abs
(
fut
.
	`g‘
().
	`g‘_»suÉ
() - 3.2345) < 0.00001);

146 
df
.
g‘_cŞumn
<>("dbl_col")[5] = 6.5;

147 
df
.
g‘_cŞumn
<>("dbl_col")[6] = 7.5;

148 
df
.
g‘_cŞumn
<>("dbl_col")[7] = 8.5;

149 
	`as£¹
(::
	`abs
(
df
.
vis™
<>("dbl_cŞ", 
dvis™Ü
).
	`g‘_»suÉ
() -

152 
¡d
::
veùÜ
<> 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

153 
¡d
::
veùÜ
<> 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

155 
	`as£¹
(
dvec
.
	`size
() == 9);

156 
	`as£¹
(
dvec
[0] == 1.2345);

157 
	`as£¹
(
dvec
[1] == 2.2345);

158 
	`as£¹
(
dvec
[3] == 4.2345);

159 
	`as£¹
(
dvec
[8] == 10.56);

161 
	`as£¹
(
dvec2
.
	`size
() == 8);

162 
	`as£¹
(
dvec2
[0] == 0.998);

163 
	`as£¹
(
dvec2
[1] == 0.3456);

164 
	`as£¹
(
dvec2
[4] == 0.00345);

165 
	`as£¹
(
dvec2
[7] == 0.1);

167 
¡d
::
cout
 << "\nTe¡šg make_cÚsi¡’ˆ..." << std::
’dl
;

169 
df
.
make_cÚsi¡’t
<, , 
¡d
::
¡ršg
>();

170 
df
.
shršk_to_f™
<, , 
¡d
::
¡ršg
>();

171 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

172 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

174 
	`as£¹
(
dvec
.
	`size
() == 8);

175 
	`as£¹
(
dvec
[0] == 1.2345);

176 
	`as£¹
(
dvec
[1] == 2.2345);

177 
	`as£¹
(
dvec
[3] == 4.2345);

178 
	`as£¹
(
dvec
[7] == 8.5);

180 
	`as£¹
(
dvec2
.
	`size
() == 8);

181 
	`as£¹
(
dvec2
[0] == 0.998);

182 
	`as£¹
(
dvec2
[1] == 0.3456);

183 
	`as£¹
(
dvec2
[4] == 0.00345);

184 
	`as£¹
(
dvec2
[7] == 0.1);

186 
¡d
::
cout
 << "\nTe¡šg sÜˆ1 ..." << std::
’dl
;

188 
df
.
sÜt
<
MyD©aF¿me
::
IndexTy³
, , , 
¡d
::
¡ršg
>

189 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
);

190 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

191 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

193 
	`as£¹
(
dvec
.
	`size
() == 8);

194 
	`as£¹
(
dvec
[0] == 1.2345);

195 
	`as£¹
(
dvec
[1] == 2.2345);

196 
	`as£¹
(
dvec
[3] == 4.2345);

197 
	`as£¹
(
dvec
[5] == 8.5);

198 
	`as£¹
(
dvec
[7] == 6.5);

200 
	`as£¹
(
dvec2
.
	`size
() == 8);

201 
	`as£¹
(
dvec2
[0] == 0.998);

202 
	`as£¹
(
dvec2
[1] == 0.3456);

203 
	`as£¹
(
dvec2
[4] == 0.00345);

204 
	`as£¹
(
dvec2
[5] == 0.1);

205 
	`as£¹
(
dvec2
[7] == 0.923);

207 
¡d
::
cout
 << "\nTe¡šg sÜˆ2 ..." << std::
’dl
;

209 
df
.
sÜt
<, , , 
¡d
::
¡ršg
>("dbl_cŞ_2", 
sÜt_¥ec
::
desû
);

210 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

211 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

213 
	`as£¹
(
dvec
[0] == 1.2345);

214 
	`as£¹
(
dvec
[7] == 5.2345);

216 
	`as£¹
(
dvec2
[0] == 0.998);

217 
	`as£¹
(
dvec2
[7] == 0.00345);

219 
¡d
::
cout
 << "\nTe¡šg sÜˆ3 ..." << std::
’dl
;

221 
df
.
sÜt
<, , , 
¡d
::
¡ršg
>("dbl_cŞ_2", 
sÜt_¥ec
::
asûn
);

222 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

223 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

225 
	`as£¹
(
dvec
.
	`size
() == 8);

226 
	`as£¹
(
dvec
[0] == 5.2345);

227 
	`as£¹
(
dvec
[1] == 3.2345);

228 
	`as£¹
(
dvec
[3] == 8.5);

229 
	`as£¹
(
dvec
[5] == 2.2345);

230 
	`as£¹
(
dvec
[7] == 1.2345);

232 
	`as£¹
(
dvec2
.
	`size
() == 8);

233 
	`as£¹
(
dvec2
[0] == 0.00345);

234 
	`as£¹
(
dvec2
[1] == 0.056);

235 
	`as£¹
(
dvec2
[4] == 0.15678);

236 
	`as£¹
(
dvec2
[5] == 0.3456);

237 
	`as£¹
(
dvec2
[7] == 0.998);

239 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_idx(è..." << std::
’dl
;

241 
df
.
sÜt
<
MyD©aF¿me
::
IndexTy³
, , , 
¡d
::
¡ršg
>

242 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
);

244 
MyD©aF¿me
 
df2
 =

245 
df
.
g‘_d©a_by_idx
<, , 
¡d
::
¡ršg
>(

246 
Index2D
<
MyD©aF¿me
::
IndexTy³
> { 3, 5 });

248 
dvec
 = 
df2
.
g‘_cŞumn
<> ("dbl_col");

249 
dvec2
 = 
df2
.
g‘_cŞumn
<> ("dbl_col_2");

251 
	`as£¹
(
dvec
.
	`size
() == 3);

252 
	`as£¹
(
dvec
[0] == 3.2345);

253 
	`as£¹
(
dvec
[1] == 4.2345);

255 
	`as£¹
(
dvec2
.
	`size
() == 3);

256 
	`as£¹
(
dvec2
[0] == 0.056);

257 
	`as£¹
(
dvec2
[1] == 0.15678);

259 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_loc(è..." << std::
’dl
;

261 
df
.
sÜt
<, , , 
¡d
::
¡ršg
>("dbl_cŞ_2", 
sÜt_¥ec
::
asûn
);

263 
MyD©aF¿me
 
df3
 = 
df
.
g‘_d©a_by_loc
<, , 
¡d
::
¡ršg
>

264 (
Index2D
<> { 1, 2 });

266 
	`as£¹
(
df3
.
	`g‘_šdex
().
	`size
() == 1);

267 
	`as£¹
(
df3
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 1);

268 
	`as£¹
(
df3
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 1);

269 
	`as£¹
(
df3
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 1);

270 
	`as£¹
(
df3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 1);

271 
	`as£¹
(
df3
.
	`g‘_šdex
()[0] == 3);

272 
	`as£¹
(
df3
.
g‘_cŞumn
<>("dbl_col")[0] == 3.2345);

273 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_name")[0] == 0);

274 
	`as£¹
(
df3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "Col_name");

278 
dvec
 = 
df3
.
g‘_cŞumn
<> ("dbl_col");

279 
dvec2
 = 
df3
.
g‘_cŞumn
<> ("dbl_col_2");

281 
	`as£¹
(
dvec
.
	`size
() == 1);

282 
	`as£¹
(
dvec
[0] == 3.2345);

284 
	`as£¹
(
dvec2
.
	`size
() == 1);

285 
	`as£¹
(
dvec2
[0] == 0.056);

287 
¡d
::
cout
 << "\nTe¡šg CÜ»ÏtiÚ Vis™Ü ..." << std::
’dl
;

289 
CÜrVis™Ü
<> 
cÜr_vis™Ü
;

290 autØ
fut10
 =

291 
df
.
vis™_async
<, >("dbl_cŞ", "dbl_cŞ_2", 
cÜr_vis™Ü
);

292 cÚ¡ 
cÜr
 = 
fut10
.
	`g‘
().
	`g‘_»suÉ
();

294 
	`as£¹
(
	`çbs
(
cÜr
 - -0.358381) < 0.000001);

296 
¡d
::
cout
 << "\nTe¡šg St Vis™Ü ..." << std::
’dl
;

298 
StsVis™Ü
<> 
¡©s_vis™Ü
;

300 
df
.
vis™
<>("dbl_cŞ", 
¡©s_vis™Ü
);

301 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

302 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_skew
() - 0.0396307) < 0.0001);

303 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_ku¹osis
() - -1.273) < 0.0001);

304 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_m—n
() - 4.83406) < 0.0001);

305 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_v¬Ÿnû
() - 6.58781) < 0.0001);

307 
¡d
::
cout
 << "\nTe¡šg SLReg»ssiÚ Vis™Ü ..." << std::
’dl
;

309 
SLReg»ssiÚVis™Ü
<> 
¦r_vis™Ü
;

311 
df
.
vis™
<, >("dbl_cŞ", "dbl_cŞ_2", 
¦r_vis™Ü
);

312 
	`as£¹
(
¦r_vis™Ü
.
	`g‘_couÁ
() == 8);

313 
	`as£¹
(
	`çbs
(
¦r_vis™Ü
.
	`g‘_¦İe
() - -0.0561415) < 0.00001);

314 
	`as£¹
(
	`çbs
(
¦r_vis™Ü
.
	`g‘_š‹rû±
() - 0.602674) < 0.00001);

315 
	`as£¹
(
	`çbs
(
¦r_vis™Ü
.
	`g‘_cÜr
() - -0.358381) < 0.00001);

316 
	`as£¹
(
	`çbs
(
df
.
vis™
<, >("dbl_col", "dbl_col_2",

317 
cÜr_vis™Ü
).
	`g‘_»suÉ
() -

320 
¡d
::
cout
 << "\nTe¡šg GROUPBY ..." << std::
’dl
;

322 
¡d
::
veùÜ
<> 
ulgvec2
 =

327 
¡d
::
veùÜ
<> 
xulgvec2
 = 
ulgvec2
;

328 
¡d
::
veùÜ
<> 
štvec2
 =

331 
¡d
::
veùÜ
<> 
xdblvec2
 =

336 
¡d
::
veùÜ
<> 
dblvec22
 =

341 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec2
 =

350 
MyD©aF¿me
 
dfx
;

352 
dfx
.
	`lßd_d©a
(
¡d
::
	`move
(
ulgvec2
),

353 
¡d
::
	`make_·œ
("xšt_cŞ", 
štvec2
),

354 
¡d
::
	`make_·œ
("dbl_cŞ", 
xdblvec2
),

355 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec22
),

356 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec2
),

357 
¡d
::
	`make_·œ
("ul_cŞ", 
xulgvec2
));

358 
dfx
.
wr™e
<
¡d
::
o¡»am
,

362 
¡d
::
¡ršg
>(¡d::
cout
);

364 cÚ¡ 
MyD©aF¿me
 
dfxx
 =

365 
dfx
.
groupby
<
GroupbySum
,

369 
¡d
::
¡ršg
,

370 >(
	`GroupbySum
(), 
DF_INDEX_COL_NAME
);

372 
dfxx
.
wr™e
<
¡d
::
o¡»am
,

376 
¡d
::
¡ršg
>(¡d::
cout
);

378 cÚ¡ 
MyD©aF¿me
 
dfxx2
 =

379 
dfx
.
groupby
<
GroupbySum
,

380 
¡d
::
¡ršg
,

383 
¡d
::
¡ršg
,

384 >(
	`GroupbySum
(), "str_col");

386 
dfxx2
.
wr™e
<
¡d
::
o¡»am
,

390 
¡d
::
¡ršg
>(¡d::
cout
);

392 
¡d
::
futu»
<
MyD©aF¿me
> 
gb_fut
 =

393 
dfx
.
groupby_async
<
GroupbySum
,

397 
¡d
::
¡ršg
,

398 >(
	`GroupbySum
(), "dbl_col_2");

399 cÚ¡ 
MyD©aF¿me
 
dfxx3
 = 
gb_fut
.
	`g‘
();

401 
dfxx3
.
wr™e
<
¡d
::
o¡»am
,

405 
¡d
::
¡ršg
>(¡d::
cout
);

407 
¡d
::
cout
 << "\nTe¡šg Asynøwr™..." << std::
’dl
;

409 
¡d
::
futu»
<
boŞ
> 
fut2
 =

410 
dfxx3
.
wr™e_async
<
¡d
::
o¡»am
,

414 
¡d
::
¡ršg
>(¡d::
cout
);

416 
fut2
.
	`g‘
();

418 
¡d
::
cout
 << "\nTe¡šg AsynøsÜˆ..." << std::
’dl
;

420 autØ
sf
 = 
dfx
.
sÜt_async
<
MyD©aF¿me
::
IndexTy³
, 
¡d
::
¡ršg
,

421 , , 
¡d
::
¡ršg
, >

422 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
,

423 "¡r_cŞ", 
sÜt_¥ec
::
desû
);

425 
sf
.
	`g‘
();

427 
¡d
::
cout
 << "\nTe¡šg AsynøsÜˆ2 ..." << std::
’dl
;

429 
¡d
::
futu»
<> 
sÜt_fut
 =

430 
dfx
.
sÜt_async
<
MyD©aF¿me
::
IndexTy³
,

431 , , 
¡d
::
¡ršg
, >

432 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
);

434 
sÜt_fut
.
	`g‘
();

435 
dfx
.
wr™e
<
¡d
::
o¡»am
,

439 
¡d
::
¡ršg
>(¡d::
cout
);

441 
¡d
::
cout
 << "\nTe¡šg Buck‘ize(è..." << std::
’dl
;

443 cÚ¡ 
MyD©aF¿me
::
IndexTy³
 
š‹rv®
 = 4;

444 
¡d
::
futu»
<
MyD©aF¿me
> 
b_fut
 =

445 
dfx
.
buck‘ize_async
<
GroupbySum
,

448 
¡d
::
¡ršg
,

449 >(
	`GroupbySum
(), 
š‹rv®
);

450 cÚ¡ 
MyD©aF¿me
 
buck_df
 = 
b_fut
.
	`g‘
();

452 
buck_df
.
wr™e
<
¡d
::
o¡»am
,

456 
¡d
::
¡ršg
>(¡d::
cout
, 
Œue
);

458 
¡d
::
cout
 << "\nTe¡šg muÉi_vis™(è..." << std::
’dl
;

460 
M—nVis™Ü
<> 
ivis™Ü2
;

461 
M—nVis™Ü
<> 
ulvis™Ü
;

462 
M—nVis™Ü
<> 
dvis™Ü2
;

463 
M—nVis™Ü
<> 
dvis™Ü22
;

465 
dfx
.
	`muÉi_vis™
(
¡d
::
	`make_·œ
("xšt_cŞ", &
ivis™Ü2
),

466 
¡d
::
	`make_·œ
("dbl_cŞ", &
dvis™Ü2
),

467 
¡d
::
	`make_·œ
("dbl_cŞ_2", &
dvis™Ü22
),

468 
¡d
::
	`make_·œ
("ul_cŞ", &
ulvis™Ü
));

469 
	`as£¹
(
ivis™Ü2
.
	`g‘_»suÉ
() == 19);

470 
	`as£¹
(
	`çbs
(
dvis™Ü2
.
	`g‘_»suÉ
() - 4.5696) < 0.0001);

471 
	`as£¹
(
	`çbs
(
dvis™Ü22
.
	`g‘_»suÉ
() - 0.0264609) < 0.00001);

472 
	`as£¹
(
ulvis™Ü
.
	`g‘_»suÉ
() == 123448);

474 cÚ¡ 
MyD©aF¿me
 
dfx_c
 = 
dfx
;

476 
dfx_c
.
	`muÉi_vis™
(
¡d
::
	`make_·œ
("xšt_cŞ", &
ivis™Ü2
),

477 
¡d
::
	`make_·œ
("dbl_cŞ", &
dvis™Ü2
),

478 
¡d
::
	`make_·œ
("dbl_cŞ_2", &
dvis™Ü22
),

479 
¡d
::
	`make_·œ
("ul_cŞ", &
ulvis™Ü
));

480 
	`as£¹
(
ivis™Ü2
.
	`g‘_»suÉ
() == 19);

481 
	`as£¹
(
	`çbs
(
dvis™Ü2
.
	`g‘_»suÉ
() - 4.5696) < 0.0001);

482 
	`as£¹
(
	`çbs
(
dvis™Ü22
.
	`g‘_»suÉ
() - 0.0264609) < 0.00001);

483 
	`as£¹
(
ulvis™Ü
.
	`g‘_»suÉ
() == 123448);

485 
MyD©aF¿me
 
df_cİy_cÚ
 = 
dfx
;

487 
	`as£¹
((
df_cİy_cÚ
.
is_equ®
<,

490 
¡d
::
¡ršg
>(
dfx
)));

491 
	`as£¹
((! 
df_cİy_cÚ
.
is_equ®
<,

494 
¡d
::
¡ršg
>(
dfxx
)));

496 
df_cİy_cÚ
.
g‘_cŞumn
<>("dbl_col")[7] = 88.888888;

497 
	`as£¹
(
dfx
.
g‘_cŞumn
<>("dbl_col")[7] == 10.0);

498 
	`as£¹
(

499 
	`çbs
(
df_cİy_cÚ
.
g‘_cŞumn
<>("dbl_col")[7] - 88.888888) <

501 
	`as£¹
(! (
df_cİy_cÚ
.
is_equ®
<,

504 
¡d
::
¡ršg
>(
dfx
)));

506 
¡d
::
cout
 << "dfx befÜmodify_by_idx()" << std::
’dl
;

507 
dfx
.
wr™e
<
¡d
::
o¡»am
,

511 
¡d
::
¡ršg
>(¡d::
cout
);

513 
dfx
.
modify_by_idx
<, , , 
¡d
::
¡ršg
>(
df_cİy_cÚ
);

514 
¡d
::
cout
 << "dfx‡á” modify_by_idx()" << std::
’dl
;

515 
dfx
.
wr™e
<
¡d
::
o¡»am
,

519 
¡d
::
¡ršg
>(¡d::
cout
);

520 
dfx
.
modify_by_idx
<, , , 
¡d
::
¡ršg
>(
df
);

521 
¡d
::
cout
 << "dfx‡á” modify_by_idx()" << std::
’dl
;

522 
dfx
.
wr™e
<
¡d
::
o¡»am
,

526 
¡d
::
¡ršg
>(¡d::
cout
);

528 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(5);

529 
	`as£¹
(
MyD©aF¿me
::
	`g‘_th»ad_Ëv–
() == 5);

530 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(0);

531 
	`as£¹
(
MyD©aF¿me
::
	`g‘_th»ad_Ëv–
() == 0);

532 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

533 
	}
}

537 
	$‹¡_»ad
() {

539 
¡d
::
cout
 << "\nTe¡šg„—d(è..." << std::
’dl
;

541 
MyD©aF¿me
 
df_»ad
;

543 
Œy
 {

544 
¡d
::
futu»
<
boŞ
> 
fut2
 = 
df_»ad
.
	`»ad_async
("sample_data.csv");

546 
fut2
.
	`g‘
();

548 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

549 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

551 
df_»ad
.
wr™e
<
¡d
::
o¡»am
,

555 
¡d
::
¡ršg
,

556 
boŞ
>(
¡d
::
cout
);

558 
StdD©aF¿me
<
¡d
::
¡ršg
> 
df_»ad_¡r
;

560 
Œy
 {

561 
df_»ad_¡r
.
	`»ad
("sample_data_string_index.csv");

563 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

564 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

566 
df_»ad_¡r
.
wr™e
<
¡d
::
o¡»am
,

570 
¡d
::
¡ršg
,

571 
boŞ
>(
¡d
::
cout
);

573 
StdD©aF¿me
<
D©eTime
> 
df_»ad_dt
;

575 
Œy
 {

576 
df_»ad_dt
.
	`»ad
("sample_data_dt_index.csv");

578 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

579 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

581 
df_»ad_dt
.
wr™e
<
¡d
::
o¡»am
,

585 
¡d
::
¡ršg
,

586 
boŞ
>(
¡d
::
cout
);

587 
	}
}

591 
	$‹¡_Œª¥o£
() {

593 
¡d
::
cout
 << "\nTe¡šg¿n¥o£(è..." << std::
’dl
;

595 
¡d
::
veùÜ
<> 
idx
 =

597 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

598 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

599 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

600 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

601 
MyD©aF¿me
 
df
;

603 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

604 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

605 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

606 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

607 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

609 
¡d
::
veùÜ
<> 
tidx
 = { 100, 101, 102, 104 };

610 
¡d
::
veùÜ
<cÚ¡ *> 
tcŞ_Çmes
 =

613 
MyD©aF¿me
 
tdf
 =

614 
df
.
Œª¥o£
<>(
¡d
::
	`move
(
tidx
),

616 
tcŞ_Çmes
);

618 
¡d
::
cout
 << "Origš® D©aF¿me:" << std::
’dl
;

619 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

620 
¡d
::
cout
 << "T¿n¥o£d D©aF¿me:" << std::
’dl
;

621 
tdf
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

622 
	}
}

626 
	$‹¡_g‘_d©a_by_loc_¦icšg
() {

628 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_loc()/¦icšg ..." << std::
’dl
;

630 
¡d
::
veùÜ
<> 
idx
 =

632 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

633 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

634 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

635 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

636 
MyD©aF¿me
 
df
;

638 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

639 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

640 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

641 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

642 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

644 
MyD©aF¿me
 
df2
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { 3, 6 });

645 
MyD©aF¿me
 
df3
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { 0, 7 });

646 
MyD©aF¿me
 
df4
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { -4, -1 });

647 
MyD©aF¿me
 
df5
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { -4, 6 });

649 
df
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

650 
df2
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

651 
df3
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

652 
df4
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

653 
df5
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

655 
Œy
 {

656 
MyD©aF¿me
 
df2
 =

657 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { 3, 8 });

659 
	`ÿtch
 (cÚ¡ 
BadRªge
 &
ex
) {

660 
¡d
::
cout
 << "Caught: " << 
ex
.
	`wh©
(è<< std::
’dl
;

662 
Œy
 {

663 
MyD©aF¿me
 
df2
 =

664 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { -8, -1 });

666 
	`ÿtch
 (cÚ¡ 
BadRªge
 &
ex
) {

667 
¡d
::
cout
 << "Caught: " << 
ex
.
	`wh©
(è<< std::
’dl
;

669 
	}
}

673 
	$‹¡_g‘_v›w_by_loc
() {

675 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_loc(è..." << std::
’dl
;

677 
¡d
::
veùÜ
<> 
idx
 =

679 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

680 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

681 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

682 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

683 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

685 
MyD©aF¿me
 
df
;

687 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

688 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

689 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

690 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

691 
¡d
::
	`make_·œ
("cŞ_4", 
d4
),

692 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

694 autØ
memÜy_u£1
 = 
df
.
g‘_memÜy_u§ge
<>("col_3");

696 
¡d
::
cout
 << "D©aF¿mMemÜy U§ge:\n" << 
memÜy_u£1
 << std::
’dl
;

698 
D©aF¿meV›w
<> 
	tMyD©aF¿meV›w
;

700 
MyD©aF¿meV›w
 
dfv
 =

701 
df
.
g‘_v›w_by_loc
<, 
¡d
::
¡ršg
>(
Index2D
<> { 3, 6 });

703 
dfv
.
shršk_to_f™
<, 
¡d
::
¡ršg
>();

704 
dfv
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
);

705 
dfv
.
g‘_cŞumn
<>("col_3")[0] = 88.0;

706 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] ==

707 
df
.
g‘_cŞumn
<>("col_3")[3]);

708 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] == 88.0);

710 autØ
memÜy_u£2
 = 
dfv
.
g‘_memÜy_u§ge
<>("col_3");

712 
¡d
::
cout
 << "V›w MemÜy U§ge:\n" << 
memÜy_u£2
 << std::
’dl
;

713 
	}
}

717 
	$‹¡_»move_cŞumn
() {

719 
¡d
::
cout
 << "\nTe¡šg„emove_cŞumn(è..." << std::
’dl
;

721 
¡d
::
veùÜ
<> 
idx
 =

723 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

724 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

725 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

726 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25 };

727 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

729 
MyD©aF¿me
 
df
;

731 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

732 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

733 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

734 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

735 
¡d
::
	`make_·œ
("cŞ_št", 
i1
),

736 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

738 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

739 
df
.
	`»move_cŞumn
("col_2");

740 
¡d
::
cout
 << "Aá”„emovšg cŞumÀ`cŞ_2`" << std::
’dl
;

741 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

742 
df
.
	`»move_cŞumn
("col_str");

743 
¡d
::
cout
 << "Aá”„emovšg cŞumÀ`cŞ_¡r`" << std::
’dl
;

744 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

746 
¡d
::
veùÜ
<> 
d22
 = { 8, 9, 10, 11, 12, 13, 14 };

748 
df
.
	`lßd_cŞumn
("cŞ_2", 
¡d
::
	`move
(
d22
));

749 
¡d
::
cout
 << "Aá”‡ddšg back cŞumÀ`cŞ_2`" << std::
’dl
;

750 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

751 
	}
}

755 
	$‹¡_g‘_v›w_by_idx_¦icšg
() {

757 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_idx()/¦icšg ..." << std::
’dl
;

759 
¡d
::
veùÜ
<> 
idx
 =

762 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

763 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

765 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

767 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

768 
MyD©aF¿me
 
df
;

770 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

771 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

772 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

773 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

774 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

776 
D©aF¿meV›w
<> 
	tMyD©aF¿meV›w
;

778 
MyD©aF¿me
 
df2
 =

779 
df
.
g‘_d©a_by_idx
<, >(

780 
Index2D
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123460 });

781 
MyD©aF¿meV›w
 
dfv
 =

782 
df
.
g‘_v›w_by_idx
<, >(

783 
Index2D
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123460 });

785 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

786 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

787 
dfv
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

789 
dfv
.
g‘_cŞumn
<>("col_3")[0] = 88.0;

790 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] ==

791 
df
.
g‘_cŞumn
<>("col_3")[2]);

792 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] == 88.0);

793 
	}
}

797 
	$‹¡_»Çme_cŞumn
() {

799 
¡d
::
cout
 << "\nTe¡šg„’ame_cŞumn(è..." << std::
’dl
;

801 
¡d
::
veùÜ
<> 
idx
 =

804 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,

806 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

808 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

810 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

811 
MyD©aF¿me
 
df
;

813 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

814 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

815 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

816 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

817 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

819 
¡d
::
cout
 << "BefÜ»Çme" << std::
’dl
;

820 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

821 
df
.
	`»Çme_cŞumn
("col_2", "renamed_column");

822 
¡d
::
cout
 << "Aá”„’ame" << std::
’dl
;

823 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

824 
	}
}

828 
	$‹¡_g‘_cŞ_unique_v®ues
() {

830 
¡d
::
cout
 << "\nTe¡šg g‘_cŞ_unique_v®ues(è..." << std::
’dl
;

832 
¡d
::
veùÜ
<> 
idx
 =

835 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

836 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

838 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

840 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

841 
MyD©aF¿me
 
df
;

843 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

844 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

845 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

846 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

847 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

849 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

850 
¡d
::
cout
 << "G‘tšg uniquv®ue š cŞumÀcŞ_3" << std::
’dl
;

852 cÚ¡ 
¡d
::
veùÜ
<> 
»suÉ
 =

853 
df
.
g‘_cŞ_unique_v®ues
<>("col_3");

855 autØ&
™”
 : 
»suÉ
)

856 
¡d
::
cout
 << 
™”
 << ",";

857 
¡d
::
cout
 << std::
’dl
;

858 
	}
}

862 
	$‹¡_»move_d©a_by_idx
() {

864 
¡d
::
cout
 << "\nTe¡šg„emove_d©a_by_idx(è..." << std::
’dl
;

866 
¡d
::
veùÜ
<> 
idx
 =

869 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

870 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

872 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

874 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

875 
MyD©aF¿me
 
df
;

877 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

878 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

879 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

880 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

881 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

883 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

884 
¡d
::
cout
 << "Aá”„emovšg by ibdex { 123452, 123460 }" << std::
’dl
;

885 
df
.
»move_d©a_by_idx
<, >({ 123452, 123460 });

886 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

887 
	}
}

891 
	$‹¡_»move_d©a_by_loc
() {

893 
¡d
::
cout
 << "\nTe¡šg„emove_d©a_by_loc(è..." << std::
’dl
;

895 
¡d
::
veùÜ
<> 
idx
 =

898 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

899 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

901 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

903 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

904 
MyD©aF¿me
 
df
;

906 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

907 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

908 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

909 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

910 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

912 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

913 
¡d
::
cout
 << "Aá”„emovšg by ibdex { 3, -3 }" << std::
’dl
;

914 
df
.
»move_d©a_by_loc
<, >({ 3, -3 });

915 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

916 
	}
}

920 
	$‹¡_v®ue_couÁs
() {

922 
¡d
::
cout
 << "\nTe¡šg v®ue_couÁs(è..." << std::
’dl
;

924 cÚ¡ 
my_Çn
 = 
	`sq¹
(-1);

925 
¡d
::
veùÜ
<> 
idx
 =

928 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

929 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

931 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21, 
my_Çn
,

933 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

934 
MyD©aF¿me
 
df
;

936 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

937 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

938 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

939 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

940 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

942 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

944 autØ
»suÉ
 = 
df
.
v®ue_couÁs
<>("col_3");

946 
¡d
::
cout
 << "Aá” c®lšg v®ue_couÁs(cŞs_3)" << std::
’dl
;

947 
»suÉ
.
wr™e
<
¡d
::
o¡»am
, 
size_t
>(¡d::
cout
);

948 
	}
}

952 
	$‹¡_šdex_šÃr_još
() {

954 
¡d
::
cout
 << "\nTe¡šg Index IÂ” Još ..." << std::
’dl
;

956 
¡d
::
veùÜ
<> 
idx
 =

959 
¡d
::
veùÜ
<> 
d1
 = { 7, 2, 3, 4, 5, 6, 1, 8, 9, 10, 11, 12, 13, 14 };

960 
¡d
::
veùÜ
<> 
d2
 = { 14, 9, 10, 11, 12, 13, 8, 20, 22, 23,

962 
¡d
::
veùÜ
<> 
d3
 = { 21, 16, 15, 18, 19, 16, 15,

964 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

965 
MyD©aF¿me
 
df
;

967 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

968 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

969 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

970 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

971 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

973 
¡d
::
veùÜ
<> 
idx2
 =

976 
¡d
::
veùÜ
<> 
d12
 =

978 
¡d
::
veùÜ
<> 
d22
 =

981 
¡d
::
veùÜ
<> 
d32
 =

984 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

985 
MyD©aF¿me
 
df2
;

987 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

988 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

989 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

990 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

991 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

993 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

994 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

995 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

996 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

998 
MyD©aF¿me
 
još_df
 =

999 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1000 (
df2
, 
još_pŞicy
::
šÃr_još
);

1002 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1003 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1004 
	}
}

1008 
	$‹¡_šdex_Ëá_još
() {

1010 
¡d
::
cout
 << "\nTe¡šg Index Leá Još ..." << std::
’dl
;

1012 
¡d
::
veùÜ
<> 
idx
 =

1015 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

1016 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1018 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

1020 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1021 
MyD©aF¿me
 
df
;

1023 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1024 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1025 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1026 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1027 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1029 
¡d
::
veùÜ
<> 
idx2
 =

1032 
¡d
::
veùÜ
<> 
d12
 =

1034 
¡d
::
veùÜ
<> 
d22
 =

1037 
¡d
::
veùÜ
<> 
d32
 =

1040 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

1041 
MyD©aF¿me
 
df2
;

1043 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1044 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

1045 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

1046 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

1047 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

1049 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

1050 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1051 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

1052 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1054 
MyD©aF¿me
 
još_df
 =

1055 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1056 (
df2
, 
još_pŞicy
::
Ëá_još
);

1058 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1059 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1060 
	}
}

1064 
	$‹¡_šdex_right_još
() {

1066 
¡d
::
cout
 << "\nTe¡šg Index RighˆJoš ..." << std::
’dl
;

1068 
¡d
::
veùÜ
<> 
idx
 =

1071 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

1072 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1074 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

1076 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1077 
MyD©aF¿me
 
df
;

1079 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1080 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1081 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1082 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1083 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1085 
¡d
::
veùÜ
<> 
idx2
 =

1088 
¡d
::
veùÜ
<> 
d12
 =

1090 
¡d
::
veùÜ
<> 
d22
 =

1093 
¡d
::
veùÜ
<> 
d32
 =

1096 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

1097 
MyD©aF¿me
 
df2
;

1099 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1100 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

1101 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

1102 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

1103 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

1105 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

1106 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1107 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

1108 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1110 
MyD©aF¿me
 
još_df
 =

1111 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1112 (
df2
, 
još_pŞicy
::
right_još
);

1114 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1115 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1116 
	}
}

1120 
	$‹¡_šdex_Ëá_right_još
() {

1122 
¡d
::
cout
 << "\nTe¡šg Index Leá RighˆJoš ..." << std::
’dl
;

1124 
¡d
::
veùÜ
<> 
idx
 =

1127 
¡d
::
veùÜ
<> 
d1
 = { 14, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 1 };

1128 
¡d
::
veùÜ
<> 
d2
 = { 1.89, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1130 
¡d
::
veùÜ
<> 
d3
 = { 19.0, 16, 15, 18, 19, 16, 21,

1132 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1133 
MyD©aF¿me
 
df
;

1135 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1136 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1137 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1138 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1139 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1141 
¡d
::
veùÜ
<> 
idx2
 =

1144 
¡d
::
veùÜ
<> 
d12
 =

1146 
¡d
::
veùÜ
<> 
d22
 =

1149 
¡d
::
veùÜ
<> 
d32
 =

1152 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

1153 
MyD©aF¿me
 
df2
;

1155 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1156 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

1157 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

1158 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

1159 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

1161 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

1162 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1163 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

1164 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1166 
MyD©aF¿me
 
još_df
 =

1167 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1168 (
df2
, 
još_pŞicy
::
Ëá_right_još
);

1170 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1171 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1172 
	}
}

1176 
	$‹¡_Ïrge¡_sm®Ë¡_vis™Üs
() {

1178 
¡d
::
cout
 << "\nTe¡šg L¬ge¡/Sm®Ë¡ vis™Ü ..." << std::
’dl
;

1180 
¡d
::
veùÜ
<> 
idx
 =

1183 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

1184 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1186 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

1188 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1189 
MyD©aF¿me
 
df
;

1191 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1192 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1193 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1194 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1195 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1197 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1198 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1200 
NL¬ge¡Vis™Ü
<5, > 
Æ_vis™Ü
;

1202 
df
.
vis™
<>("cŞ_3", 
Æ_vis™Ü
);

1203 
¡d
::
cout
 << "N†¬ge¡„esuÉ fÜ cŞ_3:" << std::
’dl
;

1204 autØ
™”
 : 
Æ_vis™Ü
.
	`g‘_»suÉ
())

1205 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1206 
¡d
::
cout
 << std::
’dl
;

1207 
Æ_vis™Ü
.
	`sÜt_by_šdex
();

1208 
¡d
::
cout
 << "N†¬ge¡„esuÉ fÜ cŞ_3 sÜ‹d by index:" << std::
’dl
;

1209 autØ
™”
 : 
Æ_vis™Ü
.
	`g‘_»suÉ
())

1210 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1211 
¡d
::
cout
 << std::
’dl
;

1212 
Æ_vis™Ü
.
	`sÜt_by_v®ue
();

1213 
¡d
::
cout
 << "N†¬ge¡„esuÉ fÜ cŞ_3 sÜ‹d by v®ue:" << std::
’dl
;

1214 autØ
™”
 : 
Æ_vis™Ü
.
	`g‘_»suÉ
())

1215 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1216 
¡d
::
cout
 << std::
’dl
;

1218 
NSm®Ë¡Vis™Ü
<5, > 
ns_vis™Ü
;

1220 
df
.
vis™
<>("cŞ_3", 
ns_vis™Ü
);

1221 
¡d
::
cout
 << "N sm®Ë¡„esuÉ fÜ cŞ_3:" << std::
’dl
;

1222 autØ
™”
 : 
ns_vis™Ü
.
	`g‘_»suÉ
())

1223 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1224 
¡d
::
cout
 << std::
’dl
;

1225 
ns_vis™Ü
.
	`sÜt_by_šdex
();

1226 
¡d
::
cout
 << "N sm®Ë¡„esuÉ fÜ cŞ_3 sÜ‹d by index:" << std::
’dl
;

1227 autØ
™”
 : 
ns_vis™Ü
.
	`g‘_»suÉ
())

1228 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1229 
¡d
::
cout
 << std::
’dl
;

1230 
ns_vis™Ü
.
	`sÜt_by_v®ue
();

1231 
¡d
::
cout
 << "N sm®Ë¡„esuÉ fÜ cŞ_3 sÜ‹d by v®ue:" << std::
’dl
;

1232 autØ
™”
 : 
ns_vis™Ü
.
	`g‘_»suÉ
())

1233 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1234 
¡d
::
cout
 << std::
’dl
;

1235 
	}
}

1239 
	$‹¡_shiášg_up_down
() {

1241 
¡d
::
cout
 << "\nTe¡šg Shiášg Up/DowÀ..." << std::
’dl
;

1243 
¡d
::
veùÜ
<> 
idx
 =

1246 
¡d
::
veùÜ
<> 
d1
 = { 15, 16, 15, 18, 19, 16, 21,

1248 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1249 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1252 
MyD©aF¿me
 
df
;

1254 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1255 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1256 
¡d
::
	`make_·œ
("št_cŞ", 
i1
),

1257 
¡d
::
	`make_·œ
("¡r_cŞ", 
s1
));

1259 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1260 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1262 autØ
sudf
 = 
df
.
shiá
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
up
);

1264 
¡d
::
cout
 << "Shiáed U°DF:" << std::
’dl
;

1265 
sudf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1267 autØ
sddf
 = 
df
.
shiá
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
down
);

1269 
¡d
::
cout
 << "Shiáed DowÀDF:" << std::
’dl
;

1270 
sddf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1271 
	}
}

1275 
	$‹¡_rÙ©šg_up_down
() {

1277 
¡d
::
cout
 << "\nTe¡šg RÙ©šg Up/DowÀ..." << std::
’dl
;

1279 
¡d
::
veùÜ
<> 
idx
 =

1282 
¡d
::
veùÜ
<> 
d1
 = { 15, 16, 15, 18, 19, 16, 21,

1284 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1285 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1288 
MyD©aF¿me
 
df
;

1290 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1291 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1292 
¡d
::
	`make_·œ
("št_cŞ", 
i1
),

1293 
¡d
::
	`make_·œ
("¡r_cŞ", 
s1
));

1295 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1296 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1298 autØ
rudf
 = 
df
.
rÙ©e
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
up
);

1300 
¡d
::
cout
 << "RÙ©ed U°DF:" << std::
’dl
;

1301 
rudf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1303 autØ
rddf
 = 
df
.
rÙ©e
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
down
);

1305 
¡d
::
cout
 << "RÙ©ed DowÀDF:" << std::
’dl
;

1306 
rddf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1307 
	}
}

1311 
	$‹¡_d©aäame_w™h_d©‘ime
() {

1313 
¡d
::
cout
 << "\nTe¡šg D©aF¿mw™h D©eTim..." << std::
’dl
;

1315 
D©eTime
 
	`dt
(20010102);

1316 
¡d
::
veùÜ
<
D©eTime
> 
idx
;

1317 
¡d
::
veùÜ
<> 
d1
;

1318 
¡d
::
veùÜ
<> 
i1
;

1319 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
;

1321 
idx
.
	`»£rve
(20);

1322 
d1
.
	`»£rve
(20);

1323 
i1
.
	`»£rve
(20);

1324 
s1
.
	`»£rve
(20);

1325 
i
 = 0; i < 20; ++i) {

1326 
idx
.
	`em¶aû_back
(
dt
);

1327 
d1
.
	`push_back
(
i
 + 0.345689);

1328 
i1
.
	`push_back
(
i
);

1329 
dt
.
	`add_days
(1);

1330 
s1
.
	`em¶aû_back
("Test str");

1333 
StdD©aF¿me
<
D©eTime
> 
df
;

1335 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1336 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1337 
¡d
::
	`make_·œ
("št_cŞ", 
i1
),

1338 
¡d
::
	`make_·œ
("¡r_cŞ", 
s1
));

1340 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1341 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1342 
	}
}

1346 
	$‹¡_d©aäame_ä›nd_¶us_İ”©Ü
() {

1348 
¡d
::
cout
 << "\nTe¡šg D©aF¿mä›nd…lu İ”©Ü ..." << std::
’dl
;

1350 
MyD©aF¿me
 
df1
;

1351 
MyD©aF¿me
 
df2
;

1353 
Œy
 {

1354 
df1
.
	`»ad
("sample_data.csv");

1355 
df2
.
	`»ad
("sample_data.csv");

1357 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

1358 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

1361 
MyD©aF¿me
 
»suÉ
 =

1362 
df_¶us
<
MyD©aF¿me
,

1366 
¡d
::
¡ršg
,

1367 
boŞ
>(
df1
, 
df2
);

1369 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1370 
df1
.
wr™e
<
¡d
::
o¡»am
,

1374 
¡d
::
¡ršg
,

1375 
boŞ
>(
¡d
::
cout
);

1376 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1377 
df2
.
wr™e
<
¡d
::
o¡»am
,

1381 
¡d
::
¡ršg
,

1382 
boŞ
>(
¡d
::
cout
);

1383 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1384 
»suÉ
.
wr™e
<
¡d
::
o¡»am
,

1388 
¡d
::
¡ršg
,

1389 
boŞ
>(
¡d
::
cout
);

1390 
	}
}

1394 
	$‹¡_d©aäame_ä›nd_mšus_İ”©Ü
() {

1396 
¡d
::
cout
 << "\nTe¡šg D©aF¿mä›nd mšu İ”©Ü ..." << std::
’dl
;

1398 
MyD©aF¿me
 
df1
;

1399 
MyD©aF¿me
 
df2
;

1401 
Œy
 {

1402 
df1
.
	`»ad
("sample_data.csv");

1403 
df2
.
	`»ad
("sample_data.csv");

1405 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

1406 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

1411 
MyD©aF¿me
 
»suÉ
 =

1412 
df_mšus
<
MyD©aF¿me
,

1416 
boŞ
>(
df1
, 
df2
);

1418 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1419 
df1
.
wr™e
<
¡d
::
o¡»am
,

1423 
¡d
::
¡ršg
,

1424 
boŞ
>(
¡d
::
cout
);

1425 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1426 
df2
.
wr™e
<
¡d
::
o¡»am
,

1430 
¡d
::
¡ršg
,

1431 
boŞ
>(
¡d
::
cout
);

1432 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1433 
»suÉ
.
wr™e
<
¡d
::
o¡»am
,

1437 
boŞ
>(
¡d
::
cout
);

1438 
	}
}

1442 
	$‹¡_d©aäame_ä›nd_muÉl›s_İ”©Ü
() {

1444 
¡d
::
cout
 << "\nTesting DataFrame friend multiplies operator ..."

1445 << 
¡d
::
’dl
;

1447 
¡d
::
veùÜ
<> 
idx1
 =

1449 
¡d
::
veùÜ
<> 
idx2
 = { 1, 2, 3, 4, 5, 8, 9, 22, 25, 40 };

1450 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1451 
¡d
::
veùÜ
<> 
d2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1452 
¡d
::
veùÜ
<> 
s1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1453 
¡d
::
veùÜ
<> 
s2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1455 
MyD©aF¿me
 
df1
;

1456 
MyD©aF¿me
 
df2
;

1458 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idx1
),

1459 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1460 
¡d
::
	`make_·œ
("§me_Çme", 
s1
));

1461 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1462 
¡d
::
	`make_·œ
("dbl_cŞ", 
d2
),

1463 
¡d
::
	`make_·œ
("§me_Çme", 
s2
));

1465 
MyD©aF¿me
 
»suÉ
 = 
df_muÉl›s
<MyD©aF¿me, , >(
df1
, 
df2
);

1467 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1468 
df1
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1469 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1470 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1471 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1472 
»suÉ
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1473 
	}
}

1477 
	$‹¡_d©aäame_ä›nd_divides_İ”©Ü
() {

1479 
¡d
::
cout
 << "\nTe¡šg D©aF¿mä›nd divide İ”©Ü ..." << std::
’dl
;

1481 
¡d
::
veùÜ
<> 
idx1
 =

1483 
¡d
::
veùÜ
<> 
idx2
 = { 1, 2, 3, 4, 5, 8, 9, 22, 25, 40 };

1484 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1485 
¡d
::
veùÜ
<> 
d2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1486 
¡d
::
veùÜ
<> 
s1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1487 
¡d
::
veùÜ
<> 
s2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1489 
MyD©aF¿me
 
df1
;

1490 
MyD©aF¿me
 
df2
;

1492 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idx1
),

1493 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1494 
¡d
::
	`make_·œ
("§me_Çme", 
s1
));

1495 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1496 
¡d
::
	`make_·œ
("dbl_cŞ", 
d2
),

1497 
¡d
::
	`make_·œ
("§me_Çme", 
s2
));

1499 
MyD©aF¿me
 
»suÉ
 = 
df_divides
<MyD©aF¿me, , >(
df1
, 
df2
);

1501 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1502 
df1
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1503 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1504 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1505 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1506 
»suÉ
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1507 
	}
}

1511 
	$‹¡_fl_missšg_v®ues
() {

1513 
¡d
::
cout
 << "\nTe¡šg fl_missšg(v®uesè..." << std::
’dl
;

1515 
¡d
::
veùÜ
<> 
idx
 =

1518 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1519 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1521 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1522 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1523 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1525 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1526 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1528 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1529 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1531 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1533 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1535 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1537 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1539 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1540 
¡d
::
veùÜ
<> 
i1
 = { 22,

1541 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1542 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1544 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1545 
MyD©aF¿me
 
df
;

1547 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1548 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1549 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1550 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1551 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1553 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1556 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

1558 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1559 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1561 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1562 
fl_pŞicy
::
v®ue
,

1565 
df
.
fl_missšg
<
¡d
::
¡ršg
, 1>({ "col_str" },

1566 
fl_pŞicy
::
v®ue
,

1569 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1570 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1571 
	}
}

1575 
	$‹¡_fl_missšg_fl_fÜw¬d
() {

1577 
¡d
::
cout
 << "\nTe¡šg fl_missšg(fl_fÜw¬dè..." << std::
’dl
;

1579 
¡d
::
veùÜ
<> 
idx
 =

1582 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1583 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1585 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1586 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1587 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1589 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1590 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1592 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1593 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1595 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1597 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1599 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1601 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1603 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1604 
¡d
::
veùÜ
<> 
i1
 = { 22,

1605 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1606 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1608 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1609 
MyD©aF¿me
 
df
;

1611 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1612 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1613 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1614 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1615 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1617 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1620 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

1622 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1623 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1625 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1626 
fl_pŞicy
::
fl_fÜw¬d
,

1629 
df
.
fl_missšg
<
¡d
::
¡ršg
, 1>({ "col_str" },

1630 
fl_pŞicy
::
fl_fÜw¬d
,

1633 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1634 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1635 
	}
}

1639 
	$‹¡_fl_missšg_fl_backw¬d
() {

1641 
¡d
::
cout
 << "\nTe¡šg fl_missšg(fl_backw¬dè..." << std::
’dl
;

1643 
¡d
::
veùÜ
<> 
idx
 =

1646 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1647 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1649 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1650 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1651 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1653 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1654 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1656 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1657 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1659 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1661 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1663 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1665 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1667 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1668 
¡d
::
veùÜ
<> 
i1
 = { 22,

1669 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1670 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1672 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1673 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1676 
MyD©aF¿me
 
df
;

1678 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1679 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1680 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1681 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1682 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1683 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1685 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1686 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1688 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1689 
fl_pŞicy
::
fl_backw¬d
);

1690 
df
.
fl_missšg
<
¡d
::
¡ršg
, 1>({ "cŞ_¡r" }, 
fl_pŞicy
::
fl_backw¬d
);

1692 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1693 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1694 
	}
}

1698 
	$‹¡_fl_missšg_fl_lš—r_š‹½Ş©iÚ
() {

1700 
¡d
::
cout
 << "\nTe¡šg fl_missšgÖš—r_š‹½Ş©eè..." << std::
’dl
;

1702 
¡d
::
veùÜ
<> 
idx
 =

1705 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1706 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1708 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1709 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1710 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1712 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1713 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1715 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1716 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1718 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1720 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1722 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1724 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1726 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1727 
¡d
::
veùÜ
<> 
i1
 = { 22,

1728 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1729 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1731 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1732 
MyD©aF¿me
 
df
;

1734 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1735 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1736 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1737 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1738 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1740 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1741 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1743 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1744 
fl_pŞicy
::
lš—r_š‹½Ş©e
);

1746 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1747 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1748 
	}
}

1752 
	$‹¡_drİ_missšg_®l_no_drİ
() {

1754 
¡d
::
cout
 << "\nTe¡šg drİ_missšg×ÎènØdrİ ..." << std::
’dl
;

1756 
¡d
::
veùÜ
<> 
idx
 =

1759 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1760 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1762 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1763 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1764 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1766 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1767 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1769 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1770 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1772 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1774 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1776 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1778 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1780 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1781 
¡d
::
veùÜ
<> 
i1
 = { 22,

1782 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1783 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1785 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1786 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1789 
MyD©aF¿me
 
df
;

1791 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1792 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1793 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1794 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1795 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1796 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1798 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1799 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1801 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
®l
);

1803 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1804 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1805 
	}
}

1809 
	$‹¡_drİ_missšg_®l_2_drİ
() {

1811 
¡d
::
cout
 << "\nTe¡šg drİ_missšg×Îè2 drİ ..." << std::
’dl
;

1813 
¡d
::
veùÜ
<> 
idx
 =

1816 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1817 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1818 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1820 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1821 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1822 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1823 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1825 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1826 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1828 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1829 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1831 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1833 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1835 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1837 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1839 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1840 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1842 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1844 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1845 
¡d
::
veùÜ
<> 
i1
 = { 22,

1846 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1847 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1849 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1850 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1853 
MyD©aF¿me
 
df
;

1855 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1856 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1857 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1858 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1859 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1860 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1862 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1863 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1865 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
®l
);

1867 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1868 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1869 
	}
}

1873 
	$‹¡_drİ_missšg_ªy
() {

1875 
¡d
::
cout
 << "\nTe¡šg drİ_missšg×nyè..." << std::
’dl
;

1877 
¡d
::
veùÜ
<> 
idx
 =

1880 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1881 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1883 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1884 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1885 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1887 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1888 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1890 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1891 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1893 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1895 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1897 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1899 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1901 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1902 
¡d
::
veùÜ
<> 
i1
 = { 22,

1903 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1904 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1906 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1907 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1910 
MyD©aF¿me
 
df
;

1912 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1913 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1914 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1915 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1916 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1917 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1919 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1920 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1922 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
ªy
);

1924 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1925 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1926 
	}
}

1930 
	$‹¡_drİ_th»ashŞd_3
() {

1932 
¡d
::
cout
 << "\nTe¡šg drİ_missšgÑh»shŞd=3è..." << std::
’dl
;

1934 
¡d
::
veùÜ
<> 
idx
 =

1937 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1938 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1940 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1941 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1942 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1944 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1945 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1947 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1948 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1950 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1952 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1954 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1956 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1958 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1959 
¡d
::
veùÜ
<> 
i1
 = { 22,

1960 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1961 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1963 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1964 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1967 
MyD©aF¿me
 
df
;

1969 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1970 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1971 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1972 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1973 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1974 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1976 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1977 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1979 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
th»shŞd
, 3);

1981 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1982 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1983 
	}
}

1987 
	$‹¡_g‘_row
() {

1989 
¡d
::
cout
 << "\nTe¡šg g‘_row(è..." << std::
’dl
;

1991 
¡d
::
veùÜ
<> 
idx
 =

1994 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1995 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1997 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1998 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1999 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2001 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12,

2002 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2003 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2005 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2007 
¡d
::
veùÜ
<> 
d3
 = { 400.4, 16, 500.5, 18, 19, 16,

2008 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2010 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

2011 
¡d
::
veùÜ
<> 
i1
 = { 22, 11, 34, 25,

2012 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

2013 
MyD©aF¿me
 
df
;

2015 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2016 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2017 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2018 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2019 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

2021 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

2024 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2026 
¡d
::
veùÜ
<> 
i2
 = { 22, 11 };

2028 
df
.
	`lßd_cŞumn
("cŞ_št", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2030 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

2031 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

2033 
¡d
::
¬¿y
<cÚ¡ *, 6> 
cŞumns
 =

2035 autØ
row
 =

2036 
df
.
g‘_row
<6, , , 
¡d
::
¡ršg
>(2, 
cŞumns
);

2038 
	`as£¹
(
row
.
©
<
MyD©aF¿me
::
IndexTy³
>(0) == 123452);

2039 
	`as£¹
(
row
.
©
<>(0) == 3.0);

2040 
	`as£¹
(
row
.
©
<>(1) == 10.0);

2041 
	`as£¹
(
row
.
©
<>(2) == 500.5);

2042 
	`as£¹
(
row
.
©
<>(0) == 34);

2043 
	`as£¹
(
row
.
©
<>(1) == 0);

2044 
	`as£¹
(
row
.
©
<
¡d
::
¡ršg
>(0) == "eeee");

2045 
	}
}

2049 
	$‹¡_auto_cÜ»ÏtiÚ
() {

2051 
¡d
::
cout
 << "\nTe¡šg AutØCÜ»ÏtiÚ ..." << std::
’dl
;

2053 
¡d
::
veùÜ
<> 
idx
 =

2057 
¡d
::
veùÜ
<> 
d1
 =

2061 
¡d
::
veùÜ
<> 
d2
 =

2065 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

2066 
MyD©aF¿me
 
df
;

2068 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2069 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2070 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2071 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

2073 
AutoCÜrVis™Ü
<> 
auto_cÜr
;

2074 autØ
fut
 =

2075 
df
.
sšgË_aù_vis™_async
<>("cŞ_1", 
auto_cÜr
);

2076 cÚ¡‡utØ&
»suÉ
 = 
fut
.
	`g‘
().
	`g‘_»suÉ
();

2078 
	`as£¹
(
»suÉ
.
	`size
() == 17);

2079 
	`as£¹
(
»suÉ
[0] == 1.0);

2080 
	`as£¹
(
	`çbs
(
»suÉ
[1] - 0.562001) < 0.00001);

2081 
	`as£¹
(
	`çbs
(
»suÉ
[16] - -0.265228) < 0.00001);

2082 
	`as£¹
(
	`çbs
(
»suÉ
[6] - 0.388131) < 0.00001);

2083 
	`as£¹
(
	`çbs
(
»suÉ
[10] - 0.125514) < 0.00001);

2085 cÚ¡‡utØ&
»suÉ2
 =

2086 
df
.
sšgË_aù_vis™
<>("cŞ_2", 
auto_cÜr
).
	`g‘_»suÉ
();

2088 
	`as£¹
(
»suÉ2
.
	`size
() == 17);

2089 
	`as£¹
(
»suÉ2
[0] == 1.0);

2090 
	`as£¹
(
	`çbs
(
»suÉ2
[1] - 0.903754) < 0.00001);

2091 
	`as£¹
(
	`çbs
(
»suÉ2
[16] - 0.183254) < 0.00001);

2092 
	`as£¹
(
	`çbs
(
»suÉ2
[6] - -0.263385) < 0.00001);

2093 
	`as£¹
(
	`çbs
(
»suÉ2
[10] - -0.712274) < 0.00001);

2095 cÚ¡ 
MyD©aF¿me
 
df_c
 = 
df
;

2097 cÚ¡‡utØ&
»suÉ3
 =

2098 
df_c
.
sšgË_aù_vis™
<>("cŞ_2", 
auto_cÜr
).
	`g‘_»suÉ
();

2100 
	`as£¹
(
»suÉ3
.
	`size
() == 17);

2101 
	`as£¹
(
»suÉ3
[0] == 1.0);

2102 
	`as£¹
(
	`çbs
(
»suÉ3
[1] - 0.903754) < 0.00001);

2103 
	`as£¹
(
	`çbs
(
»suÉ3
[16] - 0.183254) < 0.00001);

2104 
	`as£¹
(
	`çbs
(
»suÉ3
[6] - -0.263385) < 0.00001);

2105 
	`as£¹
(
	`çbs
(
»suÉ3
[10] - -0.712274) < 0.00001);

2106 
	}
}

2110 
	$‹¡_»tuº
() {

2112 
¡d
::
cout
 << "\nTe¡šg R‘uº ..." << std::
’dl
;

2114 
¡d
::
veùÜ
<> 
idx
 =

2118 
¡d
::
veùÜ
<> 
d1
 =

2122 
¡d
::
veùÜ
<> 
d2
 =

2126 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

2127 
MyD©aF¿me
 
df
;

2129 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2130 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2131 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2132 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

2134 
R‘uºVis™Ü
<> 
	`»tuº_vis™
(
»tuº_pŞicy
::
mÚ‘¬y
);

2135 cÚ¡‡utØ&
»suÉ
 =

2136 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
»tuº_vis™
).
	`g‘_»suÉ
();

2138 
	`as£¹
(
»suÉ
.
	`size
() == 20);

2139 
	`as£¹
(
»suÉ
[0] == 1.0);

2140 
	`as£¹
(
»suÉ
[1] == -1.0);

2141 
	`as£¹
(
»suÉ
[16] == 1.38);

2142 
	`as£¹
(
»suÉ
[6] == -20.66);

2143 
	`as£¹
(
	`çbs
(
»suÉ
[10] - -1.96) < 0.00001);

2145 
R‘uºVis™Ü
<> 
	`»tuº_vis™2
(
»tuº_pŞicy
::
³rûÁage
);

2146 cÚ¡‡utØ&
»suÉ2
 =

2147 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
»tuº_vis™2
).
	`g‘_»suÉ
();

2149 
	`as£¹
(
»suÉ2
.
	`size
() == 20);

2150 
	`as£¹
(
	`çbs
(
»suÉ2
[0] - 0.0666667) < 0.00001);

2151 
	`as£¹
(
	`çbs
(
»suÉ2
[1] - -0.0625) < 0.00001);

2152 
	`as£¹
(
	`çbs
(
»suÉ2
[16] - 2.12308) < 0.00001);

2153 
	`as£¹
(
	`çbs
(
»suÉ2
[6] - -0.98381) < 0.00001);

2154 
	`as£¹
(
	`çbs
(
»suÉ2
[10] - -0.852174) < 0.00001);

2156 
R‘uºVis™Ü
<> 
	`»tuº_vis™3
(
»tuº_pŞicy
::
log
);

2157 cÚ¡‡utØ&
»suÉ3
 =

2158 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
»tuº_vis™3
).
	`g‘_»suÉ
();

2160 
	`as£¹
(
»suÉ3
.
	`size
() == 20);

2161 
	`as£¹
(
	`çbs
(
»suÉ3
[0] - 0.0645385) < 0.00001);

2162 
	`as£¹
(
	`çbs
(
»suÉ3
[1] - -0.0645385) < 0.00001);

2163 
	`as£¹
(
	`çbs
(
»suÉ3
[16] - 1.13882) < 0.00001);

2164 
	`as£¹
(
	`çbs
(
»suÉ3
[6] - -4.12333) < 0.00001);

2165 
	`as£¹
(
	`çbs
(
»suÉ3
[10] - -1.91172) < 0.00001);

2166 
	}
}

2170 
	$‹¡_medŸn
() {

2172 
¡d
::
cout
 << "\nTe¡šg MedŸÀ..." << std::
’dl
;

2174 
¡d
::
veùÜ
<> 
idx
 =

2178 
¡d
::
veùÜ
<> 
d1
 =

2181 
¡d
::
veùÜ
<> 
d2
 =

2184 
¡d
::
veùÜ
<> 
i1
 =

2187 
¡d
::
veùÜ
<> 
i2
 =

2190 
MyD©aF¿me
 
df
;

2192 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2193 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2194 
¡d
::
	`make_·œ
("štcŞ_1", 
i1
));

2195 
df
.
	`lßd_cŞumn
("dblcŞ_2", 
¡d
::
	`move
(
d2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2196 
df
.
	`lßd_cŞumn
("štcŞ_2", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2198 
MedŸnVis™Ü
<> 
med_vis™
;

2199 
»suÉ
 =

2200 
df
.
sšgË_aù_vis™
<>("dblcŞ_1", 
med_vis™
).
	`g‘_»suÉ
();

2202 
	`as£¹
(
»suÉ
 == 10.0);

2204 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("dblcŞ_2", 
med_vis™
).
	`g‘_»suÉ
();

2205 
	`as£¹
(
»suÉ
 == 10.50);

2207 
MedŸnVis™Ü
<> 
med_vis™2
;

2208 
»suÉ2
 =

2209 
df
.
sšgË_aù_vis™
<>("štcŞ_1", 
med_vis™2
).
	`g‘_»suÉ
();

2211 
	`as£¹
(
»suÉ2
 == 10);

2213 
»suÉ2
 = 
df
.
sšgË_aù_vis™
<>("štcŞ_2", 
med_vis™2
).
	`g‘_»suÉ
();

2214 
	`as£¹
(
»suÉ2
 == 10);

2215 
	}
}

2219 
	$‹¡_Œackšg_”rÜ
() {

2221 
¡d
::
cout
 << "\nTe¡šg T¿ckšg E¼Ü ..." << std::
’dl
;

2223 
¡d
::
veùÜ
<> 
idx
 =

2227 
¡d
::
veùÜ
<> 
d1
 =

2230 
¡d
::
veùÜ
<> 
d2
 =

2233 
¡d
::
veùÜ
<> 
d3
 =

2237 
¡d
::
veùÜ
<> 
d4
 =

2241 
¡d
::
veùÜ
<> 
d5
 =

2245 
MyD©aF¿me
 
df
;

2247 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2248 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2249 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2250 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2251 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2252 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2254 
T¿ckšgE¼ÜVis™Ü
<> 
Œackšg_vis™
;

2255 
»suÉ
 =

2256 
df
.
vis™
<, >("dblcol_1",

2258 
Œackšg_vis™
).
	`g‘_»suÉ
();

2260 
	`as£¹
(
»suÉ
 == 0.0);

2262 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1",

2264 
Œackšg_vis™
).
	`g‘_»suÉ
();

2265 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.256416) < 0.00001);

2267 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1",

2269 
Œackšg_vis™
).
	`g‘_»suÉ
();

2270 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.256416) < 0.00001);

2272 
»suÉ
 = 
df
.
vis™
<, >("dblcol_3",

2274 
Œackšg_vis™
).
	`g‘_»suÉ
();

2275 
	`as£¹
(
»suÉ
 == 0.0);

2277 
»suÉ
 = 
df
.
vis™
<, >("dblcol_2",

2279 
Œackšg_vis™
).
	`g‘_»suÉ
();

2280 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.256416) < 0.00001);

2282 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1",

2284 
Œackšg_vis™
).
	`g‘_»suÉ
();

2285 
	`as£¹
(
	`çbs
(
»suÉ
 - 17.0566) < 0.0001);

2286 
	}
}

2290 
	$‹¡_b‘a
() {

2292 
¡d
::
cout
 << "\nTe¡šg B‘¨..." << std::
’dl
;

2294 
¡d
::
veùÜ
<> 
idx
 =

2298 
¡d
::
veùÜ
<> 
d1
 =

2301 
¡d
::
veùÜ
<> 
d2
 =

2304 
¡d
::
veùÜ
<> 
d3
 =

2308 
¡d
::
veùÜ
<> 
d4
 =

2312 
¡d
::
veùÜ
<> 
d5
 =

2316 
MyD©aF¿me
 
df
;

2318 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2319 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2320 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2321 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2322 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2323 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2325 
R‘uºVis™Ü
<> 
	`»tuº_vis™
(
»tuº_pŞicy
::
log
);

2327 
df
.
	`lßd_cŞumn
(

2329 
df
.
sšgË_aù_vis™
<>("dblcŞ_1", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2330 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2331 
df
.
	`lßd_cŞumn
(

2333 
df
.
sšgË_aù_vis™
<>("dblcŞ_2", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2334 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2335 
df
.
	`lßd_cŞumn
(

2337 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2338 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2339 
df
.
	`lßd_cŞumn
(

2341 
df
.
sšgË_aù_vis™
<>("dblcŞ_4", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2342 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2343 
df
.
	`lßd_cŞumn
(

2345 
df
.
sšgË_aù_vis™
<>("dblcŞ_5", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2346 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2348 
B‘aVis™Ü
<> 
b‘a_vis™
;

2349 
»suÉ
 =

2350 
df
.
vis™
<, >("dblcol_1_return",

2352 
b‘a_vis™
).
	`g‘_»suÉ
();

2354 
	`as£¹
(
»suÉ
 == 1.0);

2356 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1_return",

2358 
b‘a_vis™
).
	`g‘_»suÉ
();

2359 
	`as£¹
(
	`çbs
(
»suÉ
 - 1.04881) < 0.00001);

2361 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1_return",

2363 
b‘a_vis™
).
	`g‘_»suÉ
();

2364 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.647582) < 0.00001);

2366 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1_return",

2368 
b‘a_vis™
).
	`g‘_»suÉ
();

2369 
	`as£¹
(
	`çbs
(
»suÉ
 - -0.128854) < 0.00001);

2370 
	}
}

2374 
	$‹¡_g’_d©‘ime_šdex
() {

2376 
¡d
::
cout
 << "\nTe¡šg g’_d©‘ime_šdex(è..." << std::
’dl
;

2380 
¡d
::
veùÜ
<> 
idx_vec1
 =

2381 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
("01/01/2018",

2383 
time_äequ’cy
::
ªnu®
,

2385 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2387 
	`as£¹
(
idx_vec1
.
	`size
() == 21);

2388 
	`as£¹
(
idx_vec1
.
	`ÿ·c™y
() == 22);

2389 
	`as£¹
(
idx_vec1
[0] == 20180101);

2390 
	`as£¹
(
idx_vec1
[1] == 20190101);

2391 
	`as£¹
(
idx_vec1
[10] == 20280101);

2392 
	`as£¹
(
idx_vec1
[20] == 20380101);

2448 
idx_vec1
 = 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
("01/01/2018",

2450 
time_äequ’cy
::
£cÚdly
,

2452 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2453 
	`as£¹
(
idx_vec1
.
	`size
() == 768600);

2454 
	`as£¹
(
idx_vec1
.
	`ÿ·c™y
() == 768601);

2455 
	`as£¹
(
idx_vec1
[0] == 1514782800);

2456 
	`as£¹
(
idx_vec1
[1] == 1514782810);

2457 
	`as£¹
(
idx_vec1
[2] == 1514782820);

2458 
	`as£¹
(
idx_vec1
[768598] == 1522468780);

2459 
	`as£¹
(
idx_vec1
[768599] == 1522468790);

2461 
idx_vec1
 = 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
(

2464 
time_äequ’cy
::
mli£cÚdly
,

2466 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2467 
	`as£¹
(
idx_vec1
.
	`size
() == 73204);

2468 
	`as£¹
(
idx_vec1
.
	`ÿ·c™y
() == 73229);

2469 
	`as£¹
(
idx_vec1
[0] == 1514782800000000000);

2470 
	`as£¹
(
idx_vec1
[1] == 1514782800500000000);

2471 
	`as£¹
(
idx_vec1
[2] == 1514782801000000000);

2472 
	`as£¹
(
idx_vec1
[73201] == 1514819400500000000);

2473 
	`as£¹
(
idx_vec1
[73202] == 1514819401000000000);

2474 
	`as£¹
(
idx_vec1
[73203] == 1514819401500000000);

2476 
¡d
::
veùÜ
<
D©eTime
> 
idx_vec2
 =

2477 
StdD©aF¿me
<
D©eTime
>::
	`g’_d©‘ime_šdex
(

2480 
time_äequ’cy
::
hou¾y
,

2482 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2484 
	`as£¹
(
idx_vec2
.
	`size
() == 43800);

2485 
	`as£¹
(
idx_vec2
[0].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2487 
	`as£¹
(
idx_vec2
[1].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2489 
	`as£¹
(
idx_vec2
[2].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2491 
	`as£¹
(
idx_vec2
[43798].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2493 
	`as£¹
(
idx_vec2
[43799].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2495 
	}
}

2499 
	$‹¡_»¶aû_1
() {

2501 
¡d
::
cout
 << "\nTe¡šg„•Ïû(1è..." << std::
’dl
;

2503 
¡d
::
veùÜ
<> 
d1
 = { 1.0, 10, 8, 18, 19, 16, 21,

2506 
¡d
::
veùÜ
<> 
d2
 = { 1.0, 10, 8, 18, 19, 16, 21,

2509 
¡d
::
veùÜ
<> 
d3
 = { 1.1, 10.09, 8.2, 18.03, 19.4, 15.9, 20.8,

2512 
¡d
::
veùÜ
<> 
d4
 = { 0.1, 9.09, 7.2, 17.03, 18.4, 14.9, 19.8,

2515 
¡d
::
veùÜ
<> 
d5
 = { 20.0, 10.1, -30.2, 18.5, 1.1, 16.2, 30.8,

2518 
MyD©aF¿me
 
df
;

2520 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_d©‘ime_šdex
(

2523 
time_äequ’cy
::
day
),

2524 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2525 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2526 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2527 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2528 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2529 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2530 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4.0);

2531 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[1] == 10.0);

2532 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8.0);

2533 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[6] == 21.0);

2534 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[7] == 17.0);

2535 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[11] == 11.0);

2536 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[15] == 15.0);

2538 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[0] == 20.0);

2539 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[20] == 40.1);

2540 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[1] == 10.1);

2541 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[2] == -30.2);

2542 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[3] == 18.5);

2543 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[10] == 30.89);

2544 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[11] == 11.1);

2545 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[17] == 1.2);

2546 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[19] == 23.2);

2548 autØ
»suÉ1
 = 
df
.
»¶aû_async
<, 3>(

2550 autØ
idx_»suÉ
 = 
df
.
»¶aû_šdex
<3>(

2552 autØ
»suÉ2
 = 
df
.
»¶aû_async
<, 6>(

2558 autØ
couÁ
 = 
»suÉ1
.
	`g‘
();

2560 
	`as£¹
(
couÁ
 == 3);

2561 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2562 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4.0);

2563 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[1] == 1000.0);

2564 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8.0);

2565 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[6] == 2100.0);

2566 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[7] == 17.0);

2567 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[11] == 1100.0);

2568 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[15] == 15.0);

2570 
couÁ
 = 
»suÉ2
.
	`g‘
();

2571 
	`as£¹
(
couÁ
 == 3);

2572 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[0] == 20.0);

2573 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[20] == 110.0);

2574 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[1] == 10.1);

2575 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[2] == 300.0);

2576 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[3] == 18.5);

2577 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[10] == 210.0);

2578 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[11] == 11.1);

2579 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[17] == 1.2);

2580 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[19] == 23.2);

2581 
	}
}

2585 
	$‹¡_»¶aû_2
() {

2587 
¡d
::
cout
 << "\nTe¡šg„•Ïû(2è..." << std::
’dl
;

2589 
¡d
::
veùÜ
<> 
d1
 = { 1.0, 10, 8, 18, 19, 16, 21,

2592 
¡d
::
veùÜ
<> 
d2
 = { 1.0, 10, 8, 18, 19, 16, 21,

2595 
¡d
::
veùÜ
<> 
d3
 = { 1.1, 10.09, 8.2, 18.03, 19.4, 15.9, 20.8,

2598 
¡d
::
veùÜ
<> 
d4
 = { 0.1, 9.09, 7.2, 17.03, 18.4, 14.9, 19.8,

2601 
¡d
::
veùÜ
<> 
d5
 = { 20.0, 10.1, -30.2, 18.5, 1.1, 16.2, 30.8,

2604 
MyD©aF¿me
 
df
;

2606 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_d©‘ime_šdex
(

2609 
time_äequ’cy
::
day
),

2610 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2611 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2612 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2613 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2614 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2615 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2616 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[19] == 6.0);

2617 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4.0);

2618 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8.0);

2619 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[14] == 9.0);

2621 
R•ÏûFunùÜ
 
funùÜ
;

2622 autØ
»suÉ
 =

2623 
df
.
»¶aû_async
<, 
R•ÏûFunùÜ
>("dblcŞ_1", 
funùÜ
);

2625 
»suÉ
.
	`g‘
();

2626 
	`as£¹
(
funùÜ
.
couÁ
 == 3);

2627 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2628 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[19] == 6.0);

2629 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4000.0);

2630 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8000.0);

2631 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[14] == 9000.0);

2633 autØ
£q_vec
 = 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(1, 200, 4);

2635 
	`as£¹
(
£q_vec
.
	`size
() == 50);

2636 
	`as£¹
(
£q_vec
[0] == 1);

2637 
	`as£¹
(
£q_vec
[2] == 9);

2638 
	`as£¹
(
£q_vec
[3] == 13);

2639 
	`as£¹
(
£q_vec
[49] == 197);

2640 
	`as£¹
(
£q_vec
[48] == 193);

2641 
	}
}

2645 
	$‹¡_some_vis™Üs
() {

2647 
¡d
::
cout
 << "\nTe¡šg somvis™Ü ..." << std::
’dl
;

2649 
¡d
::
veùÜ
<> 
idx
 =

2653 
¡d
::
veùÜ
<> 
d1
 =

2656 
¡d
::
veùÜ
<> 
d2
 =

2659 
¡d
::
veùÜ
<> 
i1
 =

2661 
¡d
::
veùÜ
<> 
i2
 =

2664 
¡d
::
veùÜ
<> 
d3
 =

2665 { 1, 10, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 18, 19, 16,

2666 17, 20, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2667 2, 11, 7, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 5,

2669 
MyD©aF¿me
 
df
;

2671 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2672 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2673 
¡d
::
	`make_·œ
("štcŞ_1", 
i1
));

2674 
df
.
	`lßd_cŞumn
("dblcŞ_2", 
¡d
::
	`move
(
d2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2675 
df
.
	`lßd_cŞumn
("štcŞ_2", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2676 
df
.
	`lßd_cŞumn
("dblcŞ_3", 
¡d
::
	`move
(
d3
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2678 
SumVis™Ü
<> 
sum_vis™
;

2679 
ProdVis™Ü
<> 
´od_vis™
;

2680 
sum_»suÉ
 =

2681 
df
.
vis™
<>("štcŞ_2", 
sum_vis™
).
	`g‘_»suÉ
();

2682 
´od_»suÉ
 =

2683 
df
.
vis™
<>("štcŞ_1", 
´od_vis™
).
	`g‘_»suÉ
();

2685 
	`as£¹
(
sum_»suÉ
 == 210);

2686 
	`as£¹
(
´od_»suÉ
 == 464486400);

2688 
CumSumVis™Ü
<> 
cum_sum_vis™
;

2689 cÚ¡ 
¡d
::
veùÜ
<> &
cum_sum_»suÉ
 =

2690 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
cum_sum_vis™
).
	`g‘_»suÉ
();

2692 
	`as£¹
(
cum_sum_»suÉ
.
	`size
() == 20);

2693 
	`as£¹
(
cum_sum_»suÉ
[0] == 1);

2694 
	`as£¹
(
cum_sum_»suÉ
[1] == 11);

2695 
	`as£¹
(
cum_sum_»suÉ
[19] == 195);

2696 
	`as£¹
(
cum_sum_»suÉ
[18] == 189);

2697 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_sum_»suÉ
[2]));

2698 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_sum_»suÉ
[8]));

2700 
CumMaxVis™Ü
<> 
cum_max_vis™
;

2701 cÚ¡ 
¡d
::
veùÜ
<> &
cum_max_»suÉ
 =

2702 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
cum_max_vis™
).
	`g‘_»suÉ
();

2704 
	`as£¹
(
cum_max_»suÉ
.
	`size
() == 20);

2705 
	`as£¹
(
cum_max_»suÉ
[0] == 1);

2706 
	`as£¹
(
cum_max_»suÉ
[1] == 10);

2707 
	`as£¹
(
cum_max_»suÉ
[19] == 20);

2708 
	`as£¹
(
cum_max_»suÉ
[18] == 20);

2709 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_max_»suÉ
[2]));

2710 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_max_»suÉ
[8]));

2711 
	}
}

2715 
	$‹¡_mode
() {

2717 
¡d
::
cout
 << "\nTe¡šg Mod..." << std::
’dl
;

2719 
¡d
::
veùÜ
<> 
idx
 =

2723 
¡d
::
veùÜ
<> 
d1
 =

2726 
¡d
::
veùÜ
<> 
d2
 =

2729 
¡d
::
veùÜ
<> 
i1
 =

2731 
¡d
::
veùÜ
<> 
i2
 =

2734 
¡d
::
veùÜ
<> 
d3
 =

2735 { 1, 10, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 18, 19, 16,

2736 17, 20, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2737 2, 11, 7, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 5,

2739 
MyD©aF¿me
 
df
;

2741 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2742 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2743 
¡d
::
	`make_·œ
("štcŞ_1", 
i1
));

2744 
df
.
	`lßd_cŞumn
("dblcŞ_2", 
¡d
::
	`move
(
d2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2745 
df
.
	`lßd_cŞumn
("štcŞ_2", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2746 
df
.
	`lßd_cŞumn
("dblcŞ_3", 
¡d
::
	`move
(
d3
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2748 
ModeVis™Ü
<3, > 
mode_vis™
;

2749 cÚ¡‡utØ&
»suÉ
 =

2750 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
mode_vis™
).
	`g‘_»suÉ
();

2752 
	`as£¹
(
»suÉ
.
	`size
() == 3);

2753 
	`as£¹
(
»suÉ
[0].
šdiûs
.
	`size
() == 3);

2754 
	`as£¹
(
»suÉ
[0].
v®ue_šdiûs_š_cŞ
.
	`size
() == 3);

2755 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0].
	`g‘_v®ue
()));

2756 
	`as£¹
(
»suÉ
[0].
	`»³©_couÁ
() == 3);

2757 
	`as£¹
(
»suÉ
[0].
šdiûs
[1] == 123458);

2758 
	`as£¹
(
»suÉ
[0].
v®ue_šdiûs_š_cŞ
[2] == 12);

2760 
ModeVis™Ü
<4, > 
mode_vis™2
;

2761 cÚ¡‡utØ&
»suÉ2
 =

2762 
df
.
sšgË_aù_vis™
<>("štcŞ_1", 
mode_vis™2
).
	`g‘_»suÉ
();

2764 
	`as£¹
(
»suÉ2
.
	`size
() == 4);

2765 
	`as£¹
(
»suÉ2
[0].
šdiûs
.
	`size
() == 6);

2766 
	`as£¹
(
»suÉ2
[0].
v®ue_šdiûs_š_cŞ
.
	`size
() == 6);

2767 
	`as£¹
(
»suÉ2
[0].
	`»³©_couÁ
() == 6);

2768 
	`as£¹
(
»suÉ2
[0].
	`g‘_v®ue
() == 2);

2769 
	`as£¹
(
»suÉ2
[1].
	`»³©_couÁ
() == 4);

2770 
	}
}

2774 
	$‹¡_g‘_d©a_by_£l
() {

2776 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_£l(è..." << std::
’dl
;

2778 
¡d
::
veùÜ
<> 
idx
 =

2780 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

2781 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

2782 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

2783 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

2784 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "ee", "ff", "gg", "ll" };

2785 
MyD©aF¿me
 
df
;

2787 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2788 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2789 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2790 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2791 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

2792 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2794 autØ
funùÜ
 =

2795 [](cÚ¡ &, cÚ¡ &
v®
)-> 
boŞ
 {

2796  (
v®
 >= 5);

2798 autØ
»suÉ
 =

2799 
df
.
g‘_d©a_by_£l
<, 
	`deşty³
(
funùÜ
), , 
¡d
::
¡ršg
>

2800 ("cŞ_1", 
funùÜ
);

2802 
	`as£¹
(
»suÉ
.
	`g‘_šdex
().
	`size
() == 3);

2803 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

2804 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 3);

2805 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 0);

2806 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[0] == 123454);

2807 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[2] == 123456);

2808 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_2")[1] == 13);

2809 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "gg");

2810 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ll");

2811 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[1] == 6);

2812 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 7);

2814 autØ
funùÜ2
 =

2816 cÚ¡ &
v®1
,

2817 cÚ¡ &
v®2
,

2818 cÚ¡ 
¡d
::
¡ršg
 
v®3
)-> 
boŞ
 {

2819  (
v®1
 >ğ5 || 
v®2
 =ğ15 || 
v®3
 == "33");

2821 autØ
»suÉ2
 =

2822 
df
.
g‘_d©a_by_£l
<,

2824 
¡d
::
¡ršg
,

2825 
	`deşty³
(
funùÜ2
),

2826 , 
¡d
::
¡ršg
>

2827 ("cŞ_1", "cŞ_3", "cŞ_¡r", 
funùÜ2
);

2829 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 5);

2830 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 5);

2831 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 5);

2832 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 2);

2833 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[0] == 123450);

2834 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[2] == 123454);

2835 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[4] == 123456);

2836 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_2")[0] == 8);

2837 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_2")[1] == 10);

2838 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_2")[3] == 13);

2839 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_4")[0] == 22);

2840 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_4")[1] == 24);

2841 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "11");

2842 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "33");

2843 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ff");

2844 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[4] == "ll");

2845 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_1")[0] == 1);

2846 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_1")[1] == 3);

2847 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_1")[2] == 5);

2848 
	}
}

2852 
	$‹¡_g‘_v›w_by_£l
() {

2854 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_£l(è..." << std::
’dl
;

2856 
¡d
::
veùÜ
<> 
idx
 =

2858 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

2859 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

2860 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

2861 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

2862 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "ee", "ff", "gg", "ll" };

2863 
MyD©aF¿me
 
df
;

2865 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2866 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2867 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2868 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2869 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

2870 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2872 autØ
funùÜ
 =

2873 [](cÚ¡ &, cÚ¡ &
v®
)-> 
boŞ
 {

2874  (
v®
 >= 5);

2876 autØ
»suÉ
 =

2877 
df
.
g‘_v›w_by_£l
<, 
	`deşty³
(
funùÜ
), , 
¡d
::
¡ršg
>

2878 ("cŞ_1", 
funùÜ
);

2880 
»suÉ
.
shršk_to_f™
<, 
¡d
::
¡ršg
>();

2881 
	`as£¹
(
»suÉ
.
	`g‘_šdex
().
	`size
() == 3);

2882 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

2883 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 3);

2884 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 0);

2885 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[0] == 123454);

2886 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[2] == 123456);

2887 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_2")[1] == 13);

2888 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "gg");

2889 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ll");

2890 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[1] == 6);

2891 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 7);

2893 
»suÉ
.
g‘_cŞumn
<>("col_1")[1] = 600;

2894 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[1] == 600);

2895 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[5] == 600);

2897 autØ
funùÜ2
 =

2899 cÚ¡ &
v®1
,

2900 cÚ¡ &
v®2
)-> 
boŞ
 {

2901  (
v®1
 >ğ5 || 
v®2
 == 15);

2903 autØ
»suÉ2
 =

2904 
df
.
g‘_v›w_by_£l
<,

2906 
	`deşty³
(
funùÜ2
),

2907 , 
¡d
::
¡ršg
>

2908 ("cŞ_1", "cŞ_3", 
funùÜ2
);

2910 autØ
funùÜ3
 =

2912 cÚ¡ &
v®1
,

2913 cÚ¡ &
v®2
,

2914 cÚ¡ 
¡d
::
¡ršg
 
v®3
)-> 
boŞ
 {

2915  (
v®1
 >ğ5 || 
v®2
 =ğ15 || 
v®3
 == "33");

2917 autØ
»suÉ3
 =

2918 
df
.
g‘_v›w_by_£l
<,

2920 
¡d
::
¡ršg
,

2921 
	`deşty³
(
funùÜ3
),

2922 , 
¡d
::
¡ršg
>

2923 ("cŞ_1", "cŞ_3", "cŞ_¡r", 
funùÜ3
);

2925 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
().
	`size
() == 5);

2926 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 5);

2927 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 5);

2928 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 2);

2929 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
()[0] == 123450);

2930 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
()[2] == 123454);

2931 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
()[4] == 123456);

2932 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_2")[0] == 8);

2933 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_2")[1] == 10);

2934 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_2")[3] == 13);

2935 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_4")[0] == 22);

2936 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_4")[1] == 24);

2937 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "11");

2938 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "33");

2939 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ff");

2940 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[4] == "ll");

2941 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_1")[0] == 1);

2942 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_1")[1] == 3);

2943 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_1")[2] == 5);

2944 
	}
}

2948 
	$‹¡_»move_d©a_by_£l
() {

2950 
¡d
::
cout
 << "\nTe¡šg„emove_d©a_by_£l(è..." << std::
’dl
;

2952 
¡d
::
veùÜ
<> 
idx
 =

2954 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

2955 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

2956 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

2957 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

2958 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "ee", "ff", "gg", "ll" };

2959 
MyD©aF¿me
 
df
;

2961 autØ
sh­e
 = 
df
.
	`sh­e
();

2963 
	`as£¹
(
sh­e
.
fœ¡
 == 0);

2964 
	`as£¹
(
sh­e
.
£cÚd
 == 0);

2966 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2967 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2968 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2969 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2970 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

2971 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2973 
sh­e
 = 
df
.
	`sh­e
();

2974 
	`as£¹
(
sh­e
.
fœ¡
 == 7);

2975 
	`as£¹
(
sh­e
.
£cÚd
 == 5);

2977 
MyD©aF¿me
 
df2
 = 
df
;

2979 autØ
funùÜ
 =

2980 [](cÚ¡ &, cÚ¡ &
v®
)-> 
boŞ
 {

2981  (
v®
 >= 5);

2984 
df
.
»move_d©a_by_£l
<, 
	`deşty³
(
funùÜ
), , 
¡d
::
¡ršg
>

2985 ("cŞ_1", 
funùÜ
);

2987 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 4);

2988 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 4);

2989 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 4);

2990 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 4);

2991 
	`as£¹
(
df
.
	`g‘_šdex
()[0] == 123450);

2992 
	`as£¹
(
df
.
	`g‘_šdex
()[2] == 123452);

2993 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_2")[1] == 9);

2994 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "22");

2995 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "33");

2996 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[1] == 2);

2997 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[2] == 3);

2998 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[3] == 25);

3000 autØ
funùÜ2
 =

3002 cÚ¡ &
v®1
,

3003 cÚ¡ &
v®2
,

3004 cÚ¡ 
¡d
::
¡ršg
 
v®3
)-> 
boŞ
 {

3005  (
v®1
 >ğ5 || 
v®2
 =ğ15 || 
v®3
 == "33");

3008 
df2
.
»move_d©a_by_£l
<,

3010 
¡d
::
¡ršg
,

3011 
	`deşty³
(
funùÜ2
),

3012 , 
¡d
::
¡ršg
>

3013 ("cŞ_1", "cŞ_3", "cŞ_¡r", 
funùÜ2
);

3015 
	`as£¹
(
df2
.
	`g‘_šdex
().
	`size
() == 2);

3016 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 2);

3017 
	`as£¹
(
df2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 2);

3018 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 2);

3019 
	`as£¹
(
df2
.
	`g‘_šdex
()[0] == 123451);

3020 
	`as£¹
(
df2
.
	`g‘_šdex
()[1] == 123453);

3021 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[0] == 9);

3022 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[1] == 11);

3023 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_4")[0] == 23);

3024 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_4")[1] == 25);

3025 
	`as£¹
(
df2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "22");

3026 
	`as£¹
(
df2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "ee");

3027 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_1")[0] == 2);

3028 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_1")[1] == 4);

3029 
	}
}

3033 
	$‹¡_shufæe
() {

3035 
¡d
::
cout
 << "\nTe¡šg shufæe(è..." << std::
’dl
;

3037 
¡d
::
veùÜ
<> 
idx
 =

3039 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3040 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3041 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3042 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3043 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc", "dd" };

3044 
MyD©aF¿me
 
df
;

3046 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3047 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3048 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3049 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3050 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3051 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3056 
df
.
shufæe
<2, , 
¡d
::
¡ršg
>({"cŞ_1", "cŞ_¡r"}, 
çl£
);

3060 
df
.
shufæe
<2, >({"cŞ_2", "cŞ_3"}, 
Œue
);

3063 
	}
}

3067 
	$‹¡_Sim¶eRŞlAdİ‹r
() {

3069 
¡d
::
cout
 << "\nTe¡šg Sim¶eRŞlAdİ‹r{ } ..." << std::
’dl
;

3071 
¡d
::
veùÜ
<> 
idx
 =

3074 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3075 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11,

3076 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3078 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3080 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3081 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3082 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

3084 
MyD©aF¿me
 
df
;

3086 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3087 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3088 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3089 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3090 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3091 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3093 
Sim¶eRŞlAdİ‹r
<
MšVis™Ü
<>, > 
	`mš_rŞËr
(

3094 
MšVis™Ü
<>(), 3);

3095 cÚ¡‡utØ&
»suÉ
 =

3096 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mš_rŞËr
).
	`g‘_»suÉ
();

3098 
	`as£¹
(
»suÉ
.
	`size
() == 11);

3099 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0]));

3100 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[1]));

3101 
	`as£¹
(
»suÉ
[2] == 1.0);

3102 
	`as£¹
(
»suÉ
[5] == 4.0);

3103 
	`as£¹
(
»suÉ
[8] == 7.0);

3105 
Sim¶eRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`m—n_rŞËr
(

3106 
M—nVis™Ü
<>(), 3);

3107 cÚ¡‡utØ&
»suÉ2
 =

3108 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
m—n_rŞËr
).
	`g‘_»suÉ
();

3110 
	`as£¹
(
»suÉ2
.
	`size
() == 11);

3111 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[0]));

3112 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[1]));

3113 
	`as£¹
(
»suÉ2
[2] == 16.0);

3114 
	`as£¹
(
»suÉ2
[5] == 19.0);

3115 
	`as£¹
(
»suÉ2
[8] == 22.0);

3117 
Sim¶eRŞlAdİ‹r
<
MaxVis™Ü
<>, > 
	`max_rŞËr
(

3118 
MaxVis™Ü
<>(), 3);

3119 cÚ¡‡utØ&
»suÉ3
 =

3120 
df
.
sšgË_aù_vis™
<>("cŞ_4", 
max_rŞËr
).
	`g‘_»suÉ
();

3122 
	`as£¹
(
»suÉ3
.
	`size
() == 6);

3123 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[0]));

3124 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[1]));

3125 
	`as£¹
(
»suÉ3
[2] == 24.0);

3126 
	`as£¹
(
»suÉ3
[4] == 26.0);

3127 
	`as£¹
(
»suÉ3
[5] == 27.0);

3129 
Sim¶eRŞlAdİ‹r
<
MaxVis™Ü
<>, > 
	`max2_rŞËr
(

3130 
MaxVis™Ü
<>(
çl£
), 3);

3131 cÚ¡‡utØ&
»suÉ4
 =

3132 
df
.
sšgË_aù_vis™
<>("cŞ_2", 
max2_rŞËr
).
	`g‘_»suÉ
();

3134 
	`as£¹
(
»suÉ4
.
	`size
() == 11);

3135 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[0]));

3136 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[1]));

3137 
	`as£¹
(
»suÉ4
[2] == 10.0);

3138 
	`as£¹
(
»suÉ4
[3] == 11.0);

3139 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[4]));

3140 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[8]));

3141 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[9]));

3142 
	`as£¹
(
»suÉ4
[10] == 18.0);

3143 
	}
}

3147 
	$‹¡_ExpÚ’tŸlRŞlAdİ‹r
() {

3149 
¡d
::
cout
 << "\nTe¡šg ExpÚ’tŸlRŞlAdİ‹r{ } ..." << std::
’dl
;

3151 
¡d
::
veùÜ
<> 
idx
 =

3154 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3155 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11,

3156 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3158 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3160 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3161 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3162 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

3164 
MyD©aF¿me
 
df
;

3166 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3167 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3168 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3169 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3170 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3171 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3173 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`hl_expo_m—n_rŞËr
(

3174 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
h®æiã
, 0.5);

3175 cÚ¡‡utØ&
hl_expo_»suÉ
 =

3176 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
hl_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3177 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`cg_expo_m—n_rŞËr
(

3178 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
ûÁ”_of_g¿v™y
,

3180 cÚ¡‡utØ&
cg_expo_»suÉ
 =

3181 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
cg_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3182 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`s_expo_m—n_rŞËr
(

3183 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 1.5);

3184 cÚ¡‡utØ&
s_expo_»suÉ
 =

3185 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
s_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3186 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`f_expo_m—n_rŞËr
(

3187 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
fixed
, 0.5);

3188 cÚ¡‡utØ&
f_expo_»suÉ
 =

3189 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
f_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3191 
	`as£¹
(
s_expo_»suÉ
.
	`size
() == 11);

3192 
	`as£¹
(
¡d
::
	`i¢ª
(
s_expo_»suÉ
[0]));

3193 
	`as£¹
(
¡d
::
	`i¢ª
(
s_expo_»suÉ
[1]));

3194 
	`as£¹
(
s_expo_»suÉ
[2] == 16.0);

3195 
	`as£¹
(
s_expo_»suÉ
[5] == 19.744);

3196 
	`as£¹
(
	`çbs
(
s_expo_»suÉ
[8] - 22.75) < 0.0001);

3198 
	`as£¹
(
f_expo_»suÉ
.
	`size
() == 11);

3199 
	`as£¹
(
¡d
::
	`i¢ª
(
f_expo_»suÉ
[0]));

3200 
	`as£¹
(
¡d
::
	`i¢ª
(
f_expo_»suÉ
[1]));

3201 
	`as£¹
(
f_expo_»suÉ
[2] == 16.0);

3202 
	`as£¹
(
f_expo_»suÉ
[5] == 19.0);

3203 
	`as£¹
(
f_expo_»suÉ
[8] == 22.0);

3205 
	`as£¹
(
cg_expo_»suÉ
.
	`size
() == 11);

3206 
	`as£¹
(
¡d
::
	`i¢ª
(
cg_expo_»suÉ
[0]));

3207 
	`as£¹
(
¡d
::
	`i¢ª
(
cg_expo_»suÉ
[1]));

3208 
	`as£¹
(
cg_expo_»suÉ
[2] == 16.0);

3209 
	`as£¹
(
	`çbs
(
cg_expo_»suÉ
[5] - 19.4815) < 0.0001);

3210 
	`as£¹
(
	`çbs
(
cg_expo_»suÉ
[8] - 22.4993) < 0.0001);

3212 
	`as£¹
(
hl_expo_»suÉ
.
	`size
() == 11);

3213 
	`as£¹
(
¡d
::
	`i¢ª
(
hl_expo_»suÉ
[0]));

3214 
	`as£¹
(
¡d
::
	`i¢ª
(
hl_expo_»suÉ
[1]));

3215 
	`as£¹
(
hl_expo_»suÉ
[2] == 16.0);

3216 
	`as£¹
(
	`çbs
(
hl_expo_»suÉ
[5] - 19.6562) < 0.0001);

3217 
	`as£¹
(
	`çbs
(
hl_expo_»suÉ
[8] - 22.6665) < 0.0001);

3218 
	}
}

3222 
	$‹¡_g‘_d©a_by_¿nd
() {

3224 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_¿nd(è..." << std::
’dl
;

3226 
¡d
::
veùÜ
<> 
idx
 =

3229 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3230 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 };

3231 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3232 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3233 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc",

3235 
MyD©aF¿me
 
df
;

3237 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3238 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3239 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3240 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3241 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3242 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3244 autØ
»suÉ
 =

3245 
df
.
g‘_d©a_by_¿nd
<, 
¡d
::
¡ršg
>

3246 (
¿ndom_pŞicy
::
num_rows_no_£ed
, 5);

3247 autØ
»suÉ2
 =

3248 
df
.
g‘_d©a_by_¿nd
<, 
¡d
::
¡ršg
>

3249 (
¿ndom_pŞicy
::
äac_rows_w™h_£ed
, 0.8, 23);

3251 
»suÉ2
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
);

3262 
	}
}

3266 
	$‹¡_g‘_v›w_by_¿nd
() {

3268 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_¿nd(è..." << std::
’dl
;

3270 
¡d
::
veùÜ
<> 
idx
 =

3273 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3274 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 };

3275 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3276 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3277 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc",

3279 
MyD©aF¿me
 
df
;

3281 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3282 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3283 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3284 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3285 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3286 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3288 autØ
»suÉ
 =

3289 
df
.
g‘_v›w_by_¿nd
<, 
¡d
::
¡ršg
>

3290 (
¿ndom_pŞicy
::
num_rows_no_£ed
, 5);

3291 autØ
»suÉ2
 =

3292 
df
.
g‘_v›w_by_¿nd
<, 
¡d
::
¡ršg
>

3293 (
¿ndom_pŞicy
::
äac_rows_w™h_£ed
, 0.8, 23);

3295 
»suÉ2
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
);

3311 
	}
}

3315 
	$‹¡_wr™e_jsÚ
() {

3317 
¡d
::
cout
 << "\nTe¡šg wr™e(jsÚè..." << std::
’dl
;

3319 
¡d
::
veùÜ
<> 
idx
 =

3322 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3323 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 };

3324 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3325 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3326 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc",

3328 
MyD©aF¿me
 
df
;

3330 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3331 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3332 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3333 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3334 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3335 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3337 
¡d
::
cout
 << "Wr™šg iÀJSON:" << std::
’dl
;

3338 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
,

3339 
çl£
,

3340 
io_fÜm©
::
jsÚ
);

3341 
	}
}

3345 
	$‹¡_diff
() {

3347 
¡d
::
cout
 << "\nTe¡šg Difà..." << std::
’dl
;

3349 cÚ¡ 
my_Çn
 = 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
();

3350 cÚ¡ 
•sÚ
 = 0.0000001;

3352 
¡d
::
veùÜ
<> 
idx
 =

3356 
¡d
::
veùÜ
<> 
d1
 =

3357 { 
my_Çn
, 16, 15, 18, my_nan, 16, 21,

3358 0.34, 1.56, 0.34, 2.3, 
my_Çn
, 19.0, 0.387,

3359 0.123, 1.06, 
my_Çn
, 2.03, 0.4, 1.0, my_nan };

3360 
¡d
::
veùÜ
<> 
d2
 =

3364 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

3365 
MyD©aF¿me
 
df
;

3367 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3368 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3369 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3370 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

3372 
DiffVis™Ü
<> 
	`diff_vis™
(1, 
çl£
);

3373 cÚ¡‡utØ&
»suÉ
 =

3374 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™
).
	`g‘_»suÉ
();

3376 
	`as£¹
(
»suÉ
.
	`size
() == 21);

3377 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0]));

3378 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[1]));

3379 
	`as£¹
(
»suÉ
[2] == -1.0);

3380 
	`as£¹
(
»suÉ
[3] == 3);

3381 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[4]));

3382 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[17]));

3383 
	`as£¹
(
»suÉ
[18] == -1.63);

3384 
	`as£¹
(
»suÉ
[19] == 0.6);

3385 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[20]));

3387 
DiffVis™Ü
<> 
	`diff_vis™2
(-1, 
çl£
);

3388 cÚ¡‡utØ&
»suÉ2
 =

3389 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™2
).
	`g‘_»suÉ
();

3391 
	`as£¹
(
»suÉ2
.
	`size
() == 21);

3392 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[0]));

3393 
	`as£¹
(
»suÉ2
[1] == 1.0);

3394 
	`as£¹
(
»suÉ2
[2] == -3);

3395 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[4]));

3396 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[16]));

3397 
	`as£¹
(
»suÉ2
[17] == 1.63);

3398 
	`as£¹
(
»suÉ2
[18] == -0.6);

3399 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[19]));

3400 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[20]));

3402 
DiffVis™Ü
<> 
	`diff_vis™3
(3, 
çl£
);

3403 cÚ¡‡utØ&
»suÉ3
 =

3404 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™3
).
	`g‘_»suÉ
();

3406 
	`as£¹
(
»suÉ3
.
	`size
() == 21);

3407 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[0]));

3408 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[1]));

3409 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[2]));

3410 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[4]));

3411 
	`as£¹
(
»suÉ3
[5] == 1.0);

3412 
	`as£¹
(
»suÉ3
[6] == 3.0);

3413 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[7]));

3414 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[16]));

3415 
	`as£¹
(
	`çbs
(
»suÉ3
[17] - 1.907è< 
•sÚ
);

3416 
	`as£¹
(
»suÉ3
[18] == -0.66);

3417 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[19]));

3418 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[20]));

3420 
DiffVis™Ü
<> 
	`diff_vis™4
(-3, 
çl£
);

3421 cÚ¡‡utØ&
»suÉ4
 =

3422 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™4
).
	`g‘_»suÉ
();

3424 
	`as£¹
(
»suÉ4
.
	`size
() == 21);

3425 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[0]));

3426 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[1]));

3427 
	`as£¹
(
»suÉ4
[2] == -1.0);

3428 
	`as£¹
(
»suÉ4
[3] == -3.0);

3429 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[4]));

3430 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[13]));

3431 
	`as£¹
(
	`çbs
(
»suÉ4
[14] - -1.907è< 
•sÚ
);

3432 
	`as£¹
(
»suÉ4
[15] == 0.66);

3433 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[16]));

3434 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[17]));

3435 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[18]));

3436 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[19]));

3437 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[20]));

3439 
DiffVis™Ü
<> 
	`diff_vis™5
(3, 
Œue
);

3440 cÚ¡‡utØ&
»suÉ5
 =

3441 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™5
).
	`g‘_»suÉ
();

3443 
	`as£¹
(
»suÉ5
.
	`size
() == 10);

3444 
	`as£¹
(
»suÉ5
[0] == 1.0);

3445 
	`as£¹
(
»suÉ5
[1] == 3.0);

3446 
	`as£¹
(
»suÉ5
[2] == -14.44);

3447 
	`as£¹
(
»suÉ5
[7] == -17.94);

3448 
	`as£¹
(
	`çbs
(
»suÉ5
[8] - 1.907è< 
•sÚ
);

3449 
	`as£¹
(
»suÉ5
[9] == -0.66);

3451 
DiffVis™Ü
<> 
	`diff_vis™6
(-3, 
Œue
);

3452 cÚ¡‡utØ&
»suÉ6
 =

3453 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™6
).
	`g‘_»suÉ
();

3455 
	`as£¹
(
»suÉ6
.
	`size
() == 10);

3456 
	`as£¹
(
»suÉ6
[0] == -1.0);

3457 
	`as£¹
(
»suÉ6
[1] == -3.0);

3458 
	`as£¹
(
»suÉ6
[2] == 14.44);

3459 
	`as£¹
(
»suÉ6
[7] == 17.94);

3460 
	`as£¹
(
	`çbs
(
»suÉ6
[8] - -1.907è< 
•sÚ
);

3461 
	`as£¹
(
»suÉ6
[9] == 0.66);

3462 
	}
}

3466 
	$‹¡_»adšg_wr™šg_jsÚ
() {

3468 
¡d
::
cout
 << "\nTe¡šg„—dšg/wr™šg JSON ..." << std::
’dl
;

3470 
MyD©aF¿me
 
df
;

3472 
Œy
 {

3473 
df
.
	`»ad
("§m¶e_d©a.jsÚ", 
io_fÜm©
::
jsÚ
);

3474 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 12);

3475 
	`as£¹
(
df
.
	`g‘_šdex
()[0] == 123450);

3476 
	`as£¹
(
df
.
	`g‘_šdex
()[4] == 123454);

3477 
	`as£¹
(
df
.
	`g‘_šdex
()[11] == 555555);

3478 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 6);

3479 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[0] == 22.0);

3480 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[4] == 26.0);

3481 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[5] == 27.0);

3482 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 12);

3483 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "11");

3484 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[8] == "uu");

3485 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[11] == "This is‡est");

3486 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 12);

3487 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 12);

3488 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_2")[6] == 14.0);

3489 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_2")[11] == 777.78);

3490 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 12);

3491 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_3")[3] == 18.0);

3492 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_3")[11] == 555.543);

3494 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

3495 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

3497 
	}
}

3501 
	$‹¡_g‘_d©a_by_loc_loÿtiÚ
() {

3503 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_locÖoÿtiÚsè..." << std::
’dl
;

3505 
¡d
::
veùÜ
<> 
idx
 =

3507 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3508 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3509 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3510 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3511 
MyD©aF¿me
 
df
;

3513 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3514 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3515 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3516 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3517 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3519 
MyD©aF¿me
 
df2
 = 
df
.
g‘_d©a_by_loc
<>(
¡d
::
veùÜ
<> { 3, 6 });

3520 
MyD©aF¿me
 
df3
 =

3521 
df
.
g‘_d©a_by_loc
<>(
¡d
::
veùÜ
<> { -4, -1 , 5 });

3523 
	`as£¹
(
df2
.
	`g‘_šdex
().
	`size
() == 2);

3524 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3525 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3526 
	`as£¹
(
df2
.
	`g‘_šdex
()[0] == 123450);

3527 
	`as£¹
(
df2
.
	`g‘_šdex
()[1] == 123449);

3528 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_3")[0] == 18.0);

3529 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[1] == 14.0);

3530 
	`as£¹
(
¡d
::
	`i¢ª
(
df2
.
g‘_cŞumn
<>("col_4")[1]));

3532 
	`as£¹
(
df3
.
	`g‘_šdex
().
	`size
() == 3);

3533 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 3);

3534 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 3);

3535 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

3536 
	`as£¹
(
df3
.
	`g‘_šdex
()[0] == 123450);

3537 
	`as£¹
(
df3
.
	`g‘_šdex
()[1] == 123449);

3538 
	`as£¹
(
df3
.
	`g‘_šdex
()[2] == 123450);

3539 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_1")[0] == 4.0);

3540 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3541 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_4")[0] == 25.0);

3542 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[1]));

3543 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[2]));

3544 
	}
}

3548 
	$‹¡_g‘_v›w_by_loc_loÿtiÚ
() {

3550 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_locÖoÿtiÚsè..." << std::
’dl
;

3552 
¡d
::
veùÜ
<> 
idx
 =

3554 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3555 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3556 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3557 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3558 
MyD©aF¿me
 
df
;

3560 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3561 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3562 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3563 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3564 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3566 autØ
dfv1
 = 
df
.
g‘_v›w_by_loc
<>(
¡d
::
veùÜ
<> { 3, 6 });

3567 autØ
dfv2
 = 
df
.
g‘_v›w_by_loc
<>(
¡d
::
veùÜ
<> { -4, -1 , 5 });

3569 
	`as£¹
(
dfv1
.
	`g‘_šdex
().
	`size
() == 2);

3570 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3571 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3572 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[0] == 123450);

3573 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[1] == 123449);

3574 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_3")[0] == 18.0);

3575 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_2")[1] == 14.0);

3576 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv1
.
g‘_cŞumn
<>("col_4")[1]));

3578 
	`as£¹
(
dfv2
.
	`g‘_šdex
().
	`size
() == 3);

3579 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 3);

3580 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 3);

3581 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

3582 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[0] == 123450);

3583 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[1] == 123449);

3584 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[2] == 123450);

3585 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 4.0);

3586 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3587 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_4")[0] == 25.0);

3588 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[1]));

3589 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[2]));

3591 
dfv2
.
g‘_cŞumn
<>("col_1")[0] = 101.0;

3592 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 101.0);

3593 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[3] == 101.0);

3595 autØ
memÜy_u£
 = 
dfv2
.
g‘_memÜy_u§ge
<>("col_3");

3597 
¡d
::
cout
 << "V›w MemÜy U§ge:\n" << 
memÜy_u£
 << std::
’dl
;

3598 
	}
}

3602 
	$‹¡_g‘_d©a_by_idx_v®ues
() {

3604 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_idx(v®uesè..." << std::
’dl
;

3606 
¡d
::
veùÜ
<> 
idx
 =

3608 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3609 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3610 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3611 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3612 
MyD©aF¿me
 
df
;

3614 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3615 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3616 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3617 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3618 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3620 
MyD©aF¿me
 
df2
 =

3621 
df
.
g‘_d©a_by_idx
<>(

3622 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123455 });

3623 
MyD©aF¿me
 
df3
 =

3624 
df
.
g‘_d©a_by_idx
<>(

3625 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123449, 123450 });

3627 
	`as£¹
(
df2
.
	`g‘_šdex
().
	`size
() == 2);

3628 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3629 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3630 
	`as£¹
(
df2
.
	`g‘_šdex
()[0] == 123452);

3631 
	`as£¹
(
df2
.
	`g‘_šdex
()[1] == 123455);

3632 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_3")[0] == 17.0);

3633 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[1] == 12.0);

3634 
	`as£¹
(
¡d
::
	`i¢ª
(
df2
.
g‘_cŞumn
<>("col_4")[1]));

3636 
	`as£¹
(
df3
.
	`g‘_šdex
().
	`size
() == 4);

3637 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 4);

3638 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 4);

3639 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 4);

3640 
	`as£¹
(
df3
.
	`g‘_šdex
()[0] == 123450);

3641 
	`as£¹
(
df3
.
	`g‘_šdex
()[1] == 123450);

3642 
	`as£¹
(
df3
.
	`g‘_šdex
()[2] == 123450);

3643 
	`as£¹
(
df3
.
	`g‘_šdex
()[3] == 123449);

3644 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_1")[0] == 1.0);

3645 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3646 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_4")[0] == 22.0);

3647 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_4")[1] == 25.0);

3648 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[2]));

3649 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[3]));

3650 
	}
}

3654 
	$‹¡_g‘_v›w_by_idx_v®ues
() {

3656 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_idx(v®uesè..." << std::
’dl
;

3658 
¡d
::
veùÜ
<> 
idx
 =

3660 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3661 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3662 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3663 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3664 
MyD©aF¿me
 
df
;

3666 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3667 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3668 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3669 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3670 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3672 autØ
dfv1
 =

3673 
df
.
g‘_v›w_by_idx
<>(

3674 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123455 });

3675 autØ
dfv2
 =

3676 
df
.
g‘_v›w_by_idx
<>(

3677 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123449, 123450 });

3679 
	`as£¹
(
dfv1
.
	`g‘_šdex
().
	`size
() == 2);

3680 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3681 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3682 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[0] == 123452);

3683 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[1] == 123455);

3684 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_3")[0] == 17.0);

3685 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_2")[1] == 12.0);

3686 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv1
.
g‘_cŞumn
<>("col_4")[1]));

3688 
	`as£¹
(
dfv2
.
	`g‘_šdex
().
	`size
() == 4);

3689 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 4);

3690 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 4);

3691 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 4);

3692 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[0] == 123450);

3693 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[1] == 123450);

3694 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[2] == 123450);

3695 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[3] == 123449);

3696 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 1.0);

3697 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3698 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_4")[0] == 22.0);

3699 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_4")[1] == 25.0);

3700 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[2]));

3701 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[3]));

3703 
dfv2
.
g‘_cŞumn
<>("col_1")[0] = 101.0;

3704 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 101.0);

3705 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[0] == 101.0);

3706 
	}
}

3710 
	$‹¡_z_scÜe_vis™Ü
() {

3712 
¡d
::
cout
 << "\nTe¡šg Z-ScÜvis™Ü ..." << std::
’dl
;

3714 
¡d
::
veùÜ
<> 
idx
 =

3718 
¡d
::
veùÜ
<> 
d1
 =

3723 
¡d
::
veùÜ
<> 
d2
 =

3727 
MyD©aF¿me
 
df
;

3729 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3730 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3731 
¡d
::
	`make_·œ
("cŞ_2", 
d2
));

3733 
ZScÜeVis™Ü
<> 
z_scÜe
;

3734 
ZScÜeVis™Ü
<> 
z_scÜe2
;

3735 cÚ¡‡utØ
»suÉ
 =

3736 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
z_scÜe
).
	`g‘_»suÉ
();

3737 cÚ¡‡utØ
»suÉ2
 =

3738 
df
.
sšgË_aù_vis™
<>("cŞ_2", 
z_scÜe2
).
	`g‘_»suÉ
();

3740 
	`as£¹
(
»suÉ
.
	`size
() == 21);

3741 
	`as£¹
(
	`çbs
(
»suÉ
[0] - -0.774806) < 0.000001);

3742 
	`as£¹
(
	`çbs
(
»suÉ
[4] - 0.816872) < 0.000001);

3743 
	`as£¹
(
	`çbs
(
»suÉ
[10] - 2.01063) < 0.000001);

3744 
	`as£¹
(
	`çbs
(
»suÉ
[19] - -0.723076) < 0.000001);

3745 
	`as£¹
(
	`çbs
(
»suÉ
[20] - -0.727055) < 0.000001);

3747 
	`as£¹
(
»suÉ2
.
	`size
() == 21);

3748 
	`as£¹
(
	`çbs
(
»suÉ2
[0] - -1.42003) < 0.00001);

3749 
	`as£¹
(
	`çbs
(
»suÉ2
[4] - -0.732921) < 0.00001);

3750 
	`as£¹
(
	`çbs
(
»suÉ2
[10] - -1.28261) < 0.00001);

3751 
	`as£¹
(
	`çbs
(
»suÉ2
[19] - 1.5002) < 0.00001);

3752 
	`as£¹
(
	`çbs
(
»suÉ2
[20] - 1.67198) < 0.00001);

3754 cÚ¡ 
MyD©aF¿me
 
cÚ¡_df
 = 
df
;

3755 
Sam¶eZScÜeVis™Ü
<> 
z_scÜe3
;

3756 autØ
fut
 =

3757 
cÚ¡_df
.
sšgË_aù_vis™_async
<, >

3758 ("cŞ_1", "cŞ_2", 
z_scÜe3
);

3759 autØ
»suÉ3
 = 
fut
.
	`g‘
().
	`g‘_»suÉ
();

3761 
	`as£¹
(
	`çbs
(
»suÉ3
 - -1136669.1600501483772) < 0.000001);

3762 
»suÉ3
 =

3763 
df
.
sšgË_aù_vis™
<, >("col_2",

3765 
z_scÜe3
).
	`g‘_»suÉ
();

3766 
	`as£¹
(
»suÉ3
 == 0.0);

3767 
	}
}

3771 
	$‹¡_th»ad_§ãty
() {

3773 
¡d
::
cout
 << "\nTe¡šg Th»ad saãty ..." << std::
’dl
;

3775 cÚ¡ 
size_t
 
vec_size
 = 100000;

3777 autØ
do_wÜk
 = [
vec_size
]() {

3778 
MyD©aF¿me
 
df
;

3779 
¡d
::
veùÜ
<
size_t
> 
vec
;

3781 
size_t
 
i
 = 0; i < 
vec_size
; ++i)

3782 
vec
.
	`push_back
(
i
);

3784 
df
.
	`lßd_d©a
(

3785 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0,

3786 
¡©ic_ÿ¡
<>(
vec_size
),

3788 
¡d
::
	`make_·œ
("cŞ1", 
vec
));

3798 
size_t
 
i
 = 0; i < 
vec_size
; ++i) {

3799 cÚ¡ 
size_t
 
j
 = 
df
.
g‘_cŞumn
<size_t>("cŞ1")[
i
];

3801 
	`as£¹
(
i
 =ğ
j
);

3803 
df
.
shršk_to_f™
<
size_t
>();

3806 
SpšLock
 
lock
;

3807 
¡d
::
veùÜ
<¡d::
th»ad
> 
thr_vec
;

3809 
MyD©aF¿me
::
	`£t_lock
(&
lock
);

3811 
size_t
 
i
 = 0; i < 20; ++i)

3812 
thr_vec
.
	`push_back
(
¡d
::
	`th»ad
(
do_wÜk
));

3813 
size_t
 
i
 = 0; i < 20; ++i)

3814 
thr_vec
[
i
].
	`još
();

3816 
MyD©aF¿me
::
	`»move_lock
();

3817 
	}
}

3821 
	$‹¡_v›w_vis™Üs
() {

3823 
¡d
::
cout
 << "\nTe¡šg V›w vis™Ü ..." << std::
’dl
;

3825 
MyD©aF¿me
 
df
;

3827 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 4UL, 5UL,

3829 
¡d
::
veùÜ
<> 
dblvec1
 = { 1.1, 2.2, 3.3, 4.4, 5.5 };

3830 
¡d
::
veùÜ
<> 
dblvec2
 = { 2.2, 3.3, 4.4, 5.5, 6.6 };

3831 
¡d
::
veùÜ
<> 
dblvec3
 = { 0.0, 1.1, 2.2, 3.3, 4.4,

3833 
¡d
::
veùÜ
<> 
dblvec4
 = { 5.9, 4.4, 1.0, 9.8, 5.3,

3835 
¡d
::
veùÜ
<> 
dblvec5
 = { 1.1, 5.9, 4.4, 1.0, 9.8,

3837 
¡d
::
veùÜ
<> 
dblvec6
 = { 1.1, 1.1, 3.3, 3.3, 1.1 };

3839 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

3840 
¡d
::
	`make_·œ
("dbl_cŞ1", 
dblvec1
),

3841 
¡d
::
	`make_·œ
("dbl_cŞ2", 
dblvec2
),

3842 
¡d
::
	`make_·œ
("dbl_cŞ3", 
dblvec3
),

3843 
¡d
::
	`make_·œ
("dbl_cŞ4", 
dblvec4
),

3844 
¡d
::
	`make_·œ
("dbl_cŞ5", 
dblvec5
),

3845 
¡d
::
	`make_·œ
("dbl_cŞ6", 
dblvec6
));

3847 
D©aF¿meV›w
<> 
	tMyD©aF¿meV›w
;

3849 
MyD©aF¿meV›w
 
dfv
 =

3850 
df
.
g‘_v›w_by_idx
<>(
Index2D
<> { 2, 4 });

3851 
	`as£¹
(
dfv
.
	`g‘_šdex
().
	`size
() == 3);

3852 
M—nVis™Ü
<> 
m—n_vis™Ü
;

3853 
	`as£¹
(
	`çbs
(
dfv
.
vis™
<>("dbl_col1",

3854 
m—n_vis™Ü
).
	`g‘_»suÉ
() - 3.3) < 0.00001);

3856 
DÙProdVis™Ü
<> 
dp_vis™Ü
;

3857 
	`as£¹
(
	`çbs
(
dfv
.
vis™
<, >("dbl_col1", "dbl_col2",

3858 
dp_vis™Ü
).
	`g‘_»suÉ
() - 45.98) < 0.00001);

3861 
Sim¶eRŞlAdİ‹r
<
M—nVis™Ü
<>, >

3862 
	`m—n_rŞËr1
(
M—nVis™Ü
<>(), 3);

3863 cÚ¡‡utØ&
»s_¤a
 =

3864 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
m—n_rŞËr1
).
	`g‘_»suÉ
();

3866 
	`as£¹
(
	`çbs
(
»s_¤a
[2] - 3.3) < 0.00001);

3868 
Sim¶eRŞlAdİ‹r
<
Geom‘ricM—nVis™Ü
<>, >

3869 
	`geo_m—n_rŞËr
(
Geom‘ricM—nVis™Ü
<>(), 3);

3870 cÚ¡‡utØ&
»s_¤ga
 =

3871 
df
.
sšgË_aù_vis™
<>("dbl_cŞ4", 
geo_m—n_rŞËr
).
	`g‘_»suÉ
();

3873 
	`as£¹
(
	`çbs
(
»s_¤ga
[2] - 2.96098) < 0.00001);

3874 
	`as£¹
(
	`çbs
(
»s_¤ga
[6] - 5.25368) < 0.00001);

3876 
Sim¶eRŞlAdİ‹r
<
H¬mÚicM—nVis™Ü
<>, >

3877 
	`h¬_m—n_rŞËr
(
H¬mÚicM—nVis™Ü
<>(), 3);

3878 cÚ¡‡utØ&
»s_¤ha
 =

3879 
df
.
sšgË_aù_vis™
<>("dbl_cŞ4", 
h¬_m—n_rŞËr
).
	`g‘_»suÉ
();

3881 
	`as£¹
(
	`çbs
(
»s_¤ha
[2] - 2.14782) < 0.00001);

3882 
	`as£¹
(
	`çbs
(
»s_¤ha
[6] - 5.0785) < 0.00001);

3884 
CumSumVis™Ü
<> 
cs_vis™Ü
;

3885 cÚ¡‡utØ&
»s_cs
 =

3886 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
cs_vis™Ü
).
	`g‘_»suÉ
();

3887 
	`as£¹
(
	`çbs
(
»s_cs
[0] - 2.2) < 0.00001);

3888 
	`as£¹
(
	`çbs
(
»s_cs
[1] - 5.5) < 0.00001);

3889 
	`as£¹
(
	`çbs
(
»s_cs
[2] - 9.9) < 0.00001);

3891 
CumProdVis™Ü
<> 
ı_vis™Ü
;

3892 cÚ¡‡utØ&
»s_ı
 =

3893 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
ı_vis™Ü
).
	`g‘_»suÉ
();

3894 
	`as£¹
(
	`çbs
(
»s_ı
[0] - 2.2) < 0.00001);

3895 
	`as£¹
(
	`çbs
(
»s_ı
[1] - 7.26) < 0.00001);

3896 
	`as£¹
(
	`çbs
(
»s_ı
[2] - 31.944) < 0.00001);

3898 
CumMšVis™Ü
<> 
cmš_vis™Ü
;

3899 cÚ¡‡utØ&
»s_cmš
 =

3900 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
cmš_vis™Ü
).
	`g‘_»suÉ
();

3901 
	`as£¹
(
	`çbs
(
»s_cmš
[0] - 2.2) < 0.00001);

3902 
	`as£¹
(
	`çbs
(
»s_cmš
[1] - 2.2) < 0.00001);

3903 
	`as£¹
(
	`çbs
(
»s_cmš
[2] - 2.2) < 0.00001);

3905 
CumMaxVis™Ü
<> 
cmax_vis™Ü
;

3906 cÚ¡‡utØ&
»s_cmax
 =

3907 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
cmax_vis™Ü
).
	`g‘_»suÉ
();

3908 
	`as£¹
(
	`çbs
(
»s_cmax
[0] - 2.2) < 0.00001);

3909 
	`as£¹
(
	`çbs
(
»s_cmax
[1] - 3.3) < 0.00001);

3910 
	`as£¹
(
	`çbs
(
»s_cmax
[2] - 4.4) < 0.00001);

3912 
MyD©aF¿meV›w
 
dfv2
 =

3913 
df
.
g‘_v›w_by_idx
<>(
Index2D
<> { 2, 9 });

3915 
AutoCÜrVis™Ü
<> 
ac_vis™Ü
;

3916 cÚ¡‡utØ&
»s_ac
 =

3917 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ5", 
ac_vis™Ü
).
	`g‘_»suÉ
();

3918 
	`as£¹
(
	`çbs
(
»s_ac
[1] - -0.36855) < 0.00001);

3921 
R‘uºVis™Ü
<> 
	`»t_vis™Ü
(
»tuº_pŞicy
::
mÚ‘¬y
);

3922 cÚ¡‡utØ&
»s_»t
 =

3923 
df
.
sšgË_aù_vis™
<>("dbl_cŞ4", 
»t_vis™Ü
).
	`g‘_»suÉ
();

3924 
	`as£¹
(
	`çbs
(
»s_»t
[0] - -1.5) < 0.00001);

3925 
	`as£¹
(
	`çbs
(
»s_»t
[6] - 0.3) < 0.00001);

3927 
MedŸnVis™Ü
<> 
med_vis™Ü
;

3928 cÚ¡‡utØ&
»s_med
 =

3929 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ3", 
med_vis™Ü
).
	`g‘_»suÉ
();

3930 
	`as£¹
(
	`çbs
(
»s_med
 - 4.95) < 0.00001);

3932 
ModeVis™Ü
<2, > 
mode_vis™Ü
;

3933 cÚ¡‡utØ&
»s_mode
 =

3934 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ6", 
mode_vis™Ü
).
	`g‘_»suÉ
();

3935 
	`as£¹
(
	`çbs
(
»s_mode
[1].
	`g‘_v®ue
() - 3.3) < 0.00001);

3937 
DiffVis™Ü
<> 
	`diff_vis™Ü
(1);

3938 cÚ¡‡utØ&
»s_diff
 =

3939 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
diff_vis™Ü
).
	`g‘_»suÉ
();

3940 
	`as£¹
(
»s_diff
.
	`size
() == 2);

3941 
	`as£¹
(
	`çbs
(
»s_diff
[0] - 1.1) < 0.00001);

3942 
	`as£¹
(
	`çbs
(
»s_diff
[1] - 1.1) < 0.00001);

3944 
ZScÜeVis™Ü
<> 
zs_vis™Ü
;

3945 cÚ¡‡utØ&
»s_zs
 =

3946 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ5", 
zs_vis™Ü
).
	`g‘_»suÉ
();

3947 
	`as£¹
(
	`çbs
(
»s_zs
[2] - -1.61418) < 0.00001);

3948 
	`as£¹
(
	`çbs
(
»s_zs
[4] - 0.04336) < 0.00001);

3949 
	}
}

3953 
	sPošt
 {

3955 
	mx
 { 0.0 };

3956 
	my
 { 0.0 };

3958 
Pošt
() = ;

3959 
Pošt
(
xx
, 
yy
è: 
x
(xx), 
y
(yy) { }

3960 
Pošt
(const Point &) = ;

3961 
	mPošt
 &
	mİ”©Ü
 = (cÚ¡ 
Pošt
 &) = ;

3963 
ä›nd
 
Pošt
 
	mİ”©Ü
 + (cÚ¡ 
	mPošt
 &
	mlhs
, cÚ¡ Pošˆ&
	mrhs
) {

3965  (
Pošt
(
lhs
.
x
 + 
rhs
.x,†hs.
y
 +„hs.y));

3967 
ä›nd
 
Pošt
 
	mİ”©Ü
 / (cÚ¡ 
	mPošt
 &
	mlhs
, 
	mrhs
) {

3969  (
Pošt
(
lhs
.
x
 / 
rhs
,†hs.
y
 /„hs));

3972 
	m‹m¶©e
<
ty³Çme
 
	mS
>

3973 
ä›nd
 
	mS
 &
	mİ”©Ü
 << (S &
	ms
, cÚ¡ 
	mPošt
 &
	mrhs
) {

3975  (
	ms
 << 
	mrhs
.
	mx
 << ", " <<„hs.
	my
);

3979 
	$pošt_di¡ªû
(cÚ¡ 
Pošt
 &
lhs
, cÚ¡ Pošˆ&
rhs
) {

3981  ((
lhs
.
x
 - 
rhs
.x) * (lhs.x -„hs.x) +

3982 (
lhs
.
y
 - 
rhs
.y) * (lhs.y -„hs.y));

3983 
	}
}

3985 
	$‹¡_k_m—ns
() {

3987 
¡d
::
cout
 << "\nTe¡šg k-m—n vis™Ü ..." << std::
’dl
;

3989 cÚ¡ 
size_t
 
™em_út
 = 1024;

3990 
MyD©aF¿me
 
df
;

3991 
RªdG’P¬ams
<> 
p
;

3993 
p
.
m—n
 = 1.0;

3994 
p
.
¡d
 = 0.005;

3995 
p
.
£ed
 = 10;

3997 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1),

3998 
¡d
::
	`make_·œ
("col1",

3999 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
)));

4001 
KM—nsVis™Ü
<5, > 
	`km_vis™Ü
(1000);

4003 
df
.
sšgË_aù_vis™
<>("cŞ1", 
km_vis™Ü
);

4005 cÚ¡‡utØ&
cŞ1
 = 
df
.
g‘_cŞumn
<>("col1");

4007 cÚ¡‡utØ
şu¡”s
 =

4008 
km_vis™Ü
.
	`g‘_şu¡”s
(
df
.
	`g‘_šdex
().
	`begš
(), df.g‘_šdex().
	`’d
(),

4009 
cŞ1
.
	`begš
(), cŞ1.
	`’d
());

4010 
boŞ
 
found
 = 
çl£
;

4060 
p
.
£ed
 = 200;

4062 autØ
x_vec
 = 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
);

4064 
p
.
£ed
 = 4356;

4066 autØ
y_vec
 = 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
);

4067 
¡d
::
veùÜ
<
Pošt
> 
pošts
;

4069 
pošts
.
	`»£rve
(
™em_út
);

4070 
size_t
 
i
 = 0; i < 
™em_út
; ++i)

4071 
pošts
.
	`push_back
(
	`Pošt
(
x_vec
[
i
], 
y_vec
[i]));

4072 
df
.
	`lßd_cŞumn
("pošt_cŞ", 
¡d
::
	`move
(
pošts
));

4074 
KM—nsVis™Ü
<5, 
Pošt
> 
	`km_vis™Ü2
(1000, 
pošt_di¡ªû
);

4076 
df
.
sšgË_aù_vis™
<
Pošt
>("pošt_cŞ", 
km_vis™Ü2
);

4079 cÚ¡‡utØ&
pošt_cŞ
 = 
df
.
g‘_cŞumn
<
Pošt
>("point_col");

4080 cÚ¡‡utØ
şu¡”s2
 =

4081 
km_vis™Ü2
.
	`g‘_şu¡”s
(
df
.
	`g‘_šdex
().
	`begš
(), df.g‘_šdex().
	`’d
(),

4082 
pošt_cŞ
.
	`begš
(),…ošt_cŞ.
	`’d
());

4084 autØ
™”
 : 
şu¡”s2
) {

4085 autØ
™”2
 : 
™”
) {

4086 
¡d
::
cout
 << 
™”2
.
x
 << " | " << i‹r2.
y
 << ", ";

4088 
¡d
::
cout
 << "\n\n" << std::
’dl
;

4149 
	}
}

4153 
	$‹¡_affš™y_´İag©iÚ
() {

4155 
¡d
::
cout
 << "\nTe¡šg‡ffš™y…rİag©iÚ vis™Ü ..." << std::
’dl
;

4157 cÚ¡ 
size_t
 
™em_út
 = 50;

4158 
MyD©aF¿me
 
df
;

4159 
RªdG’P¬ams
<> 
p
;

4160 
¡d
::
veùÜ
<> 
fš®_cŞ
;

4161 
¡d
::
veùÜ
<> 
cŞ_d©a
;

4163 
p
.
£ed
 = 3575984165U;

4165 
p
.
mš_v®ue
 = 0;

4166 
p
.
max_v®ue
 = 10;

4167 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4168 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4170 
p
.
mš_v®ue
 = 20;

4171 
p
.
max_v®ue
 = 30;

4172 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4173 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4175 
p
.
mš_v®ue
 = 40;

4176 
p
.
max_v®ue
 = 50;

4177 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4178 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4180 
p
.
mš_v®ue
 = 60;

4181 
p
.
max_v®ue
 = 70;

4182 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4183 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4185 
p
.
mš_v®ue
 = 80;

4186 
p
.
max_v®ue
 = 90;

4187 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4188 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4190 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
 * 5, 1),

4191 
¡d
::
	`make_·œ
("cŞ1", 
fš®_cŞ
));

4192 
df
.
shufæe
<1, >({"cŞ1"}, 
çl£
);

4194 
KM—nsVis™Ü
<5, > 
	`km_vis™Ü
(1000);

4195 
Affš™yPrİVis™Ü
<> 
	`­_vis™Ü
(50);

4197 
df
.
sšgË_aù_vis™
<>("cŞ1", 
km_vis™Ü
);

4198 
df
.
sšgË_aù_vis™
<>("cŞ1", 
­_vis™Ü
);

4201 cÚ¡‡utØ
k_m—ns
 = 
km_vis™Ü
.
	`g‘_»suÉ
();

4202 cÚ¡‡utØ&
cŞ1
 = 
df
.
g‘_cŞumn
<>("col1");

4203 cÚ¡‡utØ
»suÉs
 =

4204 
­_vis™Ü
.
	`g‘_şu¡”s
(
df
.
	`g‘_šdex
().
	`begš
(), df.g‘_šdex().
	`’d
(),

4205 
cŞ1
.
	`begš
(), cŞ1.
	`’d
());

4207 autØ
™”
 : 
k_m—ns
) {

4208 
¡d
::
cout
 << 
™”
 << ", ";

4210 
¡d
::
cout
 << "\n\n" << std::
’dl
;

4211 autØ
™”
 : 
»suÉs
) {

4212 autØ
™”2
 : 
™”
) {

4213 
¡d
::
cout
 << 
™”2
 << ", ";

4215 
¡d
::
cout
 << "\n" << std::
’dl
;

4217 
	}
}

4221 
	$‹¡_muÉi_cŞ_sÜt
() {

4223 
¡d
::
cout
 << "\nTe¡šg muÉi-cŞumÀsÜˆ..." << std::
’dl
;

4225 
MyD©aF¿me
 
df
;

4227 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

4230 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

4233 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

4236 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5,

4239 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

4243 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

4244 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

4245 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

4246 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

4247 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

4250 autØ
sf
 = 
df
.
sÜt_async
<
MyD©aF¿me
::
IndexTy³
, , 
¡d
::
¡ršg
,

4251 , , 
¡d
::
¡ršg
>

4252 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
,

4253 "št_cŞ", 
sÜt_¥ec
::
desû
,

4254 "¡r_cŞ", 
sÜt_¥ec
::
desû
);

4256 
sf
.
	`g‘
();

4257 
	`as£¹
(
df
.
	`g‘_šdex
()[0] == 1);

4258 
	`as£¹
(
df
.
	`g‘_šdex
()[5] == 8);

4259 
	`as£¹
(
df
.
	`g‘_šdex
()[8] == 10);

4260 
	`as£¹
(
df
.
	`g‘_šdex
()[13] == 14);

4261 
	`as£¹
(
df
.
	`g‘_šdex
()[14] == 15);

4263 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[0] == 1);

4264 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[5] == 6);

4265 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[8] == 9);

4266 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[13] == 13);

4267 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[14] == 12);

4269 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

4270 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "gg");

4271 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[8] == "kk");

4272 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[13] == "oo");

4273 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "nn");

4275 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[0] == 0.0);

4276 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[5] == 11.0);

4277 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[8] == 5.0);

4278 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[13] == 10.0);

4279 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[14] == 9.0);

4281 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[0] == 100.0);

4282 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[5] == 106.55);

4283 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[8] == 112.0);

4284 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[13] == 116.0);

4285 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[14] == 115.0);

4286 
	}
}

4290 
	$‹¡_još_by_cŞumn
() {

4292 
¡d
::
cout
 << "\nTe¡šg još by cŞumÀ..." << std::
’dl
;

4294 
¡d
::
veùÜ
<> 
idx
 =

4297 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

4298 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

4300 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

4302 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

4303 
MyD©aF¿me
 
df
;

4305 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

4306 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

4307 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

4308 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

4309 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

4311 
¡d
::
veùÜ
<> 
idx2
 =

4314 
¡d
::
veùÜ
<> 
d12
 =

4316 
¡d
::
veùÜ
<> 
d22
 =

4319 
¡d
::
veùÜ
<> 
d32
 =

4322 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

4323 
MyD©aF¿me
 
df2
;

4325 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

4326 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

4327 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

4328 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

4329 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

4331 
StdD©aF¿me
<> 
šÃr_»suÉ
 =

4332 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4333 (
df2
, "cŞ_2", 
još_pŞicy
::
šÃr_još
);

4335 
	`as£¹
(
šÃr_»suÉ
.
	`g‘_šdex
().
	`size
() == 3);

4336 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("xcol_1")[2] == 113.0);

4337 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("xcol_3")[1] == 119.0);

4338 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 8.0);

4339 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("col_3")[0] == 15.0);

4340 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 0);

4341 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[0] == 22);

4342 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[1] == 123466);

4343 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[2] == 123457);

4345 
StdD©aF¿me
<> 
Ëá_»suÉ
 =

4346 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4347 (
df2
, "cŞ_2", 
još_pŞicy
::
Ëá_još
);

4349 
	`as£¹
(
Ëá_»suÉ
.
	`g‘_šdex
().
	`size
() == 14);

4350 
	`as£¹
(
¡d
::
	`i¢ª
(
Ëá_»suÉ
.
g‘_cŞumn
<>("xcol_1")[5]));

4351 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("xcol_3")[8] == 119.0);

4352 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("col_1")[13] == 13.0);

4353 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("col_3")[9] == 1.56);

4354 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 199);

4355 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[5] == 99);

4356 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[3] == 0);

4357 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[11] == 123460);

4359 
StdD©aF¿me
<> 
right_»suÉ
 =

4360 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4361 (
df2
, "cŞ_2", 
još_pŞicy
::
right_još
);

4363 
	`as£¹
(
right_»suÉ
.
	`g‘_šdex
().
	`size
() == 14);

4364 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("xcol_1")[5] == 18.0);

4365 
	`as£¹
(
¡d
::
	`i¢ª
(
right_»suÉ
.
g‘_cŞumn
<>("xcol_3")[2]));

4366 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("col_1")[4] == 8.0);

4367 
	`as£¹
(
¡d
::
	`i¢ª
(
right_»suÉ
.
g‘_cŞumn
<>("col_3")[5]));

4368 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 0);

4369 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[5] == 0);

4370 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[3] == 123453);

4371 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[11] == 0);

4373 
StdD©aF¿me
<> 
Ëá_right_»suÉ
 =

4374 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4375 (
df2
, "cŞ_2", 
još_pŞicy
::
Ëá_right_još
);

4377 
	`as£¹
(
Ëá_right_»suÉ
.
	`g‘_šdex
().
	`size
() == 25);

4378 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("xcol_1")[2] == 15.0);

4379 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("xcol_3")[1] == 115.0);

4380 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 2.0);

4381 
	`as£¹
(
¡d
::
	`i¢ª
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("col_3")[0]));

4382 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 199);

4383 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[0] == 0);

4384 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[1] ==

4386 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[2] ==

4388 
	}
}

4392 
	$‹¡_DoubËCrossOv”
() {

4394 
¡d
::
cout
 << "\nTe¡šg DoubËCrossOv”{ } ..." << std::
’dl
;

4396 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

4398 
¡d
::
veùÜ
<> 
idx
 =

4402 
¡d
::
veùÜ
<> 
d1
 =

4406 
MyD©aF¿me
 
df
;

4408 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4410 
usšg
 
geo_m—n_t
 = 
Geom‘ricM—nVis™Ü
<>;

4411 
usšg
 
m—n_t
 = 
M—nVis™Ü
<>;

4412 
usšg
 
shÜt_rŞËr_t
 = 
Sim¶eRŞlAdİ‹r
<
geo_m—n_t
, >;

4413 
usšg
 
lÚg_rŞËr_t
 = 
ExpÚ’tŸlRŞlAdİ‹r
<
m—n_t
, >;

4414 
usšg
 
doubË_üoss_t
 =

4415 
DoubËCrossOv”
<
shÜt_rŞËr_t
, 
lÚg_rŞËr_t
, >;

4417 
doubË_üoss_t
 
	`vis™Ü
(

4418 
	`shÜt_rŞËr_t
(
	`geo_m—n_t
(), 3),

4419 
	`lÚg_rŞËr_t
(
	`m—n_t
(), 4, 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 1.5));

4421 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
vis™Ü
);

4423 autØ&
¿w_to_shÜt
 = 
vis™Ü
.
	`g‘_¿w_to_shÜt_‹rm
();

4424 autØ&
¿w_to_lÚg
 = 
vis™Ü
.
	`g‘_¿w_to_lÚg_‹rm
();

4425 autØ&
shÜt_to_lÚg
 = 
vis™Ü
.
	`g‘_shÜt_‹rm_to_lÚg_‹rm
();

4427 
	`as£¹
(
¿w_to_shÜt
.
	`size
() == 40);

4428 
	`as£¹
(
¡d
::
	`i¢ª
(
¿w_to_shÜt
[1]));

4429 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[8] - 1.04189) < 0.00001);

4430 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[12] - 1.02784) < 0.00001);

4431 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[39] - -0.943922) < 0.00001);

4432 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[38] - 0.3506) < 0.00001);

4434 
	`as£¹
(
¿w_to_lÚg
.
	`size
() == 40);

4435 
	`as£¹
(
¡d
::
	`i¢ª
(
¿w_to_lÚg
[2]));

4436 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[8] - 0.2504) < 0.00001);

4437 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[12] - 0.250001) < 0.00001);

4438 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[39] - -0.370008) < 0.00001);

4439 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[38] - 0.149962) < 0.00001);

4441 
	`as£¹
(
shÜt_to_lÚg
.
	`size
() == 40);

4442 
	`as£¹
(
¡d
::
	`i¢ª
(
shÜt_to_lÚg
[0]));

4443 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[8] - -0.791486) < 0.00001);

4444 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[12] - -0.777842) < 0.00001);

4445 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[39] - 0.573914) < 0.00001);

4446 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[38] - -0.200639) < 0.00001);

4448 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(0);

4449 
	}
}

4453 
	$‹¡_BŞlšg”Bªd
() {

4455 
¡d
::
cout
 << "\nTe¡šg BŞlšg”Bªd{ } ..." << std::
’dl
;

4457 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

4459 
¡d
::
veùÜ
<> 
idx
 =

4463 
¡d
::
veùÜ
<> 
d1
 =

4467 
MyD©aF¿me
 
df
;

4469 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4471 
usšg
 
bŞlšg”_bªd_t
 = 
BŞlšg”Bªd
<>;

4473 
bŞlšg”_bªd_t
 
	`vis™Ü
(2.0, 2.0, 5);

4475 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
vis™Ü
);

4477 autØ&
uµ”_to_¿w
 = 
vis™Ü
.
	`g‘_uµ”_bªd_to_¿w
();

4478 autØ&
¿w_to_low”
 = 
vis™Ü
.
	`g‘_¿w_to_low”_bªd
();

4480 
	`as£¹
(
uµ”_to_¿w
.
	`size
() == 40);

4481 
	`as£¹
(
¡d
::
	`i¢ª
(
uµ”_to_¿w
[3]));

4482 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[8] - 1.16228) < 0.00001);

4483 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[12] - 1.16228) < 0.00001);

4484 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[38] - 2.68035) < 0.00001);

4485 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[39] - 3.88035) < 0.00001);

4487 
	`as£¹
(
¿w_to_low”
.
	`size
() == 40);

4488 
	`as£¹
(
¡d
::
	`i¢ª
(
¿w_to_low”
[1]));

4489 
	`as£¹
(
	`çbs
(
¿w_to_low”
[8] - 5.16228) < 0.00001);

4490 
	`as£¹
(
	`çbs
(
¿w_to_low”
[12] - 5.16228) < 0.00001);

4491 
	`as£¹
(
	`çbs
(
¿w_to_low”
[38] - 1.88035) < 0.00001);

4492 
	`as£¹
(
	`çbs
(
¿w_to_low”
[39] - 0.680351) < 0.00001);

4494 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(0);

4495 
	}
}

4499 
	$‹¡_MACDVis™Ü
() {

4501 
¡d
::
cout
 << "\nTe¡šg MACDVis™Ü{ } ..." << std::
’dl
;

4503 
¡d
::
veùÜ
<> 
idx
 =

4507 
¡d
::
veùÜ
<> 
d1
 =

4511 
MyD©aF¿me
 
df
;

4513 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4515 
usšg
 
macd_t
 = 
MACDVis™Ü
<>;

4517 
macd_t
 
	`vis™Ü
(2, 5, 6);

4519 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
vis™Ü
);

4521 autØ&
macd_»suÉ
 = 
vis™Ü
.
	`g‘_macd_lše
();

4522 autØ&
sigÇl_lše
 = 
vis™Ü
.
	`g‘_sigÇl_lše
();

4523 autØ&
macd_hi¡o
 = 
vis™Ü
.
	`g‘_macd_hi¡og¿m
();

4525 
	`as£¹
(
macd_»suÉ
.
	`size
() == 40);

4526 
	`as£¹
(
¡d
::
	`i¢ª
(
macd_»suÉ
[3]));

4527 
	`as£¹
(
	`çbs
(
macd_»suÉ
[8] - 0.526749) < 0.000001);

4528 
	`as£¹
(
	`çbs
(
macd_»suÉ
[12] - 0.104049) < 0.000001);

4529 
	`as£¹
(
	`çbs
(
macd_»suÉ
[38] - 2.74705e-06) < 0.000001);

4530 
	`as£¹
(
	`çbs
(
macd_»suÉ
[39] - -1.83136e-06) < 0.000001);

4532 
	`as£¹
(
sigÇl_lše
.
	`size
() == 40);

4533 
	`as£¹
(
¡d
::
	`i¢ª
(
sigÇl_lše
[2]));

4534 
	`as£¹
(
¡d
::
	`i¢ª
(
sigÇl_lše
[4]));

4535 
	`as£¹
(
	`çbs
(
sigÇl_lše
[8] - 2.50206) < 0.00001);

4536 
	`as£¹
(
	`çbs
(
sigÇl_lše
[12] - 1.18789) < 0.00001);

4537 
	`as£¹
(
	`çbs
(
sigÇl_lše
[38] - 0.000150401) < 0.000001);

4538 
	`as£¹
(
	`çbs
(
sigÇl_lše
[39] - -0.000103319) < 0.000001);

4540 
	`as£¹
(
macd_hi¡o
.
	`size
() == 40);

4541 
	`as£¹
(
¡d
::
	`i¢ª
(
macd_hi¡o
[0]));

4542 
	`as£¹
(
¡d
::
	`i¢ª
(
macd_hi¡o
[4]));

4543 
	`as£¹
(
	`çbs
(
macd_hi¡o
[8] - -1.97531) < 0.00001);

4544 
	`as£¹
(
	`çbs
(
macd_hi¡o
[12] - -1.08385) < 0.00001);

4545 
	`as£¹
(
	`çbs
(
macd_hi¡o
[38] - -0.000147654) < 0.000001);

4546 
	`as£¹
(
	`çbs
(
macd_hi¡o
[39] - 0.000101488) < 0.000001);

4547 
	}
}

4551 
	$‹¡_Ex·ndšgRŞlAdİ‹r
() {

4553 
¡d
::
cout
 << "\nTe¡šg Ex·ndšgRŞlAdİ‹r{ } ..." << std::
’dl
;

4555 
¡d
::
veùÜ
<> 
idx
 =

4559 
¡d
::
veùÜ
<> 
d1
 =

4563 
MyD©aF¿me
 
df
;

4565 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4567 
Ex·ndšgRŞlAdİ‹r
<
M—nVis™Ü
<>, >

4568 
	`ex·nd_rŞËr
(
M—nVis™Ü
<>(), 2);

4569 cÚ¡‡utØ&
»suÉ
 =

4570 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
ex·nd_rŞËr
).
	`g‘_»suÉ
();

4572 
	`as£¹
(
»suÉ
.
	`size
() == 21);

4573 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0]));

4574 
	`as£¹
(
»suÉ
[8] == 12);

4575 
	`as£¹
(
»suÉ
[13] == 19.5);

4576 
	`as£¹
(
»suÉ
[15] == 22.5);

4577 
	`as£¹
(
»suÉ
[20] == 30);

4578 
	}
}

4582 
	$‹¡_MADVis™Ü
() {

4584 
¡d
::
cout
 << "\nTe¡šg MADVis™Ü{ } ..." << std::
’dl
;

4586 
¡d
::
veùÜ
<> 
idx
 =

4590 
¡d
::
veùÜ
<> 
d1
 =

4594 
MyD©aF¿me
 
df
;

4596 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4598 
MADVis™Ü
<> 
	`mad_vis™Ü1
(
mad_ty³
::
m—n_abs_dev_¬ound_m—n
);

4599 cÚ¡‡utØ
»suÉ1
 =

4600 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü1
).
	`g‘_»suÉ
();

4602 
	`as£¹
(
»suÉ1
 == 10.0);

4604 
MADVis™Ü
<> 
	`mad_vis™Ü2
(
mad_ty³
::
m—n_abs_dev_¬ound_medŸn
);

4605 cÚ¡‡utØ
»suÉ2
 =

4606 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü2
).
	`g‘_»suÉ
();

4608 
	`as£¹
(
»suÉ2
 == 10.0);

4610 
MADVis™Ü
<> 
	`mad_vis™Ü3
(
mad_ty³
::
medŸn_abs_dev_¬ound_m—n
);

4611 cÚ¡‡utØ
»suÉ3
 =

4612 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü3
).
	`g‘_»suÉ
();

4614 
	`as£¹
(
»suÉ3
 == 5.25);

4616 
MADVis™Ü
<> 
	`mad_vis™Ü4
(
mad_ty³
::
medŸn_abs_dev_¬ound_medŸn
);

4617 cÚ¡‡utØ
»suÉ4
 =

4618 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü4
).
	`g‘_»suÉ
();

4620 
	`as£¹
(
»suÉ4
 == 5.25);

4621 
	}
}

4625 
	$‹¡_SEMVis™Ü
() {

4627 
¡d
::
cout
 << "\nTe¡šg SEMVis™Ü{ } ..." << std::
’dl
;

4629 
¡d
::
veùÜ
<> 
idx
 =

4633 
¡d
::
veùÜ
<> 
d1
 =

4637 
MyD©aF¿me
 
df
;

4639 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4641 
SEMVis™Ü
<> 
£m_vis™Ü
;

4642 cÚ¡‡utØ
»suÉ
 =

4643 
df
.
vis™
<>("cŞ_1", 
£m_vis™Ü
).
	`g‘_»suÉ
();

4645 
	`as£¹
(
	`çbs
(
»suÉ
 - 1.84842) < 0.00001);

4646 
	}
}

4650 
	$‹¡_fl_missšg_mid_pošt
() {

4652 
¡d
::
cout
 << "\nTe¡šg fl_missšg(mid_poštè..." << std::
’dl
;

4654 
¡d
::
veùÜ
<> 
idx
 =

4657 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

4658 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4660 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4661 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4662 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4664 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

4665 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4667 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4668 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4670 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4672 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4674 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4676 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4678 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

4679 
¡d
::
veùÜ
<> 
i1
 = { 22,

4680 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4681 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4683 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

4684 
MyD©aF¿me
 
df
;

4686 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

4687 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

4688 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

4689 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

4690 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

4692 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

4695 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

4700 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

4701 
fl_pŞicy
::
mid_pošt
);

4703 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

4704 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

4705 
	}
}

4709 
	$‹¡_quªte
() {

4711 
¡d
::
cout
 << "\nTe¡šg QuªteVis™Ü{ } ..." << std::
’dl
;

4713 
¡d
::
veùÜ
<> 
idx
 =

4717 
¡d
::
veùÜ
<> 
d1
 =

4721 
MyD©aF¿me
 
df
;

4723 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4724 
df
.
shufæe
<1, >({"cŞ_1"}, 
çl£
);

4726 
QuªteVis™Ü
<> 
	`v1
(1, 
quªte_pŞicy
::
mid_pošt
);

4727 autØ
»suÉ
 =

4728 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v1
).
	`g‘_»suÉ
();

4730 
	`as£¹
(
»suÉ
 == 40.0);

4732 
QuªteVis™Ü
<> 
	`v2
(0.5, 
quªte_pŞicy
::
mid_pošt
);

4734 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v2
).
	`g‘_»suÉ
();

4735 
	`as£¹
(
»suÉ
 == 20.5);

4737 
QuªteVis™Ü
<> 
	`v3
(0.5, 
quªte_pŞicy
::
lš—r
);

4739 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v3
).
	`g‘_»suÉ
();

4740 
	`as£¹
(
»suÉ
 == 20.5);

4742 
QuªteVis™Ü
<> 
	`v4
(0.5, 
quªte_pŞicy
::
high”_v®ue
);

4744 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v4
).
	`g‘_»suÉ
();

4745 
	`as£¹
(
»suÉ
 == 21.0);

4747 
QuªteVis™Ü
<> 
	`v5
(0.5, 
quªte_pŞicy
::
low”_v®ue
);

4749 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v5
).
	`g‘_»suÉ
();

4750 
	`as£¹
(
»suÉ
 == 20.0);

4752 
QuªteVis™Ü
<> 
	`v6
(0.55, 
quªte_pŞicy
::
mid_pošt
);

4754 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v6
).
	`g‘_»suÉ
();

4755 
	`as£¹
(
»suÉ
 == 22.5);

4757 
QuªteVis™Ü
<> 
	`v7
(0.55, 
quªte_pŞicy
::
lš—r
);

4759 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v7
).
	`g‘_»suÉ
();

4760 
	`as£¹
(
»suÉ
 == 22.45);

4762 
QuªteVis™Ü
<> 
	`v8
(0.75, 
quªte_pŞicy
::
mid_pošt
);

4764 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v8
).
	`g‘_»suÉ
();

4765 
	`as£¹
(
»suÉ
 == 30.5);

4767 
QuªteVis™Ü
<> 
	`v9
(0.75, 
quªte_pŞicy
::
lš—r
);

4769 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v9
).
	`g‘_»suÉ
();

4770 
	`as£¹
(
»suÉ
 == 30.25);

4772 
QuªteVis™Ü
<> 
	`v10
(0, 
quªte_pŞicy
::
lš—r
);

4774 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v10
).
	`g‘_»suÉ
();

4775 
	`as£¹
(
»suÉ
 == 1.0);

4777 
df
.
	`g‘_šdex
().
	`push_back
(41);

4778 
df
.
g‘_cŞumn
<>("cŞ_1").
	`push_back
(41);

4780 
QuªteVis™Ü
<> 
	`v11
(0.75, 
quªte_pŞicy
::
mid_pošt
);

4782 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v11
).
	`g‘_»suÉ
();

4783 
	`as£¹
(
»suÉ
 == 31.0);

4785 
QuªteVis™Ü
<> 
	`v12
(0.75, 
quªte_pŞicy
::
lš—r
);

4787 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v12
).
	`g‘_»suÉ
();

4788 
	`as£¹
(
»suÉ
 == 31.0);

4790 
QuªteVis™Ü
<> 
	`v13
(0.75, 
quªte_pŞicy
::
low”_v®ue
);

4792 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v13
).
	`g‘_»suÉ
();

4793 
	`as£¹
(
»suÉ
 == 31.0);

4795 
QuªteVis™Ü
<> 
	`v14
(0.75, 
quªte_pŞicy
::
high”_v®ue
);

4797 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v14
).
	`g‘_»suÉ
();

4798 
	`as£¹
(
»suÉ
 == 31.0);

4800 
QuªteVis™Ü
<> 
	`v15
(0.71, 
quªte_pŞicy
::
mid_pošt
);

4802 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v15
).
	`g‘_»suÉ
();

4803 
	`as£¹
(
»suÉ
 == 29.5);

4805 
QuªteVis™Ü
<> 
	`v16
(0.71, 
quªte_pŞicy
::
lš—r
);

4807 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v16
).
	`g‘_»suÉ
();

4808 
	`as£¹
(
»suÉ
 == 29.29);

4810 
QuªteVis™Ü
<> 
	`v17
(0.23, 
quªte_pŞicy
::
mid_pošt
);

4812 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v17
).
	`g‘_»suÉ
();

4813 
	`as£¹
(
»suÉ
 == 9.5);

4815 
QuªteVis™Ü
<> 
	`v18
(0.2, 
quªte_pŞicy
::
mid_pošt
);

4817 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v18
).
	`g‘_»suÉ
();

4818 
	`as£¹
(
»suÉ
 == 8.5);

4820 
QuªteVis™Ü
<> 
	`v19
(0.23, 
quªte_pŞicy
::
lš—r
);

4822 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v19
).
	`g‘_»suÉ
();

4823 
	`as£¹
(
»suÉ
 == 9.77);

4825 
QuªteVis™Ü
<> 
	`v20
(0.23, 
quªte_pŞicy
::
low”_v®ue
);

4827 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v20
).
	`g‘_»suÉ
();

4828 
	`as£¹
(
»suÉ
 == 9.0);

4830 
QuªteVis™Ü
<> 
	`v21
(0.23, 
quªte_pŞicy
::
high”_v®ue
);

4832 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v21
).
	`g‘_»suÉ
();

4833 
	`as£¹
(
»suÉ
 == 10.0);

4835 
QuªteVis™Ü
<> 
	`v22
(1, 
quªte_pŞicy
::
lš—r
);

4837 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v22
).
	`g‘_»suÉ
();

4838 
	`as£¹
(
»suÉ
 == 41.0);

4840 
QuªteVis™Ü
<> 
	`v23
(0, 
quªte_pŞicy
::
mid_pošt
);

4842 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v23
).
	`g‘_»suÉ
();

4843 
	`as£¹
(
»suÉ
 == 1.0);

4844 
	}
}

4848 
	$‹¡_VWAP
() {

4850 
¡d
::
cout
 << "\nTe¡šg VWAPVis™Ü{ } ..." << std::
’dl
;

4852 
RªdG’P¬ams
<> 
´iû_p
;

4854 
´iû_p
.
m—n
 = 1.0;

4855 
´iû_p
.
¡d
 = 0.005;

4856 
´iû_p
.
£ed
 = 10;

4857 
´iû_p
.
mš_v®ue
 = 500.0;

4858 
´iû_p
.
max_v®ue
 = 580.0;

4860 
RªdG’P¬ams
<> 
size_p
 = 
´iû_p
;

4862 
size_p
.
¡d
 = 1;

4863 
size_p
.
mš_v®ue
 = 50.0;

4864 
size_p
.
max_v®ue
 = 2000.0;

4866 
MyD©aF¿me
 
df
;

4868 
df
.
	`lßd_d©a
(

4869 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(100, 1124, 1),

4870 
¡d
::
	`make_·œ
("´iû", 
g’_unifÜm_»®_di¡
<>(1024, 
´iû_p
)),

4871 
¡d
::
	`make_·œ
("size", 
g’_unifÜm_»®_di¡
<>(1024, 
size_p
)));

4873 
VWAPVis™Ü
<> 
	`v1
(100);

4874 autØ
»suÉ
 =

4875 
df
.
vis™
<, >("´iû", "size", 
v1
).
	`g‘_»suÉ
();

4877 
	`as£¹
(
»suÉ
.
	`size
() == 11);

4878 
	`as£¹
(
»suÉ
[0].
ev’t_couÁ
 == 100);

4879 
	`as£¹
(
»suÉ
[0].
šdex_v®ue
 == 100);

4880 
	`as£¹
(
»suÉ
[1].
ev’t_couÁ
 == 100);

4881 
	`as£¹
(
»suÉ
[1].
šdex_v®ue
 == 200);

4882 
	`as£¹
(
»suÉ
[10].
ev’t_couÁ
 == 24);

4883 
	`as£¹
(
»suÉ
[10].
šdex_v®ue
 == 1100);

4895 
	}
}

4899 
	$‹¡_VWBAS
() {

4901 
¡d
::
cout
 << "\nTe¡šg VWBASVis™Ü{ } ..." << std::
’dl
;

4903 
RªdG’P¬ams
<> 
b´iû_p
;

4905 
b´iû_p
.
m—n
 = 1.0;

4906 
b´iû_p
.
¡d
 = 0.005;

4907 
b´iû_p
.
£ed
 = 10;

4908 
b´iû_p
.
mš_v®ue
 = 100.0;

4909 
b´iû_p
.
max_v®ue
 = 102.0;

4911 
RªdG’P¬ams
<> 
­riû_p
 = 
b´iû_p
;

4913 
­riû_p
.
£ed
 = 200;

4914 
­riû_p
.
mš_v®ue
 = 102.0;

4915 
­riû_p
.
max_v®ue
 = 104.0;

4917 
RªdG’P¬ams
<> 
asize_p
 = 
b´iû_p
;

4919 
asize_p
.
¡d
 = 1;

4920 
asize_p
.
£ed
 = 500;

4921 
asize_p
.
mš_v®ue
 = 50.0;

4922 
asize_p
.
max_v®ue
 = 2000.0;

4924 
RªdG’P¬ams
<> 
bsize_p
 = 
asize_p
;

4926 
asize_p
.
¡d
 = 1;

4927 
asize_p
.
£ed
 = 123456;

4928 
asize_p
.
mš_v®ue
 = 50.0;

4929 
asize_p
.
max_v®ue
 = 2000.0;

4930 
MyD©aF¿me
 
df
;

4932 
df
.
	`lßd_d©a
(

4933 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(100, 1124, 1),

4934 
¡d
::
	`make_·œ
("bid_price",

4935 
g’_unifÜm_»®_di¡
<>(1024, 
b´iû_p
)),

4936 
¡d
::
	`make_·œ
("ask_price",

4937 
g’_unifÜm_»®_di¡
<>(1024, 
­riû_p
)),

4938 
¡d
::
	`make_·œ
("bid_size",

4939 
g’_unifÜm_»®_di¡
<>(1024, 
bsize_p
)),

4940 
¡d
::
	`make_·œ
("ask_size",

4941 
g’_unifÜm_»®_di¡
<>(1024, 
asize_p
)));

4943 
VWBASVis™Ü
<> 
	`v1
(100);

4944 cÚ¡ 
MyD©aF¿me
 
cÚ¡_df
 = 
df
;

4945 autØ
fut
 =

4946 
cÚ¡_df
.
vis™_async
<, , , >

4947 ("bid_´iû", "ask_´iû", "bid_size", "ask_size", 
v1
);

4948 autØ
»suÉ
 = 
fut
.
	`g‘
().
	`g‘_»suÉ
();

4950 
	`as£¹
(
»suÉ
.
	`size
() == 11);

4951 
	`as£¹
(
»suÉ
[0].
ev’t_couÁ
 == 100);

4952 
	`as£¹
(
»suÉ
[0].
šdex_v®ue
 == 100);

4953 
	`as£¹
(
»suÉ
[1].
ev’t_couÁ
 == 100);

4954 
	`as£¹
(
»suÉ
[1].
cumuÏtive_ev’t_couÁ
 == 200);

4955 
	`as£¹
(
»suÉ
[1].
šdex_v®ue
 == 200);

4956 
	`as£¹
(
»suÉ
[10].
ev’t_couÁ
 == 24);

4957 
	`as£¹
(
»suÉ
[10].
šdex_v®ue
 == 1100);

4984 
	}
}

4988 
	$‹¡_£lf_cÚÿt
() {

4990 
¡d
::
cout
 << "\nTe¡šg s–f_cÚÿtĞè..." << std::
’dl
;

4992 
MyD©aF¿me
 
df1
;

4994 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

4997 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

5000 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

5003 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14,

5005 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

5009 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

5010 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

5011 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

5012 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

5014 
MyD©aF¿me
 
df2
 = 
df1
;

5016 
df2
.
	`lßd_cŞumn
("dbl_cŞ_2", 
¡d
::
	`move
(
dblvec2
));

5018 
df1
.
£lf_cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>(df2, 
Œue
);

5019 
	`as£¹
(
df1
.
	`g‘_šdex
().
	`size
() == 30);

5020 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 30);

5021 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 30);

5022 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 30);

5023 
	`as£¹
(
df1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 30);

5024 
	`as£¹
(
df1
.
	`g‘_šdex
()[0] == 1);

5025 
	`as£¹
(
df1
.
	`g‘_šdex
()[14] == 14);

5026 
	`as£¹
(
df1
.
	`g‘_šdex
()[15] == 1);

5027 
	`as£¹
(
df1
.
	`g‘_šdex
()[29] == 14);

5028 
	`as£¹
(
¡d
::
	`i¢ª
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[0]));

5029 
	`as£¹
(
¡d
::
	`i¢ª
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[14]));

5030 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[15] == 100.0);

5031 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[29] == 116.0);

5032 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

5033 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "oo");

5034 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[15] == "zz");

5035 
	`as£¹
(
df1
.
g‘_cŞumn
<>("int_col")[0] == 1);

5036 
	`as£¹
(
df1
.
g‘_cŞumn
<>("int_col")[14] == 13);

5037 
	`as£¹
(
df1
.
g‘_cŞumn
<>("int_col")[15] == 1);

5038 
	}
}

5042 
	$‹¡_cÚÿt
() {

5044 
¡d
::
cout
 << "\nTe¡šg cÚÿtĞè..." << std::
’dl
;

5046 
MyD©aF¿me
 
df1
;

5048 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

5051 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

5054 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

5057 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14,

5059 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

5063 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

5064 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

5065 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

5066 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

5068 
MyD©aF¿me
 
df2
 = 
df1
;

5070 
df2
.
	`lßd_cŞumn
("dbl_cŞ_2", 
¡d
::
	`move
(
dblvec2
));

5072 autØ
»suÉ1
 = 
df1
.
cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>(df2);

5074 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
().
	`size
() == 30);

5075 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 30);

5076 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 30);

5077 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 30);

5078 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 30);

5079 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[0] == 1);

5080 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[14] == 14);

5081 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[15] == 1);

5082 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[29] == 14);

5083 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[0]));

5084 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[14]));

5085 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[15] == 100.0);

5086 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[29] == 116.0);

5087 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

5088 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "oo");

5089 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[15] == "zz");

5090 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[0] == 1);

5091 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[14] == 13);

5092 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[15] == 1);

5094 autØ
»suÉ2
 =

5095 
df1
.
cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>

5096 (
df2
, 
cÚÿt_pŞicy
::
commÚ_cŞumns
);

5098 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 30);

5099 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 30);

5100 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 30);

5101 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

5102 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "oo");

5103 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[15] == "zz");

5104 
	`as£¹
(! 
»suÉ2
.
	`has_cŞumn
("dbl_col_2"));

5106 autØ
»suÉ3
 =

5107 
df1
.
cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>

5108 (
df2
, 
cÚÿt_pŞicy
::
lhs_ªd_commÚ_cŞumns
);

5110 
	`as£¹
((
»suÉ2
.
is_equ®
<, , 
¡d
::
¡ršg
>(
»suÉ3
)));

5111 
	}
}

5115 
	$‹¡_»ad_csv
()

5117 
¡d
::
cout
 << "\nTe¡šg„—d_csvĞè..." << std::
’dl
;

5118 autØ
df_0
 =

5119 
»ad_csv
<0, , 
¡d
::
¡ršg
, std::string, std::string, std::string, std::string,

5120 
¡d
::
¡ršg
, std::string>("standard.csv", "idx", "oci", "citing", "cited",

5122 
df_0
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
, 
çl£
, 
io_fÜm©
::
jsÚ
);

5123 autØ
df_1
 =

5124 
»ad_csv
<-1, , 
¡d
::
¡ršg
, std::string, std::string, std::string, std::string,

5125 
¡d
::
¡ršg
, std::string>("standard.csv", "idx", "oci", "citing", "cited",

5127 
df_1
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
, 
çl£
, 
io_fÜm©
::
jsÚ
);

5128 
	}
}

5132 
	$maš
(
¬gc
, *
¬gv
[]) {

5134 
	`‹¡_h­haz¬d
();

5135 
	`‹¡_»ad
();

5136 
	`‹¡_Œª¥o£
();

5137 
	`‹¡_g‘_d©a_by_loc_¦icšg
();

5138 
	`‹¡_g‘_v›w_by_loc
();

5139 
	`‹¡_»move_cŞumn
();

5140 
	`‹¡_g‘_v›w_by_idx_¦icšg
();

5141 
	`‹¡_»Çme_cŞumn
();

5142 
	`‹¡_g‘_cŞ_unique_v®ues
();

5143 
	`‹¡_»move_d©a_by_idx
();

5144 
	`‹¡_»move_d©a_by_loc
();

5145 
	`‹¡_v®ue_couÁs
();

5146 
	`‹¡_šdex_šÃr_još
();

5147 
	`‹¡_šdex_Ëá_još
();

5148 
	`‹¡_šdex_right_još
();

5149 
	`‹¡_šdex_Ëá_right_još
();

5150 
	`‹¡_Ïrge¡_sm®Ë¡_vis™Üs
();

5151 
	`‹¡_shiášg_up_down
();

5152 
	`‹¡_rÙ©šg_up_down
();

5153 
	`‹¡_d©aäame_w™h_d©‘ime
();

5154 
	`‹¡_d©aäame_ä›nd_¶us_İ”©Ü
();

5155 
	`‹¡_d©aäame_ä›nd_mšus_İ”©Ü
();

5156 
	`‹¡_d©aäame_ä›nd_muÉl›s_İ”©Ü
();

5157 
	`‹¡_d©aäame_ä›nd_divides_İ”©Ü
();

5158 
	`‹¡_fl_missšg_v®ues
();

5159 
	`‹¡_fl_missšg_fl_fÜw¬d
();

5160 
	`‹¡_fl_missšg_fl_backw¬d
();

5161 
	`‹¡_fl_missšg_fl_lš—r_š‹½Ş©iÚ
();

5162 
	`‹¡_drİ_missšg_®l_no_drİ
();

5163 
	`‹¡_drİ_missšg_®l_2_drİ
();

5164 
	`‹¡_drİ_missšg_ªy
();

5165 
	`‹¡_drİ_th»ashŞd_3
();

5166 
	`‹¡_g‘_row
();

5167 
	`‹¡_auto_cÜ»ÏtiÚ
();

5168 
	`‹¡_»tuº
();

5169 
	`‹¡_medŸn
();

5170 
	`‹¡_Œackšg_”rÜ
();

5171 
	`‹¡_b‘a
();

5172 
	`‹¡_g’_d©‘ime_šdex
();

5173 
	`‹¡_»¶aû_1
();

5174 
	`‹¡_»¶aû_2
();

5175 
	`‹¡_some_vis™Üs
();

5176 
	`‹¡_mode
();

5177 
	`‹¡_g‘_d©a_by_£l
();

5178 
	`‹¡_g‘_v›w_by_£l
();

5179 
	`‹¡_»move_d©a_by_£l
();

5180 
	`‹¡_shufæe
();

5181 
	`‹¡_Sim¶eRŞlAdİ‹r
();

5182 
	`‹¡_g‘_d©a_by_¿nd
();

5183 
	`‹¡_g‘_v›w_by_¿nd
();

5184 
	`‹¡_wr™e_jsÚ
();

5185 
	`‹¡_diff
();

5186 
	`‹¡_»adšg_wr™šg_jsÚ
();

5187 
	`‹¡_g‘_d©a_by_loc_loÿtiÚ
();

5188 
	`‹¡_g‘_v›w_by_loc_loÿtiÚ
();

5189 
	`‹¡_g‘_d©a_by_idx_v®ues
();

5190 
	`‹¡_g‘_v›w_by_idx_v®ues
();

5191 
	`‹¡_z_scÜe_vis™Ü
();

5192 
	`‹¡_th»ad_§ãty
();

5193 
	`‹¡_v›w_vis™Üs
();

5194 
	`‹¡_k_m—ns
();

5195 
	`‹¡_affš™y_´İag©iÚ
();

5196 
	`‹¡_muÉi_cŞ_sÜt
();

5197 
	`‹¡_još_by_cŞumn
();

5198 
	`‹¡_ExpÚ’tŸlRŞlAdİ‹r
();

5199 
	`‹¡_DoubËCrossOv”
();

5200 
	`‹¡_BŞlšg”Bªd
();

5201 
	`‹¡_MACDVis™Ü
();

5202 
	`‹¡_Ex·ndšgRŞlAdİ‹r
();

5203 
	`‹¡_MADVis™Ü
();

5204 
	`‹¡_SEMVis™Ü
();

5205 
	`‹¡_fl_missšg_mid_pošt
();

5206 
	`‹¡_quªte
();

5207 
	`‹¡_VWAP
();

5208 
	`‹¡_VWBAS
();

5209 
	`‹¡_£lf_cÚÿt
();

5210 
	`‹¡_cÚÿt
();

5211 
	`‹¡_»ad_csv
();

5214 
	}
}

	@DataFrame/AIFM/test/dataframe_tester_2.cc

28 
	~<D©aF¿me/D©aF¿me.h
>

29 
	~<D©aF¿me/D©aF¿meFšªcŸlVis™Üs.h
>

30 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

31 
	~<D©aF¿me/D©aF¿meT¿nsfÜmVis™Üs.h
>

32 
	~<D©aF¿me/RªdG’.h
>

34 
	~<ÿs£¹
>

35 
	~<io¡»am
>

36 
	~<¡ršg
>

38 
usšg
 
Çme¥aû
 
	ghmdf
;

40 
	gStdD©aF¿me
<> 
	tMyD©aF¿me
;

44 
	$‹¡_g‘_»šdexed
() {

46 
¡d
::
cout
 << "\nTe¡šg g‘_»šdexedĞè..." << std::
’dl
;

48 
MyD©aF¿me
 
df
;

50 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

53 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

56 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

59 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

60 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

64 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

65 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

66 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

67 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

68 
df
.
	`lßd_cŞumn
("int_col",

69 
¡d
::
	`move
(
štvec
),

70 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

72 autØ
»suÉ1
 =

73 
df
.
g‘_»šdexed
<, , , 
¡d
::
¡ršg
>

76 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
().
	`size
() == 15);

77 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 15);

78 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 15);

79 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 15);

80 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 11);

81 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[0] == 0);

82 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[14] == 10.0);

83 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[3] == 4);

84 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[9] == 14);

85 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

86 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

88 autØ
»suÉ2
 =

89 
df
.
g‘_»šdexed
<, , , 
¡d
::
¡ršg
>("int_col", "OLD_IDX");

91 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 11);

92 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 11);

93 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 11);

94 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 11);

95 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 11);

96 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

97 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] == 2.0);

98 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

99 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[0] == 1);

100 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[10] == 9);

101 
	}
}

105 
	$‹¡_g‘_»šdexed_v›w
() {

107 
¡d
::
cout
 << "\nTe¡šg g‘_»šdexed_v›wĞè..." << std::
’dl
;

109 
MyD©aF¿me
 
df
;

111 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

114 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

117 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

120 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

121 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

125 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

126 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

127 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

128 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

129 
df
.
	`lßd_cŞumn
("int_col",

130 
¡d
::
	`move
(
štvec
),

131 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

133 autØ
»suÉ1
 =

134 
df
.
g‘_»šdexed_v›w
<, , , 
¡d
::
¡ršg
>

137 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
().
	`size
() == 15);

138 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 15);

139 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 15);

140 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 15);

141 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 11);

142 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[0] == 0);

143 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[14] == 10.0);

144 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[3] == 4);

145 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[9] == 14);

146 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

147 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

149 autØ
»suÉ2
 =

150 
df
.
g‘_»šdexed_v›w
<, , , 
¡d
::
¡ršg
>

153 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 11);

154 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 11);

155 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 11);

156 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 11);

157 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 11);

158 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

159 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] == 2.0);

160 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

161 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[0] == 1);

162 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[10] == 9);

164 
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] = 1002.45;

165 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] == 1002.45);

166 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[3] ==

167 
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3]);

168 
	}
}

172 
	$‹¡_»ty³_cŞumn
() {

174 
¡d
::
cout
 << "\nTe¡šg„‘y³_cŞumnĞè..." << std::
’dl
;

176 
¡d
::
veùÜ
<> 
idxvec
 =

179 
¡d
::
veùÜ
<> 
štvec
 =

181 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 =

185 
MyD©aF¿me
 
df
;

187 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

188 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
),

189 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
));

191 
df
.
»ty³_cŞumn
<, >("int_col");

192 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 15);

193 
	`as£¹
(
df
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 15);

194 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[0] == 4294967295);

195 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[1] == 2);

196 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[6] == 4294967290);

197 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[8] == 11);

198 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "11");

199 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[6] == "-77");

201 
df
.
»ty³_cŞumn
<
¡d
::
¡ršg
, >("str_col",

202 [](cÚ¡ 
¡d
::
¡ršg
 &
v®
) -> {

203  (
¡d
::
	`¡oi
(
v®
));

205 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 15);

206 
	`as£¹
(
df
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 15);

207 
	`as£¹
(
df
.
g‘_cŞumn
<>("¡r_cŞ").
	`size
() == 15);

208 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[6] == 4294967290);

209 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[8] == 11);

210 
	`as£¹
(
df
.
g‘_cŞumn
<>("str_col")[0] == 11);

211 
	`as£¹
(
df
.
g‘_cŞumn
<>("str_col")[6] == -77);

212 
	}
}

216 
	$‹¡_lßd_®ign_cŞumn
() {

218 
¡d
::
cout
 << "\nTe¡šg†ßd_®ign_cŞumnĞè..." << std::
’dl
;

220 
¡d
::
veùÜ
<> 
idxvec
 =

223 
¡d
::
veùÜ
<> 
štvec
 =

225 
¡d
::
veùÜ
<> 
summ¬y_vec
 = { 100, 200, 300, 400, 500 };

227 
MyD©aF¿me
 
df
;

229 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

230 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
));

231 
df
.
	`lßd_®ign_cŞumn
("summ¬y_cŞ", 
¡d
::
	`move
(
summ¬y_vec
), 5, 
Œue
);

233 
¡d
::
veùÜ
<> 
summ¬y_vec_2
 = { 102, 202, 302, 402, 502 };

235 
df
.
	`lßd_®ign_cŞumn
("summ¬y_cŞ_2", 
¡d
::
	`move
(
summ¬y_vec_2
), 5, 
çl£
);

237 
	`as£¹
(
df
.
g‘_cŞumn
<>("summ¬y_cŞ").
	`size
() == 28);

238 
	`as£¹
(
df
.
g‘_cŞumn
<>("summ¬y_cŞ_2").
	`size
() == 28);

239 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col")[0] == 100);

240 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col_2")[0]));

241 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col")[5] == 200);

242 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col")[6]));

243 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col_2")[5] == 102);

244 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col")[20] == 500);

245 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col_2")[25] == 502);

246 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col")[27]));

247 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col")[26]));

248 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col_2")[27]));

249 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col_2")[26]));

250 
	}
}

254 
	$‹¡_g‘_cŞumns_šfo
() {

256 
¡d
::
cout
 << "\nTe¡šg g‘_cŞumns_šfoĞè..." << std::
’dl
;

258 
MyD©aF¿me
 
df
;

260 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

263 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

266 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

269 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

270 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

274 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

275 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

276 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

277 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

278 
df
.
	`lßd_cŞumn
("int_col",

279 
¡d
::
	`move
(
štvec
),

280 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

282 autØ
»suÉ
 = 
df
.
g‘_cŞumns_šfo
<, , 
¡d
::
¡ršg
>();

283 
boŞ
 
dbl_cŞ_found
 = 
çl£
;

284 
boŞ
 
dbl_cŞ_2_found
 = 
çl£
;

285 
boŞ
 
¡r_cŞ_found
 = 
çl£
;

286 
boŞ
 
št_cŞ_found
 = 
çl£
;

288 autØ
c™”
: 
»suÉ
) {

289 ià(
¡d
::
g‘
<0>(
c™”
) == "dbl_col") {

290 
dbl_cŞ_found
 = 
Œue
;

291 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 15);

292 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
()));

294 ià(
¡d
::
g‘
<0>(
c™”
) == "dbl_col_2") {

295 
dbl_cŞ_2_found
 = 
Œue
;

296 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 15);

297 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
()));

299 ià(
¡d
::
g‘
<0>(
c™”
) == "str_col") {

300 
¡r_cŞ_found
 = 
Œue
;

301 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 15);

302 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
(¡d::
¡ršg
)));

304 ià(
¡d
::
g‘
<0>(
c™”
) == "int_col") {

305 
št_cŞ_found
 = 
Œue
;

306 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 11);

307 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
()));

310 
	`as£¹
(
dbl_cŞ_found
);

311 
	`as£¹
(
dbl_cŞ_2_found
);

312 
	`as£¹
(
¡r_cŞ_found
);

313 
	`as£¹
(
št_cŞ_found
);

314 
	}
}

318 
	$‹¡_C©egÜyVis™Ü
() {

320 
¡d
::
cout
 << "\nTe¡šg C©egÜyVis™Ü{ } ..." << std::
’dl
;

322 
MyD©aF¿me
 
df
;

324 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

327 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 15.0, 1.0,

329 
	`sq¹
(-1), 4.0, 14.0, 14.0, 20.0};

330 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

331 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "zz", "ww", "ee",

335 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

336 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

337 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

338 
df
.
	`lßd_cŞumn
("int_col",

339 
¡d
::
	`move
(
štvec
),

340 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

342 
C©egÜyVis™Ü
<> 
ÿt
;

343 autØ
»suÉ
 =

344 
df
.
sšgË_aù_vis™
<>("dbl_cŞ", 
ÿt
).
	`g‘_»suÉ
();

346 
	`as£¹
(
»suÉ
.
	`size
() == 15);

347 
	`as£¹
(
»suÉ
[0] == 0);

348 
	`as£¹
(
»suÉ
[1] == 1);

349 
	`as£¹
(
»suÉ
[2] == 2);

350 
	`as£¹
(
»suÉ
[3] == 1);

351 
	`as£¹
(
»suÉ
[4] == 3);

352 
	`as£¹
(
»suÉ
[8] == 1);

353 
	`as£¹
(
»suÉ
[13] == 2);

354 
	`as£¹
(
»suÉ
[12] == 2);

355 
	`as£¹
(
»suÉ
[11] == 8);

356 
	`as£¹
(
»suÉ
[10] =ğ
¡©ic_ÿ¡
<>(-1));

358 
C©egÜyVis™Ü
<
¡d
::
¡ršg
> 
ÿt2
;

359 autØ
»suÉ2
 =

360 
df
.
sšgË_aù_vis™
<
¡d
::
¡ršg
>("¡r_cŞ", 
ÿt2
).
	`g‘_»suÉ
();

362 
	`as£¹
(
»suÉ2
.
	`size
() == 15);

363 
	`as£¹
(
»suÉ2
[0] == 0);

364 
	`as£¹
(
»suÉ2
[1] == 1);

365 
	`as£¹
(
»suÉ2
[2] == 0);

366 
	`as£¹
(
»suÉ2
[13] == 3);

367 
	}
}

371 
	$‹¡_FaùÜizeVis™Ü
() {

373 
¡d
::
cout
 << "\nTe¡šg FaùÜizeVis™Ü{ } ..." << std::
’dl
;

375 
MyD©aF¿me
 
df
;

377 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

380 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

383 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

386 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

387 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

391 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

392 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

393 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

394 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

395 
df
.
	`lßd_cŞumn
("int_col",

396 
¡d
::
	`move
(
štvec
),

397 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

399 
FaùÜizeVis™Ü
<> 
	`çù
([] (cÚ¡ &
f
è-> 
boŞ
 {

400  (
f
 > 106.0 && f < 114.0);

402 
df
.
	`lßd_cŞumn
("bool_col",

403 
df
.
sšgË_aù_vis™
<>("dbl_cŞ_2", 
çù
).
	`g‘_»suÉ
());

404 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ").
	`size
() == 15);

405 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[0] =ğ
çl£
);

406 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[4] =ğ
çl£
);

407 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[6] =ğ
Œue
);

408 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[7] =ğ
Œue
);

409 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[8] =ğ
çl£
);

410 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[9] =ğ
Œue
);

411 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[11] =ğ
Œue
);

412 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[13] =ğ
çl£
);

413 
	}
}

417 
	$‹¡_·‰”n_m©ch
() {

419 
¡d
::
cout
 << "\nTe¡šg…©‹º_m©chĞè..." << std::
’dl
;

421 cÚ¡ 
size_t
 
™em_út
 = 8192;

422 
MyD©aF¿me
 
df
;

423 
RªdG’P¬ams
<> 
p
;

425 
p
.
m—n
 = 5.6;

426 
p
.
¡d
 = 0.5;

427 
p
.
£ed
 = 123;

428 
p
.
mš_v®ue
 = 0;

429 
p
.
max_v®ue
 = 30;

431 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1),

432 
¡d
::
	`make_·œ
("lognormal",

433 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
)),

434 
¡d
::
	`make_·œ
("normal",

435 
g’_nÜm®_di¡
<>(
™em_út
, 
p
)),

436 
¡d
::
	`make_·œ
("uniform_real",

437 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
)));

438 
p
.
m—n
 = 0;

439 
p
.
¡d
 = 1.0;

440 
p
.
mš_v®ue
 = -30;

441 
p
.
max_v®ue
 = 30;

442 
df
.
	`lßd_cŞumn
("¡d_nÜm®", 
g’_nÜm®_di¡
<>(
™em_út
, 
p
));

443 
df
.
lßd_cŞumn
<>(

445 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1));

447 
boŞ
 
»suÉ
 =

448 
df
.
·‰”n_m©ch
<>("lognormal",

449 
·‰”n_¥ec
::
nÜm®ly_di¡ribu‹d
,

451 
	`as£¹
(
»suÉ
 =ğ
çl£
);

453 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("normal",

454 
·‰”n_¥ec
::
nÜm®ly_di¡ribu‹d
,

456 
	`as£¹
(
»suÉ
 =ğ
Œue
);

458 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

460 
·‰”n_¥ec
::
¡ªd¬d_nÜm®ly_di¡ribu‹d
,

462 
	`as£¹
(
»suÉ
 =ğ
Œue
);

464 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("lognormal",

465 
·‰”n_¥ec
::
lognÜm®ly_di¡ribu‹d
,

467 
	`as£¹
(
»suÉ
 =ğ
Œue
);

469 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("normal",

470 
·‰”n_¥ec
::
lognÜm®ly_di¡ribu‹d
,

472 
	`as£¹
(
»suÉ
 =ğ
çl£
);

474 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("uniform_real",

475 
·‰”n_¥ec
::
lognÜm®ly_di¡ribu‹d
,

477 
	`as£¹
(
»suÉ
 =ğ
çl£
);

479 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("uniform_real",

480 
·‰”n_¥ec
::
nÜm®ly_di¡ribu‹d
,

482 
	`as£¹
(
»suÉ
 =ğ
çl£
);

484 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

486 
·‰”n_¥ec
::
mÚÙÚic_šü—sšg
);

487 
	`as£¹
(
»suÉ
 =ğ
Œue
);

488 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

490 
·‰”n_¥ec
::
¡riùly_mÚÙÚic_šü—sšg
);

491 
	`as£¹
(
»suÉ
 =ğ
Œue
);

493 
df
.
g‘_cŞumn
<>("increasing")[10] = 9;

495 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

497 
·‰”n_¥ec
::
mÚÙÚic_šü—sšg
);

498 
	`as£¹
(
»suÉ
 =ğ
Œue
);

499 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

501 
·‰”n_¥ec
::
¡riùly_mÚÙÚic_šü—sšg
);

502 
	`as£¹
(
»suÉ
 =ğ
çl£
);

504 
df
.
g‘_cŞumn
<>("increasing")[1000] = 988;

506 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

508 
·‰”n_¥ec
::
mÚÙÚic_šü—sšg
);

509 
	`as£¹
(
»suÉ
 =ğ
çl£
);

510 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

512 
·‰”n_¥ec
::
¡riùly_mÚÙÚic_šü—sšg
);

513 
	`as£¹
(
»suÉ
 =ğ
çl£
);

514 
	}
}

518 
	$‹¡_ClVis™Ü
() {

520 
¡d
::
cout
 << "\nTe¡šg ClVis™Ü{ } ..." << std::
’dl
;

522 
MyD©aF¿me
 
df
;

524 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

527 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 15.0, 1.0,

529 
	`sq¹
(-1), 4.0, 14.0, 14.0, 20.0};

530 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

531 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "zz", "ww", "ee",

535 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

536 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

537 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

538 
df
.
	`lßd_cŞumn
("int_col",

539 
¡d
::
	`move
(
štvec
),

540 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

542 
ClVis™Ü
<> 
	`ş
 (14, 5);

543 autØ
»suÉ
 = 
df
.
vis™
<>("dbl_cŞ", 
ş
).
	`g‘_»suÉ
();

545 
	`as£¹
(
»suÉ
 == 7);

546 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[0] == 5.0);

547 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[1] == 14.0);

548 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[2] == 14.0);

549 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[4] == 5.0);

550 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[5] == 12.0);

551 
	}
}

555 
	$‹¡_Sh¬³R©ioVis™Ü
() {

557 
¡d
::
cout
 << "\nTe¡šg Sh¬³R©ioVis™Ü{ } ..." << std::
’dl
;

559 
¡d
::
veùÜ
<> 
idx
 =

563 
¡d
::
veùÜ
<> 
d1
 =

567 
¡d
::
veùÜ
<> 
d2
 =

571 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

572 
MyD©aF¿me
 
df
;

574 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

575 
¡d
::
	`make_·œ
("as£t", 
d1
),

576 
¡d
::
	`make_·œ
("b’chm¬k", 
d2
),

577 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

579 
Sh¬³R©ioVis™Ü
<> 
sh_¿tio
;

580 cÚ¡‡utØ
»suÉ
 =

581 
df
.
sšgË_aù_vis™
<, >("asset", "benchmark",

582 
sh_¿tio
).
	`g‘_»suÉ
();

584 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.425631) < 0.00001);

585 
	}
}

589 
	$‹¡_RªkVis™Ü
() {

591 
¡d
::
cout
 << "\nTe¡šg RªkVis™Ü{ } ..." << std::
’dl
;

593 
¡d
::
veùÜ
<> 
idx
 =

597 
¡d
::
veùÜ
<> 
d1
 =

600 
¡d
::
veùÜ
<> 
d2
 =

603 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

604 
MyD©aF¿me
 
df
;

606 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

607 
¡d
::
	`make_·œ
("d1_cŞ", 
d1
),

608 
¡d
::
	`make_·œ
("d2_cŞ", 
d2
),

609 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

611 
RªkVis™Ü
<> 
	`avg_¿nk_v
(
¿nk_pŞicy
::
av”age
);

612 
RªkVis™Ü
<> 
	`fœ¡_¿nk_v
(
¿nk_pŞicy
::
fœ¡
);

613 
RªkVis™Ü
<> 
	`Ï¡_¿nk_v
(
¿nk_pŞicy
::
Ï¡
);

614 
RªkVis™Ü
<> 
	`aùu®_¿nk_v
(
¿nk_pŞicy
::
aùu®
);

615 cÚ¡‡utØ
aùu®_»suÉ
 =

616 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
aùu®_¿nk_v
).
	`g‘_»suÉ
();

617 cÚ¡‡utØ
avg_»suÉ
 =

618 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
avg_¿nk_v
).
	`g‘_»suÉ
();

619 cÚ¡‡utØ
fœ¡_»suÉ
 =

620 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
fœ¡_¿nk_v
).
	`g‘_»suÉ
();

621 cÚ¡‡utØ
Ï¡_»suÉ
 =

622 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
Ï¡_¿nk_v
).
	`g‘_»suÉ
();

624 
size_t
 
i
 = 0; i < 
aùu®_»suÉ
.
	`size
(); ++i)

625 
	`as£¹
(
aùu®_»suÉ
[
i
] == (i));

626 
	`as£¹
(
aùu®_»suÉ
 =ğ
avg_»suÉ
);

627 
	`as£¹
(
aùu®_»suÉ
 =ğ
Ï¡_»suÉ
);

628 
	`as£¹
(
aùu®_»suÉ
 =ğ
fœ¡_»suÉ
);

630 cÚ¡‡utØ
aùu®_»suÉ2
 =

631 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
aùu®_¿nk_v
).
	`g‘_»suÉ
();

632 cÚ¡‡utØ
avg_»suÉ2
 =

633 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
avg_¿nk_v
).
	`g‘_»suÉ
();

634 cÚ¡‡utØ
fœ¡_»suÉ2
 =

635 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
fœ¡_¿nk_v
).
	`g‘_»suÉ
();

636 cÚ¡‡utØ
Ï¡_»suÉ2
 =

637 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
Ï¡_¿nk_v
).
	`g‘_»suÉ
();

639 
¡d
::
veùÜ
<> 
¬_equ®
 {8, 1, 2, 3, 4, 12, 5, 6, 7, 9, 0, 11, 13,

642 
	`as£¹
(
aùu®_»suÉ2
 =ğ
¬_equ®
);

643 
¬_equ®
 = 
¡d
::
veùÜ
<> {9, 1, 2, 3, 4, 13, 5, 6, 7, 9, 0, 11, 13,

645 
	`as£¹
(
avg_»suÉ2
 =ğ
¬_equ®
);

646 
¬_equ®
 = 
¡d
::
veùÜ
<> {8, 1, 2, 3, 4, 12, 5, 6, 7, 8, 0, 11, 12,

648 
	`as£¹
(
fœ¡_»suÉ2
 =ğ
¬_equ®
);

649 
¬_equ®
 = 
¡d
::
veùÜ
<> {10, 1, 2, 3, 4, 14, 5, 6, 7, 10, 0, 11, 14,

651 
	`as£¹
(
Ï¡_»suÉ2
 =ğ
¬_equ®
);

652 
	}
}

656 
	$‹¡_SigmoidVis™Ü
() {

658 
¡d
::
cout
 << "\nTe¡šg SigmoidVis™Ü{ } ..." << std::
’dl
;

660 
¡d
::
veùÜ
<> 
idx
 =

664 
¡d
::
veùÜ
<> 
d1
 =

667 
¡d
::
veùÜ
<> 
d2
 =

670 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

671 
MyD©aF¿me
 
df
;

673 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

674 
¡d
::
	`make_·œ
("d1_cŞ", 
d1
),

675 
¡d
::
	`make_·œ
("d2_cŞ", 
d2
),

676 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

678 
SigmoidVis™Ü
<> 
	`sig_log
(
sigmoid_ty³
::
logi¡ic
);

679 
SigmoidVis™Ü
<> 
	`sig_®g
(
sigmoid_ty³
::
®geb¿ic
);

680 
SigmoidVis™Ü
<> 
	`sig_n
(
sigmoid_ty³
::
hy³rbŞic_n
);

681 
SigmoidVis™Ü
<> 
	`sig_©ª
(
sigmoid_ty³
::
¬c_n
);

682 
SigmoidVis™Ü
<> 
	`sig_”r
(
sigmoid_ty³
::
”rÜ_funùiÚ
);

683 
SigmoidVis™Ü
<> 
	`sig_gud
(
sigmoid_ty³
::
gud”mªnŸn
);

684 
SigmoidVis™Ü
<> 
	`sig_smo
(
sigmoid_ty³
::
smoÙh¡•
);

685 cÚ¡‡utØ
log_»suÉ
 =

686 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_log
).
	`g‘_»suÉ
();

687 cÚ¡‡utØ
®g_»suÉ
 =

688 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_®g
).
	`g‘_»suÉ
();

689 cÚ¡‡utØ
n_»suÉ
 =

690 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_n
).
	`g‘_»suÉ
();

691 cÚ¡‡utØ
©ª_»suÉ
 =

692 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_©ª
).
	`g‘_»suÉ
();

693 cÚ¡‡utØ
”r_»suÉ
 =

694 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_”r
).
	`g‘_»suÉ
();

695 cÚ¡‡utØ
gud_»suÉ
 =

696 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_gud
).
	`g‘_»suÉ
();

697 cÚ¡‡utØ
smo_»suÉ
 =

698 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
sig_smo
).
	`g‘_»suÉ
();

700 
¡d
::
veùÜ
<> 
»suÉ
 {

705 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

706 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
log_»suÉ
[idx]) < 0.00001);

708 
»suÉ
 = 
¡d
::
veùÜ
<> {

713 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

714 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
®g_»suÉ
[idx]) < 0.00001);

716 
»suÉ
 = 
¡d
::
veùÜ
<> {

719 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

720 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
n_»suÉ
[idx]) < 0.00001);

722 
»suÉ
 = 
¡d
::
veùÜ
<> {

726 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

727 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
©ª_»suÉ
[idx]) < 0.00001);

729 
»suÉ
 = 
¡d
::
veùÜ
<> {

732 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

733 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
”r_»suÉ
[idx]) < 0.00001);

735 
»suÉ
 = 
¡d
::
veùÜ
<> {

739 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

740 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
gud_»suÉ
[idx]) < 0.00001);

742 
»suÉ
 = 
¡d
::
veùÜ
<> {

746 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

747 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
smo_»suÉ
[idx]) < 0.00001);

748 
	}
}

752 
	$my_max
(cÚ¡ &
d1
, cÚ¡ &
d2
, cÚ¡ &
d3
) {

754  (
¡d
::
max
<>({ 
d1
, 
d2
, 
d3
 }));

755 
	}
}

757 
	$‹¡_combše
() {

759 
¡d
::
cout
 << "\nTe¡šg combšeĞè..." << std::
’dl
;

761 
¡d
::
veùÜ
<> 
idx1
 =

765 
¡d
::
veùÜ
<> 
idx2
 =

769 
¡d
::
veùÜ
<> 
idx3
 =

773 
¡d
::
veùÜ
<> 
idx4
 =

777 
¡d
::
veùÜ
<> 
d1
 =

780 
¡d
::
veùÜ
<> 
d2
 =

783 
¡d
::
veùÜ
<> 
d3
 =

786 
¡d
::
veùÜ
<> 
d4
 =

789 
MyD©aF¿me
 
df1
;

790 
MyD©aF¿me
 
df2
;

791 
MyD©aF¿me
 
df3
;

792 
MyD©aF¿me
 
df4
;

794 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idx1
), std::
	`make_·œ
("d1_cŞ", 
d1
));

795 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
), std::
	`make_·œ
("d1_cŞ", 
d2
));

796 
df3
.
	`lßd_d©a
(
¡d
::
	`move
(
idx3
), std::
	`make_·œ
("d1_cŞ", 
d3
));

797 
df4
.
	`lßd_d©a
(
¡d
::
	`move
(
idx4
), std::
	`make_·œ
("d1_cŞ", 
d4
));

799 
df1
.
	`lßd_cŞumn
("d2_col",

800 
¡d
::
	`move
(
df1
.
combše
<>("d1_cŞ", 
df2
, 
df3
, 
my_max
)));

802 
¡d
::
veùÜ
<> 
»suÉ
 {

806 
	`as£¹
(
df1
.
g‘_cŞumn
<>("d2_cŞ"è=ğ
»suÉ
);

807 
	}
}

811 
	$‹¡_RSIVis™Ü
() {

813 
¡d
::
cout
 << "\nTe¡šg RSIVis™Ü{ } ..." << std::
’dl
;

815 cÚ¡ 
size_t
 
™em_út
 = 32;

816 
MyD©aF¿me
 
df
;

817 
RªdG’P¬ams
<> 
p
;

819 
p
.
m—n
 = 5.6;

820 
p
.
¡d
 = 0.5;

821 
p
.
£ed
 = 123;

822 
p
.
mš_v®ue
 = 0;

823 
p
.
max_v®ue
 = 8;

825 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1),

826 
¡d
::
	`make_·œ
("normal",

827 
g’_nÜm®_di¡
<>(
™em_út
, 
p
)));

829 
RSIVis™Ü
<> 
	`rsi
(
»tuº_pŞicy
::
³rûÁage
);

830 cÚ¡‡utØ
rsi_»suÉ
 =

831 
df
.
sšgË_aù_vis™
<>("nÜm®", 
rsi
).
	`g‘_»suÉ
();

832 
¡d
::
veùÜ
<> 
»suÉ
 {

837 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

838 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
rsi_»suÉ
[idx]) < 0.0001);

839 
	}
}

843 
	$‹¡_groupby
() {

845 
¡d
::
cout
 << "\nTe¡šg groupbyĞè..." << std::
’dl
;

847 
¡d
::
veùÜ
<> 
ulgvec2
 =

852 
¡d
::
veùÜ
<> 
xulgvec2
 = 
ulgvec2
;

853 
¡d
::
veùÜ
<> 
štvec2
 =

856 
¡d
::
veùÜ
<> 
xdblvec2
 =

861 
¡d
::
veùÜ
<> 
dblvec22
 =

866 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec2
 =

875 
MyD©aF¿me
 
df
;

877 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
ulgvec2
),

878 
¡d
::
	`make_·œ
("xšt_cŞ", 
štvec2
),

879 
¡d
::
	`make_·œ
("dbl_cŞ", 
xdblvec2
),

880 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec22
),

881 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec2
),

882 
¡d
::
	`make_·œ
("ul_cŞ", 
xulgvec2
));

884 autØ
»suÉ
 =

885 
df
.
groupby
<
GroupbySum
,

889 
¡d
::
¡ršg
,

890 >(
	`GroupbySum
(), 
DF_INDEX_COL_NAME
);

892 
	`as£¹
((
»suÉ
.
	`g‘_šdex
() ==

893 
¡d
::
veùÜ
<> {

897 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<>("xint_col") ==

898 
¡d
::
veùÜ
<> { 3, 45, 3, 3, 7, 84, 11, 6, 2, 8, 3, 2, 3 }));

899 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col") ==

900 
¡d
::
veùÜ
<¡d::
¡ršg
> {

907 
»suÉ
 = 
df
.
groupby
<
GroupbyMax
,

911 
¡d
::
¡ršg
,

912 >(
	`GroupbyMax
(), "xint_col");

913 
	`as£¹
((
»suÉ
.
	`g‘_šdex
() ==

914 
¡d
::
veùÜ
<> {

918 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<>("dbl_col_2") ==

919 
¡d
::
veùÜ
<> {

923 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col") ==

924 
¡d
::
veùÜ
<¡d::
¡ršg
> {

929 
	}
}

933 
	$maš
(
¬gc
, *
¬gv
[]) {

935 
	`‹¡_g‘_»šdexed
();

936 
	`‹¡_g‘_»šdexed_v›w
();

937 
	`‹¡_»ty³_cŞumn
();

938 
	`‹¡_lßd_®ign_cŞumn
();

939 
	`‹¡_g‘_cŞumns_šfo
();

940 
	`‹¡_C©egÜyVis™Ü
();

941 
	`‹¡_FaùÜizeVis™Ü
();

942 
	`‹¡_·‰”n_m©ch
();

943 
	`‹¡_ClVis™Ü
();

944 
	`‹¡_Sh¬³R©ioVis™Ü
();

945 
	`‹¡_RªkVis™Ü
();

946 
	`‹¡_SigmoidVis™Ü
();

947 
	`‹¡_combše
();

948 
	`‹¡_RSIVis™Ü
();

949 
	`‹¡_groupby
();

952 
	}
}

	@DataFrame/AIFM/test/date_time_tester.cc

30 
	~<D©aF¿me/Uts/D©eTime.h
>

31 
	~<D©aF¿me/Uts/FixedSizeSŒšg.h
>

33 
	~<ÿs£¹
>

34 
	~<c¡dlib
>

35 
	~<io¡»am
>

36 
	~<¡ršg
>

38 
usšg
 
Çme¥aû
 
	ghmdf
;

42 
	$maš
 (
¬gc
, *
¬gv
 []) {

44 
usšg
 
Çme¥aû
 
¡d
;

46 
SŒšg1K
 
t¡r
;

48 
D©eTime
 
now
;

49 
D©eTime
 
	`gmnow
 (
DT_TIME_ZONE
::
GMT
);

51 
cout
 << "LoÿÈTimis: " << 
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

52 << " Nªo£cÚds: " << 
now
.
	`Çno£c
 (è<< 
’dl
;

53 
cout
 << "GMT Timis: " << 
gmnow
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

54 << " Miüo£cÚds: " << 
now
.
	`miüo£c
 (è<< 
’dl
;

56 
now
 = 19721202;

57 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "12/02/1972 00:00:00.000");

58 
now
 = "19910223 16:23:45.230";

59 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/23/1991 16:23:45.230");

60 
now
 = "19910223 16:23:45.230";

61 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/23/1991 16:23:45.230");

62 
now
 = "20100207 12";

63 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/07/2010 12:00:00.000");

64 
now
 = "20100207 12:32";

65 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/07/2010 12:32:00.000");

66 
now
 = "20100207 12:32:12";

68 
Œy
 {

69 
diff
 = 
¡©ic_ÿ¡
<> (
now
.
	`diff_£cÚds
 (
gmnow
));

71 
	`as£¹
(
çl£
);

73 
	`ÿtch
 (cÚ¡ 
¡d
::
ruÁime_”rÜ
 &) {

81 
D©eTime
 
	`now
 (20181023, 10, 24, 1, 123456789);

83 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

85 
now
.
	`add_days
 (1);

86 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

88 
now
.
	`add_days
 (-1);

89 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

92 
now
.
	`add_w“kdays
 (1);

93 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

95 
now
.
	`add_w“kdays
 (-1);

96 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

100 
D©eTime
 
	`dt
 (20091224, 9, 30);

102 
dt
.
	`add_w“kdays
 (2);

103 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

108 
D©eTime
 
	`dt
 (20081224, 9, 30);

110 
dt
.
	`add_w“kdays
 (2);

111 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

116 
D©eTime
 
	`dt
 (20061224, 9, 30);

118 
dt
.
	`add_w“kdays
 (2);

119 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

124 
D©eTime
 
	`dt
 (20051223, 9, 30);

126 
dt
.
	`add_w“kdays
 (2);

127 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

132 
D©eTime
 
	`dt
 (20041223, 9, 30);

134 
dt
.
	`add_w“kdays
 (2);

135 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

140 
D©eTime
 
	`dt
 (20001222, 9, 30);

142 
dt
.
	`add_w“kdays
 (2);

143 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

148 
D©eTime
 
	`dt
 (19981224, 9, 30);

150 
dt
.
	`add_w“kdays
 (2);

151 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

157 
cout
 << "\n----- Te¡šg D©eTime' GMT v LoÿÈtime\n" << 
’dl
;

159 
D©eTime
 
	`gmt_now
 (
DT_TIME_ZONE
::
GMT
);

160 
D©eTime
 
loÿl_now
;

162 
D©eTime
 
	`loÿl_®t_cÚ
 (
loÿl_now
.
	`d©e
 (),†oÿl_now.
	`hour
 (),

163 
loÿl_now
.
	`mšu‹
 (),†oÿl_now.
	`£c
 (),

164 
loÿl_now
.
	`m£c
 ());

165 
D©eTime
 
	`gmt_®t_cÚ
 (
gmt_now
.
	`d©e
 (), gmt_now.
	`hour
 (),

166 
gmt_now
.
	`mšu‹
 (), gmt_now.
	`£c
 (),

167 
gmt_now
.
	`m£c
 (), 
DT_TIME_ZONE
::
GMT
);

169 
D©eTime
 
	`loÿl_time_1970
 (19700101);

170 
D©eTime
 
	`gmt_time_1970
 (19700101, 0, 0, 0, 0, 
DT_TIME_ZONE
::
GMT
);

172 
D©eTime
 
	`loÿl_time_1989
 (19891214, 20, 15, 23, 0);

173 
D©eTime
 
	`gmt_time_1989
 (19891214, 20, 15, 23, 0, 
DT_TIME_ZONE
::
GMT
);

175 
cout
 << "GMT‚owime: " << 
gmt_now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

176 << " " << 
gmt_now
.
	`time
 (è<< 
’dl
;

177 
cout
 << "GMT ALT Constructorime: "

178 << 
gmt_®t_cÚ
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

179 << " " << 
gmt_®t_cÚ
.
	`time
 (è<< 
’dl
 <<ƒndl;

181 
cout
 << "Local‚owime: "

182 << 
loÿl_now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

183 << " " << 
loÿl_now
.
	`time
 (è<< 
’dl
;

184 
cout
 << "Local ALT Constructorime: "

185 << 
loÿl_®t_cÚ
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

186 << " " << 
loÿl_®t_cÚ
.
	`time
 (è<< 
’dl
 <<ƒndl;

188 
cout
 << "Local 1970 ALT Constructorime: "

189 << 
loÿl_time_1970
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

190 << " " << 
loÿl_time_1970
.
	`time
 (è<< 
’dl
;

191 
cout
 << "GMT 1970 ALT Constructorime: "

192 << 
gmt_time_1970
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

193 << " " << 
gmt_time_1970
.
	`time
 (è<< 
’dl
 <<ƒndl;

195 
cout
 << "Local 1989 ALT Constructorime: "

196 << 
loÿl_time_1989
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

197 << " " << 
loÿl_time_1989
.
	`time
 (è<< 
’dl
;

198 
cout
 << "GMT 1989 ALT Constructorime: "

199 << 
gmt_time_1989
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

200 << " " << 
gmt_time_1989
.
	`time
 (è<< 
’dl
 <<ƒndl;

204 
cout
 << "\n----- Te¡šg D©eTime' w“kday day m‘hods\n" << 
’dl
;

206 cÚ¡ 
D©eTime
 
	`Ãw_y—r
 (20020101);

208 
cout
 << "20020101 is‡ US holiday: "

209 << (
Ãw_y—r
.
	`is_us_busšess_day
 (è? "NO" : "YES"è<< 
’dl
;

211 cÚ¡ 
D©eTime
 
	`thªksgivšg
 (20011122);

213 
cout
 << "20011122 (Thanksgiving) is‡ US holiday: "

214 << (
thªksgivšg
.
	`is_us_busšess_day
 (è? "NO" : "YES"è<< 
’dl
;

216 
D©eTime
 
yes_ªsw”s
 [80];

217 
i
 = 0;

218 cÚ¡ 
D©eTime
 
	`hŞ01
 (19980101); 
yes_ªsw”s
 [
i
++] = 
hŞ01
;

219 cÚ¡ 
D©eTime
 
	`hŞ02
 (19980119); 
yes_ªsw”s
 [
i
++] = 
hŞ02
;

220 cÚ¡ 
D©eTime
 
	`hŞ03
 (19980216); 
yes_ªsw”s
 [
i
++] = 
hŞ03
;

221 cÚ¡ 
D©eTime
 
	`hŞ04
 (19980525); 
yes_ªsw”s
 [
i
++] = 
hŞ04
;

222 cÚ¡ 
D©eTime
 
	`hŞ05
 (19980703); 
yes_ªsw”s
 [
i
++] = 
hŞ05
;

223 cÚ¡ 
D©eTime
 
	`hŞ06
 (19980907); 
yes_ªsw”s
 [
i
++] = 
hŞ06
;

224 cÚ¡ 
D©eTime
 
	`hŞ07
 (19981126); 
yes_ªsw”s
 [
i
++] = 
hŞ07
;

225 cÚ¡ 
D©eTime
 
	`hŞ08
 (19981225); 
yes_ªsw”s
 [
i
++] = 
hŞ08
;

226 cÚ¡ 
D©eTime
 
	`hŞ09
 (19990101); 
yes_ªsw”s
 [
i
++] = 
hŞ09
;

227 cÚ¡ 
D©eTime
 
	`hŞ10
 (19990118); 
yes_ªsw”s
 [
i
++] = 
hŞ10
;

228 cÚ¡ 
D©eTime
 
	`hŞ11
 (19990215); 
yes_ªsw”s
 [
i
++] = 
hŞ11
;

229 cÚ¡ 
D©eTime
 
	`hŞ12
 (19990531); 
yes_ªsw”s
 [
i
++] = 
hŞ12
;

230 cÚ¡ 
D©eTime
 
	`hŞ13
 (19990705); 
yes_ªsw”s
 [
i
++] = 
hŞ13
;

231 cÚ¡ 
D©eTime
 
	`hŞ14
 (19990906); 
yes_ªsw”s
 [
i
++] = 
hŞ14
;

232 cÚ¡ 
D©eTime
 
	`hŞ15
 (19991125); 
yes_ªsw”s
 [
i
++] = 
hŞ15
;

233 cÚ¡ 
D©eTime
 
	`hŞ16
 (19991224); 
yes_ªsw”s
 [
i
++] = 
hŞ16
;

234 cÚ¡ 
D©eTime
 
	`hŞ17
 (19991231); 
yes_ªsw”s
 [
i
++] = 
hŞ17
;

235 cÚ¡ 
D©eTime
 
	`hŞ18
 (20000117); 
yes_ªsw”s
 [
i
++] = 
hŞ18
;

236 cÚ¡ 
D©eTime
 
	`hŞ19
 (20000221); 
yes_ªsw”s
 [
i
++] = 
hŞ19
;

237 cÚ¡ 
D©eTime
 
	`hŞ20
 (20000529); 
yes_ªsw”s
 [
i
++] = 
hŞ20
;

238 cÚ¡ 
D©eTime
 
	`hŞ21
 (20000704); 
yes_ªsw”s
 [
i
++] = 
hŞ21
;

239 cÚ¡ 
D©eTime
 
	`hŞ22
 (20000904); 
yes_ªsw”s
 [
i
++] = 
hŞ22
;

240 cÚ¡ 
D©eTime
 
	`hŞ23
 (20001123); 
yes_ªsw”s
 [
i
++] = 
hŞ23
;

241 cÚ¡ 
D©eTime
 
	`hŞ24
 (20001225); 
yes_ªsw”s
 [
i
++] = 
hŞ24
;

242 cÚ¡ 
D©eTime
 
	`hŞ25
 (20010101); 
yes_ªsw”s
 [
i
++] = 
hŞ25
;

243 cÚ¡ 
D©eTime
 
	`hŞ26
 (20010115); 
yes_ªsw”s
 [
i
++] = 
hŞ26
;

244 cÚ¡ 
D©eTime
 
	`hŞ27
 (20010219); 
yes_ªsw”s
 [
i
++] = 
hŞ27
;

245 cÚ¡ 
D©eTime
 
	`hŞ28
 (20010528); 
yes_ªsw”s
 [
i
++] = 
hŞ28
;

246 cÚ¡ 
D©eTime
 
	`hŞ29
 (20010704); 
yes_ªsw”s
 [
i
++] = 
hŞ29
;

247 cÚ¡ 
D©eTime
 
	`hŞ30
 (20010903); 
yes_ªsw”s
 [
i
++] = 
hŞ30
;

248 cÚ¡ 
D©eTime
 
	`hŞ31
 (20011122); 
yes_ªsw”s
 [
i
++] = 
hŞ31
;

249 cÚ¡ 
D©eTime
 
	`hŞ32
 (20011225); 
yes_ªsw”s
 [
i
++] = 
hŞ32
;

250 cÚ¡ 
D©eTime
 
	`hŞ33
 (20020101); 
yes_ªsw”s
 [
i
++] = 
hŞ33
;

251 cÚ¡ 
D©eTime
 
	`hŞ34
 (20020121); 
yes_ªsw”s
 [
i
++] = 
hŞ34
;

252 cÚ¡ 
D©eTime
 
	`hŞ35
 (20020218); 
yes_ªsw”s
 [
i
++] = 
hŞ35
;

253 cÚ¡ 
D©eTime
 
	`hŞ36
 (20020527); 
yes_ªsw”s
 [
i
++] = 
hŞ36
;

254 cÚ¡ 
D©eTime
 
	`hŞ37
 (20020704); 
yes_ªsw”s
 [
i
++] = 
hŞ37
;

255 cÚ¡ 
D©eTime
 
	`hŞ38
 (20020902); 
yes_ªsw”s
 [
i
++] = 
hŞ38
;

256 cÚ¡ 
D©eTime
 
	`hŞ39
 (20021128); 
yes_ªsw”s
 [
i
++] = 
hŞ39
;

257 cÚ¡ 
D©eTime
 
	`hŞ40
 (20021225); 
yes_ªsw”s
 [
i
++] = 
hŞ40
;

258 cÚ¡ 
D©eTime
 
	`hŞ41
 (20030101); 
yes_ªsw”s
 [
i
++] = 
hŞ41
;

259 cÚ¡ 
D©eTime
 
	`hŞ42
 (20030120); 
yes_ªsw”s
 [
i
++] = 
hŞ42
;

260 cÚ¡ 
D©eTime
 
	`hŞ43
 (20030217); 
yes_ªsw”s
 [
i
++] = 
hŞ43
;

261 cÚ¡ 
D©eTime
 
	`hŞ44
 (20030526); 
yes_ªsw”s
 [
i
++] = 
hŞ44
;

262 cÚ¡ 
D©eTime
 
	`hŞ45
 (20030704); 
yes_ªsw”s
 [
i
++] = 
hŞ45
;

263 cÚ¡ 
D©eTime
 
	`hŞ46
 (20030901); 
yes_ªsw”s
 [
i
++] = 
hŞ46
;

264 cÚ¡ 
D©eTime
 
	`hŞ47
 (20031127); 
yes_ªsw”s
 [
i
++] = 
hŞ47
;

265 cÚ¡ 
D©eTime
 
	`hŞ48
 (20031225); 
yes_ªsw”s
 [
i
++] = 
hŞ48
;

266 cÚ¡ 
D©eTime
 
	`hŞ49
 (20040101); 
yes_ªsw”s
 [
i
++] = 
hŞ49
;

267 cÚ¡ 
D©eTime
 
	`hŞ50
 (20040119); 
yes_ªsw”s
 [
i
++] = 
hŞ50
;

268 cÚ¡ 
D©eTime
 
	`hŞ51
 (20040216); 
yes_ªsw”s
 [
i
++] = 
hŞ51
;

269 cÚ¡ 
D©eTime
 
	`hŞ52
 (20040531); 
yes_ªsw”s
 [
i
++] = 
hŞ52
;

270 cÚ¡ 
D©eTime
 
	`hŞ53
 (20040705); 
yes_ªsw”s
 [
i
++] = 
hŞ53
;

271 cÚ¡ 
D©eTime
 
	`hŞ54
 (20040906); 
yes_ªsw”s
 [
i
++] = 
hŞ54
;

272 cÚ¡ 
D©eTime
 
	`hŞ55
 (20041125); 
yes_ªsw”s
 [
i
++] = 
hŞ55
;

273 cÚ¡ 
D©eTime
 
	`hŞ56
 (20041224); 
yes_ªsw”s
 [
i
++] = 
hŞ56
;

274 cÚ¡ 
D©eTime
 
	`hŞ57
 (20041231); 
yes_ªsw”s
 [
i
++] = 
hŞ57
;

275 cÚ¡ 
D©eTime
 
	`hŞ58
 (20050117); 
yes_ªsw”s
 [
i
++] = 
hŞ58
;

276 cÚ¡ 
D©eTime
 
	`hŞ59
 (20050221); 
yes_ªsw”s
 [
i
++] = 
hŞ59
;

277 cÚ¡ 
D©eTime
 
	`hŞ60
 (20050530); 
yes_ªsw”s
 [
i
++] = 
hŞ60
;

278 cÚ¡ 
D©eTime
 
	`hŞ61
 (20050704); 
yes_ªsw”s
 [
i
++] = 
hŞ61
;

279 cÚ¡ 
D©eTime
 
	`hŞ62
 (20050905); 
yes_ªsw”s
 [
i
++] = 
hŞ62
;

280 cÚ¡ 
D©eTime
 
	`hŞ63
 (20051124); 
yes_ªsw”s
 [
i
++] = 
hŞ63
;

281 cÚ¡ 
D©eTime
 
	`hŞ64
 (20051226); 
yes_ªsw”s
 [
i
++] = 
hŞ64
;

282 cÚ¡ 
D©eTime
 
	`hŞ65
 (20060102); 
yes_ªsw”s
 [
i
++] = 
hŞ65
;

283 cÚ¡ 
D©eTime
 
	`hŞ66
 (20060116); 
yes_ªsw”s
 [
i
++] = 
hŞ66
;

284 cÚ¡ 
D©eTime
 
	`hŞ67
 (20060220); 
yes_ªsw”s
 [
i
++] = 
hŞ67
;

285 cÚ¡ 
D©eTime
 
	`hŞ68
 (20060529); 
yes_ªsw”s
 [
i
++] = 
hŞ68
;

286 cÚ¡ 
D©eTime
 
	`hŞ69
 (20060704); 
yes_ªsw”s
 [
i
++] = 
hŞ69
;

287 cÚ¡ 
D©eTime
 
	`hŞ70
 (20060904); 
yes_ªsw”s
 [
i
++] = 
hŞ70
;

288 cÚ¡ 
D©eTime
 
	`hŞ71
 (20061123); 
yes_ªsw”s
 [
i
++] = 
hŞ71
;

289 cÚ¡ 
D©eTime
 
	`hŞ72
 (20061225); 
yes_ªsw”s
 [
i
++] = 
hŞ72
;

290 cÚ¡ 
D©eTime
 
	`hŞ73
 (20070101); 
yes_ªsw”s
 [
i
++] = 
hŞ73
;

291 cÚ¡ 
D©eTime
 
	`hŞ74
 (20070115); 
yes_ªsw”s
 [
i
++] = 
hŞ74
;

292 cÚ¡ 
D©eTime
 
	`hŞ75
 (20070219); 
yes_ªsw”s
 [
i
++] = 
hŞ75
;

293 cÚ¡ 
D©eTime
 
	`hŞ76
 (20070528); 
yes_ªsw”s
 [
i
++] = 
hŞ76
;

294 cÚ¡ 
D©eTime
 
	`hŞ77
 (20070704); 
yes_ªsw”s
 [
i
++] = 
hŞ77
;

295 cÚ¡ 
D©eTime
 
	`hŞ78
 (20070903); 
yes_ªsw”s
 [
i
++] = 
hŞ78
;

296 cÚ¡ 
D©eTime
 
	`hŞ79
 (20071122); 
yes_ªsw”s
 [
i
++] = 
hŞ79
;

297 cÚ¡ 
D©eTime
 
	`hŞ80
 (20071225); 
yes_ªsw”s
 [
i
++] = 
hŞ80
;

299 
i
 = 0; i < 80; i++) {

300 
cout
 << (
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()

301 ? (
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) +

306 
i
 = 0; i < 80; i++) {

307 
j
 = 0; j < 7; j++) {

308 
yes_ªsw”s
 [
i
].
	`add_days
 (1);

309 ià(! 
yes_ªsw”s
 [
i
].
	`is_w“k’d
 () &&

310 ! 
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()) {

311 
cout
 << 
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

312 << " may‚Ù b¨hŞiday" << 
’dl
;

315 
yes_ªsw”s
 [
i
].
	`add_days
 (-7);

316 ià(
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()) {

317 
cout
 << 
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

318 << " should b¨hŞiday" << 
’dl
;

320 
j
 = 0; j < 7; j++) {

321 
yes_ªsw”s
 [
i
].
	`add_days
 (-1);

322 ià(! 
yes_ªsw”s
 [
i
].
	`is_w“k’d
 () &&

323 ! 
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()) {

324 
cout
 << 
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

325 << " may‚Ù b¨hŞiday" << 
’dl
;

330 
i
 = 0;

332 
D©eTime
 
cŞumbus
 [10];

333 cÚ¡ 
D©eTime
 
	`cŞumbus01
 (19981012); 
cŞumbus
[
i
++] = 
cŞumbus01
;

334 cÚ¡ 
D©eTime
 
	`cŞumbus02
 (19991011); 
cŞumbus
[
i
++] = 
cŞumbus02
;

335 cÚ¡ 
D©eTime
 
	`cŞumbus03
 (20001009); 
cŞumbus
[
i
++] = 
cŞumbus03
;

336 cÚ¡ 
D©eTime
 
	`cŞumbus04
 (20011008); 
cŞumbus
[
i
++] = 
cŞumbus04
;

337 cÚ¡ 
D©eTime
 
	`cŞumbus05
 (20021014); 
cŞumbus
[
i
++] = 
cŞumbus05
;

338 cÚ¡ 
D©eTime
 
	`cŞumbus06
 (20031013); 
cŞumbus
[
i
++] = 
cŞumbus06
;

339 cÚ¡ 
D©eTime
 
	`cŞumbus07
 (20041011); 
cŞumbus
[
i
++] = 
cŞumbus07
;

340 cÚ¡ 
D©eTime
 
	`cŞumbus08
 (20051010); 
cŞumbus
[
i
++] = 
cŞumbus08
;

341 cÚ¡ 
D©eTime
 
	`cŞumbus09
 (20061009); 
cŞumbus
[
i
++] = 
cŞumbus09
;

342 cÚ¡ 
D©eTime
 
	`cŞumbus10
 (20071008); 
cŞumbus
[
i
++] = 
cŞumbus10
;

344 
i
 = 0; i < 10; i++) {

345 
cout
 << (
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()

347 : (
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) +

349 
cout
 << (
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()

351 : (
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) +

354 
i
 = 0; i < 10; i++) {

355 
j
 = 0; j < 7; j++) {

356 
cŞumbus
 [
i
].
	`add_days
 (1);

357 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

358 
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()) {

359 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

360 << " should‚Ù b¨bªk hŞiday" << 
’dl
;

362 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

363 ! 
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()) {

364 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

365 << " may‚Ù b¨hŞiday" << 
’dl
;

368 
cŞumbus
 [
i
].
	`add_days
 (-7);

369 ià(! 
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()) {

370 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

371 << " should b¨»guÏ¸hŞiday" << 
’dl
;

373 ià(! 
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()) {

374 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

375 << " should‚Ù b¨»guÏ¸hŞiday" << 
’dl
;

377 
j
 = 0; j < 7; j++) {

378 
cŞumbus
 [
i
].
	`add_days
 (-1);

379 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

380 
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()) {

381 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

382 << " should‚Ù b¨bªk hŞiday" << 
’dl
;

384 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

385 ! 
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()) {

386 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

387 << " may‚Ù b¨hŞiday" << 
’dl
;

393 
cout
 << "\n----- Te¡šg D©eTime' difàm‘hods\n" << 
’dl
;

396 cÚ¡ 
D©eTime
 
	`dt1
 (20020101, 12, 54, 31);

397 cÚ¡ 
D©eTime
 
	`dt2
 (20020201, 3, 50, 30);

399 
cout
 << "dt1 is: " << 
dt1
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
è<< 
’dl
;

400 
cout
 << "dt2 is: " << 
dt2
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
è<< 
’dl
;

401 
cout
 << "second difference between dt1‡nd dt2: "

402 << 
dt1
.
	`diff_£cÚds
 (
dt2
è<< 
’dl
;

403 
cout
 << "minute difference between dt1‡nd dt2: "

404 << 
dt1
.
	`diff_mšu‹s
 (
dt2
è<< 
’dl
;

405 
cout
 << "hour difference between dt1‡nd dt2: "

406 << 
dt1
.
	`diff_hours
 (
dt2
è<< 
’dl
;

407 
cout
 << "day difference between dt1‡nd dt2: "

408 << 
dt1
.
	`diff_days
 (
dt2
è<< 
’dl
;

409 
cout
 << "business day difference between dt1‡nd dt2: "

410 << 
dt1
.
	`diff_w“kdays
 (
dt2
è<< 
’dl
;

411 
cout
 << "week difference between dt1‡nd dt2: "

412 << 
dt1
.
	`diff_w“ks
 (
dt2
è<< 
’dl
;

414 
size_t
 
šdex
 = 0;

415 cÚ¡ 
size_t
 
max_šdex
 = 10000;

416 
D©eTime
 
	`now_³rfÜmªû
 (19700101);

418 ++
šdex
 < 
max_šdex
) {

419 
now_³rfÜmªû
.
	`add_w“kdays
 (1);

422 
cout
 << "Aá”‡ddšg " << 
max_šdex
 << " weekdays dayso 19700101, "

424 << 
now_³rfÜmªû
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

425 << 
’dl
;

428 
cout
 << "\n----- Te¡šg D©eTime' DST v EST (Gošg FÜw¬d)\n" << 
’dl
;

431 
D©eTime
 
	`¡¬t
 (20060331);

432 
D©eTime
 
‹¡
;

433 
i
 = 0;

435 
cout
 << "\tGošg from ESTØDST\n" << 
’dl
;

436 
i
++ <= 10) {

437 
‹¡
 = 
¡¬t
;

438 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

439 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

440 
¡¬t
.
	`add_days
 (1);

445 
D©eTime
 
	`¡¬t
 (20051028);

446 
D©eTime
 
‹¡
;

447 
i
 = 0;

449 
cout
 << 
’dl
 <<ƒndl;

450 
cout
 << "\tGošg from DSTØEST\n" << 
’dl
;

451 
i
++ <= 10) {

452 
‹¡
 = 
¡¬t
;

453 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

454 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

455 
¡¬t
.
	`add_days
 (1);

460 
D©eTime
 
	`¡¬t
 (20060331);

462 
cout
 << 
’dl
 <<ƒndl;

463 
cout
 << "\tGošg from ESTØDST iÀÚshÙ\n" << 
’dl
;

465 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

466 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

467 
¡¬t
.
	`add_days
 (10);

468 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

469 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

473 
D©eTime
 
	`¡¬t
 (20051028);

475 
cout
 << 
’dl
 <<ƒndl;

476 
cout
 << "\tGošg from DSTØEST iÀÚshÙ\n" << 
’dl
;

478 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

479 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

480 
¡¬t
.
	`add_days
 (10);

481 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

482 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

487 
cout
 << "\n----- Te¡šg D©eTime' DST v EST (Gošg Backw¬d)\n" << 
’dl
;

491 
D©eTime
 
	`¡¬t
 (20060408);

492 
D©eTime
 
‹¡
;

493 
i
 = 0;

495 
cout
 << "\tGošg from ESTØDST\n" << 
’dl
;

496 
i
++ <= 10) {

497 
‹¡
 = 
¡¬t
;

498 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

499 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

500 
¡¬t
.
	`add_days
 (-1);

505 
D©eTime
 
	`¡¬t
 (20051105);

506 
D©eTime
 
‹¡
;

507 
i
 = 0;

509 
cout
 << 
’dl
 <<ƒndl;

510 
cout
 << "\tGošg from DSTØEST\n" << 
’dl
;

511 
i
++ <= 10) {

512 
‹¡
 = 
¡¬t
;

513 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

514 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

515 
¡¬t
.
	`add_days
 (-1);

520 
D©eTime
 
	`¡¬t
 (20060408);

522 
cout
 << 
’dl
 <<ƒndl;

523 
cout
 << "\tGošg from ESTØDST iÀÚshÙ\n" << 
’dl
;

525 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

526 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

527 
¡¬t
.
	`add_days
 (-10);

528 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

529 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

533 
D©eTime
 
	`¡¬t
 (20051105);

535 
cout
 << 
’dl
 <<ƒndl;

536 
cout
 << "\tGošg from DSTØEST iÀÚshÙ\n" << 
’dl
;

538 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

539 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

540 
¡¬t
.
	`add_days
 (-10);

541 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

542 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

546 
D©eTime
 
	`¡¬t
 (20090309, 16, 30);

548 
cout
 << 
’dl
 <<ƒndl;

549 
cout
 << "\tGošg from ESTØDST iÀÚshÙ (2)\n" << 
’dl
;

551 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

552 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

553 
¡¬t
.
	`add_days
 (-20);

554 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

555 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

559 
D©eTime
 
	`¡¬t
 (20081103, 16, 30);

561 
cout
 << 
’dl
 <<ƒndl;

562 
cout
 << "\tGošg from DSTØEST iÀÚshÙ (3)\n" << 
’dl
;

564 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

565 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

566 
¡¬t
.
	`add_w“kdays
 (-1);

567 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

568 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

573 
cout
 << "\n----- Te¡šg D©eTimgošg ov” y—¸bound¬y\n" << 
’dl
;

576 
D©eTime
 
	`‹¡
 (20081225, 16, 30);

577 
i
 = 0;

579 
cout
 << 
’dl
 <<ƒndl;

580 
cout
 << "\tGošg FÜw¬d\n" << 
’dl
;

582 
i
++ <= 10) {

583 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

584 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

585 
‹¡
.
	`add_days
 (1);

592 
D©eTime
 
	`‹¡
 (20080105, 16, 30);

593 
i
 = 0;

595 
cout
 << 
’dl
 <<ƒndl;

596 
cout
 << "\tGošg Backw¬d\n" << 
’dl
;

598 
i
++ <= 10) {

599 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

600 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

601 
‹¡
.
	`add_days
 (-1);

607 
cout
 << "\n----- Te¡šg D©eTime' timzÚchªges\n" << 
’dl
;

609 
D©eTime
 
loÿl_now
;

610 
D©eTime
 
	`gmt_now
 (
DT_TIME_ZONE
::
GMT
);

611 
D©eTime
 
	`b_aœes_now
 (
DT_TIME_ZONE
::
AM_BUENOS_AIRES
);

612 
D©eTime
 
	`‹h¿n_now
 (
DT_TIME_ZONE
::
AS_TEHRAN
);

613 
D©eTime
 
	`tokyo_now
 (
DT_TIME_ZONE
::
AS_TOKYO
);

614 
D©eTime
 
	`sydÃy_now
 (
DT_TIME_ZONE
::
AU_SYDNEY
);

615 
D©eTime
 
	`nz_now
 (
DT_TIME_ZONE
::
NZ
);

616 
D©eTime
 
	`moscow_now
 (
DT_TIME_ZONE
::
EU_MOSCOW
);

617 
D©eTime
 
	`shªg_now
 (
DT_TIME_ZONE
::
AS_SHANGHAI
);

618 
D©eTime
 
	`b”lš_now
 (
DT_TIME_ZONE
::
EU_BERLIN
);

619 
D©eTime
 
	`·ris_now
 (
DT_TIME_ZONE
::
EU_PARIS
);

620 
D©eTime
 
	`¡ock_now
 (
DT_TIME_ZONE
::
EU_STOCKHOLM
);

621 
D©eTime
 
	`ny_now
 (
DT_TIME_ZONE
::
AM_NEW_YORK
);

622 
D©eTime
 
	`Ï_now
 (
DT_TIME_ZONE
::
AM_LOS_ANGELES
);

623 
D©eTime
 
loÿl_now_2
;

625 
cout
 << "Now Loÿl: " << 
loÿl_now
 << 
’dl
;

626 
cout
 << "GMT Loÿl: " << 
gmt_now
 << 
’dl
;

627 
cout
 << "Now Bu’o Aœes: " << 
b_aœes_now
 << 
’dl
;

628 
cout
 << "Now Teh¿n: " << 
‹h¿n_now
 << 
’dl
;

629 
cout
 << "Now Tokyo: " << 
tokyo_now
 << 
’dl
;

630 
cout
 << "Now Syd’y: " << 
sydÃy_now
 << 
’dl
;

631 
cout
 << "Now New Z—Ïnd: " << 
nz_now
 << 
’dl
;

632 
cout
 << "Now Moscow: " << 
moscow_now
 << 
’dl
;

633 
cout
 << "Now Shªghai: " << 
shªg_now
 << 
’dl
;

634 
cout
 << "Now B”lš: " << 
b”lš_now
 << 
’dl
;

635 
cout
 << "Now P¬is: " << 
·ris_now
 << 
’dl
;

636 
cout
 << "Now StockhŞm: " << 
¡ock_now
 << 
’dl
;

637 
cout
 << "Now New YÜk: " << 
ny_now
 << 
’dl
;

638 
cout
 << "Now Lo Amg–es: " << 
Ï_now
 << 
’dl
;

639 
cout
 << "Now LoÿÈ(2): " << 
loÿl_now_2
 << 
’dl
;

641 
loÿl_now
.
	`£t_timezÚe
 (
DT_TIME_ZONE
::
AU_SYDNEY
);

642 
cout
 << "\nGošg from LoÿÈtØSydÃy: " << 
loÿl_now
 << 
’dl
;

644 
D©eTime
 
	`loÿl
 (20091123, 9, 38, 43, 345);

646 
cout
 << "\nLoÿÈD©e/Time: " << 
loÿl
 << 
’dl
;

647 
loÿl
.
	`£t_timezÚe
 (
DT_TIME_ZONE
::
AU_SYDNEY
);

648 
cout
 << "\nLoÿÈchªgedØSydÃy: " << 
loÿl
 << 
’dl
;

654 cÚ¡ 
D©eTime
 
	`dt1
 ("20100207 12:31");

656 ià(
dt1
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

658 
¡d
::
cout
 << "ERROR: "

659 << 
dt1
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

660 << "02/07/2010 12:31:00.000" << 
¡d
::
’dl
;

661  (
EXIT_FAILURE
);

664 cÚ¡ 
D©eTime
 
	`dt2
 ("02/08/2010 12:31:56", 
DT_DATE_STYLE
::
AME_STYLE
);

666 ià(
dt2
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

668 
¡d
::
cout
 << "ERROR: "

669 << 
dt2
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

670 << "02/08/2010 12:31:56.000" << 
¡d
::
’dl
;

671  (
EXIT_FAILURE
);

674 cÚ¡ 
D©eTime
 
	`dt3
 ("2010/02/09 12:31:56", 
DT_DATE_STYLE
::
EUR_STYLE
);

676 ià(
dt3
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

678 
¡d
::
cout
 << "ERROR: "

679 << 
dt3
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

680 << "02/09/2010 12:31:56.000" << 
¡d
::
’dl
;

681  (
EXIT_FAILURE
);

684 cÚ¡ 
D©eTime
 
	`dt4
 (" 2010/02/10 12:31:56", 
DT_DATE_STYLE
::
EUR_STYLE
);

686 ià(
dt4
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

688 
¡d
::
cout
 << "ERROR: "

689 << 
dt4
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

690 << "02/10/2010 12:31:56.000" << 
¡d
::
’dl
;

691  (
EXIT_FAILURE
);

694 cÚ¡ 
D©eTime
 
	`dt5
 (" 02/11/2010 12:31:56",

695 
DT_DATE_STYLE
::
AME_STYLE
);

697 ià(
dt5
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

699 
¡d
::
cout
 << "ERROR: "

700 << 
dt5
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

701 << "02/11/2010 12:31:56.000" << 
¡d
::
’dl
;

702  (
EXIT_FAILURE
);

705 cÚ¡ 
D©eTime
 
	`dt6
 (20190110, 13, 56, 23, 123456987);

707 ià(
dt6
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_PRECISE
) !=

709 
¡d
::
cout
 << "ERROR: "

710 << 
dt6
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_PRECISE
) << " != "

711 << "1547146583.123456987" << 
¡d
::
’dl
;

719 
D©eTime
 
	`now
 (20190530, 11, 15, 5, 123456789);

721 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

724 
now
.
	`add_mÚths
 (1);

725 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

728 
now
.
	`add_mÚths
 (-1);

729 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

732 
now
.
	`add_mÚths
 (10);

733 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

736 
now
.
	`add_mÚths
 (-10);

737 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

740 
now
.
	`add_mÚths
 (9);

741 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

748 
D©eTime
 
	`now
 (20160229, 11, 15, 5, 123456789);

750 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

753 
now
.
	`add_y—rs
 (1);

754 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

757 
now
.
	`add_y—rs
 (-1);

758 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

761 
now
.
	`add_y—rs
 (5);

762 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

765 
now
.
	`add_y—rs
 (-5);

766 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

769 
now
.
	`add_y—rs
 (9);

770 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

777 cÚ¡ 
D©eTime
 
	`dt1
 (20190522, 11, 15, 5, 123456789,

778 
DT_TIME_ZONE
::
AM_NEW_YORK
);

780 
	`as£¹
(
dt1
.
	`lÚg_time
() == 1558538105123456789);

782 cÚ¡ 
D©eTime
 
	`dt2
 (20190522, 11, 15, 5, 5,

783 
DT_TIME_ZONE
::
AM_NEW_YORK
);

785 
	`as£¹
(
dt2
.
	`lÚg_time
() == 1558538105000000005);

787 cÚ¡ 
D©eTime
 
	`dt3
 (20190522, 11, 15, 0, 0,

788 
DT_TIME_ZONE
::
AM_NEW_YORK
);

790 
	`as£¹
(
dt3
.
	`lÚg_time
() == 1558538100000000000);

791 
	`as£¹
(
dt3
.
	`time
() == 1558538100);

797 
D©eTime
 
	`now
 (20190530, 11, 15, 5, 123000000,

798 
DT_TIME_ZONE
::
AM_NEW_YORK
);

800 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

803 
now
.
	`add_Çno£cÚds
 (1000000000);

804 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

806 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306123000000);

807 
now
.
	`add_Çno£cÚds
 (-1000000000);

808 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

810 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123000000);

811 
now
.
	`add_Çno£cÚds
 (1000010000);

812 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

814 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306123010000);

815 
now
.
	`add_Çno£cÚds
 (-1000010000);

816 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

818 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123000000);

820 
now
.
	`add_Çno£cÚds
 (9999);

821 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

823 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123009999);

824 
now
.
	`add_Çno£cÚds
 (-9999);

825 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

827 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123000000);

829 
now
.
	`add_Çno£cÚds
 (-123000000);

830 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305000000000);

831 
now
.
	`add_Çno£cÚds
 (500000000);

832 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305500000000);

833 
now
.
	`add_Çno£cÚds
 (500000000);

834 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306000000000);

835 
now
.
	`add_Çno£cÚds
 (500000000);

836 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306500000000);

837 
now
.
	`add_Çno£cÚds
 (500000000);

838 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229307000000000);

840 
now
.
	`add_Çno£cÚds
 (-500000000);

841 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306500000000);

842 
now
.
	`add_Çno£cÚds
 (-500000000);

843 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306000000000);

844 
now
.
	`add_Çno£cÚds
 (-500000000);

845 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305500000000);

848  (
EXIT_SUCCESS
);

849 
	}
}

	@DataFrame/AIFM/test/gen_rand_tester.cc

28 
	~<D©aF¿me/RªdG’.h
>

30 
	~<ÿs£¹
>

31 
	~<io¡»am
>

33 
usšg
 
Çme¥aû
 
	ghmdf
;

37 
	$maš
(
¬gc
, *
¬gv
[]) {

40 
RªdG’P¬ams
<> 
p
;

42 
p
.
mš_v®ue
 = 0;

43 
p
.
max_v®ue
 = 1000000;

45 
g’_unifÜm_št_di¡
<>(1024, 
p
);

49 
RªdG’P¬ams
<> 
p
;

51 
p
.
mš_v®ue
 = 0;

52 
p
.
max_v®ue
 = 2.0;

53 
p
.
£ed
 = 23;

55 
g’_unifÜm_»®_di¡
<>(1024, 
p
);

59 
	`g’_b”nouÎi_di¡
(1024);

63 
RªdG’P¬ams
<> 
p
;

65 
p
.
t_di¡
 = 1000;

67 
g’_bšomŸl_di¡
<>(1024, 
p
);

71 
RªdG’P¬ams
<> 
p
;

73 
p
.
t_di¡
 = 1000;

75 
g’_Ãg©ive_bšomŸl_di¡
<>(1024, 
p
);

79 
g’_geom‘ric_di¡
<>(1024);

83 
RªdG’P¬ams
<> 
p
;

85 
p
.
m—n
 = 4.0;

87 
g’_poissÚ_di¡
<>(1024, 
p
);

91 
RªdG’P¬ams
<> 
p
;

93 
p
.
Ïmbda
 = 1.5;

95 
g’_expÚ’tŸl_di¡
<>(1024, 
p
);

99 
RªdG’P¬ams
<> 
p
;

101 
p
.
®pha
 = 1.5;

102 
p
.
b‘a
 = 1.5;

104 
g’_gamma_di¡
<>(1024, 
p
);

108 
RªdG’P¬ams
<> 
p
;

110 
p
.
®pha
 = 1.5;

111 
p
.
b‘a
 = 1.5;

113 
g’_weibuÎ_di¡
<>(1024, 
p
);

117 
RªdG’P¬ams
<> 
p
;

119 
p
.
®pha
 = 1.5;

120 
p
.
b‘a
 = 1.5;

122 
g’_exŒeme_v®ue_di¡
<>(1024, 
p
);

126 
RªdG’P¬ams
<> 
p
;

128 
p
.
m—n
 = 1.0;

129 
p
.
¡d
 = 0.005;

131 autØ
r
 = 
g’_nÜm®_di¡
<>(1024, 
p
);

133 
r
 = 
g’_nÜm®_di¡
<>(1024);

134 autØ
c™”
 : 
r
)

135 
	`as£¹
(
c™”
 == 1.0);

139 
g’_lognÜm®_di¡
<>(1024);

143 
RªdG’P¬ams
<> 
p
;

145 
p
.
n
 = 4.0;

147 
g’_chi_squ¬ed_di¡
<>(1024, 
p
);

151 
g’_ÿuchy_di¡
<>(1024);

155 
g’_fish”_f_di¡
<>(1024);

159 autØ
r
 = 
g’_¡ud’t_t_di¡
<>(1024);

161 autØ
c™”
 : 
r
)

162 
¡d
::
cout
 << 
c™”
 << ", ";

163 
¡d
::
cout
 << std::
’dl
;

167 autØ
r
 = 
g’_log_¥aû_nums
<>(1024, 3, 4, 2);

168 autØ
r2
 = 
g’_log_¥aû_nums
<>(256, 3, 4, 10);

170 
¡d
::
cout
 << '\n' << std::
’dl
;

171 autØ
c™”
 : 
r
)

172 
¡d
::
cout
 << 
c™”
 << ", ";

173 
¡d
::
cout
 << '\n' << std::
’dl
;

174 autØ
c™”
 : 
r2
)

175 
¡d
::
cout
 << 
c™”
 << ", ";

176 
¡d
::
cout
 << std::
’dl
;

180 
	}
}

	@DataFrame/AIFM/test/vector_ptr_view_tester.cc

30 
	~<D©aF¿me/VeùÜs/VeùÜPŒV›w.h
>

32 
	~<ÿs£¹
>

33 
	~<io¡»am
>

35 
usšg
 
Çme¥aû
 
	ghmdf
;

39 
	$maš
 (
¬gCÁ
, *
¬gVùr
 []) {

41 
¡d
::
veùÜ
<> 
št_vec
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

42 
¡d
::
veùÜ
<> 
št_vec2
 = { 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 };

43 
VeùÜPŒV›w
<> 
	`vec_v›w
(
št_vec
);

44 cÚ¡ 
VeùÜPŒV›w
<> 
c_vec_v›w
 = 
št_vec
;

46 
	`as£¹
(
vec_v›w
.
	`size
(è=ğ
št_vec
.size());

48 
VeùÜPŒV›w
<> 
	`vec_v›w2
(
št_vec
.
	`begš
(), iÁ_vec.
	`’d
());

50 
	`as£¹
(
vec_v›w2
.
	`size
(è=ğ
vec_v›w
.size());

51 
	`as£¹
(
vec_v›w2
[2] =ğ
vec_v›w
[2]);

52 
	`as£¹
(
vec_v›w2
[9] =ğ
vec_v›w
[9]);

53 
	`as£¹
(
vec_v›w2
[2] == 3);

54 
	`as£¹
(
vec_v›w2
[9] == 10);

55 
	`as£¹
(
vec_v›w2
.
	`äÚt
() == 1);

56 
	`as£¹
(
vec_v›w
.
	`back
() == 10);

58 
¡d
::
size_t
 
couÁ”
 = 0;

60 #iâdeà
_WIN32


61 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
c™”
 = 
vec_v›w
.
	`begš
();

62 
c™”
 !ğ
vec_v›w
.
	`’d
(); ++citer)

63 
	`as£¹
(*
c™”
 =ğ++
couÁ”
);

64 
	`as£¹
(
couÁ”
 =ğ
vec_v›w
.
	`size
());

66 
¡d
::
size_t
 
i
 = 0; i < 
vec_v›w
.
	`size
(); ++i)

67 
	`as£¹
(
vec_v›w
[
i
] =ğ++
couÁ”
);

68 
	`as£¹
(
couÁ”
 =ğ
vec_v›w
.
	`size
());

71 
couÁ”
 = 0;

72 #iâdeà
_WIN32


73 
VeùÜPŒV›w
<>::
™”©Ü
 
™”
 = 
vec_v›w
.
	`begš
();

74 
™”
 !ğ
vec_v›w
.
	`’d
(); ++iter)

75 
	`as£¹
(*
™”
 =ğ++
couÁ”
);

76 
	`as£¹
(
couÁ”
 =ğ
vec_v›w
.
	`size
());

79 
couÁ”
 = 0;

80 #iâdeà
_WIN32


81 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
c™”
 = 
c_vec_v›w
.
	`begš
();

82 
c™”
 !ğ
c_vec_v›w
.
	`’d
(); ++citer)

83 
	`as£¹
(*
c™”
 =ğ++
couÁ”
);

84 
	`as£¹
(
couÁ”
 =ğ
c_vec_v›w
.
	`size
());

86 
¡d
::
size_t
 
i
 = 0; i < 
c_vec_v›w
.
	`size
(); ++i)

87 
	`as£¹
(
c_vec_v›w
[
i
] =ğ++
couÁ”
);

88 
	`as£¹
(
couÁ”
 =ğ
c_vec_v›w
.
	`size
());

91 
VeùÜPŒV›w
<> 
	`vec_v›w3
(
št_vec2
.
	`begš
(), iÁ_vec2.
	`’d
());

93 
vec_v›w3
.
	`sÜt
();

94 
couÁ”
 = 0;

95 #iâdeà
_WIN32


96 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
c™”
 = 
vec_v›w3
.
	`begš
();

97 
c™”
 !ğ
vec_v›w3
.
	`’d
(); ++citer)

98 
	`as£¹
(*
c™”
 =ğ++
couÁ”
);

99 
	`as£¹
(
couÁ”
 =ğ
vec_v›w3
.
	`size
());

101 
¡d
::
size_t
 
i
 = 0; i < 
vec_v›w3
.
	`size
(); ++i)

102 
	`as£¹
(
vec_v›w3
[
i
] =ğ++
couÁ”
);

103 
	`as£¹
(
couÁ”
 =ğ
vec_v›w3
.
	`size
());

106 
couÁ”
 = 
št_vec2
.
	`size
();

107 
¡d
::
veùÜ
<>::
cÚ¡_™”©Ü
 
c™”
 = 
št_vec2
.
	`begš
();

108 
c™”
 !ğ
št_vec2
.
	`’d
(); ++citer) {

109 
	`as£¹
(*
c™”
 =ğ
couÁ”
);

110 
couÁ”
 -= 1;

112 
	`as£¹
(
couÁ”
 == 0);

114 
vec_v›w2
.
	`push_back
(&(
št_vec
[3]));

115 
	`as£¹
(
vec_v›w2
.
	`back
() == 4);

117 
vec_v›w2
.
	`”a£
(vec_v›w2.
	`size
() - 1);

118 
	`as£¹
(
vec_v›w2
.
	`back
() == 10);

120 
vec_v›w2
.
	`š£¹
(3, &(
št_vec2
[0]));

121 
	`as£¹
(
vec_v›w2
[3] == 10);

122 
	`as£¹
(
vec_v›w2
[2] == 3);

123 
	`as£¹
(
vec_v›w2
[4] == 4);

125 
vec_v›w2
.
	`š£¹
(vec_v›w2.
	`size
(), 
št_vec2
.
	`begš
(), iÁ_vec2.
	`’d
());

126 
	`as£¹
(
vec_v›w2
.
	`size
(è=ğ
št_vec2
.size() * 2 + 1);

127 
	`as£¹
(
vec_v›w2
[3] == 10);

128 
	`as£¹
(
vec_v›w2
[2] == 3);

129 
	`as£¹
(
vec_v›w2
[4] == 4);

130 
	`as£¹
(
vec_v›w2
[20] == 1);

131 
	`as£¹
(
vec_v›w2
[19] == 2);

133 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
™em
 = 
vec_v›w
.
	`begš
();

135 
	`as£¹
(*
™em
 == 1);

136 
	`as£¹
(*(
™em
++) == 1);

137 
	`as£¹
(*
™em
 == 2);

139  (
EXIT_SUCCESS
);

140 
	}
}

	@DataFrame/AIFM/test/vectors_tester.cc

28 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.h
>

30 
	~<ÿs£¹
>

31 
	~<io¡»am
>

32 
	~<¡ršg
>

33 
	~<ty³šfo
>

35 
usšg
 
Çme¥aû
 
	ghmdf
;

39 
	gmy_vis™Ü
 : 
H‘”oVeùÜ
::
vis™Ü_ba£
<, , 
	g¡d
::
¡ršg
> {

41 
‹m¶©e
<
şass
 
T
>

42 
İ”©Ü
(è(
T
 &
i
è{ i +ği; 
	g¡d
::
cout
 << "-- " << i << 
¡d
::
’dl
;}

47 
	gsÜt_funùÜ
 : 
H‘”oVeùÜ
::
vis™Ü_ba£
<, , 
	g¡d
::
¡ršg
> {

49 
‹m¶©e
<
şass
 
T
>

50 
boŞ
 
İ”©Ü
(è(cÚ¡ 
T
 &
lhs
, cÚ¡ 
	gT
 &
	grhs
) {

52  (
	glhs
 < 
	grhs
);

58 
	gchªge_funùÜ
 : 
H‘”oVeùÜ
::
vis™Ü_ba£
<, , 
	g¡d
::
¡ršg
> {

60 
‹m¶©e
<
ty³Çme
 
T
>

61 
İ”©Ü
(è(
T
 &
v®
) {

62 
i
 = 0; 
	gi
 < 10; ++i)

63 
	gv®
.
push_back
(

64 
ty³Çme
 
¡d
::
»move_»ã»nû
<
deşty³
(
v®
)>::
ty³
::
v®ue_ty³
());

70 
	$maš
(
¬gc
, *
¬gv
[]) {

72 
H‘”oVeùÜ
 
hv
;

73 
H‘”oVeùÜ
 
hv2
;

74 
H‘”oVeùÜ
 
hv3
;

76 cÚ¡ 
¡d
::
veùÜ
<> &
št_vec
 = 
hv
.
g‘_veùÜ
<>();

78 
hv
.
	`push_back
 (3);

79 
hv
.
em¶aû_back
<> (4);

80 
hv
.
	`push_back
 (5);

81 
hv
.
em¶aû
<> (
št_vec
.
	`begš
 (), 10);

82 
hv
.
	`push_back
 (1);

83 
hv
.
	`push_back
 (0);

85 
hv
.
	`push_back
 (4.25);

86 
hv
.
	`push_back
 (5.6845);

87 
hv
.
	`push_back
 (6.1112);

88 
hv
.
	`push_back
 (1.05);

89 
hv
.
	`push_back
 (0.456783);

90 
hv
.
	`push_back
 (0.123);

92 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("str_1"));

93 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("str_2"));

94 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("str_3"));

95 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("abc"));

96 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("fas"));

101 
H‘”oV›w
 
v
 = 
hv
.
g‘_v›w
<>();

103 
	`as£¹
(
v
.
©
<>(3) == 1.05);

105 
H‘”oV›w
 
s
 = 
hv
.
g‘_v›w
<
¡d
::
¡ršg
>(1, 3);

107 
	`as£¹
(
s
.
©
<
¡d
::
¡ršg
>(0) == "str_2");

108 
	`as£¹
(
s
.
size
<
¡d
::
¡ršg
>() == 2);

109 
	`as£¹
(
s
.
back
<
¡d
::
¡ršg
>() == "str_3");

115 
H‘”oPŒV›w
 
v
 = 
hv
.
g‘_±r_v›w
<>();

117 
	`as£¹
(
v
.
©
<>(3) == 1.05);

119 
H‘”oPŒV›w
 
s
 = 
hv
.
g‘_±r_v›w
<
¡d
::
¡ršg
>(1, 3);

121 
	`as£¹
(
s
.
©
<
¡d
::
¡ršg
>(0) == "str_2");

122 
	`as£¹
(
s
.
size
<
¡d
::
¡ršg
>() == 2);

123 
	`as£¹
(
s
.
back
<
¡d
::
¡ršg
>() == "str_3");

126 
	`as£¹
(
hv
.
size
<
¡d
::
¡ršg
>() == 5);

127 
hv
.
”a£
<
¡d
::
¡ršg
>(2);

128 
	`as£¹
(
hv
.
size
<
¡d
::
¡ršg
>() == 4);

130 
hv2
 = 
hv
;

131 
hv3
 = 
¡d
::
	`move
(
hv2
);

133 cÚ¡ 
¡d
::
veùÜ
<> &
dbl_vec
 = 
hv3
.
g‘_veùÜ
<>();

135 cÚ¡‡utØ&
™”
 : 
št_vec
)

136 
¡d
::
cout
 << 
™”
 << std::
’dl
;

138 
¡d
::
cout
 << std::
’dl
;

139 cÚ¡‡utØ&
™”
 : 
dbl_vec
)

140 
¡d
::
cout
 << 
™”
 << std::
’dl
;

142 
my_vis™Ü
 
mv
;

144 
¡d
::
cout
 << "Vis™šg ..." << std::
’dl
;

145 
hv
.
	`vis™
(
¡d
::
	`move
(
mv
));

147 
sÜt_funùÜ
 
sÜt_func
;

149 
¡d
::
cout
 << "SÜtšg ..." << std::
’dl
;

150 
hv
.
	`sÜt
(
¡d
::
	`move
(
sÜt_func
));

151 
¡d
::
cout
 << "Vis™šg ..." << std::
’dl
;

152 
hv
.
	`vis™
(
¡d
::
	`move
(
mv
));

154 
chªge_funùÜ
 
chªge_func
;

156 
¡d
::
cout
 << "Chªgšg ..." << std::
’dl
;

157 
hv
.
	`chªge
(
¡d
::
	`move
(
chªge_func
));

158 
¡d
::
cout
 << "Vis™šg ..." << std::
’dl
;

159 
hv
.
	`vis™
(
¡d
::
	`move
(
mv
));

161 
hv
.
	`»size
(100, 5);

162 
hv
.
pİ_back
<>();

163 
hv
.
em±y
<>();

164 
hv
.
©
<>(5);

165 
hv
.
back
<>();

166 
hv
.
äÚt
<>();

171 
¡d
::
veùÜ
<> 
vec
 { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

172 
VeùÜV›w
<> 
vec_v›w
;

174 
vec_v›w
 = 
vec
;

175 
	`as£¹
(
vec_v›w
.
	`size
() == 10);

176 
	`as£¹
(
vec_v›w
[0] == 1);

177 
	`as£¹
(
vec_v›w
[5] == 6);

178 
	`as£¹
(
vec_v›w
[9] == 10);

180 
vec_v›w
[5] = 100;

181 
	`as£¹
(
vec_v›w
[5] == 100);

183 
VeùÜV›w
<>::
cÚ¡_™”©Ü
 
™em
 = 
vec_v›w
.
	`begš
();

185 
	`as£¹
(*
™em
 == 1);

186 
	`as£¹
(*(
™em
++) == 1);

187 
	`as£¹
(*
™em
 == 2);

191 
	}
}

	@DataFrame/original/app/main.cc

1 
	~<D©aF¿me/D©aF¿me.h
>

3 
	~<®gÜ™hm
>

4 
	~<chrÚo
>

5 
	~<cm©h
>

6 
	~<c¡dlib
>

7 
	~<c¡ršg
>

8 
	~<io¡»am
>

9 
	~<m­
>

10 
	~<memÜy
>

11 
	~<¡ršg
>

13 
usšg
 
Çme¥aû
 
	ghmdf
;

18 
	$hav”sše
(
Ït1
, 
lÚ1
, 
Ït2
, 
lÚ2
)

21 
dL©
 = (
Ït2
 - 
Ït1
è* 
M_PI
 / 180.0;

22 
dLÚ
 = (
lÚ2
 - 
lÚ1
è* 
M_PI
 / 180.0;

25 
Ït1
 =†©1 * 
M_PI
 / 180.0;

26 
Ït2
 =†©2 * 
M_PI
 / 180.0;

29 
a
 = 
	`pow
(
	`sš
(
dL©
 / 2), 2è+…ow(sš(
dLÚ
 / 2), 2è* 
	`cos
(
Ït1
è* cos(
Ït2
);

30 
¿d
 = 6371;

31 
c
 = 2 * 
	`asš
(
	`sq¹
(
a
));

32  
¿d
 * 
c
;

33 
	}
}

35 
	gStdD©aF¿me
<
	gušt64_t
> 
	$lßd_d©a
()

37  
»ad_csv
<-1, , 
Sim¶eTime
, SimpleTime, , , , , , , ,

44 
	}
}

46 
´št_numb”_v’dÜ_ids_ªd_unique
(
StdD©aF¿me
<
ušt64_t
>& 
df
)

48 
	g¡d
::
cout
 << "´št_numb”_v’dÜ_ids_ªd_unique()" << 
¡d
::
’dl
;

49 
	g¡d
::
cout
 << "Number of vendor_ids inherain dataset: "

50 << 
df
.
g‘_cŞumn
<>("V’dÜID").
size
(è<< 
¡d
::
’dl
;

51 
	g¡d
::
cout
 << "Number of unique vendor_ids inherain dataset:"

52 << 
df
.
g‘_cŞ_unique_v®ues
<>("V’dÜID").
size
(è<< 
¡d
::
’dl
;

53 
	g¡d
::
cout
 << 
¡d
::
’dl
;

56 
´št_·s§ge_couÁs_by_v’dÜ_id
(
StdD©aF¿me
<
ušt64_t
>& 
df
, 
v’dÜ_id
)

58 
	g¡d
::
cout
 << "´št_·s§ge_couÁs_by_v’dÜ_id(v’dÜ_id), v’dÜ_id = " << 
v’dÜ_id


59 << 
¡d
::
’dl
;

61 autØ
	g£l_v’dÜ_funùÜ
 = [&](cÚ¡ 
ušt64_t
&, cÚ¡ & 
	gvid
è-> 
	gboŞ
 {

62  
	gvid
 =ğ
v’dÜ_id
;

64 autØ
	g£l_df
 =

65 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_v’dÜ_funùÜ
), , 
	gSim¶eTime
, , >(

66 "V’dÜID", 
	g£l_v’dÜ_funùÜ
);

67 auto& 
	g·s§ge_couÁ_vec
 = 
£l_df
.
g‘_cŞumn
<>("passenger_count");

68 
	g¡d
::
m­
<, > 
	g·s§ge_couÁ_m­
;

69 autØ
	g·s§ge_couÁ
 : 
·s§ge_couÁ_vec
) {

70 
·s§ge_couÁ_m­
[
·s§ge_couÁ
]++;

72 auto& [
·s§ge_couÁ
, 
út
] : 
·s§ge_couÁ_m­
) {

73 
¡d
::
cout
 << "·s§ge_couÁğ" << 
·s§ge_couÁ
 << ", cÁ = " << 
út
 << std::
’dl
;

75 
	g¡d
::
cout
 << 
¡d
::
’dl
;

78 
ÿlcuÏ‹_Œ_du¿tiÚ
(
StdD©aF¿me
<
ušt64_t
>& 
df
)

80 
	g¡d
::
cout
 << "ÿlcuÏ‹_Œ_du¿tiÚ()" << 
¡d
::
’dl
;

82 auto& 
	gpickup_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_pickup_datetime");

83 auto& 
	gdrİoff_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_dropoff_datetime");

84 
as£¹
(
pickup_time_vec
.
size
(è=ğ
drİoff_time_vec
.size());

86 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚ_vec
;

87 
ušt64_t
 
	gi
 = 0; i < 
	gpickup_time_vec
.
size
(); i++) {

88 autØ
	gpickup_time_£cÚd
 = 
pickup_time_vec
[
i
].
to_£cÚd
();

89 autØ
	gdrİoff_time_£cÚd
 = 
drİoff_time_vec
[
i
].
to_£cÚd
();

90 
	gdu¿tiÚ_vec
.
push_back
(
drİoff_time_£cÚd
 - 
pickup_time_£cÚd
);

92 
	gdf
.
lßd_cŞumn
("du¿tiÚ", 
¡d
::
move
(
du¿tiÚ_vec
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

93 
	gMaxVis™Ü
<
	gušt64_t
> 
	gmax_vis™Ü
;

94 
	gMšVis™Ü
<
	gušt64_t
> 
	gmš_vis™Ü
;

95 
	gM—nVis™Ü
<
	gušt64_t
> 
	gm—n_vis™Ü
;

96 
	gdf
.
muÉi_vis™
(
¡d
::
make_·œ
("du¿tiÚ", &
max_vis™Ü
),

97 
¡d
::
make_·œ
("du¿tiÚ", &
mš_vis™Ü
),

98 
¡d
::
make_·œ
("du¿tiÚ", &
m—n_vis™Ü
));

99 
	g¡d
::
cout
 << "M—Àdu¿tiÚ = " << 
m—n_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

100 
	g¡d
::
cout
 << "Mš du¿tiÚ = " << 
mš_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

101 
	g¡d
::
cout
 << "Max du¿tiÚ = " << 
max_vis™Ü
.
g‘_»suÉ
(è<< " secÚds" << 
¡d
::
’dl
;

102 
	g¡d
::
cout
 << 
¡d
::
’dl
;

105 
ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag
(
StdD©aF¿me
<
ušt64_t
>& 
df
)

107 
	g¡d
::
cout
 << "ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag()" << 
¡d
::
’dl
;

109 autØ
	g£l_N_§ff_funùÜ
 = [&](cÚ¡ 
ušt64_t
&, cÚ¡ & 
	g§ff
è-> 
	gboŞ
 {

110  
	g§ff
 == 'N';

112 autØ
	gN_df
 =

113 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_N_§ff_funùÜ
), , 
	gSim¶eTime
, , >(

114 "¡Üe_ªd_fwd_æag", 
	g£l_N_§ff_funùÜ
);

115 
	g¡d
::
cout
 << 
¡©ic_ÿ¡
<>(
N_df
.
g‘_šdex
().
size
()è/ 
df
.g‘_šdex().size(è<< 
¡d
::
’dl
;

117 autØ
	g£l_Y_§ff_funùÜ
 = [&](cÚ¡ 
ušt64_t
&, cÚ¡ & 
	g§ff
è-> 
	gboŞ
 {

118  
	g§ff
 == 'Y';

120 autØ
	gY_df
 =

121 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_Y_§ff_funùÜ
), , 
	gSim¶eTime
, , >(

122 "¡Üe_ªd_fwd_æag", 
	g£l_Y_§ff_funùÜ
);

123 autØ
	gunique_v’dÜ_id_vec
 = 
Y_df
.
g‘_cŞ_unique_v®ues
<>("VendorID");

124 
	g¡d
::
cout
 << '{';

125 auto& 
	gveùÜ_id
 : 
unique_v’dÜ_id_vec
) {

126 
¡d
::
cout
 << 
veùÜ_id
 << ", ";

128 
	g¡d
::
cout
 << '}' << 
¡d
::
’dl
;

130 
	g¡d
::
cout
 << 
¡d
::
’dl
;

133 
ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn
(
StdD©aF¿me
<
ušt64_t
>& 
df
)

135 
	g¡d
::
cout
 << "ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn()" << 
¡d
::
’dl
;

137 auto& 
	gpickup_lÚg™ude_vec
 = 
df
.
g‘_cŞumn
<>("pickup_longitude");

138 auto& 
	gpickup_Ït™ude_vec
 = 
df
.
g‘_cŞumn
<>("pickup_latitude");

139 auto& 
	gdrİoff_lÚg™ude_vec
 = 
df
.
g‘_cŞumn
<>("dropoff_longitude");

140 auto& 
	gdrİoff_Ït™ude_vec
 = 
df
.
g‘_cŞumn
<>("dropoff_latitude");

141 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
pickup_Ït™ude_vec
.size());

142 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
drİoff_lÚg™ude_vec
.size());

143 
as£¹
(
pickup_lÚg™ude_vec
.
size
(è=ğ
drİoff_Ït™ude_vec
.size());

144 
	g¡d
::
veùÜ
<> 
hav”sše_di¡ªû_vec
;

145 
ušt64_t
 
	gi
 = 0; i < 
	gpickup_lÚg™ude_vec
.
size
(); i++) {

146 
	ghav”sše_di¡ªû_vec
.
push_back
(
hav”sše
(
pickup_Ït™ude_vec
[
i
], 
pickup_lÚg™ude_vec
[i],

147 
drİoff_Ït™ude_vec
[
i
],

148 
drİoff_lÚg™ude_vec
[
i
]));

150 
	gdf
.
lßd_cŞumn
("hav”sše_di¡ªû", 
¡d
::
move
(
hav”sše_di¡ªû_vec
),

151 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

152 autØ
	g£l_funùÜ
 = [&](cÚ¡ 
ušt64_t
&, cÚ¡ & 
	gdi¡
è-> 
	gboŞ
 {  dist > 100; };

153 autØ
	g£l_df
 = 
df
.
g‘_d©a_by_£l
<, 
deşty³
(
£l_funùÜ
), , 
	gSim¶eTime
, , >(

154 "hav”sše_di¡ªû", 
	g£l_funùÜ
);

155 
	g¡d
::
cout
 << "Number of„owshat have haversine_distance > 100 KM = "

156 << 
£l_df
.
g‘_šdex
().
size
(è<< 
¡d
::
’dl
;

158 
	g¡d
::
cout
 << 
¡d
::
’dl
;

161 
ª®yze_Œ_time¡amp
(
StdD©aF¿me
<
ušt64_t
>& 
df
)

163 
	g¡d
::
cout
 << "ª®yze_Œ_time¡amp()" << 
¡d
::
’dl
;

165 
	gMaxVis™Ü
<
	gSim¶eTime
> 
	gmax_vis™Ü
;

166 
	gMšVis™Ü
<
	gSim¶eTime
> 
	gmš_vis™Ü
;

167 
	gdf
.
muÉi_vis™
(
¡d
::
make_·œ
("•_pickup_d©‘ime", &
max_vis™Ü
),

168 
¡d
::
make_·œ
("•_pickup_d©‘ime", &
mš_vis™Ü
));

169 
	g¡d
::
cout
 << 
max_vis™Ü
.
g‘_»suÉ
(è<< 
¡d
::
’dl
;

170 
	g¡d
::
cout
 << 
mš_vis™Ü
.
g‘_»suÉ
(è<< 
¡d
::
’dl
;

172 auto& 
	gpickup_time_vec
 = 
df
.
g‘_cŞumn
<
Sim¶eTime
>("tpep_pickup_datetime");

173 
	g¡d
::
veùÜ
<> 
pickup_hour_vec
;

174 
	g¡d
::
veùÜ
<> 
pickup_day_vec
;

175 
	g¡d
::
veùÜ
<> 
pickup_mÚth_vec
;

176 
	g¡d
::
m­
<, > 
	gpickup_hour_m­
;

177 
	g¡d
::
m­
<, > 
	gpickup_day_m­
;

178 
	g¡d
::
m­
<, > 
	gpickup_mÚth_m­
;

179 
	gpickup_hour_vec
.
»size
(
pickup_time_vec
.
size
());

180 
	gpickup_day_vec
.
»size
(
pickup_time_vec
.
size
());

181 
	gpickup_mÚth_vec
.
»size
(
pickup_time_vec
.
size
());

182 autØ
	ghour_™
 = 
pickup_hour_vec
.
begš
();

183 autØ
	gday_™
 = 
pickup_day_vec
.
begš
();

184 autØ
	gmÚth_™
 = 
pickup_mÚth_vec
.
begš
();

185 autØ
	gtime_™
 = 
pickup_time_vec
.
cbegš
();

187 
ušt64_t
 
	gi
 = 0; i < 
	gpickup_time_vec
.
size
();

188 ++
	gi
, ++
	ghour_™
, ++
	gday_™
, ++
	gmÚth_™
, ++
	gtime_™
) {

189 autØ
	gtime
 = *
time_™
;

190 
	gpickup_hour_m­
[
time
.
hour_
]++;

191 *
	ghour_™
 = 
time
.
hour_
;

192 
	gpickup_day_m­
[
time
.
day_
]++;

193 *
	gday_™
 = 
time
.
day_
;

194 
	gpickup_mÚth_m­
[
time
.
mÚth_
]++;

195 *
	gmÚth_™
 = 
time
.
mÚth_
;

197 
	gdf
.
lßd_cŞumn
("pickup_hour", 
¡d
::
move
(
pickup_hour_vec
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

198 
	gdf
.
lßd_cŞumn
("pickup_day", 
¡d
::
move
(
pickup_day_vec
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

199 
	gdf
.
lßd_cŞumn
("pickup_mÚth", 
¡d
::
move
(
pickup_mÚth_vec
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

201 
	g¡d
::
cout
 << "Pršˆtİ 10„ows." << 
¡d
::
’dl
;

202 autØ
	gtİ_10_df
 = 
df
.
g‘_d©a_by_idx
<, 
	gSim¶eTime
, , >(

203 
	gIndex2D
<
	gStdD©aF¿me
<
	gušt64_t
>::
IndexTy³
>{0, 9});

204 
	gtİ_10_df
.
	gwr™e
<
	g¡d
::
o¡»am
, , 
	gSim¶eTime
, , >(¡d::
cout
, 
	gçl£
, 
	gio_fÜm©
::
jsÚ
);

205 
	g¡d
::
cout
 << 
¡d
::
’dl
;

207 auto& [
hour
, 
út
] : 
pickup_hour_m­
) {

208 
¡d
::
cout
 << "pickup_hou¸ğ" << 
¡©ic_ÿ¡
<>(
hour
è<< ", cÁ = " << 
út
 << std::
’dl
;

210 
	g¡d
::
cout
 << 
¡d
::
’dl
;

211 auto& [
day
, 
út
] : 
pickup_day_m­
) {

212 
¡d
::
cout
 << "pickup_day = " << 
¡©ic_ÿ¡
<>(
day
è<< ", cÁ = " << 
út
 << std::
’dl
;

214 
	g¡d
::
cout
 << 
¡d
::
’dl
;

215 auto& [
mÚth
, 
út
] : 
pickup_mÚth_m­
) {

216 
¡d
::
cout
 << "pickup_mÚth = " << 
¡©ic_ÿ¡
<>(
mÚth
è<< ", cÁ = " << 
út
 << std::
’dl
;

218 
	g¡d
::
cout
 << 
¡d
::
’dl
;

221 
	g‹m¶©e
 <
ty³Çme
 
	gT_Key
>

222 
ª®yze_Œ_du¿tiÚs_of_time¡amps
(
StdD©aF¿me
<
ušt64_t
>& 
df
, cÚ¡ * 
key_cŞ_Çme
)

224 
	g¡d
::
cout
 << "ª®yze_Œ_du¿tiÚs_of_time¡amps(èÚ key = " << 
key_cŞ_Çme
 << 
¡d
::
’dl
;

226 
	gStdD©aF¿me
<
	gušt64_t
> 
	gdf_key_du¿tiÚ
;

227 autØ
	gcİy_šdex
 = 
df
.
g‘_šdex
();

228 autØ
	gcİy_key_cŞ
 = 
df
.
g‘_cŞumn
<
T_Key
>(
key_cŞ_Çme
);

229 autØ
	gcİy_key_du¿tiÚ
 = 
df
.
g‘_cŞumn
<
ušt64_t
>("duration");

230 
	gdf_key_du¿tiÚ
.
lßd_d©a
(
¡d
::
move
(
cİy_šdex
),

231 
¡d
::
make_·œ
(
key_cŞ_Çme
, std::
move
(
cİy_key_cŞ
)),

232 
¡d
::
make_·œ
("du¿tiÚ", std::
move
(
cİy_key_du¿tiÚ
)));

234 
	gStdD©aF¿me
<
	gušt64_t
> 
	ggroupby_key
 =

235 
df_key_du¿tiÚ
.
groupby
<
GroupbyMedŸn
, 
	gT_Key
, T_Key, 
	gušt64_t
>(GroupbyMedian(),

236 
	gkey_cŞ_Çme
);

237 auto& 
	gkey_vec
 = 
groupby_key
.
g‘_cŞumn
<
T_Key
>(
key_cŞ_Çme
);

238 auto& 
	gdu¿tiÚ_vec
 = 
groupby_key
.
g‘_cŞumn
<
ušt64_t
>("duration");

239 
ušt64_t
 
	gi
 = 0; i < 
	gkey_vec
.
size
(); i++) {

240 
	g¡d
::
cout
 << 
¡©ic_ÿ¡
<>(
key_vec
[
i
]è<< " " << 
du¿tiÚ_vec
[i] << 
¡d
::
’dl
;

243 
	g¡d
::
cout
 << 
¡d
::
’dl
;

246 
	$maš
()

248 
¡d
::
chrÚo
::
time_pošt
<¡d::chrÚo::
¡—dy_şock
> 
times
[10];

249 autØ
df
 = 
	`lßd_d©a
();

250 
times
[0] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

251 
	`´št_numb”_v’dÜ_ids_ªd_unique
(
df
);

252 
times
[1] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

253 
	`´št_·s§ge_couÁs_by_v’dÜ_id
(
df
, 1);

254 
times
[2] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

255 
	`´št_·s§ge_couÁs_by_v’dÜ_id
(
df
, 2);

256 
times
[3] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

257 
	`ÿlcuÏ‹_Œ_du¿tiÚ
(
df
);

258 
times
[4] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

259 
	`ÿlcuÏ‹_di¡ributiÚ_¡Üe_ªd_fwd_æag
(
df
);

260 
times
[5] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

261 
	`ÿlcuÏ‹_hav”sše_di¡ªû_cŞumn
(
df
);

262 
times
[6] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

263 
	`ª®yze_Œ_time¡amp
(
df
);

264 
times
[7] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

265 
ª®yze_Œ_du¿tiÚs_of_time¡amps
<>(
df
, "pickup_day");

266 
times
[8] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

267 
ª®yze_Œ_du¿tiÚs_of_time¡amps
<>(
df
, "pickup_month");

268 
times
[9] = 
¡d
::
chrÚo
::
¡—dy_şock
::
	`now
();

270 
ušt32_t
 
i
 = 1; i < 
¡d
::
	`size
(
times
); i++) {

271 
¡d
::
cout
 << "S‹°" << 
i
 << ": "

272 << 
¡d
::
chrÚo
::
du¿tiÚ_ÿ¡
<¡d::chrÚo::
miüo£cÚds
>(
times
[
i
] -imes[i - 1])

273 .
	`couÁ
()

274 << " us" << 
¡d
::
’dl
;

276 
¡d
::
cout
 << "Total: "

277 << 
¡d
::
chrÚo
::
du¿tiÚ_ÿ¡
<¡d::chrÚo::
miüo£cÚds
>(
times
[9] -imes[0]).
	`couÁ
()

278 << " us" << 
¡d
::
’dl
;

281 
	}
}

	@DataFrame/original/include/CSV/csv.hpp

32 #iâdeà
CSV_H


33 
	#CSV_H


	)

35 
	~"sim¶e_time.hµ
"

37 
	~<®gÜ™hm
>

38 
	~<c¡dio
>

39 
	~<c¡ršg
>

40 
	~<exû±iÚ
>

41 
	~<¡ršg
>

42 
	~<ut™y
>

43 
	~<veùÜ
>

44 #iâdeà
CSV_IO_NO_THREAD


45 
	~<cÚd™iÚ_v¬ŸbË
>

46 
	~<mu‹x
>

47 
	~<th»ad
>

49 
	~<ÿs£¹
>

50 
	~<û¼no
>

51 
	~<i¡»am
>

52 
	~<memÜy
>

54 
Çme¥aû
 
	gio


61 
Çme¥aû
 
	g”rÜ


63 
	gba£
 : 
¡d
::
exû±iÚ
 {

64 
vœtu®
 
fÜm©_”rÜ_mes§ge
() const = 0;

66 cÚ¡ * 
wh©
(ècÚ¡ 
nÛxû±
 
	gov”ride


68 
fÜm©_”rÜ_mes§ge
();

69  
	g”rÜ_mes§ge_bufãr
;

72 
mubË
 
	g”rÜ_mes§ge_bufãr
[512];

75 cÚ¡ 
	gmax_fe_Çme_Ëngth
 = 255;

77 
	sw™h_fe_Çme
 {

78 
w™h_fe_Çme
()

80 
	g¡d
::
mem£t
(
fe_Çme
, 0, (file_name));

83 
£t_fe_Çme
(cÚ¡ * 
fe_Çme
)

85 ià(
	gfe_Çme
 !ğ
nuÎ±r
) {

88 (
¡ºıy
(
this
->
fe_Çme
, file_name, (this->file_name)));

89 
	gthis
->
	gfe_Çme
[(
this
->
fe_Çme
) - 1] = '\0';

91 
	gthis
->
	gfe_Çme
[0] = '\0';

95 
	gfe_Çme
[
max_fe_Çme_Ëngth
 + 1];

98 
	sw™h_fe_lše
 {

99 
w™h_fe_lše
()

101 
	gfe_lše
 = -1;

104 
£t_fe_lše
(
fe_lše
)

106 
	gthis
->
	gfe_lše
 = 
fe_lše
;

109 
	gfe_lše
;

112 
	sw™h_”ºo
 {

113 
w™h_”ºo
()

115 
	g”ºo_v®ue
 = 0;

118 
£t_”ºo
(
”ºo_v®ue
)

120 
	gthis
->
	g”ºo_v®ue
 = 
”ºo_v®ue
;

123 
	g”ºo_v®ue
;

126 
	gÿn_nÙ_İ’_fe
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_”ºo
 {

127 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


129 ià(
	g”ºo_v®ue
 != 0)

130 
¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

131 "Cª‚Ù o³Àf\"%s\" beÿu£ \"%s\".", 
fe_Çme
,

132 
¡d
::
¡»¼Ü
(
”ºo_v®ue
));

134 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

135 "Cª‚Ù o³Àf\"%s\".", 
fe_Çme
);

139 
	glše_Ëngth_lim™_exûeded
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

140 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


142 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

144 
fe_lše
, 
fe_Çme
);

149 şas 
	cBy‹SourûBa£


151 
	gpublic
:

152 
vœtu®
 
»ad
(* 
bufãr
, 
size
) = 0;

153 
	gvœtu®
 ~
By‹SourûBa£
() {}

156 
Çme¥aû
 
	gd‘a


158 şas 
	cOwnšgStdIOBy‹SourûBa£
 : 
public
 
By‹SourûBa£


160 
public
:

161 
ex¶ic™
 
OwnšgStdIOBy‹SourûBa£
(
FILE
* 
fe
) : file(file)

164 
¡d
::
£tvbuf
(
fe
, 0, 
_IONBF
, 0);

167 
»ad
(* 
bufãr
, 
size
)

169  
	g¡d
::
ä—d
(
bufãr
, 1, 
size
, 
fe
);

172 ~
OwnšgStdIOBy‹SourûBa£
()

174 
	g¡d
::
fşo£
(
fe
);

177 
	g´iv©e
:

178 
FILE
* 
fe
;

181 şas 
	cNÚOwnšgISŒ—mBy‹Sourû
 : 
public
 
By‹SourûBa£


183 
public
:

184 
ex¶ic™
 
NÚOwnšgISŒ—mBy‹Sourû
(
¡d
::
i¡»am
& 
š
) : in(in) {}

186 
»ad
(* 
bufãr
, 
size
)

188 
	gš
.
»ad
(
bufãr
, 
size
);

189  
	gš
.
gcouÁ
();

192 ~
NÚOwnšgISŒ—mBy‹Sourû
() {}

194 
	g´iv©e
:

195 
¡d
::
i¡»am
& 
š
;

198 şas 
	cNÚOwnšgSŒšgBy‹Sourû
 : 
public
 
By‹SourûBa£


200 
public
:

201 
NÚOwnšgSŒšgBy‹Sourû
(cÚ¡ * 
¡r
, 
size
)

202 : 
¡r
(¡r), 
»maššg_by‹_couÁ
(
size
)

206 
»ad
(* 
bufãr
, 
desœed_by‹_couÁ
)

208 
	gto_cİy_by‹_couÁ
 = 
desœed_by‹_couÁ
;

209 ià(
	g»maššg_by‹_couÁ
 < 
	gto_cİy_by‹_couÁ
èto_cİy_by‹_couÁ = 
»maššg_by‹_couÁ
;

210 
	g¡d
::
memıy
(
bufãr
, 
¡r
, 
to_cİy_by‹_couÁ
);

211 
	g»maššg_by‹_couÁ
 -ğ
to_cİy_by‹_couÁ
;

212 
	g¡r
 +ğ
to_cİy_by‹_couÁ
;

213  
	gto_cİy_by‹_couÁ
;

216 ~
NÚOwnšgSŒšgBy‹Sourû
() {}

218 
	g´iv©e
:

219 cÚ¡ * 
¡r
;

220 
	g»maššg_by‹_couÁ
;

223 #iâdeà
CSV_IO_NO_THREAD


224 şas 
	cAsynchrÚousR—d”


226 
	gpublic
:

227 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
> 
¬g_by‹_sourû
)

229 
¡d
::
unique_lock
<¡d::
mu‹x
> 
gu¬d
(
lock
);

230 
	gby‹_sourû
 = 
¡d
::
move
(
¬g_by‹_sourû
);

231 
	gdesœed_by‹_couÁ
 = -1;

232 
	g‹rmš©iÚ_»que¡ed
 = 
çl£
;

233 
	gwÜk”
 = 
¡d
::
th»ad
([&] {

234 
¡d
::
unique_lock
<¡d::
mu‹x
> 
gu¬d
(
lock
);

235 
Œy
 {

237 
»ad_»que¡ed_cÚd™iÚ
.
wa™
(

238 
gu¬d
, [&] {  
desœed_by‹_couÁ
 !ğ-1 || 
‹rmš©iÚ_»que¡ed
; });

239 ià(
‹rmš©iÚ_»que¡ed
) ;

241 
»ad_by‹_couÁ
 = 
by‹_sourû
->
»ad
(
bufãr
, 
desœed_by‹_couÁ
);

242 
desœed_by‹_couÁ
 = -1;

243 ià(
»ad_by‹_couÁ
 == 0) ;

244 
»ad_fšished_cÚd™iÚ
.
nÙify_Úe
();

246 } 
ÿtch
 (...) {

247 
»ad_”rÜ
 = 
¡d
::
cu¼’t_exû±iÚ
();

249 
»ad_fšished_cÚd™iÚ
.
nÙify_Úe
();

253 
boŞ
 
is_v®id
() const

255  
	gby‹_sourû
 !ğ
nuÎ±r
;

258 
¡¬t_»ad
(* 
¬g_bufãr
, 
¬g_desœed_by‹_couÁ
)

260 
	g¡d
::
unique_lock
<
¡d
::
mu‹x
> 
gu¬d
(
lock
);

261 
	gbufãr
 = 
¬g_bufãr
;

262 
	gdesœed_by‹_couÁ
 = 
¬g_desœed_by‹_couÁ
;

263 
	g»ad_by‹_couÁ
 = -1;

264 
	g»ad_»que¡ed_cÚd™iÚ
.
nÙify_Úe
();

267 
fšish_»ad
()

269 
	g¡d
::
unique_lock
<
¡d
::
mu‹x
> 
gu¬d
(
lock
);

270 
	g»ad_fšished_cÚd™iÚ
.
wa™
(
gu¬d
, [&] {  
»ad_by‹_couÁ
 !ğ-1 || 
»ad_”rÜ
; });

271 ià(
	g»ad_”rÜ
)

272 
	g¡d
::
»throw_exû±iÚ
(
»ad_”rÜ
);

274  
	g»ad_by‹_couÁ
;

277 ~
AsynchrÚousR—d”
()

279 ià(
	gby‹_sourû
 !ğ
nuÎ±r
) {

281 
¡d
::
unique_lock
<¡d::
mu‹x
> 
gu¬d
(
lock
);

282 
	g‹rmš©iÚ_»que¡ed
 = 
Œue
;

284 
	g»ad_»que¡ed_cÚd™iÚ
.
nÙify_Úe
();

285 
	gwÜk”
.
još
();

289 
	g´iv©e
:

290 
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
;

292 
	g¡d
::
th»ad
 
wÜk”
;

294 
boŞ
 
	g‹rmš©iÚ_»que¡ed
;

295 
	g¡d
::
exû±iÚ_±r
 
»ad_”rÜ
;

296 * 
	gbufãr
;

297 
	gdesœed_by‹_couÁ
;

298 
	g»ad_by‹_couÁ
;

300 
	g¡d
::
mu‹x
 
lock
;

301 
	g¡d
::
cÚd™iÚ_v¬ŸbË
 
»ad_fšished_cÚd™iÚ
;

302 
	g¡d
::
cÚd™iÚ_v¬ŸbË
 
»ad_»que¡ed_cÚd™iÚ
;

306 şas 
	cSynchrÚousR—d”


308 
	gpublic
:

309 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
> 
¬g_by‹_sourû
)

311 
by‹_sourû
 = 
¡d
::
move
(
¬g_by‹_sourû
);

314 
boŞ
 
is_v®id
() const

316  
	gby‹_sourû
 !ğ
nuÎ±r
;

319 
¡¬t_»ad
(* 
¬g_bufãr
, 
¬g_desœed_by‹_couÁ
)

321 
	gbufãr
 = 
¬g_bufãr
;

322 
	gdesœed_by‹_couÁ
 = 
¬g_desœed_by‹_couÁ
;

325 
fšish_»ad
()

327  
	gby‹_sourû
->
»ad
(
bufãr
, 
desœed_by‹_couÁ
);

330 
	g´iv©e
:

331 
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
;

332 * 
	gbufãr
;

333 
	gdesœed_by‹_couÁ
;

337 şas 
	cLšeR—d”


339 
	g´iv©e
:

340 cÚ¡ 
block_Ën
 = 1 << 20;

341 
	g¡d
::
unique_±r
<[]>

342 
bufãr
;

343 #ifdeà
CSV_IO_NO_THREAD


344 
	gd‘a
::
SynchrÚousR—d”
 
»ad”
;

346 
	gd‘a
::
AsynchrÚousR—d”
 
»ad”
;

348 
	gd©a_begš
;

349 
	gd©a_’d
;

351 
	gfe_Çme
[
”rÜ
::
max_fe_Çme_Ëngth
 + 1];

352 
	gfe_lše
;

354 
	g¡d
::
unique_±r
<
By‹SourûBa£
> 
İ’_fe
(cÚ¡ * 
fe_Çme
)

358 
FILE
* 
fe
 = 
¡d
::
fİ’
(
fe_Çme
, "rb");

359 ià(
	gfe
 == 0) {

360 
x
 = 
”ºo
;

362 
	g”rÜ
::
ÿn_nÙ_İ’_fe
 
”r
;

363 
	g”r
.
£t_”ºo
(
x
);

364 
	g”r
.
£t_fe_Çme
(
fe_Çme
);

365 
throw
 
	g”r
;

367  
	g¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
OwnšgStdIOBy‹SourûBa£
(
fe
));

370 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
)

372 
fe_lše
 = 0;

374 
	gbufãr
 = 
¡d
::
unique_±r
<[]>(
Ãw
 [3 * 
block_Ën
]);

375 
	gd©a_begš
 = 0;

376 
	gd©a_’d
 = 
by‹_sourû
->
»ad
(
bufãr
.
g‘
(), 2 * 
block_Ën
);

379 ià(
	gd©a_’d
 >ğ3 && 
bufãr
[0] == '\xEF' && buffer[1] == '\xBB' && buffer[2] == '\xBF')

380 
d©a_begš
 = 3;

382 ià(
	gd©a_’d
 =ğ2 * 
block_Ën
) {

383 
»ad”
.
š™
(
¡d
::
move
(
by‹_sourû
));

384 
	g»ad”
.
¡¬t_»ad
(
bufãr
.
g‘
(è+ 2 * 
block_Ën
, block_len);

388 
	gpublic
:

389 
LšeR—d”
(èğ
d–‘e
;

390 
LšeR—d”
(cÚ¡ LšeR—d”&èğ
d–‘e
;

391 
	gLšeR—d”
& 
	gİ”©Ü
=(cÚ¡ 
LšeR—d”
&èğ
d–‘e
;

393 
ex¶ic™
 
LšeR—d”
(cÚ¡ * 
fe_Çme
)

395 
£t_fe_Çme
(
fe_Çme
);

396 
š™
(
İ’_fe
(
fe_Çme
));

399 
ex¶ic™
 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
)

401 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

402 
š™
(
İ’_fe
(
fe_Çme
.
c_¡r
()));

405 
LšeR—d”
(cÚ¡ * 
fe_Çme
, 
¡d
::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
)

407 
£t_fe_Çme
(
fe_Çme
);

408 
š™
(
¡d
::
move
(
by‹_sourû
));

411 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, std::
unique_±r
<
By‹SourûBa£
> 
by‹_sourû
)

413 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

414 
š™
(
¡d
::
move
(
by‹_sourû
));

417 
LšeR—d”
(cÚ¡ * 
fe_Çme
, cÚ¡ * 
d©a_begš
, cÚ¡ * 
d©a_’d
)

419 
£t_fe_Çme
(
fe_Çme
);

420 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(

421 
Ãw
 
d‘a
::
NÚOwnšgSŒšgBy‹Sourû
(
d©a_begš
, 
d©a_’d
 - data_begin)));

424 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, cÚ¡ * 
d©a_begš
, cÚ¡ * 
d©a_’d
)

426 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

427 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(

428 
Ãw
 
d‘a
::
NÚOwnšgSŒšgBy‹Sourû
(
d©a_begš
, 
d©a_’d
 - data_begin)));

431 
LšeR—d”
(cÚ¡ * 
fe_Çme
, 
FILE
* 
fe
)

433 
£t_fe_Çme
(
fe_Çme
);

434 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
OwnšgStdIOBy‹SourûBa£
(
fe
)));

437 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, 
FILE
* 
fe
)

439 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

440 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
OwnšgStdIOBy‹SourûBa£
(
fe
)));

443 
LšeR—d”
(cÚ¡ * 
fe_Çme
, 
¡d
::
i¡»am
& 
š
)

445 
£t_fe_Çme
(
fe_Çme
);

446 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
NÚOwnšgISŒ—mBy‹Sourû
(
š
)));

449 
LšeR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
, std::
i¡»am
& 
š
)

451 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

452 
š™
(
¡d
::
unique_±r
<
By‹SourûBa£
>(
Ãw
 
d‘a
::
NÚOwnšgISŒ—mBy‹Sourû
(
š
)));

455 
£t_fe_Çme
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
)

457 
£t_fe_Çme
(
fe_Çme
.
c_¡r
());

460 
£t_fe_Çme
(cÚ¡ * 
fe_Çme
)

462 ià(
	gfe_Çme
 !ğ
nuÎ±r
) {

463 
¡ºıy
(
this
->
fe_Çme
, file_name, (this->file_name) - 1);

464 
	gthis
->
	gfe_Çme
[(
this
->
fe_Çme
) - 1] = '\0';

466 
	gthis
->
	gfe_Çme
[0] = '\0';

470 cÚ¡ * 
g‘_Œunÿ‹d_fe_Çme
() const

472  
	gfe_Çme
;

475 
£t_fe_lše
(
fe_lše
)

477 
	gthis
->
	gfe_lše
 = 
fe_lše
;

480 
g‘_fe_lše
() const

482  
	gfe_lše
;

485 * 
Ãxt_lše
()

487 ià(
	gd©a_begš
 =ğ
d©a_’d
è 
nuÎ±r
;

489 ++
	gfe_lše
;

491 
as£¹
(
d©a_begš
 < 
d©a_’d
);

492 
as£¹
(
d©a_’d
 <ğ
block_Ën
 * 2);

494 ià(
	gd©a_begš
 >ğ
block_Ën
) {

495 
¡d
::
memıy
(
bufãr
.
g‘
(), bufãr.g‘(è+ 
block_Ën
, block_len);

496 
	gd©a_begš
 -ğ
block_Ën
;

497 
	gd©a_’d
 -ğ
block_Ën
;

498 ià(
	g»ad”
.
is_v®id
()) {

499 
	gd©a_’d
 +ğ
»ad”
.
fšish_»ad
();

500 
	g¡d
::
memıy
(
bufãr
.
g‘
(è+ 
block_Ën
, buffer.get() + 2 * block_len, block_len);

501 
	g»ad”
.
¡¬t_»ad
(
bufãr
.
g‘
(è+ 2 * 
block_Ën
, block_len);

505 
	glše_’d
 = 
d©a_begš
;

506 
	gbufãr
[
lše_’d
] !ğ'\n' &&†še_’d !ğ
d©a_’d
) {

507 ++
lše_’d
;

510 ià(
	glše_’d
 - 
	gd©a_begš
 + 1 > 
	gblock_Ën
) {

511 
	g”rÜ
::
lše_Ëngth_lim™_exûeded
 
”r
;

512 
	g”r
.
£t_fe_Çme
(
fe_Çme
);

513 
	g”r
.
£t_fe_lše
(
fe_lše
);

514 
throw
 
	g”r
;

517 ià(
	gbufãr
[
lše_’d
] =ğ'\n' &&†še_’d !ğ
d©a_’d
) {

518 
bufãr
[
lše_’d
] = '\0';

522 ++
	gd©a_’d
;

523 
	gbufãr
[
lše_’d
] = '\0';

527 ià(
	glše_’d
 !ğ
d©a_begš
 && 
bufãr
[
lše_’d
 - 1] == '\r') buffer[line_end - 1] = '\0';

529 * 
	g»t
 = 
bufãr
.
g‘
(è+ 
d©a_begš
;

530 
	gd©a_begš
 = 
lše_’d
 + 1;

531  
	g»t
;

539 
Çme¥aû
 
	g”rÜ


541 cÚ¡ 
	gmax_cŞumn_Çme_Ëngth
 = 63;

542 
	sw™h_cŞumn_Çme
 {

543 
w™h_cŞumn_Çme
()

545 
	g¡d
::
mem£t
(
cŞumn_Çme
, 0, 
max_cŞumn_Çme_Ëngth
 + 1);

548 
£t_cŞumn_Çme
(cÚ¡ * 
cŞumn_Çme
)

550 ià(
	gcŞumn_Çme
 !ğ
nuÎ±r
) {

551 
¡d
::
¡ºıy
(
this
->
cŞumn_Çme
, cŞumn_Çme, 
max_cŞumn_Çme_Ëngth
);

552 
	gthis
->
	gcŞumn_Çme
[
max_cŞumn_Çme_Ëngth
] = '\0';

554 
	gthis
->
	gcŞumn_Çme
[0] = '\0';

558 
	gcŞumn_Çme
[
max_cŞumn_Çme_Ëngth
 + 1];

561 cÚ¡ 
	gmax_cŞumn_cÚ‹Á_Ëngth
 = 63;

563 
	sw™h_cŞumn_cÚ‹Á
 {

564 
w™h_cŞumn_cÚ‹Á
()

566 
	g¡d
::
mem£t
(
cŞumn_cÚ‹Á
, 0, 
max_cŞumn_cÚ‹Á_Ëngth
 + 1);

569 
£t_cŞumn_cÚ‹Á
(cÚ¡ * 
cŞumn_cÚ‹Á
)

571 ià(
	gcŞumn_cÚ‹Á
 !ğ
nuÎ±r
) {

572 
¡d
::
¡ºıy
(
this
->
cŞumn_cÚ‹Á
, cŞumn_cÚ‹Á, 
max_cŞumn_cÚ‹Á_Ëngth
);

573 
	gthis
->
	gcŞumn_cÚ‹Á
[
max_cŞumn_cÚ‹Á_Ëngth
] = '\0';

575 
	gthis
->
	gcŞumn_cÚ‹Á
[0] = '\0';

579 
	gcŞumn_cÚ‹Á
[
max_cŞumn_cÚ‹Á_Ëngth
 + 1];

582 
	gexŒa_cŞumn_š_h—d”
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_cŞumn_Çme
 {

583 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


585 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

586 
R
"(ExŒ¨cŞumÀ"%
s
" iÀh—d” oàf"%s".)", 
cŞumn_Çme
, 
fe_Çme
);

590 
	gmissšg_cŞumn_š_h—d”
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_cŞumn_Çme
 {

591 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


593 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

594 
R
"(Missšg cŞumÀ"%
s
" iÀh—d” oàf"%s".)", 
cŞumn_Çme
, 
fe_Çme
);

598 
	gdu¶iÿ‹d_cŞumn_š_h—d”
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_cŞumn_Çme
 {

599 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


601 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

602 
R
"(Du¶iÿ‹d cŞumÀ"%
s
" iÀh—d” oàf"%s".)", 
cŞumn_Çme
, 
fe_Çme
);

606 
	gh—d”_missšg
 : 
ba£
, 
	gw™h_fe_Çme
 {

607 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


609 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

610 "H—d” missšg iÀf\"%s\".", 
fe_Çme
);

614 
	gtoo_ãw_cŞumns
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

615 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


617 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

618 "ToØãw cŞumn š†š%d iÀf\"%s\".", 
fe_lše
, 
fe_Çme
);

622 
	gtoo_mªy_cŞumns
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

623 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


625 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

626 "ToØmªy cŞumn š†š%d iÀf\"%s\".", 
fe_lše
, 
fe_Çme
);

630 
	gesÿ³d_¡ršg_nÙ_şo£d
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
 {

631 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


633 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

634 "Esÿ³d sŒšg wa nÙ clo£d iÀlš%d iÀf\"%s\".", 
fe_lše
,

635 
fe_Çme
);

639 
	gš‹g”_mu¡_be_pos™ive
 : 
ba£
,

640 
	gw™h_fe_Çme
,

641 
	gw™h_fe_lše
,

642 
	gw™h_cŞumn_Çme
,

643 
	gw™h_cŞumn_cÚ‹Á
 {

644 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


646 
	g¡d
::
¢´štf
(

647 
”rÜ_mes§ge_bufãr
, (error_message_buffer),

648 
R
"(Thš‹g” "%
s
" mu¡ bpos™ivÜ 0 iÀcŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

649 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

653 
	gno_dig™
 : 
ba£
, 
	gw™h_fe_Çme
, 
	gw™h_fe_lše
, 
	gw™h_cŞumn_Çme
, 
	gw™h_cŞumn_cÚ‹Á
 {

654 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


656 
	g¡d
::
¢´štf
(

657 
”rÜ_mes§ge_bufãr
, (error_message_buffer),

658 
R
"(Thš‹g” "%
s
" cÚš ª inv®id dig™ iÀcŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

659 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

663 
	gš‹g”_ov”æow
 : 
ba£
,

664 
	gw™h_fe_Çme
,

665 
	gw™h_fe_lše
,

666 
	gw™h_cŞumn_Çme
,

667 
	gw™h_cŞumn_cÚ‹Á
 {

668 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


670 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

671 
R
"(Thš‹g” "%
s
" ov”æow š cŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

672 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

676 
	gš‹g”_und”æow
 : 
ba£
,

677 
	gw™h_fe_Çme
,

678 
	gw™h_fe_lše
,

679 
	gw™h_cŞumn_Çme
,

680 
	gw™h_cŞumn_cÚ‹Á
 {

681 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


683 
	g¡d
::
¢´štf
(
”rÜ_mes§ge_bufãr
, (error_message_buffer),

684 
R
"(Thš‹g” "%
s
" und”æow š cŞumÀ"%s" iÀf"%s" iÀlš"%
d
".)",

685 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

689 
	gšv®id_sšgË_ch¬aù”
 : 
ba£
,

690 
	gw™h_fe_Çme
,

691 
	gw™h_fe_lše
,

692 
	gw™h_cŞumn_Çme
,

693 
	gw™h_cŞumn_cÚ‹Á
 {

694 
fÜm©_”rÜ_mes§ge
(ècÚ¡ 
	gov”ride


696 
	g¡d
::
¢´štf
(

697 
”rÜ_mes§ge_bufãr
, (error_message_buffer),

698 
R
"(ThcÚ‹Á "%
s
" oàcŞumÀ"%s" iÀf"%s" iÀlš"%
d
" is‚ot‡ single character.)",

699 
cŞumn_cÚ‹Á
, 
cŞumn_Çme
, 
fe_Çme
, 
fe_lše
);

704 
usšg
 
	gignÜe_cŞumn
 = ;

705 cÚ¡ 
ignÜe_cŞumn
 
	gignÜe_no_cŞumn
 = 0;

706 cÚ¡ 
ignÜe_cŞumn
 
	gignÜe_exŒa_cŞumn
 = 1;

707 cÚ¡ 
ignÜe_cŞumn
 
	gignÜe_missšg_cŞumn
 = 2;

709 
	g‹m¶©e
 <... 
	gŒim_ch¬_li¡
>

710 
	sŒim_ch¬s
 {

711 
	g´iv©e
:

712 
cÚ¡ex´
 
boŞ
 
is_Œim_ch¬
()

714  
çl£
;

717 
	g‹m¶©e
 <
	gşass
... 
	gOth”TrimCh¬s
>

718 
cÚ¡ex´
 
boŞ
 
is_Œim_ch¬
(
c
, 
Œim_ch¬
, 
Oth”TrimCh¬s
... 
Ùh”_Œim_ch¬s
)

720  
	gc
 =ğ
Œim_ch¬
 || 
is_Œim_ch¬
(
c
, 
Ùh”_Œim_ch¬s
...);

723 
	gpublic
:

724 
Œim
(*& 
¡r_begš
, *& 
¡r_’d
)

726 
	g¡r_begš
 !ğ
¡r_’d
 && 
is_Œim_ch¬
(*
¡r_begš
, 
Œim_ch¬_li¡
...)) ++str_begin;

727 
	g¡r_begš
 !ğ
¡r_’d
 && 
is_Œim_ch¬
(*(¡r_’d - 1), 
Œim_ch¬_li¡
...)è--
	g¡r_’d
;

728 *
	g¡r_’d
 = '\0';

732 
	sno_comm’t
 {

733 
boŞ
 
is_comm’t
(const *)

735  
	gçl£
;

739 
	g‹m¶©e
 <... 
	gcomm’t_¡¬t_ch¬_li¡
>

740 
	ssšgË_lše_comm’t
 {

741 
	g´iv©e
:

742 
cÚ¡ex´
 
boŞ
 
is_comm’t_¡¬t_ch¬
()

744  
çl£
;

747 
	g‹m¶©e
 <
	gşass
... 
	gOth”Comm’tS¹Ch¬s
>

748 
cÚ¡ex´
 
boŞ
 
is_comm’t_¡¬t_ch¬
(
c
, 
comm’t_¡¬t_ch¬
,

749 
Oth”Comm’tS¹Ch¬s
... 
Ùh”_comm’t_¡¬t_ch¬s
)

751  
	gc
 =ğ
comm’t_¡¬t_ch¬
 || 
is_comm’t_¡¬t_ch¬
(
c
, 
Ùh”_comm’t_¡¬t_ch¬s
...);

754 
	gpublic
:

755 
boŞ
 
is_comm’t
(cÚ¡ * 
lše
)

757  
is_comm’t_¡¬t_ch¬
(*
lše
, 
comm’t_¡¬t_ch¬_li¡
...);

761 
	sem±y_lše_comm’t
 {

762 
boŞ
 
is_comm’t
(cÚ¡ * 
lše
)

764 ià(*
	glše
 =ğ'\0'è 
Œue
;

765 *
	glše
 =ğ' ' || *
lše
 == '\t') {

766 ++
lše
;

767 ià(*
	glše
 =ğ0è 
Œue
;

769  
	gçl£
;

773 
	g‹m¶©e
 <... 
	gcomm’t_¡¬t_ch¬_li¡
>

774 
	ssšgË_ªd_em±y_lše_comm’t
 {

775 
boŞ
 
is_comm’t
(cÚ¡ * 
lše
)

777  
	gsšgË_lše_comm’t
<
	gcomm’t_¡¬t_ch¬_li¡
...>::
is_comm’t
(
lše
) ||

778 
em±y_lše_comm’t
::
is_comm’t
(
lše
);

782 
	g‹m¶©e
 <
	g£p
>

783 
	sno_quÙe_esÿ³
 {

784 cÚ¡ * 
fšd_Ãxt_cŞumn_’d
(cÚ¡ * 
cŞ_begš
)

786 *
	gcŞ_begš
 !ğ
£p
 && *
cŞ_begš
 != '\0') ++col_begin;

787  
	gcŞ_begš
;

790 
uÃsÿ³
(*&, *&) {}

793 
	g‹m¶©e
 <
	g£p
, 
	gquÙe
>

794 
	sdoubË_quÙe_esÿ³
 {

795 cÚ¡ * 
fšd_Ãxt_cŞumn_’d
(cÚ¡ * 
cŞ_begš
)

797 *
	gcŞ_begš
 !ğ
£p
 && *
cŞ_begš
 != '\0')

798 ià(*
cŞ_begš
 !ğ
quÙe
)

799 ++
cŞ_begš
;

802 ++
	gcŞ_begš
;

803 *
	gcŞ_begš
 !ğ
quÙe
) {

804 ià(*
cŞ_begš
 =ğ'\0'è
throw
 
”rÜ
::
esÿ³d_¡ršg_nÙ_şo£d
();

805 ++
	gcŞ_begš
;

807 ++
	gcŞ_begš
;

808 } *
	gcŞ_begš
 =ğ
quÙe
);

810  
	gcŞ_begš
;

813 
uÃsÿ³
(*& 
cŞ_begš
, *& 
cŞ_’d
)

815 ià(
	gcŞ_’d
 - 
	gcŞ_begš
 >= 2) {

816 ià(*
cŞ_begš
 =ğ
quÙe
 && *(
cŞ_’d
 - 1) == quote) {

817 ++
cŞ_begš
;

818 --
	gcŞ_’d
;

819 * 
	gout
 = 
cŞ_begš
;

820 * 
	gš
 = 
cŞ_begš
; iÀ!ğ
cŞ_’d
; ++in) {

821 ià(*
	gš
 =ğ
quÙe
 && (
š
 + 1è!ğ
cŞ_’d
 && *(in + 1) == quote) {

822 ++
š
;

824 *
	gout
 = *
š
;

825 ++
	gout
;

827 
	gcŞ_’d
 = 
out
;

828 *
	gcŞ_’d
 = '\0';

834 
	sthrow_Ú_ov”æow
 {

835 
	g‹m¶©e
 <
şass
 
	gT
>

836 
Ú_ov”æow
(
T
&)

838 
throw
 
	g”rÜ
::
š‹g”_ov”æow
();

841 
	g‹m¶©e
 <
şass
 
	gT
>

842 
Ú_und”æow
(
T
&)

844 
throw
 
	g”rÜ
::
š‹g”_und”æow
();

848 
	signÜe_ov”æow
 {

849 
	g‹m¶©e
 <
şass
 
	gT
>

850 
Ú_ov”æow
(
T
&)

854 
	g‹m¶©e
 <
şass
 
	gT
>

855 
Ú_und”æow
(
T
&)

860 
	s£t_to_max_Ú_ov”æow
 {

861 
	g‹m¶©e
 <
şass
 
	gT
>

862 
Ú_ov”æow
(
T
& 
x
)

866 
	gx
 = (
¡d
::
num”ic_lim™s
<
T
>::
max
)();

869 
	g‹m¶©e
 <
şass
 
	gT
>

870 
Ú_und”æow
(
T
& 
x
)

872 
	gx
 = (
¡d
::
num”ic_lim™s
<
T
>::
mš
)();

876 
Çme¥aû
 
	gd‘a


878 
	g‹m¶©e
 <
şass
 
	gquÙe_pŞicy
>

879 
chİ_Ãxt_cŞumn
(*& 
lše
, *& 
cŞ_begš
, *& 
cŞ_’d
)

881 
as£¹
(
lše
 !ğ
nuÎ±r
);

883 
	gcŞ_begš
 = 
lše
;

885 
	gcŞ_’d
 = 
cŞ_begš
 + (
quÙe_pŞicy
::
fšd_Ãxt_cŞumn_’d
(col_begin) - col_begin);

887 ià(*
	gcŞ_’d
 == '\0') {

888 
lše
 = 
nuÎ±r
;

890 *
	gcŞ_’d
 = '\0';

891 
	glše
 = 
cŞ_’d
 + 1;

895 
	g‹m¶©e
 <
şass
 
	gŒim_pŞicy
, cÏs 
	gquÙe_pŞicy
>

896 
·r£_lše
(* 
lše
, ** 
sÜ‹d_cŞ
, cÚ¡ 
¡d
::
veùÜ
<>& 
cŞ_Üd”
)

898 
i
 : 
cŞ_Üd”
) {

899 ià(
lše
 =ğ
nuÎ±r
è
throw
 ::
io
::
”rÜ
::
too_ãw_cŞumns
();

900 *
	gcŞ_begš
, *
	gcŞ_’d
;

901 
	gchİ_Ãxt_cŞumn
<
	gquÙe_pŞicy
>(
	glše
, 
	gcŞ_begš
, 
	gcŞ_’d
);

903 ià(
	gi
 != -1) {

904 
Œim_pŞicy
::
Œim
(
cŞ_begš
, 
cŞ_’d
);

905 
	gquÙe_pŞicy
::
uÃsÿ³
(
cŞ_begš
, 
cŞ_’d
);

907 
	gsÜ‹d_cŞ
[
i
] = 
cŞ_begš
;

910 ià(
	glše
 !ğ
nuÎ±r
è
throw
 ::
io
::
”rÜ
::
too_mªy_cŞumns
();

913 
	g‹m¶©e
 <
	gcŞumn_couÁ
, 
şass
 
	gŒim_pŞicy
, cÏs 
	gquÙe_pŞicy
>

914 
·r£_h—d”_lše
(* 
lše
, 
¡d
::
veùÜ
<>& 
cŞ_Üd”
, cÚ¡ std::
¡ršg
* 
cŞ_Çme
,

915 
ignÜe_cŞumn
 
ignÜe_pŞicy
)

917 
	gcŞ_Üd”
.
ş—r
();

919 
boŞ
 
	gfound
[
cŞumn_couÁ
];

920 
	g¡d
::
fl
(
found
, found + 
cŞumn_couÁ
, 
çl£
);

921 
	glše
) {

922 *
	gcŞ_begš
, *
	gcŞ_’d
;

923 
	gchİ_Ãxt_cŞumn
<
	gquÙe_pŞicy
>(
	glše
, 
	gcŞ_begš
, 
	gcŞ_’d
);

925 
	gŒim_pŞicy
::
Œim
(
cŞ_begš
, 
cŞ_’d
);

926 
	gquÙe_pŞicy
::
uÃsÿ³
(
cŞ_begš
, 
cŞ_’d
);

928 
	gi
 = 0; i < 
	gcŞumn_couÁ
; ++i)

929 ià(
	gcŞ_begš
 =ğ
cŞ_Çme
[
i
]) {

930 ià(
found
[
i
]) {

931 
”rÜ
::
du¶iÿ‹d_cŞumn_š_h—d”
 
”r
;

932 
	g”r
.
£t_cŞumn_Çme
(
cŞ_begš
);

933 
throw
 
	g”r
;

935 
	gfound
[
i
] = 
Œue
;

936 
	gcŞ_Üd”
.
push_back
(
i
);

937 
	gcŞ_begš
 = 0;

940 ià(
	gcŞ_begš
) {

941 ià(
	gignÜe_pŞicy
 & ::
io
::
ignÜe_exŒa_cŞumn
)

942 
cŞ_Üd”
.
push_back
(-1);

944 
	g”rÜ
::
exŒa_cŞumn_š_h—d”
 
”r
;

945 
	g”r
.
£t_cŞumn_Çme
(
cŞ_begš
);

946 
throw
 
	g”r
;

950 ià(!(
	gignÜe_pŞicy
 & ::
io
::
ignÜe_missšg_cŞumn
)) {

951 
i
 = 0; 
	gi
 < 
	gcŞumn_couÁ
; ++i) {

952 ià(!
	gfound
[
i
]) {

953 
	g”rÜ
::
missšg_cŞumn_š_h—d”
 
”r
;

954 
	g”r
.
£t_cŞumn_Çme
(
cŞ_Çme
[
i
].
c_¡r
());

955 
throw
 
	g”r
;

961 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

962 
·r£
(* 
cŞ
, & 
x
)

964 ià(!*
	gcŞ
è
throw
 
	g”rÜ
::
šv®id_sšgË_ch¬aù”
();

965 
	gx
 = *
cŞ
;

966 ++
	gcŞ
;

967 ià(*
	gcŞ
è
throw
 
	g”rÜ
::
šv®id_sšgË_ch¬aù”
();

970 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

971 
·r£
(* 
cŞ
, 
¡d
::
¡ršg
& 
x
)

973 
x
 = 
cŞ
;

976 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

977 
·r£
(* 
cŞ
, cÚ¡ *& 
x
)

979 
	gx
 = 
cŞ
;

982 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

983 
·r£
(* 
cŞ
, *& 
x
)

985 
	gx
 = 
cŞ
;

988 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
, cÏs 
	gT
>

989 
·r£_unsigÃd_š‹g”
(cÚ¡ * 
cŞ
, 
T
& 
x
)

991 
	gx
 = 0;

992 *
	gcŞ
 != '\0') {

993 ià('0' <ğ*
cŞ
 && *col <= '9') {

994 
T
 
y
 = *
cŞ
 - '0';

995 ià(
	gx
 > ((
	g¡d
::
num”ic_lim™s
<
T
>::
max
)(è- 
y
) / 10) {

996 
ov”æow_pŞicy
::
Ú_ov”æow
(
x
);

999 
	gx
 = 10 * 
x
 + 
y
;

1001 
throw
 
	g”rÜ
::
no_dig™
();

1002 ++
	gcŞ
;

1006 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1007 
·r£
(* 
cŞ
, & 
x
)

1009 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1011 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1012 
·r£
(* 
cŞ
, & 
x
)

1014 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1016 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1017 
·r£
(* 
cŞ
, & 
x
)

1019 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1021 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1022 
·r£
(* 
cŞ
, & 
x
)

1024 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1026 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1027 
·r£
(* 
cŞ
, & 
x
)

1029 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1032 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
, cÏs 
	gT
>

1033 
·r£_sigÃd_š‹g”
(cÚ¡ * 
cŞ
, 
T
& 
x
)

1035 ià(*
	gcŞ
 == '-') {

1036 ++
cŞ
;

1038 
	gx
 = 0;

1039 *
	gcŞ
 != '\0') {

1040 ià('0' <ğ*
cŞ
 && *col <= '9') {

1041 
T
 
y
 = *
cŞ
 - '0';

1042 ià(
	gx
 < ((
	g¡d
::
num”ic_lim™s
<
T
>::
mš
)(è+ 
y
) / 10) {

1043 
ov”æow_pŞicy
::
Ú_und”æow
(
x
);

1046 
	gx
 = 10 * 
x
 - 
y
;

1048 
throw
 
	g”rÜ
::
no_dig™
();

1049 ++
	gcŞ
;

1052 } ià(*
	gcŞ
 == '+')

1053 ++
cŞ
;

1054 
	g·r£_unsigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1057 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1058 
·r£
(* 
cŞ
, sigÃd & 
x
)

1060 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1062 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1063 
·r£
(* 
cŞ
, sigÃd & 
x
)

1065 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1067 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1068 
·r£
(* 
cŞ
, sigÃd & 
x
)

1070 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1072 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1073 
·r£
(* 
cŞ
, sigÃd & 
x
)

1075 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1077 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1078 
·r£
(* 
cŞ
, sigÃd & 
x
)

1080 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1083 
	g‹m¶©e
 <
şass
 
	gT
>

1084 
·r£_æßt
(cÚ¡ * 
cŞ
, 
T
& 
x
)

1086 
boŞ
 
	gis_Ãg
 = 
çl£
;

1087 ià(*
	gcŞ
 == '-') {

1088 
is_Ãg
 = 
Œue
;

1089 ++
	gcŞ
;

1090 } ià(*
	gcŞ
 == '+')

1091 ++
cŞ
;

1093 
	gx
 = 0;

1094 '0' <ğ*
cŞ
 && *col <= '9') {

1095 
y
 = *
cŞ
 - '0';

1096 
	gx
 *= 10;

1097 
	gx
 +ğ
y
;

1098 ++
	gcŞ
;

1101 ià(*
	gcŞ
 =ğ'.' || *
cŞ
 == ',') {

1102 ++
cŞ
;

1103 
T
 
	gpos
 = 1;

1104 '0' <ğ*
cŞ
 && *col <= '9') {

1105 
pos
 /= 10;

1106 
	gy
 = *
cŞ
 - '0';

1107 ++
	gcŞ
;

1108 
	gx
 +ğ
y
 * 
pos
;

1112 ià(*
	gcŞ
 =ğ'e' || *
cŞ
 == 'E') {

1113 ++
cŞ
;

1114 
	ge
;

1116 
	g·r£_sigÃd_š‹g”
<
	g£t_to_max_Ú_ov”æow
>(
	gcŞ
, 
	ge
);

1118 ià(
	ge
 != 0) {

1119 
T
 
ba£
;

1120 ià(
	ge
 < 0) {

1121 
	gba£
 = 
T
(0.1);

1122 
	ge
 = -
e
;

1124 
	gba£
 = 
T
(10);

1127 
	ge
 != 1) {

1128 ià((
e
 & 1) == 0) {

1129 
ba£
 = base * base;

1130 
	ge
 >>= 1;

1132 
	gx
 *ğ
ba£
;

1133 --
	ge
;

1136 
	gx
 *ğ
ba£
;

1139 ià(*
	gcŞ
 !ğ'\0'è
throw
 
”rÜ
::
no_dig™
();

1142 ià(
	gis_Ãg
è
	gx
 = -
x
;

1145 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1146 
·r£
(* 
cŞ
, & 
x
)

1148 
·r£_æßt
(
cŞ
, 
x
);

1150 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1151 
·r£
(* 
cŞ
, & 
x
)

1153 
·r£_æßt
(
cŞ
, 
x
);

1155 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1156 
·r£
(* 
cŞ
, & 
x
)

1158 
·r£_æßt
(
cŞ
, 
x
);

1161 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1162 
·r£_time
(* 
cŞ
, 
Sim¶eTime
& 
x
)

1164 
	gcŞ
[4] = '\0';

1165 
	g·r£
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gy—r_
);

1166 
	gcŞ
 += 5;

1167 
	gcŞ
[2] = '\0';

1168 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gmÚth_
);

1169 
	gcŞ
 += 3;

1170 
	gcŞ
[2] = '\0';

1171 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gday_
);

1172 
	gcŞ
 += 3;

1173 
	gcŞ
[2] = '\0';

1174 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	ghour_
);

1175 
	gcŞ
 += 3;

1176 
	gcŞ
[2] = '\0';

1177 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	gmš_
);

1178 
	gcŞ
 += 3;

1179 
	gcŞ
[2] = '\0';

1180 
	g·r£_sigÃd_š‹g”
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
.
	g£cÚd_
);

1182 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
>

1183 
·r£
(* 
cŞ
, 
Sim¶eTime
& 
x
)

1185 
	g·r£_time
<
	gov”æow_pŞicy
>(
	gcŞ
, 
	gx
);

1188 
	g‹m¶©e
 <
şass
 
	gov”æow_pŞicy
, cÏs 
	gT
>

1189 
·r£
(* 
cŞ
, 
T
& 
x
)

1192 ()
	gcŞ
;

1193 ()
	gx
;

1197 
¡©ic_as£¹
((
T
) != (T),

1204 
	g‹m¶©e
 <
	gcŞumn_couÁ
, 
şass
 
	gŒim_pŞicy
 = 
Œim_ch¬s
<' ', '\t'>,

1205 
şass
 
	gquÙe_pŞicy
 = 
no_quÙe_esÿ³
<','>, cÏs 
	gov”æow_pŞicy
 = 
throw_Ú_ov”æow
,

1206 
şass
 
	gcomm’t_pŞicy
 = 
no_comm’t
>

1207 şas 
	cCSVR—d”


1209 
´iv©e
:

1210 
LšeR—d”
 
š
;

1212 * 
	grow
[
cŞumn_couÁ
];

1213 
	g¡d
::
¡ršg
 
cŞumn_Çmes
[
cŞumn_couÁ
];

1215 
	g¡d
::
veùÜ
<> 
cŞ_Üd”
;

1217 
	g‹m¶©e
 <
	gşass
... 
	gCŞNames
>

1218 
£t_cŞumn_Çmes
(
¡d
::
¡ršg
 
s
, 
CŞNames
... 
cŞs
)

1220 
	gcŞumn_Çmes
[
cŞumn_couÁ
 - ...(
CŞNames
è- 1] = 
¡d
::
move
(
s
);

1221 
£t_cŞumn_Çmes
(
¡d
::
fÜw¬d
<
CŞNames
>(
cŞs
)...);

1224 
£t_cŞumn_Çmes
() {}

1226 
	gpublic
:

1227 
CSVR—d”
(èğ
d–‘e
;

1228 
CSVR—d”
(cÚ¡ CSVR—d”&èğ
d–‘e
;

1229 
	gCSVR—d”
& 
	gİ”©Ü
 =(cÚ¡ 
CSVR—d”
&);

1231 
	g‹m¶©e
 <
	gşass
... 
	gArgs
>

1232 
ex¶ic™
 
CSVR—d”
(
Args
&&... 
¬gs
è: 
š
(
¡d
::
fÜw¬d
<Args>(args)...)

1234 
¡d
::
fl
(
row
,„ow + 
cŞumn_couÁ
, 
nuÎ±r
);

1235 
	gcŞ_Üd”
.
»size
(
cŞumn_couÁ
);

1236 
	gi
 = 0; i < 
	gcŞumn_couÁ
; ++iè
	gcŞ_Üd”
[
i
] = i;

1237 
	gi
 = 1; i <ğ
cŞumn_couÁ
; ++i)

1238 
	gcŞumn_Çmes
[
i
 - 1] = "cŞ" + 
¡d
::
to_¡ršg
(i);

1241 * 
Ãxt_lše
()

1243  
	gš
.
Ãxt_lše
();

1246 
	g‹m¶©e
 <
	gşass
... 
	gCŞNames
>

1247 
»ad_h—d”
(
ignÜe_cŞumn
 
ignÜe_pŞicy
, 
CŞNames
... 
cŞs
)

1249 
¡©ic_as£¹
(...(
CŞNames
è>ğ
cŞumn_couÁ
, "notƒnough column‚ames specified");

1250 
¡©ic_as£¹
(...(
CŞNames
è<ğ
cŞumn_couÁ
, "too many column‚ames specified");

1251 
	gŒy
 {

1252 
£t_cŞumn_Çmes
(
¡d
::
fÜw¬d
<
CŞNames
>(
cŞs
)...);

1254 * 
	glše
;

1256 
	glše
 = 
š
.
Ãxt_lše
();

1257 ià(!
	glše
è
throw
 
	g”rÜ
::
h—d”_missšg
();

1258 } 
	gcomm’t_pŞicy
::
is_comm’t
(
lše
));

1260 
	gd‘a
::
·r£_h—d”_lše
<
cŞumn_couÁ
, 
	gŒim_pŞicy
, 
	gquÙe_pŞicy
>(

1261 
	glše
, 
	gcŞ_Üd”
, 
	gcŞumn_Çmes
, 
	gignÜe_pŞicy
);

1262 } 
ÿtch
 (
”rÜ
::
w™h_fe_Çme
& 
”r
) {

1263 
”r
.
£t_fe_Çme
(
š
.
g‘_Œunÿ‹d_fe_Çme
());

1264 
	gthrow
;

1268 
	g‹m¶©e
 <
	gşass
... 
	gCŞNames
>

1269 
£t_h—d”
(
CŞNames
... 
cŞs
)

1271 
¡©ic_as£¹
(...(
CŞNames
è>ğ
cŞumn_couÁ
, "notƒnough column‚ames specified");

1272 
¡©ic_as£¹
(...(
CŞNames
è<ğ
cŞumn_couÁ
, "too many column‚ames specified");

1273 
£t_cŞumn_Çmes
(
¡d
::
fÜw¬d
<
CŞNames
>(
cŞs
)...);

1274 
	g¡d
::
fl
(
row
,„ow + 
cŞumn_couÁ
, 
nuÎ±r
);

1275 
	gcŞ_Üd”
.
»size
(
cŞumn_couÁ
);

1276 
	gi
 = 0; i < 
	gcŞumn_couÁ
; ++iè
	gcŞ_Üd”
[
i
] = i;

1279 
boŞ
 
has_cŞumn
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
) const

1281  
cŞ_Üd”
.
’d
() !=

1282 
¡d
::
fšd
(
cŞ_Üd”
.
begš
(), cŞ_Üd”.
’d
(),

1283 
¡d
::
fšd
(¡d::
begš
(
cŞumn_Çmes
), std::
’d
(cŞumn_Çmes), 
Çme
) -

1284 
¡d
::
begš
(
cŞumn_Çmes
));

1287 
£t_fe_Çme
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme
)

1289 
š
.
£t_fe_Çme
(
fe_Çme
);

1292 
£t_fe_Çme
(cÚ¡ * 
fe_Çme
)

1294 
	gš
.
£t_fe_Çme
(
fe_Çme
);

1297 cÚ¡ * 
g‘_Œunÿ‹d_fe_Çme
() const

1299  
	gš
.
g‘_Œunÿ‹d_fe_Çme
();

1302 
£t_fe_lše
(
fe_lše
)

1304 
	gš
.
£t_fe_lše
(
fe_lše
);

1307 
g‘_fe_lše
() const

1309  
	gš
.
g‘_fe_lše
();

1312 
	g´iv©e
:

1313 
·r£_h–³r
(
¡d
::
size_t
) {}

1315 
‹m¶©e
 <
şass
 
T
, 
	gşass
... 
	gCŞTy³
>

1316 
·r£_h–³r
(
¡d
::
size_t
 
r
, 
T
& 
t
, 
CŞTy³
&... 
cŞs
)

1318 ià(
	grow
[
r
]) {

1319 
	gŒy
 {

1320 
	gŒy
 {

1321 ::
io
::
d‘a
::
·r£
<
ov”æow_pŞicy
>(
row
[
r
], 
	gt
);

1322 } 
ÿtch
 (
”rÜ
::
w™h_cŞumn_cÚ‹Á
& 
”r
) {

1323 
”r
.
£t_cŞumn_cÚ‹Á
(
row
[
r
]);

1324 
	gthrow
;

1326 } 
ÿtch
 (
”rÜ
::
w™h_cŞumn_Çme
& 
”r
) {

1327 
”r
.
£t_cŞumn_Çme
(
cŞumn_Çmes
[
r
].
c_¡r
());

1328 
	gthrow
;

1331 
·r£_h–³r
(
r
 + 1, 
cŞs
...);

1334 
	gpublic
:

1335 
‹m¶©e
 <
şass
... 
CŞTy³
>

1336 
boŞ
 
»ad_row
(
CŞTy³
&... 
cŞs
)

1338 
¡©ic_as£¹
(...(
CŞTy³
è>ğ
cŞumn_couÁ
, "notƒnough columns specified");

1339 
¡©ic_as£¹
(...(
CŞTy³
è<ğ
cŞumn_couÁ
, "too many columns specified");

1340 
	gŒy
 {

1341 
	gŒy
 {

1342 * 
	glše
;

1344 
	glše
 = 
š
.
Ãxt_lše
();

1345 ià(!
	glše
è 
	gçl£
;

1346 } 
	gcomm’t_pŞicy
::
is_comm’t
(
lše
));

1348 
	gd‘a
::
·r£_lše
<
Œim_pŞicy
, 
	gquÙe_pŞicy
>(
	glše
, 
	grow
, 
	gcŞ_Üd”
);

1350 
·r£_h–³r
(0, 
cŞs
...);

1351 } 
ÿtch
 (
”rÜ
::
w™h_fe_Çme
& 
”r
) {

1352 
”r
.
£t_fe_Çme
(
š
.
g‘_Œunÿ‹d_fe_Çme
());

1353 
	gthrow
;

1355 } 
ÿtch
 (
”rÜ
::
w™h_fe_lše
& 
”r
) {

1356 
”r
.
£t_fe_lše
(
š
.
g‘_fe_lše
());

1357 
	gthrow
;

1360  
	gŒue
;

1364 
	g‹m¶©e
 <
	gty³Çme
... 
	gCŞTy³s
,y³Çme... 
	gSŒs
>

1365 
	g¡d
::
tu¶e
<
¡d
::
veùÜ
<
CŞTy³s
>...> 
	$·r£_csv_to_veùÜs
(
¡d
::
¡ršg
 
csv_fe_·th
,

1366 
SŒs
... 
cŞ_Çmes
)

1368 
io
::
CSVR—d”
<...(
cŞ_Çmes
), io::
Œim_ch¬s
<' '>, io::
doubË_quÙe_esÿ³
<',', '\"'>> 
	`š
(

1369 
csv_fe_·th
);

1370 
š
.
	`»ad_h—d”
(
io
::
ignÜe_exŒa_cŞumn
, 
cŞ_Çmes
...);

1371 
¡d
::
tu¶e
<
CŞTy³s
...> 
cŞ_f›lds
;

1372 
¡d
::
tu¶e
<¡d::
veùÜ
<
CŞTy³s
>...> 
cŞ_vecs
;

1373 
¡d
::
	`­¶y
([&]×uto&... 
f›lds
è{  
š
.
	`»ad_row
(f›lds...); }, 
cŞ_f›lds
)) {

1374 autØ
£q
 = 
¡d
::
šdex_£qu’û_fÜ
<
CŞTy³s
...>{};

1375 [&]<
ty³Çme
 
T
, T... 
šts
>(
¡d
::
š‹g”_£qu’û
<T, iÁs...> 
št_£q
)

1377 ((
¡d
::
g‘
<
šts
>(
cŞ_vecs
).
	`push_back
(¡d::g‘<šts>(
cŞ_f›lds
))), ...);

1379 (
£q
);

1381  
cŞ_vecs
;

1382 
	}
}

	@DataFrame/original/include/DataFrame/DataFrame.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meTy³s.h
>

33 
	~<D©aF¿me/Uts/D©eTime.h
>

34 
	~<D©aF¿me/Uts/FixedSizeSŒšg.h
>

35 
	~<D©aF¿me/Uts/Th»adG¿nuÏr™y.h
>

37 
	~<¬¿y
>

38 
	~<f¡»am
>

39 
	~<funùiÚ®
>

40 
	~<futu»
>

41 
	~<m­
>

42 
	~<tu¶e
>

43 
	~<ty³šdex
>

47 
Çme¥aû
 
	ghmdf


60 
	g‹m¶©e
<
ty³Çme
 
	gI
,y³Çm
	gH
>

61 şas 
	cLIBRARY_API
 
	gD©aF¿me
 : 
public
 
Th»adG¿nuÏr™y
 {

63 
¡©ic_as£¹
(
¡d
::
is_ba£_of
<
H‘”oVeùÜ
, 
H
>::
v®ue
 ||

64 
¡d
::
is_ba£_of
<
H‘”oV›w
, 
H
>::
v®ue
 ||

65 
¡d
::
is_ba£_of
<
H‘”oPŒV›w
, 
H
>::
v®ue
,

70 
usšg
 
	gD©aVec
 = 
H
;

71 
usšg
 
	gD©aVecVec
 = 
¡d
::
veùÜ
<
D©aVec
>;

73 
	g‹m¶©e
<
ty³Çme
 
	gII
,y³Çm
	gHH
>

74 
ä›nd
 
şass
 
	gD©aF¿me
;

76 
	gpublic
:

78 
usšg
 
size_ty³
 = 
ty³Çme
 
¡d
::
veùÜ
<
D©aVec
>::size_type;

79 
usšg
 
	gIndexTy³
 = 
I
;

80 
usšg
 
	gIndexVecTy³
 = 
ty³Çme
 
ty³_deş¬e
<
D©aVec
, 
	gIndexTy³
>::
ty³
;

81 
usšg
 
	gCŞNameTy³
 = 
SŒšg64
;

83 
D©aF¿me
() = ;

84 
D©aF¿me
(const DataFrame &) = ;

85 
D©aF¿me
(DataFrame &&) = ;

86 
	gD©aF¿me
 &
	gİ”©Ü
ğ(cÚ¡ 
D©aF¿me
 &) = ;

87 
	gD©aF¿me
 &
	gİ”©Ü
ğ(
D©aF¿me
 &&) = ;

89 ~
D©aF¿me
() = ;

91 
	g´iv©e
:

93 
usšg
 
CŞumnTabË
 =

94 
¡d
::
unÜd”ed_m­
<
CŞNameTy³
, 
	gsize_ty³
, 
	g¡d
::
hash
<
Vœtu®SŒšg
>>;

98 
D©aVecVec
 
	gd©a_
 { };

99 
IndexVecTy³
 
	gšdiûs_
 { };

100 
CŞumnTabË
 
	gcŞumn_tb_
 { };

102 
šlše
 
SpšLock
 *
	glock_
 { 
	gnuÎ±r
 };

104 
	gpublic
:

111 
£t_lock
 (
SpšLock
 *
¦
è{ 
lock_
 = sl; }

112 
»move_lock
 (è{ 
	glock_
 = 
nuÎ±r
; }

119 
	g‹m¶©e
<
ty³Çme
 
	gT
>

120 
	g¡d
::
veùÜ
<
T
> &

121 
ü—‹_cŞumn
(cÚ¡ *
Çme
);

128 
»move_cŞumn
(cÚ¡ *
Çme
);

134 
»Çme_cŞumn
(cÚ¡ *
äom
, cÚ¡ *
to
);

150 
	g‹m¶©e
<
ty³Çme
 
	gFROM_T
,y³Çm
	gTO_T
>

152 
»ty³_cŞumn
(cÚ¡ *
Çme
,

153 
¡d
::
funùiÚ
<
TO_T
 (cÚ¡ 
FROM_T
 &)> 
cÚv”t_func
 =

154 [](cÚ¡ 
FROM_T
 &
v®
è-> 
TO_T
 {

155  ((
TO_T
è(*(&
v®
)));

171 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

172 
size_ty³


173 
lßd_d©a
(
IndexVecTy³
 &&
šdiûs
, 
Ts
&& ... 
¬gs
);

180 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

181 
size_ty³


182 
lßd_šdex
(cÚ¡ 
ITR
 &
begš
, cÚ¡ ITR &
’d
);

186 
size_ty³


187 
lßd_šdex
(
IndexVecTy³
 &&
idx
);

205 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
>

206 
size_ty³


207 
lßd_cŞumn
(cÚ¡ *
Çme
,

208 
Index2D
<cÚ¡ 
ITR
 &> 
¿nge
,

209 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

225 
	g‹m¶©e
<
ty³Çme
 
	gT
>

226 
size_ty³


227 
lßd_cŞumn
(cÚ¡ *
Çme
,

228 
¡d
::
veùÜ
<
T
> &&
d©a
,

229 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

231 
	g‹m¶©e
<
ty³Çme
 
	gT
>

232 
size_ty³


233 
lßd_cŞumn
(cÚ¡ *
Çme
,

234 cÚ¡ 
¡d
::
veùÜ
<
T
> &
d©a
,

235 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

270 
	g‹m¶©e
<
ty³Çme
 
	gT
>

271 
size_ty³


272 
lßd_®ign_cŞumn
(

273 cÚ¡ *
Çme
,

274 
¡d
::
veùÜ
<
T
> &&
d©a
,

275 
size_ty³
 
š‹rv®
,

276 
boŞ
 
¡¬t_äom_begšnšg
,

277 cÚ¡ 
T
 &
nuÎ_v®ue
 = 
D©aF¿me
::
_g‘_Çn
<T>(),

278 
¡d
::
funùiÚ
<
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
size_ty³
 (

279 cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &,

280 cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &)> 
diff_func
 =

281 [](cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &
t_1
,

282 cÚ¡ 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
IndexTy³
 &
t
) ->

283 
ty³Çme
 
D©aF¿me
<
I
, 
H
>::
size_ty³
 {

284  (
¡©ic_ÿ¡
<
¡d
::
size_t
>(
t
 - 
t_1
));

289 
size_ty³


290 
­³nd_šdex
(cÚ¡ 
IndexTy³
 &
v®
);

303 
	g‹m¶©e
<
ty³Çme
 
	gT
>

304 
size_ty³


305 
­³nd_cŞumn
(cÚ¡ *
Çme
,

306 cÚ¡ 
T
 &
v®
,

307 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

316 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

317 
size_ty³


318 
­³nd_šdex
(
Index2D
<cÚ¡ 
ITR
 &> 
¿nge
);

335 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
>

336 
size_ty³


337 
­³nd_cŞumn
(cÚ¡ *
Çme
,

338 
Index2D
<cÚ¡ 
ITR
 &> 
¿nge
,

339 
Çn_pŞicy
 
·ddšg
 =‚ª_pŞicy::
·d_w™h_Çns
);

352 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

354 
»move_d©a_by_idx
(
Index2D
<
IndexTy³
> 
¿nge
);

369 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

371 
»move_d©a_by_loc
(
Index2D
<> 
¿nge
);

398 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

400 
»move_d©a_by_£l
(cÚ¡ *
Çme
, 
F
 &
£l_funùÜ
);

423 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

425 
»move_d©a_by_£l
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
F
 &
£l_funùÜ
);

452 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gF
,

453 
	gty³Çme
 ... 
	gTs
>

455 
»move_d©a_by_£l
(cÚ¡ *
Çme1
,

456 cÚ¡ *
Çme2
,

457 cÚ¡ *
Çme3
,

458 
F
 &
£l_funùÜ
);

460 
	gpublic
:

472 
‹m¶©e
<
size_t
 
N
, 
	gty³Çme
 ... 
	gTs
>

474 
shufæe
(cÚ¡ 
¡d
::
¬¿y
<cÚ¡ *, 
N
> 
cŞ_Çmes
,

475 
boŞ
 
®so_shufæe_šdex
);

498 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
size_t
 
	gN
>

500 
fl_missšg
(cÚ¡ 
¡d
::
¬¿y
<cÚ¡ *, 
N
> 
cŞ_Çmes
,

501 
fl_pŞicy
 
pŞicy
,

502 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
v®ues
 = { },

503 
lim™
 = -1);

515 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

517 
drİ_missšg
(
drİ_pŞicy
 
pŞicy
, 
size_ty³
 
th»shŞd
 = 0);

538 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
size_t
 
	gN
>

539 
size_ty³


540 
»¶aû
(cÚ¡ *
cŞ_Çme
,

541 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Şd_v®ues
,

542 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Ãw_v®ues
,

543 
lim™
 = -1);

550 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
size_t
 
	gN
>

551 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
size_ty³
>

552 
»¶aû_async
(cÚ¡ *
cŞ_Çme
,

553 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Şd_v®ues
,

554 cÚ¡ 
¡d
::
¬¿y
<
T
, 
N
> 
Ãw_v®ues
,

555 
lim™
 = -1);

577 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
>

579 
»¶aû
(cÚ¡ *
cŞ_Çme
, 
F
 &
funùÜ
);

586 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
>

587 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

588 
»¶aû_async
(cÚ¡ *
cŞ_Çme
, 
F
 &
funùÜ
);

599 
	g‹m¶©e
<
size_t
 
	gN
>

600 
size_ty³


601 
»¶aû_šdex
(cÚ¡ 
¡d
::
¬¿y
<
IndexTy³
, 
N
> 
Şd_v®ues
,

602 cÚ¡ 
¡d
::
¬¿y
<
IndexTy³
, 
N
> 
Ãw_v®ues
,

603 
lim™
 = -1);

623 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

625 
sÜt
(cÚ¡ *
Çme
, 
sÜt_¥ec
 
dœ
);

656 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
, 
	gty³Çme
 ... 
	gTs
>

658 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

659 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
);

663 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
, 
	gty³Çme
 ... 
	gTs
>

665 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

666 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

667 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
);

671 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,

672 
	gty³Çme
 ... 
	gTs
>

674 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

675 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

676 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

677 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
);

681 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

682 
	gty³Çme
 ... 
	gTs
>

684 
sÜt
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

685 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

686 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

687 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
,

688 cÚ¡ *
Çme5
, 
sÜt_¥ec
 
dœ5
);

692 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

693 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

694 
sÜt_async
(cÚ¡ *
Çme
, 
sÜt_¥ec
 
dœ
);

696 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
, 
	gty³Çme
 ... 
	gTs
>

697 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

698 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

699 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
);

701 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
, 
	gty³Çme
 ... 
	gTs
>

702 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

703 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

704 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

705 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
);

707 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,

708 
	gty³Çme
 ... 
	gTs
>

709 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

710 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

711 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

712 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

713 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
);

715 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

716 
	gty³Çme
 ... 
	gTs
>

717 [[
nodisÿrd
]] 
	g¡d
::
futu»
<>

718 
sÜt_async
(cÚ¡ *
Çme1
, 
sÜt_¥ec
 
dœ1
,

719 cÚ¡ *
Çme2
, 
sÜt_¥ec
 
dœ2
,

720 cÚ¡ *
Çme3
, 
sÜt_¥ec
 
dœ3
,

721 cÚ¡ *
Çme4
, 
sÜt_¥ec
 
dœ4
,

722 cÚ¡ *
Çme5
, 
sÜt_¥ec
 
dœ5
);

744 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

745 [[
nodisÿrd
]] 
D©aF¿me


746 
groupby
(
F
 &&
func
,

747 cÚ¡ *
gb_cŞ_Çme
,

748 
sÜt_¡©e
 
®»ady_sÜ‹d
 = sÜt_¡©e::
nÙ_sÜ‹d
) const;

752 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

753 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
D©aF¿me
>

754 
groupby_async
(
F
 &&
func
,

755 cÚ¡ *
gb_cŞ_Çme
,

756 
sÜt_¡©e
 
®»ady_sÜ‹d
 = sÜt_¡©e::
nÙ_sÜ‹d
) const;

777 
	g‹m¶©e
<
ty³Çme
 
	gT
>

778 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gT
>

779 
v®ue_couÁs
(cÚ¡ *
cŞ_Çme
) const;

806 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

807 [[
nodisÿrd
]] 
D©aF¿me


808 
buck‘ize
(
F
 &&
func
, cÚ¡ 
IndexTy³
 &
buck‘_š‹rv®
) const;

812 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

813 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
D©aF¿me
>

814 
buck‘ize_async
(
F
 &&
func
, cÚ¡ 
IndexTy³
 &
buck‘_š‹rv®
) const;

823 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

825 
£lf_buck‘ize
(
F
 &&
func
, cÚ¡ 
IndexTy³
 &
buck‘_š‹rv®
);

851 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

852 [[
nodisÿrd
]] 
D©aF¿me


853 
Œª¥o£
(
IndexVecTy³
 &&
šdiûs
,

854 cÚ¡ 
V
 &
cu¼’t_cŞ_Üd”
,

855 cÚ¡ 
V
 &
Ãw_cŞ_Çmes
) const;

877 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

878 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

879 
još_by_šdex
(cÚ¡ 
RHS_T
 &
rhs
, 
još_pŞicy
 
jp
) const;

910 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

911 [[
nodisÿrd
]] 
	gStdD©aF¿me
<>

912 
još_by_cŞumn
(cÚ¡ 
RHS_T
 &
rhs
, cÚ¡ *
Çme
, 
još_pŞicy
 
jp
) const;

934 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

935 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

936 
cÚÿt
(cÚ¡ 
RHS_T
 &
rhs
,

937 
cÚÿt_pŞicy
 
ı
 = cÚÿt_pŞicy::
®l_cŞumns
) const;

952 
	g‹m¶©e
<
ty³Çme
 
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

954 
£lf_cÚÿt
(cÚ¡ 
RHS_T
 &
rhs
, 
boŞ
 
add_Ãw_cŞumns
 = 
Œue
);

969 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

971 
£lf_shiá
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
);

976 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

977 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

978 
shiá
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
) const;

993 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

995 
£lf_rÙ©e
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
);

1000 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1001 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gIndexTy³
>

1002 
rÙ©e
(
size_ty³
 
³riods
, 
shiá_pŞicy
 
¥
) const;

1004 
	gpublic
:

1012 
‹m¶©e
<
ty³Çme
 
T
>

1013 [[
nodisÿrd
]] 
ty³Çme
 
ty³_deş¬e
<
D©aVec
, 
	gT
>::
ty³
 &

1014 
g‘_cŞumn
(cÚ¡ *
Çme
);

1024 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1025 [[
nodisÿrd
]] cÚ¡ 
ty³Çme
 
	gty³_deş¬e
<
	gD©aVec
, 
	gT
>::
ty³
 &

1026 
g‘_cŞumn
(cÚ¡ *
Çme
) const;

1034 
boŞ


1035 
has_cŞumn
(cÚ¡ *
Çme
) const;

1051 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1052 [[
nodisÿrd
]] 
boŞ


1053 
·‰”n_m©ch
(cÚ¡ *
cŞ_Çme
,

1054 
·‰”n_¥ec
 
·‰”n
,

1055 
•sÚ
 = 0.0) const;

1076 
	g‹m¶©e
<
size_t
 
	gN
, 
	gty³Çme
 ... 
	gTs
>

1077 [[
nodisÿrd
]] 
H‘”oVeùÜ


1078 
g‘_row
(
size_ty³
 
row_num
,

1079 cÚ¡ 
¡d
::
¬¿y
<cÚ¡ *, 
N
> 
cŞ_Çmes
) const;

1094 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1095 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
T
>

1096 
g‘_cŞ_unique_v®ues
(cÚ¡ *
Çme
) const;

1108 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1109 [[
nodisÿrd
]] 
D©aF¿me


1110 
g‘_d©a_by_idx
(
Index2D
<
IndexTy³
> 
¿nge
) const;

1126 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1127 [[
nodisÿrd
]] 
D©aF¿me


1128 
g‘_d©a_by_idx
(cÚ¡ 
¡d
::
veùÜ
<
IndexTy³
> &
v®ues
) const;

1146 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1147 [[
nodisÿrd
]] 
	gD©aF¿meV›w
<
	gIndexTy³
>

1148 
g‘_v›w_by_idx
(
Index2D
<
IndexTy³
> 
¿nge
) const;

1167 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1168 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1169 
g‘_v›w_by_idx
(cÚ¡ 
¡d
::
veùÜ
<
IndexTy³
> &
v®ues
) const;

1182 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1183 [[
nodisÿrd
]] 
D©aF¿me


1184 
g‘_d©a_by_loc
(
Index2D
<> 
¿nge
) const;

1200 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1201 [[
nodisÿrd
]] 
D©aF¿me


1202 
g‘_d©a_by_loc
(cÚ¡ 
¡d
::
veùÜ
<> &
loÿtiÚs
) const;

1220 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1221 [[
nodisÿrd
]] 
	gD©aF¿meV›w
<
	gIndexTy³
>

1222 
g‘_v›w_by_loc
(
Index2D
<> 
¿nge
) const;

1241 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1242 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1243 
g‘_v›w_by_loc
(cÚ¡ 
¡d
::
veùÜ
<> &
loÿtiÚs
) const;

1271 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

1272 [[
nodisÿrd
]] 
D©aF¿me


1273 
g‘_d©a_by_£l
(cÚ¡ *
Çme
, 
F
 &
£l_funùÜ
) const;

1295 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

1296 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1297 
g‘_v›w_by_£l
(cÚ¡ *
Çme
, 
F
 &
£l_funùÜ
) const;

1320 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

1321 [[
nodisÿrd
]] 
D©aF¿me


1322 
g‘_d©a_by_£l
(cÚ¡ *
Çme1
,

1323 cÚ¡ *
Çme2
,

1324 
F
 &
£l_funùÜ
) const;

1350 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gF
, 
	gty³Çme
 ... 
	gTs
>

1351 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1352 
g‘_v›w_by_£l
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
F
 &
£l_funùÜ
) const;

1379 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gF
,

1380 
	gty³Çme
 ... 
	gTs
>

1381 [[
nodisÿrd
]] 
D©aF¿me


1382 
g‘_d©a_by_£l
(cÚ¡ *
Çme1
,

1383 cÚ¡ *
Çme2
,

1384 cÚ¡ *
Çme3
,

1385 
F
 &
£l_funùÜ
) const;

1415 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gF
,

1416 
	gty³Çme
 ... 
	gTs
>

1417 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1418 
g‘_v›w_by_£l
(cÚ¡ *
Çme1
,

1419 cÚ¡ *
Çme2
,

1420 cÚ¡ *
Çme3
,

1421 
F
 &
£l_funùÜ
) const;

1446 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1447 [[
nodisÿrd
]] 
D©aF¿me


1448 
g‘_d©a_by_¿nd
(
¿ndom_pŞicy
 
¥ec
, 
n
, 
size_ty³
 
£ed
 = 0) const;

1475 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1476 [[
nodisÿrd
]] 
	gD©aF¿mePŒV›w
<
	gIndexTy³
>

1477 
g‘_v›w_by_¿nd
(
¿ndom_pŞicy
 
¥ec
, 
n
, 
size_ty³
 
£ed
 = 0) const;

1481 
šlše


1482 cÚ¡ 
	gIndexVecTy³
 &

1483 
g‘_šdex
(ècÚ¡ {  (
	gšdiûs_
); }

1487 
šlše


1488 
	gIndexVecTy³
 &

1489 
g‘_šdex
(è{  (
	gšdiûs_
); }

1512 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

1513 [[
nodisÿrd
]] 
	gStdD©aF¿me
<
	gT
>

1514 
g‘_»šdexed
(cÚ¡ *
cŞ_to_be_šdex
,

1515 cÚ¡ *
Şd_šdex_Çme
 = 
nuÎ±r
) const;

1538 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gty³Çme
 ... 
	gTs
>

1539 [[
nodisÿrd
]] 
	gD©aF¿meV›w
<
	gT
>

1540 
g‘_»šdexed_v›w
(cÚ¡ *
cŞ_to_be_šdex
,

1541 cÚ¡ *
Şd_šdex_Çme
 = 
nuÎ±r
) const;

1569 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gDF
,y³Çm
	gF
>

1570 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
T
>

1571 
combše
(cÚ¡ *
cŞ_Çme
, cÚ¡ 
DF
 &
rhs
, 
F
 &
funùÜ
) const;

1596 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gDF1
,y³Çm
	gDF2
,y³Çm
	gF
>

1597 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
T
>

1598 
combše
(cÚ¡ *
cŞ_Çme
,

1599 cÚ¡ 
DF1
 &
df1
,

1600 cÚ¡ 
DF2
 &
df2
,

1601 
F
 &
funùÜ
) const;

1634 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gDF1
,y³Çm
	gDF2
,y³Çm
	gDF3
,y³Çm
	gF
>

1635 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
T
>

1636 
combše
(cÚ¡ *
cŞ_Çme
,

1637 cÚ¡ 
DF1
 &
df1
,

1638 cÚ¡ 
DF2
 &
df2
,

1639 cÚ¡ 
DF3
 &
df3
,

1640 
F
 &
funùÜ
) const;

1642 
	gpublic
:

1668 
‹m¶©e
<
ty³Çme
 ... 
Ts
>

1670 
muÉi_vis™
(
Ts
 ... 
¬gs
);

1672 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

1674 
muÉi_vis™
(
Ts
 ... 
¬gs
) const {

1676 
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gmuÉi_vis™
<
	gTs
 ...>(
	g¬gs
 ...);

1691 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1692 
	gV
 &

1693 
vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

1695 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1696 
	gV
 &

1697 
vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const {

1699 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT
, 
	gV
>(
	gÇme
, 
	gvis™Ü
));

1709 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1710 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1711 
vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

1713 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1714 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1715 
vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const;

1733 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1734 
	gV
 &

1735 
vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

1737 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1738 
	gV
 &

1739 
vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
) const {

1741 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gV
>

1742 (
	gÇme1
, 
	gÇme2
, 
	gvis™Ü
));

1752 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1753 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1754 
vis™_async
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

1756 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

1757 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1758 
vis™_async
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
) const;

1780 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1781 
	gV
 &

1782 
vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, cÚ¡ *
Çme3
, 
V
 &
vis™Ü
);

1784 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1785 
	gV
 &

1786 
vis™
(cÚ¡ *
Çme1
,

1787 cÚ¡ *
Çme2
,

1788 cÚ¡ *
Çme3
,

1789 
V
 &
vis™Ü
) const {

1791 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gT3
, 
	gV
>

1792 (
	gÇme1
, 
	gÇme2
, 
	gÇme3
, 
	gvis™Ü
));

1802 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1803 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1804 
vis™_async
(cÚ¡ *
Çme1
,

1805 cÚ¡ *
Çme2
,

1806 cÚ¡ *
Çme3
,

1807 
V
 &
vis™Ü
);

1809 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gV
>

1810 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1811 
vis™_async
(cÚ¡ *
Çme1
,

1812 cÚ¡ *
Çme2
,

1813 cÚ¡ *
Çme3
,

1814 
V
 &
vis™Ü
) const;

1840 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1841 
	gV
 &

1842 
vis™
(cÚ¡ *
Çme1
,

1843 cÚ¡ *
Çme2
,

1844 cÚ¡ *
Çme3
,

1845 cÚ¡ *
Çme4
,

1846 
V
 &
vis™Ü
);

1848 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1849 
	gV
 &

1850 
vis™
(cÚ¡ *
Çme1
,

1851 cÚ¡ *
Çme2
,

1852 cÚ¡ *
Çme3
,

1853 cÚ¡ *
Çme4
,

1854 
V
 &
vis™Ü
) const {

1856 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gT3
, 
	gT4
, 
	gV
>

1857 (
	gÇme1
, 
	gÇme2
, 
	gÇme3
, 
	gÇme4
, 
	gvis™Ü
));

1867 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1868 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1869 
vis™_async
(cÚ¡ *
Çme1
,

1870 cÚ¡ *
Çme2
,

1871 cÚ¡ *
Çme3
,

1872 cÚ¡ *
Çme4
,

1873 
V
 &
vis™Ü
);

1875 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gV
>

1876 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1877 
vis™_async
(cÚ¡ *
Çme1
,

1878 cÚ¡ *
Çme2
,

1879 cÚ¡ *
Çme3
,

1880 cÚ¡ *
Çme4
,

1881 
V
 &
vis™Ü
) const;

1911 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1912 
ty³Çme
 
	gV
>

1913 
	gV
 &

1914 
vis™
(cÚ¡ *
Çme1
,

1915 cÚ¡ *
Çme2
,

1916 cÚ¡ *
Çme3
,

1917 cÚ¡ *
Çme4
,

1918 cÚ¡ *
Çme5
,

1919 
V
 &
vis™Ü
);

1921 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1922 
ty³Çme
 
	gV
>

1923 
	gV
 &

1924 
vis™
(cÚ¡ *
Çme1
,

1925 cÚ¡ *
Çme2
,

1926 cÚ¡ *
Çme3
,

1927 cÚ¡ *
Çme4
,

1928 cÚ¡ *
Çme5
,

1929 
V
 &
vis™Ü
) const {

1931 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gvis™
<
	gT1
, 
	gT2
, 
	gT3
, 
	gT4
, 
	gT5
, 
	gV
>

1932 (
	gÇme1
, 
	gÇme2
, 
	gÇme3
, 
	gÇme4
, 
	gÇme5
, 
	gvis™Ü
));

1942 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1943 
ty³Çme
 
	gV
>

1944 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1945 
vis™_async
(cÚ¡ *
Çme1
,

1946 cÚ¡ *
Çme2
,

1947 cÚ¡ *
Çme3
,

1948 cÚ¡ *
Çme4
,

1949 cÚ¡ *
Çme5
,

1950 
V
 &
vis™Ü
);

1952 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,

1953 
ty³Çme
 
	gV
>

1954 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1955 
vis™_async
(cÚ¡ *
Çme1
,

1956 cÚ¡ *
Çme2
,

1957 cÚ¡ *
Çme3
,

1958 cÚ¡ *
Çme4
,

1959 cÚ¡ *
Çme5
,

1960 
V
 &
vis™Ü
) const;

1974 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1975 
	gV
 &

1976 
sšgË_aù_vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

1978 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gV
>

1979 
	gV
 &

1980 
sšgË_aù_vis™
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const {

1982 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gsšgË_aù_vis™
<
	gT
, 
	gV
>

1983 (
	gÇme
, 
	gvis™Ü
));

1994 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gV
>

1995 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

1996 
sšgË_aù_vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
);

1998 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gV
>

1999 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

2000 
sšgË_aù_vis™_async
(cÚ¡ *
Çme
, 
V
 &
vis™Ü
) const;

2019 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2020 
	gV
 &

2021 
sšgË_aù_vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

2023 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2024 
	gV
 &

2025 
sšgË_aù_vis™
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
) const {

2027 (
	gcÚ¡_ÿ¡
<
	gD©aF¿me
 *>(
	gthis
)->
	gsšgË_aù_vis™
<
	gT1
, 
	gT2
, 
	gV
>

2028 (
	gÇme1
, 
	gÇme2
, 
	gvis™Ü
));

2039 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2040 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

2041 
sšgË_aù_vis™_async
(cÚ¡ *
Çme1
, cÚ¡ *
Çme2
, 
V
 &
vis™Ü
);

2043 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gV
>

2044 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
V
 &>

2045 
sšgË_aù_vis™_async
(cÚ¡ *
Çme1
,

2046 cÚ¡ *
Çme2
,

2047 
V
 &
vis™Ü
) const;

2049 
	gpublic
:

2059 
‹m¶©e
<
ty³Çme
 ... 
Ts
>

2060 [[
nodisÿrd
]] 
boŞ


2061 
is_equ®
(cÚ¡ 
D©aF¿me
 &
rhs
) const;

2075 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

2076 
	gD©aF¿me
 &

2077 
modify_by_idx
(
D©aF¿me
 &
rhs
,

2078 
sÜt_¡©e
 
®»ady_sÜ‹d
 = sÜt_¡©e::
nÙ_sÜ‹d
);

2080 
	gpublic
:

2091 
‹m¶©e
<
ty³Çme
 ... 
Ts
>

2093 
make_cÚsi¡’t
();

2101 [[
nodisÿrd
]] 
	g¡d
::
·œ
<
size_ty³
, 
	gsize_ty³
>

2102 
sh­e
() const;

2111 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

2112 [[
nodisÿrd
]] 
	g¡d
::
veùÜ
<
¡d
::
tu¶e
<
CŞNameTy³
,

2113 
	gsize_ty³
,

2114 
	g¡d
::
ty³_šdex
>>

2115 
g‘_cŞumns_šfo
() const;

2133 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2134 [[
nodisÿrd
]] 
MemU§ge


2135 
g‘_memÜy_u§ge
(cÚ¡ *
cŞ_Çme
) const;

2149 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

2151 
shršk_to_f™
();

2180 
	g¡d
::
veùÜ
<
IndexTy³
>

2181 
g’_d©‘ime_šdex
(cÚ¡ *
¡¬t_d©‘ime
,

2182 cÚ¡ *
’d_d©‘ime
,

2183 
time_äequ’cy
 
t_äeq
,

2184 
šüem’t
 = 1,

2185 
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

2201 
	g¡d
::
veùÜ
<
IndexTy³
>

2202 
g’_£qu’û_šdex
(cÚ¡ 
IndexTy³
 &
¡¬t_v®ue
,

2203 cÚ¡ 
IndexTy³
 &
’d_v®ue
,

2204 
šüem’t
 = 1);

2245 
	g‹m¶©e
<
ty³Çme
 
	gS
, 
	gty³Çme
 ... 
	gTs
>

2246 
boŞ


2247 
wr™e
(
S
 &
o
,

2248 
boŞ
 
v®ues_Úly
 = 
çl£
,

2249 
io_fÜm©
 
iof
 = io_fÜm©::
csv
) const;

2253 
	g‹m¶©e
<
ty³Çme
 
	gS
, 
	gty³Çme
 ... 
	gTs
>

2254 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
boŞ
>

2255 
wr™e_async
(
S
 &
o
,

2256 
boŞ
 
v®ues_Úly
 = 
çl£
,

2257 
io_fÜm©
 
iof
 = io_fÜm©::
csv
) const;

2291 
boŞ


2292 
»ad
(cÚ¡ *
fe_Çme
, 
io_fÜm©
 
iof
 = io_fÜm©::
csv
);

2296 [[
nodisÿrd
]] 
	g¡d
::
futu»
<
boŞ
>

2297 
»ad_async
(cÚ¡ *
fe_Çme
, 
io_fÜm©
 
iof
 = io_fÜm©::
csv
);

2299 
	g´iv©e
:

2301 
‹m¶©e
<
ty³Çme
 
DF
, 
	g‹m¶©e
<
	gty³Çme
> 
şass
 
	gOPT
,y³Çm... 
	gTs
>

2302 
ä›nd
 
DF


2303 
bš¬y_İ”©iÚ
(cÚ¡ 
DF
 &
lhs
, cÚ¡ DF &
rhs
);

2305 
	g´Ùeùed
:

2307 
‹m¶©e
<
ty³Çme
 
T1
,y³Çm
	gT2
>

2308 
size_ty³


2309 
_lßd_·œ
(
¡d
::
·œ
<
T1
, 
T2
> &
cŞ_Çme_d©a
);

2311 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2312 
šlše
 
cÚ¡ex´


2313 
T
 
_g‘_Çn
();

2315 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2316 
šlše
 
cÚ¡ex´
 
boŞ


2317 
_is_Çn
(cÚ¡ 
T
 &
v®
);

2319 
	g´iv©e
:

2321 
»ad_jsÚ_
(
¡d
::
if¡»am
 &
fe
);

2323 
	g‹m¶©e
<
ty³Çme
 
	gCF
, 
	gty³Çme
 ... 
	gTs
>

2325 
sÜt_commÚ_
(
D©aF¿me
<
I
, 
H
> &
df
, 
CF
 &&
comp_func
);

2327 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2329 
fl_missšg_v®ue_
(
¡d
::
veùÜ
<
T
> &
vec
,

2330 cÚ¡ 
T
 &
v®ue
,

2331 
lim™
,

2332 
size_ty³
 
cŞ_num
);

2334 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2336 
fl_missšg_ffl_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
, 
size_ty³
 
cŞ_num
);

2338 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2339 
ty³Çme
 
	g¡d
::
’abË_if
<

2340 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 &&

2341 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2343 
fl_missšg_midpošt_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
, 
size_ty³
 
cŞ_num
);

2345 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2346 
ty³Çme
 
	g¡d
::
’abË_if
<

2347 ! 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 ||

2348 ! 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2350 
fl_missšg_midpošt_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
, 
size_ty³
 
cŞ_num
);

2352 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2354 
fl_missšg_bfl_
(
¡d
::
veùÜ
<
T
> &
vec
, 
lim™
);

2356 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2357 
ty³Çme
 
	g¡d
::
’abË_if
<

2358 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 &&

2359 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2361 
fl_missšg_lš‹r_
(
¡d
::
veùÜ
<
T
> &
vec
,

2362 cÚ¡ 
IndexVecTy³
 &
šdex
,

2363 
lim™
);

2365 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2366 
ty³Çme
 
	g¡d
::
’abË_if
<

2367 ! 
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 ||

2368 ! 
¡d
::
is_¬™hm‘ic
<
IndexTy³
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

2370 
fl_missšg_lš‹r_
(
¡d
::
veùÜ
<
T
> &, cÚ¡ 
IndexVecTy³
 &, );

2373 
usšg
 
	gDrİRowM­
 = 
¡d
::
m­
<
size_ty³
, 
	gsize_ty³
>;

2375 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2377 
drİ_missšg_rows_
(
T
 &
vec
,

2378 cÚ¡ 
DrİRowM­
 
missšg_row_m­
,

2379 
drİ_pŞicy
 
pŞicy
,

2380 
size_ty³
 
th»shŞd
,

2381 
size_ty³
 
cŞ_num
);

2383 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
>

2385 
£tup_v›w_cŞumn_
(cÚ¡ *
Çme
, 
Index2D
<
ITR
> 
¿nge
);

2387 
usšg
 
	gIndexIdxVeùÜ
 = 
¡d
::
veùÜ
<¡d::
tu¶e
<
size_ty³
, 
	gsize_ty³
>>;

2388 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2389 
usšg
 
	gJošSÜtšgPaœ
 = 
¡d
::
·œ
<cÚ¡ 
T
 *, 
	gsize_ty³
>;

2391 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gIDX_T
, 
	gty³Çme
 ... 
	gTs
>

2393 
još_h–³r_commÚ_
(cÚ¡ 
LHS_T
 &
lhs
,

2394 cÚ¡ 
RHS_T
 &
rhs
,

2395 cÚ¡ 
IndexIdxVeùÜ
 &
jošed_šdex_idx
,

2396 
StdD©aF¿me
<
IDX_T
> &
»suÉ
,

2397 cÚ¡ *
sk_cŞ_Çme
 = 
nuÎ±r
);

2399 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2400 
	gStdD©aF¿me
<
	gIndexTy³
>

2401 
šdex_još_h–³r_
(cÚ¡ 
LHS_T
 &
lhs
,

2402 cÚ¡ 
RHS_T
 &
rhs
,

2403 cÚ¡ 
IndexIdxVeùÜ
 &
jošed_šdex_idx
);

2405 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2406 
	gStdD©aF¿me
<>

2407 
cŞumn_još_h–³r_
(cÚ¡ 
LHS_T
 &
lhs
,

2408 cÚ¡ 
RHS_T
 &
rhs
,

2409 cÚ¡ *
cŞ_Çme
,

2410 cÚ¡ 
IndexIdxVeùÜ
 &
jošed_šdex_idx
);

2412 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2413 
IndexIdxVeùÜ


2414 
g‘_šÃr_šdex_idx_veùÜ_
(

2415 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2416 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2418 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2419 
	gStdD©aF¿me
<
	gIndexTy³
>

2420 
šdex_šÃr_još_
(

2421 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2422 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2423 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2425 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2426 
	gStdD©aF¿me
<>

2427 
cŞumn_šÃr_još_
(cÚ¡ 
LHS_T
 &
lhs
,

2428 cÚ¡ 
RHS_T
 &
rhs
,

2429 cÚ¡ *
cŞ_Çme
,

2430 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2431 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2433 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2434 
IndexIdxVeùÜ


2435 
g‘_Ëá_šdex_idx_veùÜ_
(

2436 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2437 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2439 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2440 
	gStdD©aF¿me
<
	gIndexTy³
>

2441 
šdex_Ëá_još_
(

2442 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2443 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2444 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2446 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2447 
	gStdD©aF¿me
<>

2448 
cŞumn_Ëá_još_
(cÚ¡ 
LHS_T
 &
lhs
,

2449 cÚ¡ 
RHS_T
 &
rhs
,

2450 cÚ¡ *
cŞ_Çme
,

2451 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2452 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2454 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2455 
IndexIdxVeùÜ


2456 
g‘_right_šdex_idx_veùÜ_
(

2457 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2458 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2460 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2461 
	gStdD©aF¿me
<
	gIndexTy³
>

2462 
šdex_right_još_
(

2463 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2464 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2465 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2467 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2468 
	gStdD©aF¿me
<>

2469 
cŞumn_right_još_
(cÚ¡ 
LHS_T
 &
lhs
,

2470 cÚ¡ 
RHS_T
 &
rhs
,

2471 cÚ¡ *
cŞ_Çme
,

2472 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2473 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2475 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2477 
cÚÿt_h–³r_
(
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
, 
boŞ
 
add_Ãw_cŞumns
);

2479 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2480 
IndexIdxVeùÜ


2481 
g‘_Ëá_right_šdex_idx_veùÜ_
(

2482 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2483 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2485 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
, 
	gty³Çme
 ... 
	gTs
>

2486 
	gStdD©aF¿me
<
	gIndexTy³
>

2487 
šdex_Ëá_right_još_
(

2488 cÚ¡ 
LHS_T
 &
lhs
, cÚ¡ 
RHS_T
 &
rhs
,

2489 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_lhs
,

2490 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
IndexTy³
>> &
cŞ_vec_rhs
);

2492 
	g‹m¶©e
<
ty³Çme
 
	gLHS_T
,y³Çm
	gRHS_T
,y³Çm
	gT
, 
	gty³Çme
 ... 
	gTs
>

2493 
	gStdD©aF¿me
<>

2494 
cŞumn_Ëá_right_još_
(

2495 cÚ¡ 
LHS_T
 &
lhs
,

2496 cÚ¡ 
RHS_T
 &
rhs
,

2497 cÚ¡ *
cŞ_Çme
,

2498 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_lhs
,

2499 cÚ¡ 
¡d
::
veùÜ
<
JošSÜtšgPaœ
<
T
>> &
cŞ_vec_rhs
);

2501 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2502 
boŞ


2503 
is_mÚÙÚic_šü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2505 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2506 
boŞ


2507 
is_¡riùly_mÚÙÚic_šü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2509 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2510 
boŞ


2511 
is_mÚÙÚic_deü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2513 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2514 
boŞ


2515 
is_¡riùly_mÚÙÚic_deü—sšg_
(cÚ¡ 
V
 &
cŞumn
);

2517 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2518 
boŞ


2519 
is_nÜm®_
(cÚ¡ 
V
 &
cŞumn
, 
•sÚ
, 
boŞ
 
check_fÜ_¡ªd¬d
);

2521 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2522 
boŞ


2523 
is_lognÜm®_
(cÚ¡ 
V
 &
cŞumn
, 
•sÚ
);

2525 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2527 
shiá_right_
(
V
 &
vec
, 
size_ty³
 
n
);

2529 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2531 
shiá_Ëá_
(
V
 &
vec
, 
size_ty³
 
n
);

2533 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2535 
rÙ©e_right_
(
V
 &
vec
, 
size_ty³
 
n
);

2537 
	g‹m¶©e
<
ty³Çme
 
	gV
>

2539 
rÙ©e_Ëá_
(
V
 &
vec
, 
size_ty³
 
n
);

2542 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_funùÜs.h
>

2544 
	g´iv©e
:

2546 
‹m¶©e
<
ty³Çme
 ... 
Ts
,y³Çm
	gF
, 
	g¡d
::
size_t
 ... 
Is
>

2548 
fÜ_—ch_š_tu¶e_
(cÚ¡ 
¡d
::
tu¶e
<
Ts
 ...> &
tu
,

2549 
F
 
func
,

2550 
¡d
::
šdex_£qu’û
<
Is
 ...>);

2552 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
, 
ty³Çme
 
	gF
, 
	g¡d
::
size_t
 ... 
Is
>

2554 
fÜ_—ch_š_tu¶e_
(
¡d
::
tu¶e
<
Ts
 ...> &
tu
,

2555 
F
 
func
,

2556 
¡d
::
šdex_£qu’û
<
Is
 ...>);

2558 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
, 
ty³Çme
 
	gF
>

2560 
fÜ_—ch_š_tu¶e_
(cÚ¡ 
¡d
::
tu¶e
<
Ts
...> &
tu
, 
F
 
func
);

2562 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
, 
ty³Çme
 
	gF
>

2564 
fÜ_—ch_š_tu¶e_
(
¡d
::
tu¶e
<
Ts
...> &
tu
, 
F
 
func
);

2567 
	g‹m¶©e
 <
	gIndexCŞNum
, 
	gty³Çme
... 
	gCŞTy³s
,y³Çme... 
	gSŒs
>

2568 autØ
»ad_csv
(
¡d
::
¡ršg
 
csv_fe_·th
, 
SŒs
... 
d©a_cŞ_Çmes
);

2574 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


2575 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_¡ªd®Úe.tcc
>

2576 
	~<D©aF¿me/IÁ”Çls/D©aF¿me.tcc
>

2577 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_g‘.tcc
>

2578 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_još.tcc
>

2579 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_misc.tcc
>

2580 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_İt.tcc
>

2581 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_»ad.tcc
>

2582 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_£t.tcc
>

2583 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_shiá.tcc
>

2584 
	~<D©aF¿me/IÁ”Çls/D©aF¿me_wr™e.tcc
>

	@DataFrame/original/include/DataFrame/DataFrameFinancialVisitors.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

33 
	~<D©aF¿me/D©aF¿meTy³s.h
>

35 
	~<®gÜ™hm
>

36 
	~<funùiÚ®
>

37 
	~<™”©Ü
>

38 
	~<lim™s
>

42 
Çme¥aû
 
	ghmdf


45 
	g‹m¶©e
<
ty³Çme
 
	gT
,

46 
ty³Çme
 
	gI
 = ,

47 
	gty³Çme
 =

48 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

49 
	sR‘uºVis™Ü
 {

51 
DEFINE_VISIT_BASIC_TYPES_3


53 
ex¶ic™
 
R‘uºVis™Ü
 (
»tuº_pŞicy
 
½
è: 
»t_p_
(rp) { }

55 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

56 
šlše
 

57 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

58 cÚ¡ 
	gK
 &
	gidx_’d
,

59 cÚ¡ 
	gH
 &
	g´iûs_begš
,

60 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

62 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

63 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

64 cÚ¡ 
size_ty³
 
	gcŞ_Ën
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

66 ià(
	gcŞ_Ën
 < 3) ;

69 
	g¡d
::
funùiÚ
<
v®ue_ty³
(v®ue_ty³, v®ue_ty³)> 
	gfunc
 =

70 [](
v®ue_ty³
 
lhs
, v®ue_ty³ 
	grhs
è-> 
	gv®ue_ty³
 {

71  (::
log
(
lhs
 / 
rhs
));

74 ià(
	g»t_p_
 =ğ
»tuº_pŞicy
::
³rûÁage
)

75 
func
 = [](
v®ue_ty³
 
lhs
, v®ue_ty³ 
	grhs
è-> 
	gv®ue_ty³
 {

76  ((
	glhs
 - 
	grhs
) /„hs);

78 ià(
	g»t_p_
 =ğ
»tuº_pŞicy
::
mÚ‘¬y
)

79 
func
 = [](
v®ue_ty³
 
lhs
, v®ue_ty³ 
	grhs
è-> 
	gv®ue_ty³
 {

80  (
	glhs
 - 
	grhs
);

83 
»suÉ_ty³
 
	gtmp_»suÉ
;

85 
	gtmp_»suÉ
.
»£rve
(
cŞ_Ën
);

86 
	g¡d
::
adjaûÁ_difã»nû
 (
´iûs_begš
, 
´iûs_’d
,

87 
¡d
::
back_š£¹”
 (
tmp_»suÉ
),

88 
func
);

89 
	gtmp_»suÉ
.
”a£
 (
tmp_»suÉ
.
begš
 ());

90 
	gtmp_»suÉ
.
sw­
(
»suÉ_
);

93 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

94 
šlše
 
po¡
 () { }

95 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

96 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	g»suÉ_
); }

98 
	g´iv©e
:

100 
»suÉ_ty³
 
»suÉ_
 { };

101 cÚ¡ 
»tuº_pŞicy
 
	g»t_p_
;

106 
	g‹m¶©e
<
ty³Çme
 
	gS_RT
,

107 
ty³Çme
 
	gL_RT
,

108 
ty³Çme
 
	gT
,

109 
ty³Çme
 
	gI
 = ,

110 
	gty³Çme
 =

111 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

112 
	sDoubËCrossOv”
 {

114 
´iv©e
:

116 
S_RT
 
shÜt_rŞËr_
;

117 
L_RT
 
	glÚg_rŞËr_
;

119 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

120 
šlše
 
	g¡d
::
size_t


121 
run_shÜt_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

122 cÚ¡ 
K
 &
idx_’d
,

123 cÚ¡ 
H
 &
´iûs_begš
,

124 cÚ¡ 
H
 &
´iûs_’d
) {

126 
shÜt_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

128 cÚ¡‡utØ&
	g»suÉ
 = 
shÜt_rŞËr_
.
g‘_»suÉ
();

129 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

130 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

131 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 =

132 
¡d
::
mš
<¡d::
size_t
>({ 
idx_size
, 
cŞ_size
, 
»suÉ
.
size
() });

134 
	gcŞ_to_shÜt_‹rm_
.
»£rve
(
cŞ_s
);

135 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

136 
	gcŞ_to_shÜt_‹rm_
.
push_back
(*(
´iûs_begš
 + 
i
è- 
»suÉ
[i]);

137  (
	gcŞ_s
);

139 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

140 
šlše
 
	g¡d
::
size_t


141 
run_lÚg_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

142 cÚ¡ 
K
 &
idx_’d
,

143 cÚ¡ 
H
 &
´iûs_begš
,

144 cÚ¡ 
H
 &
´iûs_’d
) {

146 
lÚg_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

148 cÚ¡‡utØ&
	g»suÉ
 = 
lÚg_rŞËr_
.
g‘_»suÉ
();

149 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

150 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

151 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 =

152 
¡d
::
mš
<¡d::
size_t
>({ 
idx_size
, 
cŞ_size
, 
»suÉ
.
size
() });

154 
	gcŞ_to_lÚg_‹rm_
.
»£rve
(
cŞ_s
);

155 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

156 
	gcŞ_to_lÚg_‹rm_
.
push_back
(*(
´iûs_begš
 + 
i
è- 
»suÉ
[i]);

157  (
	gcŞ_s
);

160 
	gpublic
:

162 
usšg
 
v®ue_ty³
 = 
T
;

163 
usšg
 
	gšdex_ty³
 = 
I
;

164 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

165 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
v®ue_ty³
>;

167 
šlše
 
DoubËCrossOv”
(
S_RT
 &&
¤
, 
L_RT
 &&
Ì
)

168 : 
shÜt_rŞËr_
(
¡d
::
move
(
¤
)), 
lÚg_rŞËr_
(¡d::move(
Ì
)) { }

170 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

171 
šlše
 

172 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

173 cÚ¡ 
	gK
 &
	gidx_’d
,

174 cÚ¡ 
	gH
 &
	g´iûs_begš
,

175 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

177 cÚ¡ 
size_ty³
 
	gth»ad_Ëv–
 =

178 
Th»adG¿nuÏr™y
::
g‘_£nsibË_th»ad_Ëv–
();

179 
size_ty³
 
	g»_couÁ1
 = 0;

180 
size_ty³
 
	g»_couÁ2
 = 0;

182 ià(
	gth»ad_Ëv–
 >= 2) {

183 
¡d
::
futu»
<
size_ty³
> 
fut1
 =

184 
¡d
::
async
(¡d::
Ïunch
::async,

185 &
DoubËCrossOv”
::
run_shÜt_rŞËr_
<
K
, 
H
>,

186 
this
,

187 
¡d
::
üef
(
idx_begš
),

188 
¡d
::
üef
(
idx_’d
),

189 
¡d
::
üef
(
´iûs_begš
),

190 
¡d
::
üef
(
´iûs_’d
));

191 
	g¡d
::
futu»
<
size_ty³
> 
fut2
 =

192 
¡d
::
async
(¡d::
Ïunch
::async,

193 &
DoubËCrossOv”
::
run_lÚg_rŞËr_
<
K
, 
H
>,

194 
this
,

195 
¡d
::
üef
(
idx_begš
),

196 
¡d
::
üef
(
idx_’d
),

197 
¡d
::
üef
(
´iûs_begš
),

198 
¡d
::
üef
(
´iûs_’d
));

200 
	g»_couÁ1
 = 
fut1
.
g‘
();

201 
	g»_couÁ2
 = 
fut2
.
g‘
();

204 
	g»_couÁ1
 =

205 
run_shÜt_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

206 
	g»_couÁ2
 =

207 
run_lÚg_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

210 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
<size_ty³>(
»_couÁ1
, 
	g»_couÁ2
);

212 
	gshÜt_‹rm_to_lÚg_‹rm_
.
»£rve
(
cŞ_s
);

213 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

214 
	gshÜt_‹rm_to_lÚg_‹rm_
.
push_back
(

215 
shÜt_rŞËr_
.
g‘_»suÉ
()[
i
] - 
lÚg_rŞËr_
.get_result()[i]);

218 
šlše
 
´e
 () {

220 
	gshÜt_rŞËr_
.
´e
();

221 
	glÚg_rŞËr_
.
´e
();

222 
	gcŞ_to_shÜt_‹rm_
.
ş—r
();

223 
	gcŞ_to_lÚg_‹rm_
.
ş—r
();

224 
	gshÜt_‹rm_to_lÚg_‹rm_
.
ş—r
();

226 
šlše
 
po¡
 () {

228 
	gshÜt_rŞËr_
.
po¡
();

229 
	glÚg_rŞËr_
.
po¡
();

232 cÚ¡ 
	g»suÉ_ty³
 &

233 
g‘_¿w_to_shÜt_‹rm
(ècÚ¡ {  (
	gcŞ_to_shÜt_‹rm_
); }

234 cÚ¡ 
	g»suÉ_ty³
 &

235 
g‘_¿w_to_lÚg_‹rm
(ècÚ¡ {  (
	gcŞ_to_lÚg_‹rm_
); }

236 cÚ¡ 
	g»suÉ_ty³
 &

237 
g‘_shÜt_‹rm_to_lÚg_‹rm
(ècÚ¡ {  (
	gshÜt_‹rm_to_lÚg_‹rm_
); }

239 
	g´iv©e
:

241 
»suÉ_ty³
 
cŞ_to_shÜt_‹rm_
;

242 
»suÉ_ty³
 
	gcŞ_to_lÚg_‹rm_
;

243 
»suÉ_ty³
 
	gshÜt_‹rm_to_lÚg_‹rm_
;

248 
	g‹m¶©e
<
ty³Çme
 
	gT
,

249 
ty³Çme
 
	gI
 = ,

250 
	gty³Çme
 =

251 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

252 
	sBŞlšg”Bªd
 {

254 
´iv©e
:

256 cÚ¡ 
uµ”_bªd_muÉl›r_
;

257 cÚ¡ 
	glow”_bªd_muÉl›r_
;

258 
	gSim¶eRŞlAdİ‹r
<
	gM—nVis™Ü
<
	gT
, 
	gI
>, T, I> 
	gm—n_rŞËr_
;

259 
	gSim¶eRŞlAdİ‹r
<
	gStdVis™Ü
<
	gT
, 
	gI
>, T, I> 
	g¡d_rŞËr_
;

261 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

262 
šlše
 

263 
run_m—n_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

264 cÚ¡ 
K
 &
idx_’d
,

265 cÚ¡ 
H
 &
´iûs_begš
,

266 cÚ¡ 
H
 &
´iûs_’d
) {

268 
	gm—n_rŞËr_
.
´e
();

269 
m—n_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

270 
	gm—n_rŞËr_
.
po¡
();

273 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

274 
šlše
 

275 
run_¡d_rŞËr_
(cÚ¡ 
K
 &
idx_begš
,

276 cÚ¡ 
K
 &
idx_’d
,

277 cÚ¡ 
H
 &
´iûs_begš
,

278 cÚ¡ 
H
 &
´iûs_’d
) {

280 
	g¡d_rŞËr_
.
´e
();

281 
¡d_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

282 
	g¡d_rŞËr_
.
po¡
();

285 
	gpublic
:

287 
usšg
 
v®ue_ty³
 = 
T
;

288 
usšg
 
	gšdex_ty³
 = 
I
;

289 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

290 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
v®ue_ty³
>;

292 
šlše
 
BŞlšg”Bªd
(
uµ”_bªd_muÉl›r
,

293 
low”_bªd_muÉl›r
,

294 
size_ty³
 
movšg_m—n_³riod
,

295 
boŞ
 
bŸ£d
 = 
çl£
)

296 : 
uµ”_bªd_muÉl›r_
(
uµ”_bªd_muÉl›r
),

297 
low”_bªd_muÉl›r_
(
low”_bªd_muÉl›r
),

298 
m—n_rŞËr_
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()), 
movšg_m—n_³riod
),

299 
¡d_rŞËr_
(
¡d
::
move
(
StdVis™Ü
<
T
, 
I
>(
bŸ£d
)), 
movšg_m—n_³riod
) {

302 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

303 
šlše
 

304 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

305 cÚ¡ 
	gK
 &
	gidx_’d
,

306 cÚ¡ 
	gH
 &
	g´iûs_begš
,

307 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

309 cÚ¡ 
size_ty³
 
	gth»ad_Ëv–
 =

310 
Th»adG¿nuÏr™y
::
g‘_£nsibË_th»ad_Ëv–
();

312 ià(
	gth»ad_Ëv–
 >= 2) {

313 
¡d
::
futu»
<> 
fut1
 =

314 
¡d
::
async
(¡d::
Ïunch
::async,

315 &
BŞlšg”Bªd
::
run_m—n_rŞËr_
<
K
, 
H
>,

316 
this
,

317 
¡d
::
üef
(
idx_begš
),

318 
¡d
::
üef
(
idx_’d
),

319 
¡d
::
üef
(
´iûs_begš
),

320 
¡d
::
üef
(
´iûs_’d
));

321 
	g¡d
::
futu»
<> 
fut2
 =

322 
¡d
::
async
(¡d::
Ïunch
::async,

323 &
BŞlšg”Bªd
::
run_¡d_rŞËr_
<
K
, 
H
>,

324 
this
,

325 
¡d
::
üef
(
idx_begš
),

326 
¡d
::
üef
(
idx_’d
),

327 
¡d
::
üef
(
´iûs_begš
),

328 
¡d
::
üef
(
´iûs_’d
));

330 
	gfut1
.
g‘
();

331 
	gfut2
.
g‘
();

334 
run_m—n_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

335 
run_¡d_rŞËr_
(
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

338 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

339 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

340 cÚ¡‡utØ&
	g¡d_»suÉ
 = 
¡d_rŞËr_
.
g‘_»suÉ
();

341 cÚ¡‡utØ&
	gm—n_»suÉ
 = 
m—n_rŞËr_
.
g‘_»suÉ
();

342 cÚ¡ 
size_ty³
 
	gcŞ_s
 =

343 
¡d
::
mš
<
size_ty³
>(

344 { 
idx_size
, 
cŞ_size
, 
¡d_»suÉ
.
size
(), 
m—n_»suÉ
.size() });

346 
	guµ”_bªd_to_¿w_
.
»£rve
(
cŞ_s
);

347 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

348 
	guµ”_bªd_to_¿w_
.
push_back
(

349 (
m—n_»suÉ
[
i
] + 
¡d_»suÉ
[i] * 
uµ”_bªd_muÉl›r_
) -

350 *(
´iûs_begš
 + 
i
));

352 
	g¿w_to_low”_bªd_
.
»£rve
(
cŞ_s
);

353 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

354 
	g¿w_to_low”_bªd_
.
push_back
(

355 *(
´iûs_begš
 + 
i
) -

356 (
m—n_»suÉ
[
i
] - 
¡d_»suÉ
[i] * 
low”_bªd_muÉl›r_
));

359 
šlše
 
´e
 () {

361 
	guµ”_bªd_to_¿w_
.
ş—r
();

362 
	g¿w_to_low”_bªd_
.
ş—r
();

364 
šlše
 
po¡
 () { }

366 cÚ¡ 
	g»suÉ_ty³
 &

367 
g‘_uµ”_bªd_to_¿w
(ècÚ¡ {  (
	guµ”_bªd_to_¿w_
); }

368 cÚ¡ 
	g»suÉ_ty³
 &

369 
g‘_¿w_to_low”_bªd
(ècÚ¡ {  (
	g¿w_to_low”_bªd_
); }

371 
	g´iv©e
:

373 
»suÉ_ty³
 
uµ”_bªd_to_¿w_
;

374 
»suÉ_ty³
 
	g¿w_to_low”_bªd_
;

381 
	g‹m¶©e
<
ty³Çme
 
	gT
,

382 
ty³Çme
 
	gI
 = ,

383 
	gty³Çme
 =

384 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

385 
	sMACDVis™Ü
 {

387 
´iv©e
:

389 
usšg
 
macd_rŞËr_t
 = 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<
T
, 
	gI
>, 
	gT
, I>;

391 cÚ¡ 
	g¡d
::
size_t
 
shÜt_m—n_³riod_
;

392 cÚ¡ 
	g¡d
::
size_t
 
lÚg_m—n_³riod_
;

393 
macd_rŞËr_t
 
	gsigÇl_lše_rŞËr_
;

395 
	gpublic
:

397 
usšg
 
v®ue_ty³
 = 
T
;

398 
usšg
 
	gšdex_ty³
 = 
I
;

399 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

400 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
v®ue_ty³
>;

402 
šlše
 
MACDVis™Ü
(

403 
size_ty³
 
shÜt_m—n_³riod
,

404 
size_ty³
 
lÚg_m—n_³riod
,

405 
size_ty³
 
sigÇl_lše_³riod
,

406 
expÚ’tŸl_deÿy_¥ec
 
ed_¥ec
 =ƒxpÚ’tŸl_deÿy_¥ec::
¥ª
,

407 
expo_deÿy_v®ue
 = 0.2)

408 : 
shÜt_m—n_³riod_
(
shÜt_m—n_³riod
),

409 
lÚg_m—n_³riod_
(
lÚg_m—n_³riod
),

410 
sigÇl_lše_rŞËr_
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()),

411 
sigÇl_lše_³riod
,

412 
ed_¥ec
, 
expo_deÿy_v®ue
) {

415 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

416 
šlše
 

417 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

418 cÚ¡ 
	gK
 &
	gidx_’d
,

419 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

420 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

422 
macd_rŞËr_t
 
shÜt_rŞËr
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()),

423 
shÜt_m—n_³riod_
,

424 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 0.2);

426 
	gshÜt_rŞËr
.
´e
();

427 
shÜt_rŞËr
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

428 
	gshÜt_rŞËr
.
po¡
();

430 
macd_rŞËr_t
 
lÚg_rŞËr
(
¡d
::
move
(
M—nVis™Ü
<
T
, 
I
>()),

431 
lÚg_m—n_³riod_
,

432 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 0.2);

434 
	glÚg_rŞËr
.
´e
();

435 
lÚg_rŞËr
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

436 
	glÚg_rŞËr
.
po¡
();

438 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

439 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

440 cÚ¡‡utØ&
	gshÜt_»suÉ
 = 
shÜt_rŞËr
.
g‘_»suÉ
();

441 cÚ¡‡utØ&
	glÚg_»suÉ
 = 
lÚg_rŞËr
.
g‘_»suÉ
();

442 cÚ¡ 
size_ty³
 
	gcŞ_s
 =

443 
¡d
::
mš
<
size_ty³
>(

444 {
idx_size
, 
cŞ_size
, 
shÜt_»suÉ
.
size
(), 
lÚg_»suÉ
.size()});

446 
	gmacd_lše_
.
»£rve
(
cŞ_s
);

447 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

448 
	gmacd_lše_
.
push_back
(
shÜt_»suÉ
[
i
] - 
lÚg_»suÉ
[i]);

450 
	gsigÇl_lše_rŞËr_
.
´e
();

451 
sigÇl_lše_rŞËr_
(
idx_begš
, 
idx_’d
,

452 
macd_lše_
.
begš
(), macd_lše_.
’d
());

453 
	gsigÇl_lše_rŞËr_
.
po¡
();

455 cÚ¡‡utØ&
	gsigÇl_lše_»suÉ
 = 
sigÇl_lše_rŞËr_
.
g‘_»suÉ
();

457 
	gmacd_hi¡og¿m_
.
»£rve
(
cŞ_s
);

458 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i)

459 
	gmacd_hi¡og¿m_
.
push_back
(
macd_lše_
[
i
] - 
sigÇl_lše_»suÉ
[i]);

462 
šlše
 
´e
 () {

464 
	gmacd_lše_
.
ş—r
();

465 
	gmacd_hi¡og¿m_
.
ş—r
();

467 
šlše
 
po¡
 () { }

469 cÚ¡ 
	g»suÉ_ty³
 &
g‘_macd_lše
(ècÚ¡ {  (
	gmacd_lše_
); }

470 cÚ¡ 
	g»suÉ_ty³
 &

471 
g‘_sigÇl_lše
(ècÚ¡ {  (
	gsigÇl_lše_rŞËr_
.
g‘_»suÉ
()); }

472 cÚ¡ 
	g»suÉ_ty³
 &
g‘_macd_hi¡og¿m
(ècÚ¡ {  (
	gmacd_hi¡og¿m_
); }

474 
	g´iv©e
:

476 
»suÉ_ty³
 
macd_lše_
;

477 
»suÉ_ty³
 
	gmacd_hi¡og¿m_
;

483 
	g‹m¶©e
<
ty³Çme
 
	gT
,

484 
ty³Çme
 
	gI
 = ,

485 
	gty³Çme
 =

486 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

487 
	sVWAPVis™Ü
 {

489 
usšg
 
v®ue_ty³
 = 
T
;

490 
usšg
 
	gšdex_ty³
 = 
I
;

491 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

493 
	sVWAP
 {

494 
v®ue_ty³
 
	gav”age_´iû
 { 0 };

495 
v®ue_ty³
 
	gvw­
 { 0 };

496 
šdex_ty³
 
	gšdex_v®ue
 { 0 };

497 
size_ty³
 
	gev’t_couÁ
 { 0 };

498 
v®ue_ty³
 
	gtÙ®_vŞume
 { 0 };

499 
v®ue_ty³
 
	ghigh_´iû
 { 0 };

500 
v®ue_ty³
 
	glow_´iû
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

501 
v®ue_ty³
 
	gcumuÏtive_vw­
 { 0 };

502 
size_ty³
 
	gcumuÏtive_ev’t_couÁ
 { 0 };

503 
v®ue_ty³
 
	gcumuÏtive_tÙ®_vŞume
 { 0 };

504 
v®ue_ty³
 
	gcumuÏtive_high_´iû
 { 0 };

505 
v®ue_ty³
 
	gcomuÏtive_low_´iû


506 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

509 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
VWAP
>;

510 
usšg
 
	gdi¡ªû_func
 =

511 
¡d
::
funùiÚ
<(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gšdex_ty³
 &)>;

517 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
,

518 cÚ¡ 
	gv®ue_ty³
 &
	g´iû
,

519 cÚ¡ 
	gv®ue_ty³
 &
	gsize
) {

522 ià(
	gtÙ®_vŞume_lim™_
 == 0 ||

523 
cum_vŞume_accumuÏtÜ_
 < 
tÙ®_vŞume_lim™_
) {

524 ià(
¡¬‹d_
 && 
dfunc_
(
Ï¡_time_
, 
idx
è>ğ
š‹rv®_
) {

525 
po¡
();

527 
»£t_
(
idx
);

528 
accumuÏ‹_
(
size
, 
´iû
);

531 ià(! 
	g¡¬‹d_
)

532 
»£t_
 (
idx
);

533 
accumuÏ‹_
 (
size
, 
´iû
);

537 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

538 
šlše
 

539 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

540 
H
 
	g´iû_begš
, H 
	g´iû_’d
,

541 
H
 
	gsize_begš
, H 
	gsize_’d
) {

543 
	g´iû_begš
 < 
	g´iû_’d
 && 
	gsize_begš
 < 
	gsize_’d
)

544 (*
	gthis
)(*
	gidx_begš
, *
	g´iû_begš
++, *
	gsize_begš
++);

547 
šlše
 
´e
 () {

549 
	g»suÉ_
.
ş—r
();

550 
	gvw_´iû_accumuÏtÜ_
 = 0;

551 
	g´iû_accumuÏtÜ_
 = 0;

552 
	gvŞume_accumuÏtÜ_
 = 0;

553 
	gÏ¡_time_
 = 
šdex_ty³
();

554 
	g¡¬‹d_
 = 
çl£
;

555 
	gev’t_couÁ_
 = 0;

556 
	ghigh_´iû_
 = 0;

557 
	glow_´iû_
 = 
¡d
::
num”ic_lim™s
<>::
max
();

558 
	gcum_high_´iû_
 = 0;

559 
	gcum_low_´iû_
 = 
¡d
::
num”ic_lim™s
<>::
max
();

560 
	gcum_´iû_accumuÏtÜ_
 = 0;

561 
	gcum_vŞume_accumuÏtÜ_
 = 0;

562 
	gcum_ev’t_couÁ_
 = 0;

564 
šlše
 
po¡
 () {

566 ià(
	gev’t_couÁ_
 > 0) {

567 ià(
	gvŞume_accumuÏtÜ_
 > 0) {

568 
	g»suÉ_
.
push_back
 (

569 { 
´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
,

570 
vw_´iû_accumuÏtÜ_
 / 
vŞume_accumuÏtÜ_
,

571 
Ï¡_time_
,

572 
ev’t_couÁ_
,

573 
vŞume_accumuÏtÜ_
,

574 
high_´iû_
,

575 
low_´iû_
,

576 
cum_´iû_accumuÏtÜ_
 / 
cum_vŞume_accumuÏtÜ_
,

577 
cum_ev’t_couÁ_
,

578 
cum_vŞume_accumuÏtÜ_
,

579 
cum_high_´iû_
,

580 
cum_low_´iû_
,

584 
	g»suÉ_
.
push_back
 (

585 { 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

586 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

587 
Ï¡_time_
,

588 
ev’t_couÁ_
,

593 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

595 
ex¶ic™


596 
VWAPVis™Ü
(
š‹rv®
,

597 
max_vŞume
 = 0,

598 
tÙ®_vŞume_lim™
 = 0,

599 
di¡ªû_func
 
f
 =

600 [](cÚ¡ 
I
 &
idx1
, cÚ¡ I &
idx2
) -> {

601  (
¡©ic_ÿ¡
<>(
idx2
 - 
idx1
));

603 : 
dfunc_
(
f
),

604 
š‹rv®_
(
š‹rv®
),

605 
max_vŞume_
(
max_vŞume
),

606 
tÙ®_vŞume_lim™_
(
tÙ®_vŞume_lim™
) { }

608 
	g´iv©e
:

610 
šlše
 
accumuÏ‹_
 (
v®ue_ty³
 
the_size
, v®ue_ty³ 
the_´iû
) {

612 ià(
	gmax_vŞume_
 =ğ0 || 
the_size
 < 
max_vŞume_
) {

613 
vw_´iû_accumuÏtÜ_
 +ğ
the_´iû
 * 
the_size
;

614 
	g´iû_accumuÏtÜ_
 +ğ
the_´iû
;

615 
	gcum_´iû_accumuÏtÜ_
 +ğ
the_´iû
 * 
the_size
;

616 
	gvŞume_accumuÏtÜ_
 +ğ
the_size
;

617 
	gcum_vŞume_accumuÏtÜ_
 +ğ
the_size
;

618 
	gev’t_couÁ_
 += 1;

619 
	gcum_ev’t_couÁ_
 += 1;

620 ià(
	gthe_´iû
 > 
	ghigh_´iû_
)

621 
	ghigh_´iû_
 = 
the_´iû
;

622 ià(
	gthe_´iû
 < 
	glow_´iû_
)

623 
	glow_´iû_
 = 
the_´iû
;

624 ià(
	gthe_´iû
 > 
	gcum_high_´iû_
)

625 
	gcum_high_´iû_
 = 
the_´iû
;

626 ià(
	gthe_´iû
 < 
	gcum_low_´iû_
)

627 
	gcum_low_´iû_
 = 
the_´iû
;

630 
šlše
 
»£t_
 (
šdex_ty³
 
šdex_v®ue
) {

632 
	gvw_´iû_accumuÏtÜ_
 = 0;

633 
	g´iû_accumuÏtÜ_
 = 0;

634 
	gvŞume_accumuÏtÜ_
 = 0;

635 
	gÏ¡_time_
 = 
šdex_v®ue
;

636 
	g¡¬‹d_
 = 
Œue
;

637 
	gev’t_couÁ_
 = 0;

638 
	ghigh_´iû_
 = 0;

639 
	glow_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

642 
»suÉ_ty³
 
	g»suÉ_
 { };

643 
v®ue_ty³
 
	gvw_´iû_accumuÏtÜ_
 { 0 };

644 
v®ue_ty³
 
	g´iû_accumuÏtÜ_
 { 0 };

645 
v®ue_ty³
 
	gvŞume_accumuÏtÜ_
 { 0 };

646 
šdex_ty³
 
	gÏ¡_time_
 { };

647 
boŞ
 
	g¡¬‹d_
 { 
	gçl£
 };

648 
size_ty³
 
	gev’t_couÁ_
 { 0 };

649 
v®ue_ty³
 
	ghigh_´iû_
 { 0 };

650 
v®ue_ty³
 
	glow_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

651 
v®ue_ty³
 
	gcum_high_´iû_
 { 0 };

652 
v®ue_ty³
 
	gcum_low_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

653 
v®ue_ty³
 
	gcum_´iû_accumuÏtÜ_
 { 0 };

654 
v®ue_ty³
 
	gcum_vŞume_accumuÏtÜ_
 { 0 };

655 
size_ty³
 
	gcum_ev’t_couÁ_
 { 0 };

656 
di¡ªû_func
 
	gdfunc_
;

657 cÚ¡ 
	gš‹rv®_
;

658 cÚ¡ 
	gmax_vŞume_
;

659 cÚ¡ 
	gtÙ®_vŞume_lim™_
;

665 
	g‹m¶©e
<
ty³Çme
 
	gT
,

666 
ty³Çme
 
	gI
 = ,

667 
	gty³Çme
 =

668 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

669 
	sVWBASVis™Ü
 {

671 
usšg
 
v®ue_ty³
 = 
T
;

672 
usšg
 
	gšdex_ty³
 = 
I
;

673 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

675 
	sVWBAS
 {

676 
v®ue_ty³
 
	g¥»ad
 { 0 };

677 
v®ue_ty³
 
	g³rûÁ_¥»ad
 { 0 };

678 
v®ue_ty³
 
	gvwbas
 { 0 };

679 
v®ue_ty³
 
	g³rûÁ_vwbas
 { 0 };

680 
šdex_ty³
 
	gšdex_v®ue
 { 0 };

681 
size_ty³
 
	gev’t_couÁ
 { 0 };

682 
v®ue_ty³
 
	gtÙ®_ask_vŞume
 { 0 };

683 
v®ue_ty³
 
	gtÙ®_bid_vŞume
 { 0 };

684 
v®ue_ty³
 
	ghigh_ask_´iû
 { 0 };

685 
v®ue_ty³
 
	glow_ask_´iû
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

686 
v®ue_ty³
 
	ghigh_bid_´iû
 { 0 };

687 
v®ue_ty³
 
	glow_bid_´iû
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

688 
v®ue_ty³
 
	gcumuÏtive_vwbas
 { 0 };

689 
size_ty³
 
	gcumuÏtive_ev’t_couÁ
 { 0 };

690 
v®ue_ty³
 
	gcumuÏtive_tÙ®_ask_vŞume
 { 0 };

691 
v®ue_ty³
 
	gcumuÏtive_tÙ®_bid_vŞume
 { 0 };

692 
v®ue_ty³
 
	gcumuÏtive_high_ask_´iû
 { 0 };

693 
v®ue_ty³
 
	gcomuÏtive_low_ask_´iû


694 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

695 
v®ue_ty³
 
	gcumuÏtive_high_bid_´iû
 { 0 };

696 
v®ue_ty³
 
	gcomuÏtive_low_bid_´iû


697 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

700 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
veùÜ
<
VWBAS
>;

701 
usšg
 
	gdi¡ªû_func
 =

702 
¡d
::
funùiÚ
<(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gšdex_ty³
 &)>;

710 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
,

711 cÚ¡ 
	gv®ue_ty³
 &
	gbid_´iû
,

712 cÚ¡ 
	gv®ue_ty³
 &
	gask_´iû
,

713 cÚ¡ 
	gv®ue_ty³
 &
	gbid_size
,

714 cÚ¡ 
	gv®ue_ty³
 &
	gask_size
) {

716 ià(
	g¡¬‹d_
 && 
dfunc_
(
Ï¡_time_
, 
idx
è>ğ
š‹rv®_
) {

717 
po¡
();

719 
»£t_
(
idx
);

720 
accumuÏ‹_
(
bid_size
, 
ask_size
, 
bid_´iû
, 
ask_´iû
);

723 ià(! 
	g¡¬‹d_
)

724 
»£t_
 (
idx
);

725 
accumuÏ‹_
(
bid_size
, 
ask_size
, 
bid_´iû
, 
ask_´iû
);

728 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

729 
šlše
 

730 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

731 
H
 
	gbid_´iû_begš
, H 
	gbid_´iû_’d
,

732 
H
 
	gask_´iû_begš
, H 
	gask_´iû_’d
,

733 
H
 
	gbid_size_begš
, H 
	gbid_size_’d
,

734 
H
 
	gask_size_begš
, H 
	gask_size_’d
) {

736 
	gbid_´iû_begš
 < 
	gbid_´iû_’d
 &&

737 
	gask_´iû_begš
 < 
	gask_´iû_’d
 &&

738 
	gbid_size_begš
 < 
	gbid_size_’d
 &&

739 
	gask_size_begš
 < 
	gask_size_’d
)

740 (*
	gthis
)(*
	gidx_begš
, *
	gbid_´iû_begš
++, *
	gask_´iû_begš
++,

741 *
	gbid_size_begš
++, *
	gask_size_begš
++);

744 
šlše
 
´e
 () {

746 
	g»suÉ_
.
ş—r
();

747 
	gvw_bid_´iû_accumuÏtÜ_
 = 0;

748 
	gvw_ask_´iû_accumuÏtÜ_
 = 0;

749 
	gbid_´iû_accumuÏtÜ_
 = 0;

750 
	gask_´iû_accumuÏtÜ_
 = 0;

751 
	gbid_vŞume_accumuÏtÜ_
 = 0;

752 
	gask_vŞume_accumuÏtÜ_
 = 0;

753 
	gÏ¡_time_
 = 
šdex_ty³
();

754 
	g¡¬‹d_
 = 
çl£
;

755 
	gev’t_couÁ_
 = 0;

756 
	ghigh_bid_´iû_
 = 0;

757 
	ghigh_ask_´iû_
 = 0;

758 
	glow_bid_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

759 
	glow_ask_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

760 
	gcum_high_bid_´iû_
 = 0;

761 
	gcum_high_ask_´iû_
 = 0;

762 
	gcum_low_bid_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

763 
	gcum_low_ask_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

764 
	gcum_bid_´iû_accumuÏtÜ_
 = 0;

765 
	gcum_ask_´iû_accumuÏtÜ_
 = 0;

766 
	gcum_bid_vŞume_accumuÏtÜ_
 = 0;

767 
	gcum_ask_vŞume_accumuÏtÜ_
 = 0;

768 
	gcum_ev’t_couÁ_
 = 0;

770 
šlše
 
po¡
 () {

772 ià(
	gev’t_couÁ_
 > 0) {

773 ià(
	gbid_vŞume_accumuÏtÜ_
 > 0 && 
	gask_vŞume_accumuÏtÜ_
 > 0) {

774 cÚ¡ 
v®ue_ty³
 
	gvwa
 =

775 
vw_ask_´iû_accumuÏtÜ_
 / 
ask_vŞume_accumuÏtÜ_
;

776 cÚ¡ 
v®ue_ty³
 
	gvwb
 =

777 
vw_bid_´iû_accumuÏtÜ_
 / 
bid_vŞume_accumuÏtÜ_
;

778 cÚ¡ 
v®ue_ty³
 
	gvwbas
 = 
vwa
 - 
vwb
;

779 cÚ¡ 
v®ue_ty³
 
	g³r_vwbas
 = (
vwbas
 / 
vwb
) * 100.0;

780 cÚ¡ 
v®ue_ty³
 
	g¥»ad
 =

781 (
ask_´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
) -

782 (
bid_´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
);

783 cÚ¡ 
v®ue_ty³
 
	g³r_¥»ad
 =

784 (
¥»ad
 / (
bid_´iû_accumuÏtÜ_
 / 
ev’t_couÁ_
)) * 100.0;

786 
	g»suÉ_
.
push_back
 (

787 { 
¥»ad
,

788 
³r_¥»ad
,

789 
vwbas
,

790 
³r_vwbas
,

791 
Ï¡_time_
,

792 
ev’t_couÁ_
,

793 
ask_vŞume_accumuÏtÜ_
,

794 
bid_vŞume_accumuÏtÜ_
,

795 
high_ask_´iû_
,

796 
low_ask_´iû_
,

797 
high_bid_´iû_
,

798 
low_bid_´iû_
,

801 (
cum_ask_´iû_accumuÏtÜ_
 /

802 
cum_ask_vŞume_accumuÏtÜ_
) -

803 (
cum_bid_´iû_accumuÏtÜ_
 /

804 
cum_bid_vŞume_accumuÏtÜ_
),

806 
cum_ev’t_couÁ_
,

807 
cum_ask_vŞume_accumuÏtÜ_
,

808 
cum_bid_vŞume_accumuÏtÜ_
,

809 
cum_high_ask_´iû_
,

810 
cum_low_ask_´iû_
,

811 
cum_high_bid_´iû_
,

812 
cum_low_bid_´iû_
,

816 
	g»suÉ_
.
push_back
 (

817 { 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

818 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

819 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

820 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
(),

821 
Ï¡_time_
,

822 
ev’t_couÁ_
,

827 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

829 
ex¶ic™


830 
VWBASVis™Ü
(
š‹rv®
,

831 
max_vŞume
 = 0,

832 
di¡ªû_func
 
f
 =

833 [](cÚ¡ 
I
 &
idx1
, cÚ¡ I &
idx2
) -> {

834  (
¡©ic_ÿ¡
<>(
idx2
 - 
idx1
));

836 : 
dfunc_
(
f
), 
š‹rv®_
(
š‹rv®
), 
max_vŞume_
(
max_vŞume
) { }

838 
	g´iv©e
:

840 
šlše
 
accumuÏ‹_
 (
v®ue_ty³
 
bid_size
, v®ue_ty³ 
ask_size
,

841 
v®ue_ty³
 
bid_´iû
, v®ue_ty³ 
ask_´iû
) {

843 ià(
	gmax_vŞume_
 == 0 ||

844 (
bid_size
 < 
max_vŞume_
 && 
ask_size
 < max_volume_)) {

845 
vw_bid_´iû_accumuÏtÜ_
 +ğ
bid_´iû
 * 
bid_size
;

846 
	gbid_´iû_accumuÏtÜ_
 +ğ
bid_´iû
;

847 
	gcum_bid_´iû_accumuÏtÜ_
 +ğ
bid_´iû
 * 
bid_size
;

848 
	gbid_vŞume_accumuÏtÜ_
 +ğ
bid_size
;

849 
	gcum_bid_vŞume_accumuÏtÜ_
 +ğ
bid_size
;

850 ià(
	gbid_´iû
 > 
	ghigh_bid_´iû_
)

851 
	ghigh_bid_´iû_
 = 
bid_´iû
;

852 ià(
	gbid_´iû
 < 
	glow_bid_´iû_
)

853 
	glow_bid_´iû_
 = 
bid_´iû
;

854 ià(
	gbid_´iû
 > 
	gcum_high_bid_´iû_
)

855 
	gcum_high_bid_´iû_
 = 
bid_´iû
;

856 ià(
	gbid_´iû
 < 
	gcum_low_bid_´iû_
)

857 
	gcum_low_bid_´iû_
 = 
bid_´iû
;

859 
	gvw_ask_´iû_accumuÏtÜ_
 +ğ
ask_´iû
 * 
ask_size
;

860 
	gask_´iû_accumuÏtÜ_
 +ğ
ask_´iû
;

861 
	gcum_ask_´iû_accumuÏtÜ_
 +ğ
ask_´iû
 * 
ask_size
;

862 
	gask_vŞume_accumuÏtÜ_
 +ğ
ask_size
;

863 
	gcum_ask_vŞume_accumuÏtÜ_
 +ğ
ask_size
;

864 ià(
	gask_´iû
 > 
	ghigh_ask_´iû_
)

865 
	ghigh_ask_´iû_
 = 
ask_´iû
;

866 ià(
	gask_´iû
 < 
	glow_ask_´iû_
)

867 
	glow_ask_´iû_
 = 
ask_´iû
;

868 ià(
	gask_´iû
 > 
	gcum_high_ask_´iû_
)

869 
	gcum_high_ask_´iû_
 = 
ask_´iû
;

870 ià(
	gask_´iû
 < 
	gcum_low_ask_´iû_
)

871 
	gcum_low_ask_´iû_
 = 
ask_´iû
;

873 
	gev’t_couÁ_
 += 1;

874 
	gcum_ev’t_couÁ_
 += 1;

877 
šlše
 
»£t_
 (
šdex_ty³
 
šdex_v®ue
) {

879 
	gvw_bid_´iû_accumuÏtÜ_
 = 0;

880 
	gvw_ask_´iû_accumuÏtÜ_
 = 0;

881 
	gbid_´iû_accumuÏtÜ_
 = 0;

882 
	gask_´iû_accumuÏtÜ_
 = 0;

883 
	gbid_vŞume_accumuÏtÜ_
 = 0;

884 
	gask_vŞume_accumuÏtÜ_
 = 0;

885 
	gÏ¡_time_
 = 
šdex_v®ue
;

886 
	g¡¬‹d_
 = 
Œue
;

887 
	gev’t_couÁ_
 = 0;

888 
	ghigh_bid_´iû_
 = 0;

889 
	ghigh_ask_´iû_
 = 0;

890 
	glow_bid_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

891 
	glow_ask_´iû_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
();

894 
»suÉ_ty³
 
	g»suÉ_
 { };

895 
v®ue_ty³
 
	gvw_bid_´iû_accumuÏtÜ_
 { 0 };

896 
v®ue_ty³
 
	gvw_ask_´iû_accumuÏtÜ_
 { 0 };

897 
v®ue_ty³
 
	gbid_´iû_accumuÏtÜ_
 { 0 };

898 
v®ue_ty³
 
	gask_´iû_accumuÏtÜ_
 { 0 };

899 
v®ue_ty³
 
	gbid_vŞume_accumuÏtÜ_
 { 0 };

900 
v®ue_ty³
 
	gask_vŞume_accumuÏtÜ_
 { 0 };

901 
šdex_ty³
 
	gÏ¡_time_
 { };

902 
boŞ
 
	g¡¬‹d_
 { 
	gçl£
 };

903 
size_ty³
 
	gev’t_couÁ_
 { 0 };

904 
v®ue_ty³
 
	ghigh_bid_´iû_
 { 0 };

905 
v®ue_ty³
 
	ghigh_ask_´iû_
 { 0 };

906 
v®ue_ty³
 
	glow_bid_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

907 
v®ue_ty³
 
	glow_ask_´iû_
 { 
	g¡d
::
num”ic_lim™s
<v®ue_ty³>::
max
() };

908 
v®ue_ty³
 
	gcum_high_bid_´iû_
 { 0 };

909 
v®ue_ty³
 
	gcum_high_ask_´iû_
 { 0 };

910 
v®ue_ty³
 
	gcum_low_bid_´iû_


911 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

912 
v®ue_ty³
 
	gcum_low_ask_´iû_


913 { 
	g¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
max
() };

914 
v®ue_ty³
 
	gcum_bid_´iû_accumuÏtÜ_
 { 0 };

915 
v®ue_ty³
 
	gcum_ask_´iû_accumuÏtÜ_
 { 0 };

916 
v®ue_ty³
 
	gcum_bid_vŞume_accumuÏtÜ_
 { 0 };

917 
v®ue_ty³
 
	gcum_ask_vŞume_accumuÏtÜ_
 { 0 };

918 
size_ty³
 
	gcum_ev’t_couÁ_
 { 0 };

919 
di¡ªû_func
 
	gdfunc_
;

920 cÚ¡ 
	gš‹rv®_
;

921 cÚ¡ 
	gmax_vŞume_
;

929 
	g‹m¶©e
<
ty³Çme
 
	gT
,

930 
ty³Çme
 
	gI
 = ,

931 
	gty³Çme
 =

932 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

933 
	sSh¬³R©ioVis™Ü
 {

935 
DEFINE_VISIT_BASIC_TYPES_2


937 
ex¶ic™


938 
Sh¬³R©ioVis™Ü
(
boŞ
 
bŸ£d
 = 
çl£
è: 
bŸ£d_
 (biased) { }

940 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

941 
šlše
 

942 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

943 cÚ¡ 
	gK
 &
	gidx_’d
,

944 cÚ¡ 
	gH
 &
	gas£t_»t_begš
,

945 cÚ¡ 
	gH
 &
	gas£t_»t_’d
,

946 cÚ¡ 
	gH
 &
	gb’chm¬k_»t_begš
,

947 cÚ¡ 
	gH
 &
	gb’chm¬k_»t_’d
) {

949 cÚ¡ 
size_ty³
 
	gvec_s
 = 
¡d
::
di¡ªû
(
as£t_»t_begš
, 
as£t_»t_’d
);

950 cÚ¡ 
size_ty³
 
	gb_s
 =

951 
¡d
::
di¡ªû
(
b’chm¬k_»t_begš
, 
b’chm¬k_»t_’d
);

953 ià(
	gvec_s
 !ğ
b_s
 || 
vec_s
 < 3) {

954 
”r
[512];

956 
¥rštf
 (
”r
,

957 #ifdeà
_WIN32


964 
vec_s
, 
b_s
);

965 
throw
 
NÙF—sibË
 (
”r
);

968 
v®ue_ty³
 
	gcum_»tuº
 { 0.0 };

969 
	gStdVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
¡d_vis
(
bŸ£d_
);

970 autØ
	ga_c™”
 = 
as£t_»t_begš
;

971 cÚ¡ 
	gšdex_ty³
 &
	gšdex_v®
 = *
idx_begš
;

973 
	g¡d_vis
.
´e
();

974 autØ
	gb_c™”
 = 
b’chm¬k_»t_begš
;

975 
	gb_c™”
 !ğ
b’chm¬k_»t_’d
; ++
	ga_c™”
, ++b_citer) {

976 
¡d_vis
 (
šdex_v®
, *
a_c™”
 - *
b_c™”
);

977 
	gcum_»tuº
 +ğ*
a_c™”
 - *
b_c™”
;

979 
	g¡d_vis
.
po¡
();

980 
	g»suÉ_
 = (
cum_»tuº
 / 
v®ue_ty³
(
vec_s
)è/ 
¡d_vis
.
g‘_»suÉ
();

983 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 0; }

984 
šlše
 
po¡
 () { }

985 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

987 
	g´iv©e
:

989 cÚ¡ 
boŞ
 
bŸ£d_
;

990 
»suÉ_ty³
 
	g»suÉ_
 { 0 };

1011 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1012 
ty³Çme
 
	gI
 = ,

1013 
	gty³Çme
 =

1014 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1015 
	sRSIVis™Ü
 {

1017 
DEFINE_VISIT_BASIC_TYPES_3


1019 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

1020 
šlše
 

1021 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1022 cÚ¡ 
	gK
 &
	gidx_’d
,

1023 cÚ¡ 
	gH
 &
	g´iûs_begš
,

1024 cÚ¡ 
	gH
 &
	g´iûs_’d
) {

1026 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
di¡ªû
(
´iûs_begš
, 
´iûs_’d
);

1029 ià(
	gavg_³riod_
 >ğ
cŞ_s
 - 3) ;

1031 
	gR‘uºVis™Ü
<
	gv®ue_ty³
> 
»tuº_v
 (
½_
);

1033 
	g»tuº_v
.
´e
();

1034 
»tuº_v
 (
idx_begš
, 
idx_’d
, 
´iûs_begš
, 
´iûs_’d
);

1035 
	g»tuº_v
.
po¡
();

1037 
v®ue_ty³
 
	gavg_up
 = 0;

1038 
v®ue_ty³
 
	gavg_down
 = 0;

1039 cÚ¡ 
v®ue_ty³
 
	gavg_³riod_1
 = 
avg_³riod_
 - value_type(1);

1041 
size_ty³
 
	gi
 = 0; i < 
	gavg_³riod_
; ++i) {

1042 cÚ¡ 
v®ue_ty³
 
	gv®ue
 = 
»tuº_v
.
g‘_»suÉ
()[
i
];

1044 ià(
	gv®ue
 > 0)

1045 
	gavg_up
 = (
avg_up
 * 
avg_³riod_1
 + 
v®ue
è/ 
avg_³riod_
;

1046 ià(
	gv®ue
 < 0)

1047 
	gavg_down
 = (
avg_down
 * 
avg_³riod_1
 - 
v®ue
è/ 
avg_³riod_
;

1050 
	g»suÉ_
.
»£rve
(
cŞ_s
 - 
¡©ic_ÿ¡
<
size_ty³
>(
avg_³riod_
));

1052 
cÚ¡ex´
 
v®ue_ty³
 
	ghund»d
 = value_type(100);

1053 
cÚ¡ex´
 
v®ue_ty³
 
	gÚe
 = value_type(1);

1055 
	g»suÉ_
.
push_back
(
hund»d
 - (hund»d / (
Úe
 + 
avg_up
 / 
avg_down
)));

1057 cÚ¡ 
size_ty³
 
	g»t_s
 = 
»tuº_v
.
g‘_»suÉ
().
size
();

1059 
size_ty³
 
	gi
 = size_ty³(
avg_³riod_
); i < 
	g»t_s
; ++i) {

1060 cÚ¡ 
v®ue_ty³
 
	gv®ue
 = 
»tuº_v
.
g‘_»suÉ
()[
i
];

1062 ià(
	gv®ue
 > 0)

1063 
	gavg_up
 = (
avg_up
 * 
avg_³riod_1
 + 
v®ue
è/ 
avg_³riod_
;

1064 ià(
	gv®ue
 < 0)

1065 
	gavg_down
 = (
avg_down
 * 
avg_³riod_1
 - 
v®ue
è/ 
avg_³riod_
;

1066 
	g»suÉ_
.
push_back
(
hund»d
 - (hund»d / (
Úe
 + 
avg_up
 / 
avg_down
)));

1070 
ex¶ic™
 
RSIVis™Ü
(
»tuº_pŞicy
 
½
, 
size_ty³
 
avg_³riod
 = 14)

1071 : 
½_
(
½
), 
avg_³riod_
(
v®ue_ty³
(
avg_³riod
)) { }

1073 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

1074 
šlše
 
po¡
 () { }

1075 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1076 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	g»suÉ_
); }

1078 
	g´iv©e
:

1080 cÚ¡ 
»tuº_pŞicy
 
½_
;

1081 cÚ¡ 
v®ue_ty³
 
	gavg_³riod_
;

1082 
»suÉ_ty³
 
	g»suÉ_
 { };

	@DataFrame/original/include/DataFrame/DataFrameMLVisitors.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

33 
	~<D©aF¿me/VeùÜs/VeùÜPŒV›w.h
>

35 
	~<funùiÚ®
>

36 
	~<™”©Ü
>

40 
Çme¥aû
 
	ghmdf


43 
	g‹m¶©e
<
size_t
 
	gK
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

44 
	sKM—nsVis™Ü
 {

46 
public
:

48 
usšg
 
v®ue_ty³
 = 
T
;

49 
usšg
 
	gšdex_ty³
 = 
I
;

50 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

51 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
¬¿y
<
v®ue_ty³
, 
	gK
>;

52 
usšg
 
	gşu¡”_ty³
 = 
¡d
::
¬¿y
<
VeùÜPŒV›w
<
v®ue_ty³
>, 
	gK
>;

53 
usšg
 
	gdi¡ªû_func
 =

54 
¡d
::
funùiÚ
<(cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ 
	gv®ue_ty³
 &
	gy
)>;

56 
	g´iv©e
:

58 cÚ¡ 
size_ty³
 
™”_num_
;

59 
di¡ªû_func
 
	gdfunc_
;

60 
»suÉ_ty³
 
	gk_m—ns_
 { };

62 
	g‹m¶©e
<
ty³Çme
 
	gH
>

63 
šlše
 
ÿlc_k_m—ns_
(cÚ¡ 
H
 &
cŞumn_begš
, 
size_ty³
 
cŞ_size
) {

65 
	g¡d
::
¿ndom_deviû
 
rd
;

66 
	g¡d
::
mt19937
 
g’
(
rd
());

67 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
size_ty³
> 
rd_g’
(0, 
cŞ_size
 - 1);

70 autØ&
	gk_m—n
 : 
k_m—ns_
)

71 
k_m—n
 = *(
cŞumn_begš
 + 
rd_g’
(
g’
));

73 
	g¡d
::
veùÜ
<
size_ty³
> 
assignm’ts
(
cŞ_size
, 0);

75 
size_ty³
 
	g™”
 = 0; i‹¸< 
	g™”_num_
; ++iter) {

77 
size_ty³
 
	gpošt
 = 0;…ošˆ< 
	gcŞ_size
; ++point) {

78 
	gbe¡_di¡ªû
 = 
¡d
::
num”ic_lim™s
<>::
max
();

79 
size_ty³
 
	gbe¡_şu¡”
 = 0;

81 
size_ty³
 
	gşu¡”
 = 0; clu¡” < 
	gK
; ++cluster) {

82 cÚ¡ 
	gdi¡ªû
 =

83 
dfunc_
(*(
cŞumn_begš
 + 
pošt
), 
k_m—ns_
[
şu¡”
]);

85 ià(
	gdi¡ªû
 < 
	gbe¡_di¡ªû
) {

86 
	gbe¡_di¡ªû
 = 
di¡ªû
;

87 
	gbe¡_şu¡”
 = 
şu¡”
;

90 
	gassignm’ts
[
pošt
] = 
be¡_şu¡”
;

94 
»suÉ_ty³
 
	gÃw_m—ns
 { 
v®ue_ty³
() };

95 
	g¡d
::
¬¿y
<, 
	gK
> 
	gcouÁs
 { 0.0 };

97 
size_ty³
 
	gpošt
 = 0;…ošˆ< 
	gcŞ_size
; ++point) {

98 cÚ¡ 
size_ty³
 
	gşu¡”
 = 
assignm’ts
[
pošt
];

100 
	gÃw_m—ns
[
şu¡”
] =

101 
Ãw_m—ns
[
şu¡”
] + *(
cŞumn_begš
 + 
pošt
);

102 
	gcouÁs
[
şu¡”
] += 1.0;

105 
boŞ
 
	gdÚe
 = 
Œue
;

108 
size_ty³
 
	gşu¡”
 = 0; clu¡” < 
	gK
; ++cluster) {

110 cÚ¡ 
	gcouÁ
 =

111 
¡d
::
max
<>(1.0, 
	gcouÁs
[
şu¡”
]);

112 cÚ¡ 
v®ue_ty³
 
	gv®ue
 = 
Ãw_m—ns
[
şu¡”
] / 
couÁ
;

114 ià(
dfunc_
(
v®ue
, 
k_m—ns_
[
şu¡”
]) > 0.0000001) {

115 
	gdÚe
 = 
çl£
;

116 
	gk_m—ns_
[
şu¡”
] = 
v®ue
;

120 ià(
	gdÚe
) ;

124 
	gpublic
:

126 
‹m¶©e
<
ty³Çme
 
IV
,y³Çm
	gH
>

127 
šlše
 

128 
İ”©Ü
(è(cÚ¡ 
	gIV
 &
	gidx_begš
,

129 cÚ¡ 
	gIV
 &
	gidx_’d
,

130 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

131 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

133 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

134 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

136 
ÿlc_k_m—ns_
(
cŞumn_begš
, 
¡d
::
mš
(
idx_size
, 
cŞ_size
));

141 
	g‹m¶©e
<
ty³Çme
 
	gIV
,y³Çm
	gH
>

142 
šlše
 
şu¡”_ty³


143 
g‘_şu¡”s
(cÚ¡ 
IV
 &
idx_begš
,

144 cÚ¡ 
IV
 &
idx_’d
,

145 cÚ¡ 
H
 &
cŞumn_begš
,

146 cÚ¡ 
H
 &
cŞumn_’d
) {

148 cÚ¡ 
size_ty³
 
	gidx_s
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

149 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

150 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
mš
(
idx_s
, 
cŞ_s
);

151 
şu¡”_ty³
 
	gşu¡”s
;

153 
size_ty³
 
	gi
 = 0; i < 
	gK
; ++i) {

154 
	gşu¡”s
[
i
].
»£rve
(
cŞ_size
 / 
K
 + 2);

155 
	gşu¡”s
[
i
].
push_back
(
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&(
k_m—ns_
[i])));

158 
size_ty³
 
	gj
 = 0; j < 
	gcŞ_size
; ++j) {

159 
	gmš_di¡
 = 
¡d
::
num”ic_lim™s
<>::
max
();

160 
size_ty³
 
	gmš_idx
;

162 
size_ty³
 
	gi
 = 0; i < 
	gK
; ++i) {

163 cÚ¡ 
	gdi¡
 = 
dfunc_
(*(
cŞumn_begš
 + 
j
), 
k_m—ns_
[
i
]);

165 ià(
	gdi¡
 < 
	gmš_di¡
) {

166 
	gmš_di¡
 = 
di¡
;

167 
	gmš_idx
 = 
i
;

170 
	gşu¡”s
[
mš_idx
].
push_back
(

171 
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&*(
cŞumn_begš
 + 
j
)));

174  (
	gşu¡”s
);

177 
šlše
 
´e
 () { }

178 
šlše
 
po¡
 () { }

179 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gk_m—ns_
); }

181 
KM—nsVis™Ü
(

182 
size_ty³
 
num_of_™”
,

183 
di¡ªû_func
 
f
 =

184 [](cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ v®ue_ty³ &
y
) -> {

185  ((
x
 - 
y
) * (x - y));

187 : 
™”_num_
(
num_of_™”
), 
dfunc_
(
f
) { }

192 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

193 
	sAffš™yPrİVis™Ü
 {

195 
public
:

197 
usšg
 
v®ue_ty³
 = 
T
;

198 
usšg
 
	gšdex_ty³
 = 
I
;

199 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

200 
usšg
 
	g»suÉ_ty³
 = 
VeùÜPŒV›w
<
v®ue_ty³
>;

201 
usšg
 
	gşu¡”_ty³
 = 
¡d
::
veùÜ
<
VeùÜPŒV›w
<
v®ue_ty³
>>;

202 
usšg
 
	gdi¡ªû_func
 =

203 
¡d
::
funùiÚ
<(cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ 
	gv®ue_ty³
 &
	gy
)>;

205 
	g´iv©e
:

207 cÚ¡ 
size_ty³
 
™”_num_
;

208 
di¡ªû_func
 
	gdfunc_
;

209 cÚ¡ 
	gdçùÜ_
;

210 
»suÉ_ty³
 
	gûÁ”s_
 { };

212 
	g‹m¶©e
<
ty³Çme
 
	gH
>

213 
šlše
 
	g¡d
::
veùÜ
<>

214 
g‘_sim¬™y_
(cÚ¡ 
H
 &
cŞumn_begš
, 
size_ty³
 
csize
) {

216 
	g¡d
::
veùÜ
<> 
sim
((
csize
 * (csize + 1)) / 2, 0.0);

217 
	gmš_v®
 = 
¡d
::
num”ic_lim™s
<>::
max
();

220 
size_ty³
 
	gi
 = 0; i < 
	gcsize
 - 1; ++i)

221 
size_ty³
 
	gj
 = 
i
 + 1; j < 
	gcsize
; ++j) {

222 cÚ¡ 
	gv®
 =

223 -
dfunc_
(*(
cŞumn_begš
 + 
i
), *(cŞumn_begš + 
j
));

225 
	gsim
[(
i
 * 
csize
è+ 
j
 - ((˜* (˜+ 1)è>> 1)] = 
v®
;

226 ià(
	gv®
 < 
	gmš_v®
èmš_v® = 
v®
;

230 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i)

231 
	gsim
[(
i
 * 
csize
è+ i - ((˜* (˜+ 1)è>> 1)] = 
mš_v®
;

233  (
	gsim
);

236 
šlše
 

237 
g‘_ava_ªd_»¥Ú
(cÚ¡ 
¡d
::
veùÜ
<> &
sim
,

238 
size_ty³
 
csize
,

239 
¡d
::
veùÜ
<> &
ava
,

240 
¡d
::
veùÜ
<> &
»¥Ú
) {

242 
ava
.
»size
(
csize
 * csize, 0.0);

243 
	g»¥Ú
.
»size
(
csize
 * csize, 0.0);

245 
size_ty³
 
	gm
 = 0; m < 
	g™”_num_
; ++m) {

247 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i) {

248 
size_ty³
 
	gj
 = 0; j < 
	gcsize
; ++j) {

249 
	gmax_diff
 = -
¡d
::
num”ic_lim™s
<>::
max
();

251 
size_ty³
 
	gjj
 = 0; jj < 
	gj
; ++jj) {

252 cÚ¡ 
	gv®ue
 =

253 
sim
[(
i
 * 
csize
è+ 
jj
 - ((i * (i + 1)) >> 1)] +

254 
ava
[
jj
 * 
csize
 + 
i
];

256 ià(
	gv®ue
 > 
	gmax_diff
)

257 
	gmax_diff
 = 
v®ue
;

259 
size_ty³
 
	gjj
 = 
j
 + 1; jj < 
	gcsize
; ++jj) {

260 cÚ¡ 
	gv®ue
 =

261 
sim
[(
i
 * 
csize
è+ 
jj
 - ((i * (i + 1)) >> 1)] +

262 
ava
[
jj
 * 
csize
 + 
i
];

264 ià(
	gv®ue
 > 
	gmax_diff
)

265 
	gmax_diff
 = 
v®ue
;

268 
	g»¥Ú
[
j
 * 
csize
 + 
i
] =

269 (1.0 - 
dçùÜ_
) *

270 (
sim
[(
i
 * 
csize
è+ 
j
 - ((i * (i + 1)) >> 1)] -

271 
max_diff
) +

272 
dçùÜ_
 * 
»¥Ú
[
j
 * 
csize
 + 
i
];

277 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i) {

278 
size_ty³
 
	gj
 = 0; j < 
	gcsize
; ++j) {

279 ià(
	gi
 =ğ
j
) {

280 
sum
 = 0.0;

282 
size_ty³
 
	gii
 = 0; i˜< 
	gi
; ++ii)

283 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

284 
size_ty³
 
	gii
 = 
i
 + 1; i˜< 
	gcsize
; ++ii)

285 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

287 
	gava
[
j
 * 
csize
 + 
i
] =

288 (1.0 - 
dçùÜ_
è* 
sum
 +

289 
dçùÜ_
 * 
ava
[
j
 * 
csize
 + 
i
];

292 
	gsum
 = 0.0;

293 cÚ¡ 
size_ty³
 
	gmax_i_j
 = 
¡d
::
max
(
i
, 
j
);

294 cÚ¡ 
size_ty³
 
	gmš_i_j
 = 
¡d
::
mš
(
i
, 
j
);

296 
size_ty³
 
	gii
 = 0; i˜< 
	gmš_i_j
; ++ii)

297 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

298 
size_ty³
 
	gii
 = 
mš_i_j
 + 1; i˜< 
	gmax_i_j
; ++ii)

299 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

300 
size_ty³
 
	gii
 = 
max_i_j
 + 1; i˜< 
	gcsize
; ++ii)

301 
	gsum
 +ğ
¡d
::
max
(0.0, 
»¥Ú
[
j
 * 
csize
 + 
ii
]);

303 
	gava
[
j
 * 
csize
 + 
i
] =

304 (1.0 - 
dçùÜ_
) *

305 
¡d
::
mš
(0.0, 
»¥Ú
[
j
 * 
csize
 + j] + 
sum
) +

306 
dçùÜ_
 * 
	gava
[
j
 * 
csize
 + 
i
];

315 
	gpublic
:

317 
‹m¶©e
<
ty³Çme
 
IV
,y³Çm
	gH
>

318 
šlše
 

319 
İ”©Ü
(è(cÚ¡ 
	gIV
 &
	gidx_begš
,

320 cÚ¡ 
	gIV
 &
	gidx_’d
,

321 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

322 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

324 cÚ¡ 
size_ty³
 
	gidx_size
 =

325 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

326 cÚ¡ 
size_ty³
 
	gcŞ_size
 =

327 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

328 cÚ¡ 
size_ty³
 
	gcsize
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

329 cÚ¡ 
	g¡d
::
veùÜ
<> 
sim
 =

330 
¡d
::
move
(
g‘_sim¬™y_
(
cŞumn_begš
, 
csize
));

331 
	g¡d
::
veùÜ
<> 
ava
;

332 
	g¡d
::
veùÜ
<> 
»¥Ú
;

334 
g‘_ava_ªd_»¥Ú
(
sim
, 
csize
, 
ava
, 
»¥Ú
);

336 
	gûÁ”s_
.
»£rve
(
¡d
::
mš
(
csize
 / 100, 
size_ty³
(16)));

337 
size_ty³
 
	gi
 = 0; i < 
	gcsize
; ++i) {

338 ià(
	g»¥Ú
[
i
 * 
csize
 + i] + 
	gava
[i * csize + i] > 0.0)

339 
	gûÁ”s_
.
push_back
(

340 
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&*(
cŞumn_begš
 + 
i
)));

346 
	g‹m¶©e
<
ty³Çme
 
	gIV
,y³Çm
	gH
>

347 
šlše
 
şu¡”_ty³


348 
g‘_şu¡”s
(cÚ¡ 
IV
 &
idx_begš
,

349 cÚ¡ 
IV
 &
idx_’d
,

350 cÚ¡ 
H
 &
cŞumn_begš
,

351 cÚ¡ 
H
 &
cŞumn_’d
) {

353 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

354 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

355 cÚ¡ 
size_ty³
 
	gcsize
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

356 cÚ¡ 
size_ty³
 
	gûÁ”s_size
 = 
ûÁ”s_
.
size
();

357 
şu¡”_ty³
 
	gşu¡”s
;

359 ià(
	gûÁ”s_size
 > 0) {

360 
	gşu¡”s
.
»size
(
ûÁ”s_size
);

361 
size_ty³
 
	gi
 = 0; i < 
	gûÁ”s_size
; ++i)

362 
	gşu¡”s
[
i
].
»£rve
(
csize
 / 
ûÁ”s_size
);

364 
size_ty³
 
	gj
 = 0; j < 
	gcsize
; ++j) {

365 
	gmš_di¡
 = 
¡d
::
num”ic_lim™s
<>::
max
();

366 
size_ty³
 
	gmš_idx
;

368 
size_ty³
 
	gi
 = 0; i < 
	gûÁ”s_size
; ++i) {

369 cÚ¡ 
	gdi¡
 =

370 
dfunc_
(*(
cŞumn_begš
 + 
j
), 
ûÁ”s_
[
i
]);

372 ià(
	gdi¡
 < 
	gmš_di¡
) {

373 
	gmš_di¡
 = 
di¡
;

374 
	gmš_idx
 = 
i
;

377 
	gşu¡”s
[
mš_idx
].
push_back
(

378 
cÚ¡_ÿ¡
<
v®ue_ty³
 *>(&*(
cŞumn_begš
 + 
j
)));

382  (
	gşu¡”s
);

385 
šlše
 
´e
 () { }

386 
šlše
 
po¡
 () { }

387 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gûÁ”s_
); }

389 
Affš™yPrİVis™Ü
(

390 
size_ty³
 
num_of_™”
,

391 
di¡ªû_func
 
f
 =

392 [](cÚ¡ 
v®ue_ty³
 &
x
, cÚ¡ v®ue_ty³ &
y
) -> {

393  ((
x
 - 
y
) * (x - y));

395 
dampšg_çùÜ
 = 0.9)

396 : 
™”_num_
(
num_of_™”
), 
dfunc_
(
f
), 
dçùÜ_
(
dampšg_çùÜ
) { }

	@DataFrame/original/include/DataFrame/DataFrameOperators.h

30 #´agm¨
Úû


36 
Çme¥aû
 
	ghmdf


39 #ià
defšed
(
WIN32
è|| defšed(
_WIN32
)

40 #ifdeà
mš


41 #undeà
mš


43 #ifdeà
max


44 #undeà
max


51 
	g‹m¶©e
<
ty³Çme
 
	gDF
,em¶©e<
	gty³Çme
> 
şass
 
	gOPT
,y³Çm... 
	gTs
>

52 
DF
 
bš¬y_İ”©iÚ
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

54 
ty³Çme
 
	gDF
::
IndexVecTy³
 
»suÉ_idx
;

56 cÚ¡ 
ty³Çme
 
	gDF
::
IndexVecTy³
 &
lhs_ts_vec
 = 
lhs
.
g‘_šdex
();

57 cÚ¡ 
ty³Çme
 
	gDF
::
IndexVecTy³
 &
rhs_ts_vec
 = 
rhs
.
g‘_šdex
();

59 
	g»suÉ_idx
.
»£rve
(
¡d
::
mš
(
lhs_ts_vec
.
size
(), 
rhs_ts_vec
.size()));

60 
	g¡d
::
£t_š‹r£ùiÚ
(

61 
lhs_ts_vec
.
begš
(),†hs_ts_vec.
’d
(),

62 
rhs_ts_vec
.
begš
(),„hs_ts_vec.
’d
(),

63 
¡d
::
back_š£¹”
(
»suÉ_idx
));

65 
DF
 
	g»suÉ
;

67 
	g»suÉ
.
lßd_šdex
(
¡d
::
move
(
»suÉ_idx
));

69 cÚ¡ 
ty³Çme
 
	gDF
::
IndexVecTy³
 &
Ãw_idx
 = 
»suÉ
.
g‘_šdex
();

71 cÚ¡‡utØ&
	glhs_c™”
 : 
lhs
.
cŞumn_tb_
) {

72 cÚ¡‡utØ
rhs_c™”
 = 
rhs
.
cŞumn_tb_
.
fšd
(
lhs_c™”
.
fœ¡
.
c_¡r
());

74 ià(
	grhs_c™”
 =ğ
rhs
.
cŞumn_tb_
.
’d
()) ;

76 
ty³Çme
 
	gDF
::
‹m¶©e
 
İ”©Ü_funùÜ_


77 <
ty³Çme
 
DF
::
IndexTy³
, 
	gOPT
, 
	gTs
 ...> 
funùÜ
 (

78 
lhs_ts_vec
,

79 
rhs_ts_vec
,

80 
Ãw_idx
,

81 
rhs
,

82 
lhs_c™”
.
fœ¡
.
c_¡r
(),

83 
»suÉ
);

85 
	glhs
.
	gd©a_
[
lhs_c™”
.
£cÚd
].
chªge
(
funùÜ
);

88  (
	g»suÉ
);

102 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

103 
šlše
 
DF
 
df_¶us
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

105  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
¶us
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

110 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

111 
šlše
 
DF
 
df_mšus
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

113  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
mšus
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

118 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

119 
šlše
 
DF
 
df_muÉl›s
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

121  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
muÉl›s
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

126 
	g‹m¶©e
<
ty³Çme
 
	gDF
, 
	gty³Çme
 ... 
	gTs
>

127 
šlše
 
DF
 
df_divides
 (cÚ¡ DF &
lhs
, cÚ¡ DF &
rhs
) {

129  (
	gbš¬y_İ”©iÚ
<
	gDF
, 
	g¡d
::
divides
, 
	gTs
 ...>(
	glhs
, 
	grhs
));

	@DataFrame/original/include/DataFrame/DataFrameStatsVisitors.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meTy³s.h
>

34 
	~<®gÜ™hm
>

35 
	~<cm©h
>

36 
	~<c¡ddef
>

37 
	~<funùiÚ®
>

38 
	~<™”©Ü
>

39 
	~<m­
>

40 
	~<num”ic
>

44 
Çme¥aû
 
	ghmdf


47 
	#DEFINE_VISIT_BASIC_TYPES
 \

48 
usšg
 
v®ue_ty³
 = 
T
; \

49 
usšg
 
šdex_ty³
 = 
I
; \

50 
usšg
 
size_ty³
 = 
¡d
::
size_t
;

	)

52 
	#DEFINE_VISIT_BASIC_TYPES_2
 \

53 
DEFINE_VISIT_BASIC_TYPES
 \

54 
usšg
 
»suÉ_ty³
 = 
T
;

	)

56 
	#DEFINE_VISIT_BASIC_TYPES_3
 \

57 
DEFINE_VISIT_BASIC_TYPES
 \

58 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
T
>;

	)

60 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

61 
	sM—nVis™Ü
 {

63 
DEFINE_VISIT_BASIC_TYPES_2


65 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

67 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

69 
	gm—n_
 +ğ
v®
;

70 
	gút_
 += 1;

72 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

73 
šlše
 

74 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

76 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

77 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

80 
šlše
 
´e
 (è{ 
	gm—n_
 = 0; 
	gút_
 = 0; }

81 
šlše
 
po¡
 () { }

82 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gút_
); }

83 
šlše
 
v®ue_ty³
 
g‘_sum
 (ècÚ¡ {  (
	gm—n_
); }

84 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

86  (
	gm—n_
 / 
v®ue_ty³
(
út_
));

89 
ex¶ic™
 
M—nVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

91 
´iv©e
:

93 
v®ue_ty³
 
m—n_
 { 0 };

94 
size_ty³
 
	gút_
 { 0 };

95 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

100 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

101 
	sGeom‘ricM—nVis™Ü
 {

103 
DEFINE_VISIT_BASIC_TYPES_2


105 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

107 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

109 
	gm—n_
 *ğ
v®
;

110 
	gút_
 += 1;

112 
šlše
 
´e
 (è{ 
	gm—n_
 = 
v®ue_ty³
(1); 
	gút_
 = 0; }

113 
šlše
 
po¡
 () { }

114 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gút_
); }

115 
šlše
 
v®ue_ty³
 
g‘_sum
 (ècÚ¡ {  (
	gm—n_
); }

116 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

118  (
	g¡d
::
pow
(
m—n_
, 
v®ue_ty³
(1è/ v®ue_ty³(
út_
)));

120 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

121 
šlše
 

122 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

124 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

125 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

128 
ex¶ic™
 
Geom‘ricM—nVis™Ü
(
boŞ
 
skÇn
 = 
Œue
)

129 : 
sk_Çn_
(
skÇn
) { }

131 
´iv©e
:

133 
v®ue_ty³
 
m—n_
 { 1 };

134 
size_ty³
 
	gút_
 { 0 };

135 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

140 
	g‹m¶©e
<
ty³Çme
 
	gT
,

141 
ty³Çme
 
	gI
 = ,

142 
	gty³Çme
 =

143 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

144 
	sH¬mÚicM—nVis™Ü
 {

146 
DEFINE_VISIT_BASIC_TYPES_2


148 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

150 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

152 
	gm—n_
 +ğ
v®ue_ty³
(1è/ 
v®
;

153 
	gút_
 += 1;

155 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

156 
šlše
 

157 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

159 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

160 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

163 
šlše
 
´e
 (è{ 
	gm—n_
 = 0; 
	gút_
 = 0; }

164 
šlše
 
po¡
 () { }

165 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gút_
); }

166 
šlše
 
v®ue_ty³
 
g‘_sum
 (ècÚ¡ {  (
	gm—n_
); }

167 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

169  (
v®ue_ty³
(
út_
è/ 
	gm—n_
);

172 
ex¶ic™
 
H¬mÚicM—nVis™Ü
(
boŞ
 
skÇn
 = 
Œue
)

173 : 
sk_Çn_
(
skÇn
) { }

175 
´iv©e
:

177 
v®ue_ty³
 
m—n_
 { 0 };

178 
size_ty³
 
	gút_
 { 0 };

179 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

184 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

185 
	sSumVis™Ü
 {

187 
DEFINE_VISIT_BASIC_TYPES_2


189 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

191 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

193 
	gsum_
 +ğ
v®
;

195 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

196 
šlše
 

197 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

199 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

200 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

203 
šlše
 
´e
 (è{ 
	gsum_
 = 
v®ue_ty³
 { }; }

204 
šlše
 
po¡
 () { }

205 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gsum_
); }

207 
ex¶ic™
 
SumVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

209 
´iv©e
:

211 
v®ue_ty³
 
sum_
 { 0 };

212 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

217 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

218 
	sProdVis™Ü
 {

220 
DEFINE_VISIT_BASIC_TYPES_2


222 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
v®ue_ty³
 &
v®
) {

224 ià(
sk_Çn_
 && 
is_Çn__
(
v®
)) ;

226 
	g´od_
 *ğ
v®
;

228 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

229 
šlše
 

230 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

232 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

233 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

236 
šlše
 
´e
 (è{ 
	g´od_
 = 1; }

237 
šlše
 
po¡
 () { }

238 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g´od_
); }

240 
ex¶ic™
 
ProdVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

242 
´iv©e
:

244 
v®ue_ty³
 
´od_
 { 1 };

245 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

250 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

251 
	sMaxVis™Ü
 {

253 
DEFINE_VISIT_BASIC_TYPES_2


255 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
v®ue_ty³
 &
v®
) {

257 ià(
is_Çn__
(
v®
)) {

258 ià(
sk_Çn_
) ;

260 
	gmax_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
();

261 
	gis_fœ¡
 = 
çl£
;

265 ià(
	gv®
 > 
	gmax_
 || 
	gis_fœ¡
) {

266 
	gmax_
 = 
v®
;

267 
	gšdex_
 = 
idx
;

268 
	gis_fœ¡
 = 
çl£
;

271 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

272 
šlše
 

273 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

275 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

276 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

279 
šlše
 
´e
 (è{ 
	gis_fœ¡
 = 
Œue
; }

280 
šlše
 
po¡
 () { }

281 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gmax_
); }

282 
šlše
 
šdex_ty³
 
g‘_šdex
 (ècÚ¡ {  (
	gšdex_
); }

284 
ex¶ic™
 
MaxVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

286 
´iv©e
:

288 
v®ue_ty³
 
max_
 { };

289 
šdex_ty³
 
	gšdex_
 { };

290 
boŞ
 
	gis_fœ¡
 { 
	gŒue
 };

291 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

296 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

297 
	sMšVis™Ü
 {

299 
DEFINE_VISIT_BASIC_TYPES_2


301 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
v®ue_ty³
 &
v®
) {

303 ià(
is_Çn__
(
v®
)) {

304 ià(
sk_Çn_
) ;

306 
	gmš_
 = 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
();

307 
	gis_fœ¡
 = 
çl£
;

311 ià(
	gv®
 < 
	gmš_
 || 
	gis_fœ¡
) {

312 
	gmš_
 = 
v®
;

313 
	gšdex_
 = 
idx
;

314 
	gis_fœ¡
 = 
çl£
;

317 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

318 
šlše
 

319 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

321 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

322 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

325 
šlše
 
´e
 (è{ 
	gis_fœ¡
 = 
Œue
; }

326 
šlše
 
po¡
 () { }

327 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gmš_
); }

328 
šlše
 
šdex_ty³
 
g‘_šdex
 (ècÚ¡ {  (
	gšdex_
); }

330 
ex¶ic™
 
MšVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

332 
´iv©e
:

334 
v®ue_ty³
 
mš_
 { };

335 
šdex_ty³
 
	gšdex_
 { };

336 
boŞ
 
	gis_fœ¡
 { 
	gŒue
 };

337 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

350 
	g‹m¶©e
<
	g¡d
::
size_t
 
N
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

351 
	sNL¬ge¡Vis™Ü
 {

353 
DEFINE_VISIT_BASIC_TYPES


355 
	sD©aI‹m
 {

356 
v®ue_ty³
 
v®ue
 { };

357 
šdex_ty³
 
	gšdex
 { };

360 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
¬¿y
<
D©aI‹m
, 
	gN
>;

362 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

364 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

366 ià(
	gcouÁ”_
 < 
	gN
) {

367 
	g™ems_
[
couÁ”_
] = { 
v®
, 
idx
 };

368 ià(
	gmš_šdex_
 < 0 || 
	gv®
 < 
	g™ems_
[
mš_šdex_
].
	gv®ue
)

369 
	gmš_šdex_
 = 
¡©ic_ÿ¡
<>(
couÁ”_
);

371 ià(
	gv®
 > 
	g™ems_
[
mš_šdex_
].
	gv®ue
) {

372 
	g™ems_
[
mš_šdex_
] = { 
v®
, 
idx
 };

373 
	gmš_šdex_
 = 0;

374 
	gi
 = 1; i < 
	gN
; ++i)

375 ià(
	g™ems_
[
i
].
	gv®ue
 < i‹ms_[
mš_šdex_
].value)

376 
	gmš_šdex_
 = 
i
;

379 
	gcouÁ”_
 += 1;

381 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

382 
šlše
 

383 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

385 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

386 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

389 
šlše
 
´e
 (è{ 
	gcouÁ”_
 = 0; 
	gmš_šdex_
 = -1; }

390 
šlše
 
po¡
 () { }

391 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g™ems_
); }

393 
šlše
 
sÜt_by_šdex
() {

395 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

396 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

397  (
lhs
.
šdex
 < 
rhs
.index);

400 
šlše
 
sÜt_by_v®ue
() {

402 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

403 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

404  (
lhs
.
v®ue
 < 
rhs
.value);

408 
ex¶ic™
 
NL¬ge¡Vis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

410 
´iv©e
:

412 
»suÉ_ty³
 
™ems_
 { };

413 
size_ty³
 
	gcouÁ”_
 { 0 };

414 
	gmš_šdex_
 { -1 };

415 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

428 
	g‹m¶©e
<
	g¡d
::
size_t
 
N
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

429 
	sNSm®Ë¡Vis™Ü
 {

431 
DEFINE_VISIT_BASIC_TYPES


433 
	sD©aI‹m
 {

434 
v®ue_ty³
 
v®ue
 { };

435 
šdex_ty³
 
	gšdex
 { };

438 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
¬¿y
<
D©aI‹m
, 
	gN
>;

440 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &
	gidx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

442 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

444 ià(
	gcouÁ”_
 < 
	gN
) {

445 
	g™ems_
[
couÁ”_
] = { 
v®
, 
idx
 };

446 ià(
	gmax_šdex_
 < 0 || 
	gv®
 > 
	g™ems_
[
max_šdex_
].
	gv®ue
)

447 
	gmax_šdex_
 = 
¡©ic_ÿ¡
<>(
couÁ”_
);

449 ià(
	gv®
 < 
	g™ems_
[
max_šdex_
].
	gv®ue
) {

450 
	g™ems_
[
max_šdex_
] = { 
v®
, 
idx
 };

451 
	gmax_šdex_
 = 0;

452 
	gi
 = 1; i < 
	gN
; ++i)

453 ià(
	g™ems_
[
i
].
	gv®ue
 > i‹ms_[
max_šdex_
].value)

454 
	gmax_šdex_
 = 
i
;

457 
	gcouÁ”_
 += 1;

459 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

460 
šlše
 

461 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

463 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

464 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

467 
šlše
 
´e
 (è{ 
	gcouÁ”_
 = 0; 
	gmax_šdex_
 = -1; }

468 
šlše
 
po¡
 () { }

469 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g™ems_
); }

471 
šlše
 
sÜt_by_šdex
() {

473 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

474 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

475  (
lhs
.
šdex
 < 
rhs
.index);

478 
šlše
 
sÜt_by_v®ue
() {

480 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

481 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

482  (
lhs
.
v®ue
 < 
rhs
.value);

486 
ex¶ic™
 
NSm®Ë¡Vis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

488 
´iv©e
:

490 
»suÉ_ty³
 
™ems_
 { };

491 
size_ty³
 
	gcouÁ”_
 { 0 };

492 
	gmax_šdex_
 { -1 };

493 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

498 
	g‹m¶©e
<
ty³Çme
 
	gT
,

499 
ty³Çme
 
	gI
 = ,

500 
	gty³Çme
 =

501 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

502 
	sCovVis™Ü
 {

504 
DEFINE_VISIT_BASIC_TYPES_2


506 
ex¶ic™
 
CovVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
, boŞ 
skÇn
 = 
Œue
)

507 : 
b_
 (
bŸ£d
), 
sk_Çn_
(
skÇn
) { }

508 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &,

509 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

510 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

512 ià(
	gsk_Çn_
 && (
is_Çn__
(
v®1
è|| is_Çn__(
v®2
))) ;

514 
	gtÙ®1_
 +ğ
v®1
;

515 
	gtÙ®2_
 +ğ
v®2
;

516 
	gdÙ_´od_
 +ğ(
v®1
 * 
v®2
);

517 
	gdÙ_´od1_
 +ğ(
v®1
 * val1);

518 
	gdÙ_´od2_
 +ğ(
v®2
 * val2);

519 
	gút_
 += 1;

521 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

522 
šlše
 

523 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

524 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

525 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

527 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

528 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

531 
šlše
 
´e
 () {

533 
	gtÙ®1_
 = 
tÙ®2_
 = 
dÙ_´od_
 = 
dÙ_´od1_
 = 
dÙ_´od2_
 = 0;

534 
	gút_
 = 0;

536 
šlše
 
po¡
 () { }

537 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

539 cÚ¡ 
v®ue_ty³
 
	gb
 = 
b_
 ? 0 : 1;

541  ((
	gdÙ_´od_
 - (
tÙ®1_
 * 
	gtÙ®2_
è/ 
v®ue_ty³
(
út_
)) /

542 (
v®ue_ty³
(
út_
è- 
	gb
));

545 
šlše
 
v®ue_ty³
 
g‘_v¬1
 () const {

547 cÚ¡ 
v®ue_ty³
 
	gb
 = 
b_
 ? 0 : 1;

549  ((
	gdÙ_´od1_
 - (
tÙ®1_
 * 
	gtÙ®1_
è/ 
v®ue_ty³
(
út_
)) /

550 (
v®ue_ty³
(
út_
è- 
	gb
));

552 
šlše
 
v®ue_ty³
 
g‘_v¬2
 () const {

554 cÚ¡ 
v®ue_ty³
 
	gb
 = 
b_
 ? 0 : 1;

556  ((
	gdÙ_´od2_
 - (
tÙ®2_
 * 
	gtÙ®2_
è/ 
v®ue_ty³
(
út_
)) /

557 (
v®ue_ty³
(
út_
è- 
	gb
));

560 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gút_
); }

562 
	g´iv©e
:

564 
v®ue_ty³
 
tÙ®1_
 { 0 };

565 
v®ue_ty³
 
	gtÙ®2_
 { 0 };

566 
v®ue_ty³
 
	gdÙ_´od_
 { 0 };

567 
v®ue_ty³
 
	gdÙ_´od1_
 { 0 };

568 
v®ue_ty³
 
	gdÙ_´od2_
 { 0 };

569 
size_ty³
 
	gút_
 { 0 };

570 cÚ¡ 
boŞ
 
	gb_
;

571 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

576 
	g‹m¶©e
<
ty³Çme
 
	gT
,

577 
ty³Çme
 
	gI
 = ,

578 
	gty³Çme
 =

579 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

580 
	sV¬Vis™Ü
 {

582 
DEFINE_VISIT_BASIC_TYPES_2


584 
ex¶ic™
 
V¬Vis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
cov_
 (biased) { }

585 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

587 
cov_
 (
idx
, 
v®
, val);

589 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

590 
šlše
 

591 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

593 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

594 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

597 
šlše
 
´e
 (è{ 
	gcov_
.pre(); }

598 
šlše
 
po¡
 (è{ 
	gcov_
.post(); }

599 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gcov_
.get_result()); }

600 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gcov_
.get_count()); }

602 
	g´iv©e
:

604 
CovVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gcov_
;

609 
	g‹m¶©e
<
ty³Çme
 
	gT
,

610 
ty³Çme
 
	gI
 = ,

611 
	gty³Çme
 =

612 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

613 
	sB‘aVis™Ü
 {

615 
DEFINE_VISIT_BASIC_TYPES_2


617 
ex¶ic™
 
B‘aVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
cov_
 (biased) { }

618 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

619 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

620 cÚ¡ 
	gv®ue_ty³
 &
	gb’chm¬k
) {

622 
cov_
 (
idx
, 
v®1
, 
b’chm¬k
);

624 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

625 
šlše
 

626 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

627 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

628 
H
 
	gb’chm¬k_begš
, H 
	gb’chm¬k_’d
) {

630 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gb’chm¬k_begš
 < 
	gb’chm¬k_’d
)

631 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gb’chm¬k_begš
++);

634 
šlše
 
´e
 (è{ 
	gcov_
.pre(); }

635 
šlše
 
po¡
 (è{ 
	gcov_
.post(); }

636 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

638  (
	gcov_
.
g‘_v¬2
() != 0.0

639 ? 
cov_
.
g‘_»suÉ
(è/ cov_.
g‘_v¬2
()

640 : 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
());

642 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gcov_
.get_count()); }

644 
	g´iv©e
:

646 
CovVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gcov_
;

651 
	g‹m¶©e
<
ty³Çme
 
	gT
,

652 
ty³Çme
 
	gI
 = ,

653 
	gty³Çme
 =

654 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

655 
	sStdVis™Ü
 {

657 
DEFINE_VISIT_BASIC_TYPES_2


659 
ex¶ic™
 
StdVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
v¬_
 (biased) { }

660 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

662 
v¬_
 (
idx
, 
v®
);

664 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

665 
šlše
 

666 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

668 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

669 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

672 
šlše
 
´e
 (è{ 
	gv¬_
.pre(); }

673 
šlše
 
po¡
 (è{ 
	gv¬_
.post(); }

674 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

676  (::
sq¹
(
v¬_
.
g‘_»suÉ
()));

678 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	gv¬_
.get_count()); }

680 
	g´iv©e
:

682 
V¬Vis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gv¬_
;

689 
	g‹m¶©e
<
ty³Çme
 
	gT
,

690 
ty³Çme
 
	gI
 = ,

691 
	gty³Çme
 =

692 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

693 
	sSEMVis™Ü
 {

695 
DEFINE_VISIT_BASIC_TYPES_2


697 
ex¶ic™
 
SEMVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
¡d_
 (biased) { }

698 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

700 
¡d_
 (
idx
, 
v®
);

702 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

703 
šlše
 

704 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

706 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

707 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

710 
šlše
 
´e
 (è{ 
	g¡d_
.pre(); }

711 
šlše
 
po¡
 (è{ 
	g¡d_
.post(); }

712 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

714  (
	g¡d_
.
g‘_»suÉ
(è/ ::
sq¹
(
g‘_couÁ
()));

716 
šlše
 
size_ty³
 
g‘_couÁ
(ècÚ¡ {  (
	g¡d_
.get_count()); }

718 
	g´iv©e
:

720 
StdVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	g¡d_
;

725 
	g‹m¶©e
<
ty³Çme
 
	gT
,

726 
ty³Çme
 
	gI
 = ,

727 
	gty³Çme
 =

728 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

729 
	sT¿ckšgE¼ÜVis™Ü
 {

731 
DEFINE_VISIT_BASIC_TYPES_2


733 
ex¶ic™
 
T¿ckšgE¼ÜVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
¡d_
 (biased) { }

734 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

735 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

736 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

738 
¡d_
 (
idx
, 
v®1
 - 
v®2
);

740 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

741 
šlše
 

742 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

743 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

744 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

746 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

747 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

750 
šlše
 
´e
 (è{ 
	g¡d_
.pre(); }

751 
šlše
 
po¡
 (è{ 
	g¡d_
.post(); }

752 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g¡d_
.get_result()); }

754 
	g´iv©e
:

756 
StdVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	g¡d_
;

761 
	g‹m¶©e
<
ty³Çme
 
	gT
,

762 
ty³Çme
 
	gI
 = ,

763 
	gty³Çme
 =

764 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

765 
	sCÜrVis™Ü
 {

767 
public
:

769 
DEFINE_VISIT_BASIC_TYPES_2


771 
ex¶ic™
 
CÜrVis™Ü
 (
boŞ
 
bŸ£d
 = 
çl£
è: 
cov_
 (biased) { }

772 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

773 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

774 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

776 
cov_
 (
idx
, 
v®1
, 
v®2
);

778 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

779 
šlše
 

780 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

781 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

782 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

784 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

785 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

788 
šlše
 
´e
 (è{ 
	gcov_
.pre(); }

789 
šlše
 
po¡
 (è{ 
	gcov_
.post(); }

790 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 () const {

792  (
	gcov_
.
g‘_»suÉ
() /

793 (::
sq¹
(
cov_
.
g‘_v¬1
()è* ::sq¹(cov_.
g‘_v¬2
())));

796 
	g´iv©e
:

798 
CovVis™Ü
<
v®ue_ty³
, 
	gšdex_ty³
> 
	gcov_
;

803 
	g‹m¶©e
<
ty³Çme
 
	gT
,

804 
ty³Çme
 
	gI
 = ,

805 
	gty³Çme
 =

806 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

807 
	sDÙProdVis™Ü
 {

809 
DEFINE_VISIT_BASIC_TYPES_2


811 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &,

812 cÚ¡ 
	gv®ue_ty³
 &
	gv®1
,

813 cÚ¡ 
	gv®ue_ty³
 &
	gv®2
) {

815 
	gdÙ_´od_
 +ğ(
v®1
 * 
v®2
);

817 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

818 
šlše
 

819 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

820 
H
 
	gcŞumn_begš1
, H 
	gcŞumn_’d1
,

821 
H
 
	gcŞumn_begš2
, H 
	gcŞumn_’d2
) {

823 
	gcŞumn_begš1
 < 
	gcŞumn_’d1
 && 
	gcŞumn_begš2
 < 
	gcŞumn_’d2
)

824 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš1
++, *
	gcŞumn_begš2
++);

827 
šlše
 
´e
 (è{ 
	gdÙ_´od_
 = 
v®ue_ty³
(0); }

828 
šlše
 
po¡
 () { }

829 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gdÙ_´od_
); }

831 
	g´iv©e
:

833 
»suÉ_ty³
 
dÙ_´od_
 { 0 };

840 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
,y³Çm
	gI
 = >

841 
	sSim¶eRŞlAdİ‹r
 {

843 
´iv©e
:

845 
usšg
 
vis™Ü_ty³
 = 
F
;

846 
usšg
 
	gf_»suÉ_ty³
 = 
ty³Çme
 
vis™Ü_ty³
::
»suÉ_ty³
;

848 
vis™Ü_ty³
 
	gvis™Ü_
 { };

849 cÚ¡ 
size_t
 
	grŞl_couÁ_
 { 0 };

850 
	g¡d
::
veùÜ
<
f_»suÉ_ty³
> 
»suÉ_
 { };

852 
	gpublic
:

854 
DEFINE_VISIT_BASIC_TYPES


855 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
f_»suÉ_ty³
>;

857 
šlše
 
Sim¶eRŞlAdİ‹r
(
F
 &&
funùÜ
, 
size_ty³
 
r_couÁ
)

858 : 
vis™Ü_
(
¡d
::
move
(
funùÜ
)), 
rŞl_couÁ_
(
r_couÁ
) { }

860 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

861 
šlše
 

862 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

863 cÚ¡ 
	gK
 &
	gidx_’d
,

864 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

865 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

867 ià(
	grŞl_couÁ_
 == 0) ;

869 cÚ¡ 
size_ty³
 
	gidx_size
 =

870 
¡©ic_ÿ¡
<
size_ty³
>(
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
));

871 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

872 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

874 
	g»suÉ_
.
»£rve
(
cŞ_s
);

876 
size_ty³
 
	gi
 = 0; i < 
	grŞl_couÁ_
 - 1 && i < 
	gcŞ_s
; ++i)

877 
	g»suÉ_
.
push_back
(
¡d
::
num”ic_lim™s
<
f_»suÉ_ty³
>::
qu›t_NaN
());

878 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

879 
size_ty³
 
	gr
 = 0;

881 
	gvis™Ü_
.
´e
();

882 
size_ty³
 
	gj
 = 
i
; 
	gr
 < 
	grŞl_couÁ_
 && j < 
	gcŞ_s
; ++j, ++r)

883 
vis™Ü_
(*(
idx_begš
 + 
j
), *(
cŞumn_begš
 + j));

884 
	gvis™Ü_
.
po¡
();

885 ià(
	gr
 =ğ
rŞl_couÁ_
)

886 
»suÉ_
.
push_back
(
vis™Ü_
.
g‘_»suÉ
());

890 
šlše
 
´e
 (è{ 
	gvis™Ü_
.´e(); 
	g»suÉ_
.
ş—r
(); }

891 
šlše
 
po¡
 (è{ 
	gvis™Ü_
.post(); }

892 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

899 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
,y³Çm
	gI
 = >

900 
	sEx·ndšgRŞlAdİ‹r
 {

902 
´iv©e
:

904 
usšg
 
vis™Ü_ty³
 = 
F
;

905 
usšg
 
	gf_»suÉ_ty³
 = 
ty³Çme
 
vis™Ü_ty³
::
»suÉ_ty³
;

907 
vis™Ü_ty³
 
	gvis™Ü_
 { };

908 cÚ¡ 
size_t
 
	gš™_rŞl_couÁ_
 { 0 };

909 cÚ¡ 
size_t
 
	gšüem’t_couÁ_
 { 0 };

910 
	g¡d
::
veùÜ
<
f_»suÉ_ty³
> 
»suÉ_
 { };

912 
	gpublic
:

914 
DEFINE_VISIT_BASIC_TYPES


915 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
f_»suÉ_ty³
>;

917 
šlše
 
Ex·ndšgRŞlAdİ‹r
(
F
 &&
funùÜ
,

918 
size_t
 
r_couÁ
,

919 
size_t
 
i_couÁ
 = 1)

920 : 
vis™Ü_
(
¡d
::
move
(
funùÜ
)),

921 
š™_rŞl_couÁ_
(
r_couÁ
),

922 
šüem’t_couÁ_
(
i_couÁ
) { }

924 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

925 
šlše
 

926 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

927 cÚ¡ 
	gK
 &
	gidx_’d
,

928 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

929 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

931 ià(
	gš™_rŞl_couÁ_
 == 0) ;

933 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

934 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

935 cÚ¡ 
size_t
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

937 
	g»suÉ_
.
»£rve
(
cŞ_s
);

939 
size_t
 
	grc
 = 
š™_rŞl_couÁ_
;

941 
size_t
 
	gi
 = 0; i < 
	grc
 - 1 && i < 
	gcŞ_s
; ++i)

942 
	g»suÉ_
.
push_back
(
¡d
::
num”ic_lim™s
<
f_»suÉ_ty³
>::
qu›t_NaN
());

944 
size_t
 
	gi
 = 0; i < 
	gcŞ_s
; ++i, 
	grc
 +ğ
šüem’t_couÁ_
) {

945 
size_t
 
r
 = 0;

947 
	gvis™Ü_
.
´e
();

948 
size_t
 
	gj
 = 
i
; 
	gr
 < 
	grc
 && j < 
	gcŞ_s
; ++j, ++r)

949 
vis™Ü_
(*(
idx_begš
 + 
j
), *(
cŞumn_begš
 + j));

950 
	gvis™Ü_
.
po¡
();

951 ià(
	gr
 =ğ
rc
)

952 
»suÉ_
.
push_back
(
vis™Ü_
.
g‘_»suÉ
());

957 
šlše
 
´e
 (è{ 
	gvis™Ü_
.´e(); 
	g»suÉ_
.
ş—r
(); }

958 
šlše
 
po¡
 (è{ 
	gvis™Ü_
.post(); }

959 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

967 
	g‹m¶©e
<
ty³Çme
 
	gF
,y³Çm
	gT
,y³Çm
	gI
 = >

968 
	sExpÚ’tŸlRŞlAdİ‹r
 {

970 
´iv©e
:

972 
usšg
 
vis™Ü_ty³
 = 
F
;

973 
usšg
 
	gf_»suÉ_ty³
 = 
ty³Çme
 
vis™Ü_ty³
::
»suÉ_ty³
;

975 
	g¡d
::
veùÜ
<
f_»suÉ_ty³
> 
»suÉ_
 { };

976 
vis™Ü_ty³
 
	gvis™Ü_
 { };

977 cÚ¡ 
size_t
 
	grŞl_couÁ_
;

978 cÚ¡ 
	gdeÿy_
;

979 cÚ¡ 
boŞ
 
	gsk_Çn_
;

981 
	gpublic
:

983 
DEFINE_VISIT_BASIC_TYPES


984 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
f_»suÉ_ty³
>;

986 
šlše
 
ExpÚ’tŸlRŞlAdİ‹r
(
F
 &&
funùÜ
,

987 
size_t
 
r_couÁ
,

988 
expÚ’tŸl_deÿy_¥ec
 
eds
,

989 
v®ue
,

990 
boŞ
 
sk_Çn
 = 
Œue
)

991 : 
vis™Ü_
(
¡d
::
move
(
funùÜ
)),

992 
rŞl_couÁ_
(
r_couÁ
),

993 
deÿy_
(
eds
 =ğ
expÚ’tŸl_deÿy_¥ec
::
ûÁ”_of_g¿v™y


994 ? 1.0 / (1.0 + 
v®ue
)

995 : 
eds
 =ğ
expÚ’tŸl_deÿy_¥ec
::
¥ª


996 ? 2.0 / (1.0 + 
v®ue
)

997 : 
eds
 =ğ
expÚ’tŸl_deÿy_¥ec
::
h®æiã


998 ? 1.0 - 
¡d
::
exp
(¡d::
log
(0.5è/ 
v®ue
)

999 : 
v®ue
),

1000 
sk_Çn_
(
sk_Çn
) { }

1002 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1003 
šlše
 

1004 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1005 cÚ¡ 
	gK
 &
	gidx_’d
,

1006 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1007 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1009 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1010 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1011 cÚ¡ 
size_t
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1013 ià(
	grŞl_couÁ_
 =ğ0 || 
rŞl_couÁ_
 >ğ
cŞ_s
) ;

1015 
	g»suÉ_
.
»size
(
cŞ_s
, 
¡d
::
num”ic_lim™s
<
f_»suÉ_ty³
>::
qu›t_NaN
());

1017 
size_t
 
	gi
 = 0;

1019 
	gvis™Ü_
.
´e
();

1020 ; 
	gi
 < 
	grŞl_couÁ_
; ++i)

1021 
vis™Ü_
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

1022 
	gvis™Ü_
.
po¡
();

1023 
	g»suÉ_
[--
i
] = 
vis™Ü_
.
g‘_»suÉ
();

1024 
	gi
 += 1;

1026 ; 
	gi
 < 
	gcŞ_s
; ++i) {

1027 ià(
	gsk_Çn_
 && 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) ;

1028 
	g»suÉ_
[
i
] =

1029 
deÿy_
 * *(
cŞumn_begš
 + 
i
) +

1030 ((1.0 - 
deÿy_
è* 
»suÉ_
[
i
 - 1]);

1034 
šlše
 
´e
 (è{ 
	gvis™Ü_
.´e(); 
	g»suÉ_
.
ş—r
(); }

1035 
šlše
 
po¡
 (è{ 
	gvis™Ü_
.post(); }

1036 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1043 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1044 
ty³Çme
 
	gI
 = ,

1045 
	gty³Çme
 =

1046 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1047 
	sStsVis™Ü
 {

1049 
DEFINE_VISIT_BASIC_TYPES_2


1051 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &, cÚ¡ 
	gv®ue_ty³
 &
	gv®
) {

1053 ià(
	gsk_Çn_
 && 
is_Çn__
(
v®
)) ;

1055 
v®ue_ty³
 
	gd–
, 
	gd–_n
, 
	gd–_n2
, 
	g‹rm1
;

1056 
size_ty³
 
	gn1
 = 
n_
;

1058 
	gn_
 += 1;

1059 
	gd–
 = 
v®
 - 
m1_
;

1060 
	gd–_n
 = 
d–
 / 
v®ue_ty³
(
n_
);

1061 
	gd–_n2
 = 
d–_n
 * delta_n;

1062 
	g‹rm1
 = 
d–
 * 
d–_n
 * 
v®ue_ty³
(
n1
);

1063 
	gm1_
 +ğ
d–_n
;

1064 
	gm4_
 = 
m4_
 + 
¡©ic_ÿ¡
<
v®ue_ty³
>

1065 (
‹rm1
 * 
d–_n2
 * 
v®ue_ty³
(
n_
 *‚_ - 3 *‚_ + 3) +

1066 6.0 * 
d–_n2
 * 
m2_
 - 4.0 * 
d–_n
 * 
m3_
);

1067 
	gm3_
 = 
m3_
 + 
¡©ic_ÿ¡
<
v®ue_ty³
>

1068 (
‹rm1
 * 
d–_n
 * 
v®ue_ty³
(
n_
 - 2è- 3.0 * d–_À* 
m2_
);

1069 
	gm2_
 +ğ
‹rm1
;

1071 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1072 
šlše
 

1073 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
, 
H
 
	gcŞumn_begš
, H 
	gcŞumn_’d
) {

1075 
	gcŞumn_begš
 < 
	gcŞumn_’d
)

1076 (*
	gthis
)(*
	gidx_begš
, *
	gcŞumn_begš
++);

1079 
šlše
 
´e
 () {

1081 
	gn_
 = 0;

1082 
	gm1_
 = 
m2_
 = 
m3_
 = 
m4_
 = 
v®ue_ty³
(0);

1084 
šlše
 
po¡
 () { }

1086 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gn_
); }

1087 
šlše
 
»suÉ_ty³
 
g‘_m—n
 (ècÚ¡ {  (
	gm1_
); }

1088 
šlše
 
»suÉ_ty³
 
g‘_v¬Ÿnû
 () const {

1090  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>(
	gm2_
 / (
v®ue_ty³
(
n_
) - 1.0));

1092 
šlše
 
»suÉ_ty³
 
g‘_¡d
 () const {

1094  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>(::
sq¹
(
g‘_v¬Ÿnû
()));

1096 
šlše
 
»suÉ_ty³
 
g‘_skew
 () const {

1098  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>(::
sq¹
(
n_
è* 
m3_
 / ::
pow
(
m2_
, 1.5));

1100 
šlše
 
»suÉ_ty³
 
g‘_ku¹osis
 () const {

1102  
	g¡©ic_ÿ¡
<
	g»suÉ_ty³
>

1103 (
v®ue_ty³
(
n_
è* 
	gm4_
 / (
m2_
 * 
	gm2_
) - 3.0);

1106 
ex¶ic™
 
StsVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1108 
´iv©e
:

1110 
size_ty³
 
n_
 { 0 };

1111 
v®ue_ty³
 
	gm1_
 { 0 };

1112 
v®ue_ty³
 
	gm2_
 { 0 };

1113 
v®ue_ty³
 
	gm3_
 { 0 };

1114 
v®ue_ty³
 
	gm4_
 { 0 };

1115 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1122 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1123 
ty³Çme
 
	gI
 = ,

1124 
	gty³Çme
 =

1125 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1126 
	sSLReg»ssiÚVis™Ü
 {

1128 
public
:

1130 
DEFINE_VISIT_BASIC_TYPES_2


1132 
šlše
 
İ”©Ü
(è(cÚ¡ 
šdex_ty³
 &
idx
,

1133 cÚ¡ 
	gv®ue_ty³
 &
	gx
,

1134 cÚ¡ 
	gv®ue_ty³
 &
	gy
) {

1136 ià(
	gsk_Çn_
 && (
is_Çn__
(
x
è|| is_Çn__(
y
))) ;

1138 
	gs_xy_
 +ğ(
x_¡©s_
.
g‘_m—n
(è- 
x
) *

1139 (
y_¡©s_
.
g‘_m—n
(è- 
y
) *

1140 
v®ue_ty³
(
n_
) / value_type(n_ + 1);

1142 
x_¡©s_
(
idx
, 
x
);

1143 
y_¡©s_
(
idx
, 
y
);

1144 
	gn_
 += 1;

1146 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1147 
šlše
 

1148 
İ”©Ü
(è(
K
 
	gidx_begš
, K 
	gidx_’d
,

1149 
H
 
	gx_begš
, H 
	gx_’d
,

1150 
H
 
	gy_begš
, H 
	gy_’d
) {

1152 
	gx_begš
 < 
	gx_’d
 && 
	gy_begš
 < 
	gy_’d
)

1153 (*
	gthis
)(*
	gidx_begš
, *
	gx_begš
++, *
	gy_begš
++);

1156 
šlše
 
´e
 () {

1158 
	gn_
 = 0;

1159 
	gs_xy_
 = 0;

1160 
	gx_¡©s_
.
´e
();

1161 
	gy_¡©s_
.
´e
();

1163 
šlše
 
po¡
 () { }

1165 
šlše
 
size_ty³
 
g‘_couÁ
 (ècÚ¡ {  (
	gn_
); }

1166 
šlše
 
»suÉ_ty³
 
g‘_¦İe
 () const {

1170 cÚ¡ 
v®ue_ty³
 
	gs_xx
 =

1171 
x_¡©s_
.
g‘_v¬Ÿnû
(è* 
v®ue_ty³
(
n_
 - 1);

1173  (
	gs_xy_
 / 
	gs_xx
);

1175 
šlše
 
»suÉ_ty³
 
g‘_š‹rû±
 () const {

1177  (
	gy_¡©s_
.
g‘_m—n
(è- 
g‘_¦İe
(è* 
	gx_¡©s_
.get_mean());

1179 
šlše
 
»suÉ_ty³
 
g‘_cÜr
 () const {

1181 cÚ¡ 
v®ue_ty³
 
	gt
 = 
x_¡©s_
.
g‘_¡d
(è* 
y_¡©s_
.get_std();

1183  (
	gs_xy_
 / (
v®ue_ty³
(
n_
 - 1è* 
	gt
));

1186 
ex¶ic™
 
SLReg»ssiÚVis™Ü
(
boŞ
 
skÇn
 = 
Œue
)

1187 : 
x_¡©s_
(
skÇn
), 
y_¡©s_
(skÇn), 
sk_Çn_
(skipnan) { }

1189 
	g´iv©e
:

1191 
size_ty³
 
n_
 { 0 };

1195 
v®ue_ty³
 
	gs_xy_
 { 0 };

1196 
	gStsVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
	gx_¡©s_
 { };

1197 
	gStsVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
	gy_¡©s_
 { };

1198 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1207 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1208 
ty³Çme
 
	gI
 = ,

1209 
	gty³Çme
 =

1210 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1211 
	sCumSumVis™Ü
 {

1213 
DEFINE_VISIT_BASIC_TYPES_3


1215 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

1216 
šlše
 

1217 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1218 cÚ¡ 
	gK
 &
	gidx_’d
,

1219 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1220 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1222 
v®ue_ty³
 
	gruÂšg_sum
 = 0;

1223 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1224 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1225 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1227 
	gsum_
.
»£rve
(
cŞ_s
);

1228 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1229 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1231 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1232 
	gruÂšg_sum
 +ğ
v®ue
;

1233 
	gsum_
.
push_back
(
ruÂšg_sum
);

1236 
	gsum_
.
push_back
(
v®ue
);

1239 
šlše
 
´e
 (è{ 
	gsum_
.
ş—r
(); }

1240 
šlše
 
po¡
 () { }

1241 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gsum_
); }

1243 
ex¶ic™
 
CumSumVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1245 
´iv©e
:

1247 
¡d
::
veùÜ
<
v®ue_ty³
> 
sum_
 { };

1248 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1253 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1254 
ty³Çme
 
	gI
 = ,

1255 
	gty³Çme
 =

1256 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1257 
	sCumProdVis™Ü
 {

1259 
DEFINE_VISIT_BASIC_TYPES_3


1261 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

1262 
šlše
 

1263 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1264 cÚ¡ 
	gK
 &
	gidx_’d
,

1265 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1266 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1268 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1269 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1270 
v®ue_ty³
 
	gruÂšg_´od
 = 1;

1271 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1273 
	g´od_
.
»£rve
(
cŞ_s
);

1274 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1275 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1277 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1278 
	gruÂšg_´od
 *ğ
v®ue
;

1279 
	g´od_
.
push_back
(
ruÂšg_´od
);

1282 
	g´od_
.
push_back
(
v®ue
);

1285 
šlše
 
´e
 (è{ 
	g´od_
.
ş—r
(); }

1286 
šlše
 
po¡
 () { }

1287 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g´od_
); }

1289 
ex¶ic™
 
CumProdVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1291 
´iv©e
:

1293 
¡d
::
veùÜ
<
v®ue_ty³
> 
´od_
 { };

1294 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1299 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1300 
	sCumMaxVis™Ü
 {

1302 
DEFINE_VISIT_BASIC_TYPES_3


1304 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
H
>

1305 
šlše
 

1306 
İ”©Ü
(è(cÚ¡ 
K
 &
idx_begš
,

1307 cÚ¡ 
K
 &
idx_’d
,

1308 cÚ¡ 
H
 &
cŞumn_begš
,

1309 cÚ¡ 
H
 &
cŞumn_’d
) {

1311 cÚ¡ 
size_ty³
 
idx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1312 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1314 ià(
	gcŞ_size
 == 0) ;

1316 
v®ue_ty³
 
	gruÂšg_max
 = *
cŞumn_begš
;

1317 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1319 
	gmax_
.
»£rve
(
cŞ_s
);

1320 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1321 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1323 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1324 ià(
	gv®ue
 > 
	gruÂšg_max
)

1325 
	gruÂšg_max
 = 
v®ue
;

1326 
	gmax_
.
push_back
(
ruÂšg_max
);

1329 
	gmax_
.
push_back
(
v®ue
);

1332 
šlše
 
´e
 (è{ 
	gmax_
.
ş—r
(); }

1333 
šlše
 
po¡
 () { }

1334 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gmax_
); }

1336 
ex¶ic™
 
CumMaxVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1338 
´iv©e
:

1340 
¡d
::
veùÜ
<
v®ue_ty³
> 
max_
 { };

1341 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1346 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1347 
	sCumMšVis™Ü
 {

1349 
DEFINE_VISIT_BASIC_TYPES_3


1351 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
H
>

1352 
šlše
 

1353 
İ”©Ü
(è(cÚ¡ 
K
 &
idx_begš
,

1354 cÚ¡ 
K
 &
idx_’d
,

1355 cÚ¡ 
H
 &
cŞumn_begš
,

1356 cÚ¡ 
H
 &
cŞumn_’d
) {

1358 cÚ¡ 
size_ty³
 
idx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1359 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1361 ià(
	gcŞ_size
 == 0) ;

1363 
v®ue_ty³
 
	gruÂšg_mš
 = *
cŞumn_begš
;

1364 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1366 
	gmš_
.
»£rve
(
cŞ_s
);

1367 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

1368 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1370 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(
v®ue
)) {

1371 ià(
	gv®ue
 < 
	gruÂšg_mš
)

1372 
	gruÂšg_mš
 = 
v®ue
;

1373 
	gmš_
.
push_back
(
ruÂšg_mš
);

1376 
	gmš_
.
push_back
(
v®ue
);

1379 
šlše
 
´e
 (è{ 
	gmš_
.
ş—r
(); }

1380 
šlše
 
po¡
 () { }

1381 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gmš_
); }

1383 
ex¶ic™
 
CumMšVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

1385 
´iv©e
:

1387 
¡d
::
veùÜ
<
v®ue_ty³
> 
mš_
 { };

1388 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1396 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1397 
	sC©egÜyVis™Ü
 {

1399 
´iv©e
:

1401 
	st_Ëss_
 {

1402 
šlše
 
boŞ


1403 
İ”©Ü
(è(cÚ¡ 
T
 *
lhs
, cÚ¡ T *
rhs
) const {  (*lhs < *rhs); }

1406 
	gpublic
:

1408 
DEFINE_VISIT_BASIC_TYPES


1409 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
size_ty³
>;

1411 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1412 
šlše
 

1413 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1414 cÚ¡ 
	gK
 &
	gidx_’d
,

1415 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1416 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1418 cÚ¡ 
size_ty³
 
	gc_Ën
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1420 
	g»suÉ_
.
»£rve
(
c_Ën
);

1422 
size_ty³
 
	gÿt
 = 
Çn_
 != 0 ? 0 : 1;

1424 
size_ty³
 
	gi
 = 0; i < 
	gc_Ën
; ++i) {

1425 cÚ¡ 
	gv®ue_ty³
 &
	gv®ue
 = *(
cŞumn_begš
 + 
i
);

1427 ià(
is_Çn__
(
v®ue
)) {

1428 
	g»suÉ_
.
push_back
(
Çn_
);

1432 cÚ¡ 
ty³Çme
 
	gm­_ty³
::
cÚ¡_™”©Ü
 
c™”
 =

1433 
ÿt_m­_
.
fšd
(&
v®ue
);

1435 ià(
	gc™”
 =ğ
ÿt_m­_
.
’d
()) {

1436 
ÿt_m­_
.
š£¹
({ &
v®ue
, 
ÿt
 });

1437 
	g»suÉ_
.
push_back
(
ÿt
);

1438 
	gÿt
 += 1;

1439 ià(
	gÿt
 =ğ
Çn_
è
ÿt
 += 1;

1442 
	g»suÉ_
.
push_back
(
c™”
->
£cÚd
);

1446 
ex¶ic™


1447 
C©egÜyVis™Ü
(
size_ty³
 
Çn_v®
 = size_ty³(-1)è: 
Çn_
(nan_val) { }

1449 
šlše
 
´e
 (è{ 
»suÉ_
.
ş—r
(); 
	gÿt_m­_
.clear(); }

1450 
šlše
 
po¡
 () { }

1451 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1453 
	g´iv©e
:

1455 
usšg
 
m­_ty³
 = 
¡d
::
m­
<cÚ¡ 
T
 *, 
	gsize_ty³
, 
	gt_Ëss_
>;

1457 
m­_ty³
 
	gÿt_m­_
 { };

1458 
»suÉ_ty³
 
	g»suÉ_
 { };

1459 cÚ¡ 
size_ty³
 
	gÇn_
;

1466 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1467 
	sRªkVis™Ü
 {

1469 
public
:

1471 
DEFINE_VISIT_BASIC_TYPES


1472 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<>;

1474 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1475 
šlše
 

1476 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1477 cÚ¡ 
	gK
 &
	gidx_’d
,

1478 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1479 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1481 cÚ¡ 
size_ty³
 
	gc_Ën
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1482 
	g¡d
::
veùÜ
<
size_ty³
> 
¿nk_vec
(
c_Ën
);

1484 
	g¡d
::
iÙa
(
¿nk_vec
.
begš
(),„ªk_vec.
’d
(), 0);

1485 
	g¡d
::
¡abË_sÜt
(

1486 
¿nk_vec
.
begš
(),„ªk_vec.
’d
(),

1487 [&
cŞumn_begš
](
size_ty³
 
lhs
, size_ty³ 
rhs
è-> 
boŞ
 {

1488  *(
cŞumn_begš
 + 
lhs
è< *(cŞumn_begš + 
rhs
);

1490 
	g»suÉ_
.
»size
(
c_Ën
);

1492 cÚ¡ 
v®ue_ty³
 *
	g´ev_v®ue
 = &*(
cŞumn_begš
 + 
¿nk_vec
[0]);

1494 
size_ty³
 
	gi
 = 0; i < 
	gc_Ën
; ++i) {

1495 
	gavg_v®
 = 
¡©ic_ÿ¡
<>(
i
);

1496 
	gfœ¡_v®
 = 
¡©ic_ÿ¡
<>(
i
);

1497 
	gÏ¡_v®
 = 
¡©ic_ÿ¡
<>(
i
);

1498 
size_ty³
 
	gj
 = 
i
 + 1;

1500  ; 
	gj
 < 
	gc_Ën
 && *
	g´ev_v®ue
 =ğ*(
cŞumn_begš
 + 
¿nk_vec
[
j
]);

1501 ++
	gj
) {

1502 
	gÏ¡_v®
 = 
¡©ic_ÿ¡
<>(
j
);

1503 
	gavg_v®
 +ğ
¡©ic_ÿ¡
<>(
j
);

1505 
	gavg_v®
 /ğ(
j
 - 
i
);

1507 
	gpŞicy_
) {

1508 
	g¿nk_pŞicy
::
av”age
:

1510 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1511 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
avg_v®
;

1514 
	g¿nk_pŞicy
::
fœ¡
:

1516 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1517 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
fœ¡_v®
;

1520 
	g¿nk_pŞicy
::
Ï¡
:

1522 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1523 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
Ï¡_v®
;

1526 
	g¿nk_pŞicy
::
aùu®
:

1528 ; 
	gi
 < 
	gc_Ën
 && i < 
	gj
; ++i)

1529 
	g»suÉ_
[
¿nk_vec
[
i
]] = 
¡©ic_ÿ¡
<>(i);

1533 ià(
	gi
 < 
	gc_Ën
)

1534 
	g´ev_v®ue
 = &*(
cŞumn_begš
 + 
¿nk_vec
[
i
]);

1535 
	gi
 -= 1;

1539 
ex¶ic™


1540 
RªkVis™Ü
(
¿nk_pŞicy
 
p
 =„ªk_pŞicy::
aùu®
è: 
pŞicy_
(p) { }

1542 
šlše
 
´e
 (è{ 
»suÉ_
.
ş—r
(); }

1543 
šlše
 
po¡
 () { }

1544 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1546 
	g´iv©e
:

1548 cÚ¡ 
¿nk_pŞicy
 
pŞicy_
;

1549 
»suÉ_ty³
 
	g»suÉ_
 { };

1557 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1558 
	sFaùÜizeVis™Ü
 {

1560 
DEFINE_VISIT_BASIC_TYPES


1561 
usšg
 
»suÉ_ty³
 = 
¡d
::
veùÜ
<
boŞ
>;

1562 
usšg
 
	gçùÜ_func
 = 
¡d
::
funùiÚ
<
boŞ
(cÚ¡ 
v®ue_ty³
 &
v®
)>;

1564 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1565 
šlše
 

1566 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1567 cÚ¡ 
	gK
 &
	gidx_’d
,

1568 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1569 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1571 
	g»suÉ_
.
»£rve
(
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
));

1573 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

1574 
	g»suÉ_
.
push_back
(
ffunc_
(*
c™”
));

1577 
ex¶ic™
 
FaùÜizeVis™Ü
(
çùÜ_func
 
f
è: 
ffunc_
(f) { }

1579 
šlše
 
´e
 (è{ 
»suÉ_
.
ş—r
(); }

1580 
šlše
 
po¡
 () { }

1581 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1583 
	g´iv©e
:

1585 
»suÉ_ty³
 
»suÉ_
 { };

1586 
çùÜ_func
 
	gffunc_
;

1591 
	g‹m¶©e
<
ty³Çme
 
	gT
,

1592 
ty³Çme
 
	gI
 = ,

1593 
	gty³Çme
 =

1594 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

1595 
	sAutoCÜrVis™Ü
 {

1597 
public
:

1599 
DEFINE_VISIT_BASIC_TYPES_3


1601 
AutoCÜrVis™Ü
 () = ;

1602 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1603 
šlše
 

1604 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1605 cÚ¡ 
	gK
 &
	gidx_’d
,

1606 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1607 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1609 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1610 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1611 cÚ¡ 
size_ty³
 
	gcŞ_Ën
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

1613 ià(
	gcŞ_Ën
 <= 4) ;

1615 
	g¡d
::
veùÜ
<
v®ue_ty³
> 
tmp_»suÉ
(
cŞ_Ën
 - 4);

1616 
size_ty³
 
	gÏg
 = 1;

1617 cÚ¡ 
size_ty³
 
	gth»ad_Ëv–
 =

1618 
Th»adG¿nuÏr™y
::
g‘_£nsibË_th»ad_Ëv–
();

1619 
	g¡d
::
veùÜ
<
¡d
::
futu»
<
CÜrResuÉ
>> 
futu»s
(
th»ad_Ëv–
);

1620 
size_ty³
 
	gth»ad_couÁ
 = 0;

1622 
	gtmp_»suÉ
[0] = 1.0;

1623 
	gÏg
 < 
	gcŞ_Ën
 - 4) {

1624 ià(
	gth»ad_couÁ
 >ğ
th»ad_Ëv–
) {

1625 cÚ¡‡utØ
»suÉ
 = 
g‘_auto_cÜr_
(
cŞ_Ën
, 
Ïg
, 
cŞumn_begš
);

1627 
	gtmp_»suÉ
[
»suÉ
.
fœ¡
] =„esuÉ.
£cÚd
;

1630 
	gfutu»s
[
th»ad_couÁ
] =

1631 
¡d
::
async
(¡d::
Ïunch
::async,

1632 &
AutoCÜrVis™Ü
::
g‘_auto_cÜr_
<
H
>,

1633 
this
,

1634 
cŞ_Ën
,

1635 
Ïg
,

1636 
¡d
::
üef
(
cŞumn_begš
));

1637 
	gth»ad_couÁ
 += 1;

1639 
	gÏg
 += 1;

1642 
size_ty³
 
	gi
 = 0; i < 
	gth»ad_couÁ
; ++i) {

1643 cÚ¡‡utØ&
	g»suÉ
 = 
futu»s
[
i
].
g‘
();

1645 
	gtmp_»suÉ
[
»suÉ
.
fœ¡
] =„esuÉ.
£cÚd
;

1647 
	gtmp_»suÉ
.
sw­
(
»suÉ_
);

1649 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

1650 
šlše
 
po¡
 () { }

1651 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1653 
	g´iv©e
:

1655 
»suÉ_ty³
 
»suÉ_
 { };

1657 
usšg
 
	gCÜrResuÉ
 = 
¡d
::
·œ
<
size_ty³
, 
	gv®ue_ty³
>;

1659 
	g‹m¶©e
<
ty³Çme
 
	gH
>

1660 
šlše
 
CÜrResuÉ


1661 
g‘_auto_cÜr_
(
size_ty³
 
cŞ_Ën
,

1662 
size_ty³
 
Ïg
,

1663 cÚ¡ 
H
 &
cŞumn_begš
) const {

1665 
	gCÜrVis™Ü
<
	gv®ue_ty³
, 
	gšdex_ty³
> 
	gcÜr
 { };

1666 
cÚ¡ex´
 
I
 
	gdummy
 = I();

1668 
	gcÜr
.
´e
();

1669 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_Ën
 - 
	gÏg
; ++i)

1670 
cÜr
 (
dummy
, *(
cŞumn_begš
 + 
i
), *(cŞumn_begš + i + 
Ïg
));

1671 
	gcÜr
.
po¡
();

1673  (
CÜrResuÉ
(
Ïg
, 
cÜr
.
g‘_»suÉ
()));

1679 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1680 
	sKthV®ueVis™Ü
 {

1682 
DEFINE_VISIT_BASIC_TYPES_2


1684 
ex¶ic™
 
KthV®ueVis™Ü
 (
size_ty³
 
ke
, 
boŞ
 
skÇn
 = 
Œue
)

1685 : 
kth_–em’t_
(
ke
), 
sk_Çn_
(
skÇn
) { }

1687 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1688 
šlše
 

1689 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1690 cÚ¡ 
	gK
 &
	gidx_’d
,

1691 cÚ¡ 
	gH
 &
	gv®ues_begš
,

1692 cÚ¡ 
	gH
 &
	gv®ues_’d
) {

1694 
	g»suÉ_
 = 
fšd_kth_–em’t_
(
v®ues_begš
, 
v®ues_’d
, 
kth_–em’t_
);

1696 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

1697 
šlše
 
po¡
 () { }

1698 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1700 
	g´iv©e
:

1702 
»suÉ_ty³
 
»suÉ_
 { };

1703 cÚ¡ 
size_ty³
 
	gkth_–em’t_
;

1704 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

1706 
	g‹m¶©e
<
ty³Çme
 
	gIt
>

1707 
šlše
 
v®ue_ty³


1708 
fšd_kth_–em’t_
 (
It
 
begš
, Iˆ
’d
, 
size_ty³
 
k
) const {

1710 cÚ¡ 
size_ty³
 
	gvec_size
 = 
¡d
::
di¡ªû
(
begš
, 
’d
);

1712 ià(
	gk
 > 
	gvec_size
 || k <= 0) {

1713 
”r
[512];

1715 
¥rštf
 (
”r
,

1716 #ifdeà
_WIN32


1721 
vec_size
, 
k
);

1722 
throw
 
NÙF—sibË
 (
”r
);

1725 
	g¡d
::
veùÜ
<
v®ue_ty³
> 
tmp_vec
 (
vec_size
 - 1);

1726 
v®ue_ty³
 
	gkth_v®ue
 =

1727 *(
begš
 + 
¡©ic_ÿ¡
<>(
vec_size
 / 2));

1728 
size_ty³
 
	gËss_couÁ
 = 0;

1729 
size_ty³
 
	gg»©_couÁ
 = 
vec_size
 - 2;

1731 autØ
	gc™”
 = 
begš
; c™” < 
	g’d
; ++citer) {

1732 ià(
	gsk_Çn_
 && 
is_Çn__
(*
c™”
)) ;

1734 ià(*
	gc™”
 < 
	gkth_v®ue
)

1735 
	gtmp_vec
 [
Ëss_couÁ
++] = *
c™”
;

1736 ià(*
	gc™”
 > 
	gkth_v®ue
)

1737 
	gtmp_vec
 [
g»©_couÁ
--] = *
c™”
;

1740 ià(
	gËss_couÁ
 > 
	gk
 - 1)

1741  (
fšd_kth_–em’t_
 (
tmp_vec
.
begš
 (),

1742 
tmp_vec
.
begš
 (è+ 
Ëss_couÁ
,

1743 
k
));

1744 ià(
	gËss_couÁ
 < 
	gk
 - 1)

1745  (
fšd_kth_–em’t_
 (
tmp_vec
.
begš
 (è+ 
Ëss_couÁ
,

1746 
tmp_vec
.
’d
 (),

1747 
k
 - 
Ëss_couÁ
 - 1));

1749  (
	gkth_v®ue
);

1755 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
cÚû±
 
	gAddabË
 = 
»quœes
(
T
 
x
) { x + x; };

1757 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1758 
	sMedŸnVis™Ü
 {

1760 
DEFINE_VISIT_BASIC_TYPES_2


1762 
MedŸnVis™Ü
 () = ;

1763 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1764 
šlše
 

1765 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1766 cÚ¡ 
	gK
 &
	gidx_’d
,

1767 cÚ¡ 
	gH
 &
	gv®ues_begš
,

1768 cÚ¡ 
	gH
 &
	gv®ues_’d
) {

1770 
	g¡d
::
veùÜ
<
ty³Çme
 
H
::
v®ue_ty³
> 
tmp
(
v®ues_begš
, 
v®ues_’d
);

1771 cÚ¡ 
size_ty³
 
	gvec_size
 = 
tmp
.
size
();

1772 
	g¡d
::
Áh_–em’t
(
tmp
.
begš
(),mp.begš(è+ 
vec_size
 / 2,mp.
’d
());

1773 
	g»suÉ_
 = 
tmp
[tmp.
size
() / 2];

1774 
cÚ¡ex´
 (
AddabË
<
T
>) {

1775 ià(
	gtmp
.
size
() % 2 == 0) {

1776 
¡d
::
Áh_–em’t
(
tmp
.
begš
(),mp.begš(è+mp.
size
() / 2 - 1,

1777 
tmp
.
’d
());

1778 
	g»suÉ_
 = (
»suÉ_
 + 
tmp
[tmp.
size
() / 2 - 1]) / 2;

1782 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

1783 
šlše
 
po¡
 () { }

1784 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1786 
	g´iv©e
:

1788 
»suÉ_ty³
 
»suÉ_
 { };

1793 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1794 
	sQuªteVis™Ü
 {

1796 
DEFINE_VISIT_BASIC_TYPES_2


1798 
QuªteVis™Ü
 () = ;

1799 
QuªteVis™Ü
 (
quªte
, 
quªte_pŞicy
 
q_pŞicy
)

1800 : 
qt_
(
quªte
), 
pŞicy_
(
q_pŞicy
) { }

1802 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1803 
šlše
 

1804 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1805 cÚ¡ 
	gK
 &
	gidx_’d
,

1806 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1807 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1809 cÚ¡ 
size_ty³
 
	gvec_Ën
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1811 ià(
	gqt_
 < 0.0 || qt_ > 1.0 || 
	gvec_Ën
 == 0) {

1812 
bufãr
 [512];

1814 
¥rštf
 (
bufãr
,

1816 #ifdeà
_WIN32


1821 
qt_
, 
vec_Ën
);

1822 
throw
 
NÙF—sibË
(
bufãr
);

1825 cÚ¡ 
	gvec_Ën_äac
 = 
qt_
 * 
vec_Ën
;

1826 cÚ¡ 
size_ty³
 
	gšt_idx
 =

1827 
¡©ic_ÿ¡
<
size_ty³
>(
¡d
::
round
(
vec_Ën_äac
));

1828 cÚ¡ 
boŞ
 
	gÃed_two
 =

1829 ! (
vec_Ën
 & 0x01è|| (
št_idx
è< 
vec_Ën_äac
;

1831 ià(
	gqt_
 =ğ0.0 || 
qt_
 == 1.0) {

1832 
KthV®ueVis™Ü
<
T
, 
I
> 
kth_v®ue
((
qt_
 =ğ0.0 ) ? 1 : 
vec_Ën
);

1834 
	gkth_v®ue
.
´e
();

1835 
kth_v®ue
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1836 
	gkth_v®ue
.
po¡
();

1837 
	g»suÉ_
 = 
kth_v®ue
.
g‘_»suÉ
();

1839 ià(
	gpŞicy_
 =ğ
quªte_pŞicy
::
mid_pošt
 ||

1840 
pŞicy_
 =ğ
quªte_pŞicy
::
lš—r
) {

1841 
KthV®ueVis™Ü
<
T
, 
I
> 
kth_v®ue1
(
št_idx
);

1843 
	gkth_v®ue1
.
´e
();

1844 
kth_v®ue1
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1845 
	gkth_v®ue1
.
po¡
();

1846 
	g»suÉ_
 = 
kth_v®ue1
.
g‘_»suÉ
();

1847 ià(
	gÃed_two
 && 
	gšt_idx
 + 1 < 
	gvec_Ën
) {

1848 
	gKthV®ueVis™Ü
<
	gT
, 
	gI
> 
kth_v®ue2
(
št_idx
 + 1);

1850 
	gkth_v®ue2
.
´e
();

1851 
kth_v®ue2
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1852 
	gkth_v®ue2
.
po¡
();

1853 ià(
	gpŞicy_
 =ğ
quªte_pŞicy
::
mid_pošt
)

1854 
»suÉ_
 = (»suÉ_ + 
kth_v®ue2
.
g‘_»suÉ
()) / 2.0;

1856 
	g»suÉ_
 = 
»suÉ_
 + (
kth_v®ue2
.
g‘_»suÉ
() -„esult_) *

1857 (1.0 - 
qt_
);

1860 ià(
	gpŞicy_
 =ğ
quªte_pŞicy
::
low”_v®ue
 ||

1861 
pŞicy_
 =ğ
quªte_pŞicy
::
high”_v®ue
) {

1862 
KthV®ueVis™Ü
<
T
, 
I
> 
kth_v®ue
(

1863 
pŞicy_
 =ğ
quªte_pŞicy
::
low”_v®ue
 ? 
št_idx


1864 : (
št_idx
 + 1 < 
vec_Ën
 && 
Ãed_two
 ? int_idx + 1 : int_idx));

1866 
	gkth_v®ue
.
´e
();

1867 
kth_v®ue
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

1868 
	gkth_v®ue
.
po¡
();

1869 
	g»suÉ_
 = 
kth_v®ue
.
g‘_»suÉ
();

1873 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

1874 
šlše
 
po¡
 () { }

1875 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

1877 
	g´iv©e
:

1879 
»suÉ_ty³
 
»suÉ_
 { };

1880 cÚ¡ 
	gqt_
 { 0.5 };

1881 cÚ¡ 
quªte_pŞicy
 
	gpŞicy_
 { 
	gquªte_pŞicy
::
mid_pošt
 };

1892 
	g‹m¶©e
<
	g¡d
::
size_t
 
N
, 
ty³Çme
 
	gT
,y³Çm
	gI
 = >

1893 
	sModeVis™Ü
 {

1895 
DEFINE_VISIT_BASIC_TYPES


1897 
	sD©aI‹m
 {

1899 cÚ¡ 
v®ue_ty³
 *
v®ue
 { 
nuÎ±r
 };

1901 
	gVeùÜCÚ¡PŒV›w
<
	gšdex_ty³
> 
	gšdiûs
 { };

1904 
šlše
 
size_ty³
 
»³©_couÁ
(ècÚ¡ {  (
	gšdiûs
.
size
()); }

1907 
	g¡d
::
veùÜ
<
size_ty³
> 
v®ue_šdiûs_š_cŞ
 { };

1909 
D©aI‹m
() = ;

1910 
šlše
 
D©aI‹m
(cÚ¡ 
v®ue_ty³
 &
v
è: 
v®ue
(&v) {

1911 
šdiûs
.
»£rve
(4);

1912 
	gv®ue_šdiûs_š_cŞ
.
»£rve
(4);

1915 cÚ¡ 
	gv®ue_ty³
 &
g‘_v®ue
(ècÚ¡ 
	gnÛxû±
 {  (*
	gv®ue
); }

1918 
	g´iv©e
:

1920 
	smy_hash_
 {

1921 
usšg
 
¬gum’t_ty³
 = cÚ¡ 
v®ue_ty³
 *;

1922 
usšg
 
	g»suÉ_ty³
 = 
¡d
::
size_t
;

1924 
šlše
 
»suÉ_ty³
 
İ”©Ü
(è(cÚ¡ 
	g¬gum’t_ty³
 &
	ga
ècÚ¡ 
	gnÛxû±
 {

1926  (
	g¡d
::
hash
<
v®ue_ty³
>()(*
a
));

1930 
	smy_equ®_to_
 {

1931 
usšg
 
	gfœ¡_¬gum’t_ty³
 = cÚ¡ 
v®ue_ty³
 *;

1932 
usšg
 
	g£cÚd_¬gum’t_ty³
 = cÚ¡ 
v®ue_ty³
 *;

1933 
usšg
 
	g»suÉ_ty³
 = 
boŞ
;

1935 
šlše
 
»suÉ_ty³


1936 
İ”©Ü
(è(cÚ¡ 
	gfœ¡_¬gum’t_ty³
 &
	gf
,

1937 cÚ¡ 
	g£cÚd_¬gum’t_ty³
 &
	gs
ècÚ¡ 
	gnÛxû±
 {

1939  (
	g¡d
::
equ®_to
<
v®ue_ty³
>()(*
f
, *
	gs
));

1943 
usšg
 
	gm­_ty³
 = 
¡d
::
unÜd”ed_m­
<cÚ¡ 
v®ue_ty³
 *,

1944 
	gD©aI‹m
,

1945 
	gmy_hash_
,

1946 
	gmy_equ®_to_
>;

1948 
	gpublic
:

1950 
usšg
 
»suÉ_ty³
 = 
¡d
::
¬¿y
<
D©aI‹m
, 
	gN
>;

1952 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

1953 
šlše
 

1954 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

1955 cÚ¡ 
	gK
 &
	gidx_’d
,

1956 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

1957 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

1959 
D©aI‹m
 
	gÇn_™em
;

1960 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

1961 cÚ¡ 
size_ty³
 
	gcŞumn_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

1962 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
mš
(
idx_size
, 
cŞumn_size
);

1963 
m­_ty³
 
	gv®_m­
;

1965 
	gv®_m­
.
»£rve
(
cŞ_size
);

1966 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_size
; ++i) {

1967 ià(
is_Çn__
(*(
cŞumn_begš
 + 
i
))) {

1968 
	gÇn_™em
.
	gv®ue
 = &*(
cŞumn_begš
 + 
i
);

1969 
	gÇn_™em
.
	gšdiûs
.
push_back
(&*(
idx_begš
 + 
i
));

1970 
	gÇn_™em
.
	gv®ue_šdiûs_š_cŞ
.
push_back
(
i
);

1973 autØ
	g»t
 =

1974 
v®_m­
.
em¶aû
(

1975 
¡d
::
·œ
<cÚ¡ 
v®ue_ty³
 *, 
D©aI‹m
>(

1976 &*(
cŞumn_begš
 + 
i
),

1977 
D©aI‹m
(*(
cŞumn_begš
 + 
i
))));

1979 
	g»t
.
	gfœ¡
->
	g£cÚd
.
	gšdiûs
.
push_back
(&*(
idx_begš
 + 
i
));

1980 
	g»t
.
	gfœ¡
->
	g£cÚd
.
	gv®ue_šdiûs_š_cŞ
.
push_back
(
i
);

1984 
	g¡d
::
veùÜ
<
D©aI‹m
> 
v®_vec
;

1986 
	gv®_vec
.
»£rve
(
v®_m­
.
size
() + 1);

1987 ià(
	gÇn_™em
.
	gv®ue
 !ğ
nuÎ±r
)

1988 
v®_vec
.
push_back
(
Çn_™em
);

1989 
	g¡d
::
fÜ_—ch
(
v®_m­
.
begš
(),

1990 
v®_m­
.
’d
(),

1991 [&
v®_vec
](cÚ¡‡utØ&
m­_·œ
) -> {

1992 
v®_vec
.
push_back
(
m­_·œ
.
£cÚd
);

1995 
	g¡d
::
sÜt
(
v®_vec
.
begš
(), v®_vec.
’d
(),

1996 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

1997  (
lhs
.
»³©_couÁ
(è> 
rhs
.repeat_count());

1999 
size_ty³
 
	gi
 = 0; i < 
	gN
 && i < 
	gv®_vec
.
size
(); ++i)

2000 
	g™ems_
[
i
] = 
v®_vec
[i];

2002 
šlše
 
´e
 (è{ 
»suÉ_ty³
 
	gx
; 
	g™ems_
.
sw­
 (
x
); }

2003 
šlše
 
po¡
 () { }

2004 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g™ems_
); }

2006 
šlše
 
sÜt_by_»³©_couÁ
() {

2008 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

2009 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

2010  (
lhs
.
»³©_couÁ
(è< 
rhs
.repeat_count());

2013 
šlše
 
sÜt_by_v®ue
() {

2015 
	g¡d
::
sÜt
(
™ems_
.
begš
(), i‹ms_.
’d
(),

2016 [](cÚ¡ 
D©aI‹m
 &
lhs
, cÚ¡ D©aI‹m &
rhs
è-> 
boŞ
 {

2017  (*(
lhs
.
v®ue
è< *(
rhs
.value));

2021 
	g´iv©e
:

2023 
»suÉ_ty³
 
™ems_
 { };

2031 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2032 
ty³Çme
 
	gI
 = ,

2033 
	gty³Çme
 =

2034 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2035 
	sMADVis™Ü
 {

2037 
´iv©e
:

2039 cÚ¡ 
mad_ty³
 
mad_ty³_
;

2040 cÚ¡ 
boŞ
 
	gsk_Çn_
;

2042 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2043 
šlše
 

2044 
ÿlc_m—n_abs_dev_¬ound_m—n_
(cÚ¡ 
K
 &
idx_begš
,

2045 cÚ¡ 
K
 &
idx_’d
,

2046 cÚ¡ 
H
 &
cŞumn_begš
,

2047 cÚ¡ 
H
 &
cŞumn_’d
) {

2049 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2050 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2051 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2052 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_vis™Ü
(
sk_Çn_
);

2054 
	gm—n_vis™Ü
.
´e
();

2055 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2056 
m—n_vis™Ü
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2057 
	gm—n_vis™Ü
.
po¡
();

2059 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_m—n_vis™Ü
(
sk_Çn_
);

2061 
	gm—n_m—n_vis™Ü
.
´e
();

2062 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i) {

2063 ià(
	gsk_Çn_
 && 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) ;

2064 
m—n_m—n_vis™Ü
(*(
idx_begš
 + 
i
),

2065 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
) -

2066 
m—n_vis™Ü
.
g‘_»suÉ
()));

2068 
	gm—n_m—n_vis™Ü
.
po¡
();

2070 
	g»suÉ_
 = 
m—n_m—n_vis™Ü
.
g‘_»suÉ
();

2073 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2074 
šlše
 

2075 
ÿlc_m—n_abs_dev_¬ound_medŸn_
(cÚ¡ 
K
 &
idx_begš
,

2076 cÚ¡ 
K
 &
idx_’d
,

2077 cÚ¡ 
H
 &
cŞumn_begš
,

2078 cÚ¡ 
H
 &
cŞumn_’d
) {

2080 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_vis™Ü
;

2082 
	gmedŸn_vis™Ü
.
´e
();

2083 
medŸn_vis™Ü
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

2084 
	gmedŸn_vis™Ü
.
po¡
();

2086 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2087 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2088 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2089 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_medŸn_vis™Ü
(
sk_Çn_
);

2091 
	gm—n_medŸn_vis™Ü
.
´e
();

2092 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i) {

2093 ià(
	gsk_Çn_
 && 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) ;

2094 
m—n_medŸn_vis™Ü
(

2095 *(
idx_begš
 + 
i
),

2096 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
è- 
medŸn_vis™Ü
.
g‘_»suÉ
()));

2098 
	gm—n_medŸn_vis™Ü
.
po¡
();

2100 
	g»suÉ_
 = 
m—n_medŸn_vis™Ü
.
g‘_»suÉ
();

2103 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2104 
šlše
 

2105 
ÿlc_medŸn_abs_dev_¬ound_m—n_
(cÚ¡ 
K
 &
idx_begš
,

2106 cÚ¡ 
K
 &
idx_’d
,

2107 cÚ¡ 
H
 &
cŞumn_begš
,

2108 cÚ¡ 
H
 &
cŞumn_’d
) {

2110 
	gM—nVis™Ü
<
	gT
, 
	gI
> 
m—n_vis™Ü
(
sk_Çn_
);

2111 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2112 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2113 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2115 
	gm—n_vis™Ü
.
´e
();

2116 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2117 
m—n_vis™Ü
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2118 
	gm—n_vis™Ü
.
po¡
();

2120 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_m—n_vis™Ü
;

2121 
	g¡d
::
veùÜ
<
T
> 
m—n_di¡s
;

2123 
	gm—n_di¡s
.
»£rve
(
cŞ_s
);

2124 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2125 
	gm—n_di¡s
.
push_back
(

2126 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
è- 
m—n_vis™Ü
.
g‘_»suÉ
()));

2127 
	gmedŸn_m—n_vis™Ü
.
´e
();

2128 
medŸn_m—n_vis™Ü
(
idx_begš
, 
idx_’d
,

2129 
m—n_di¡s
.
begš
(), m—n_di¡s.
’d
());

2130 
	gmedŸn_m—n_vis™Ü
.
po¡
();

2132 
	g»suÉ_
 = 
medŸn_m—n_vis™Ü
.
g‘_»suÉ
();

2135 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2136 
šlše
 

2137 
ÿlc_medŸn_abs_dev_¬ound_medŸn_
(cÚ¡ 
K
 &
idx_begš
,

2138 cÚ¡ 
K
 &
idx_’d
,

2139 cÚ¡ 
H
 &
cŞumn_begš
,

2140 cÚ¡ 
H
 &
cŞumn_’d
) {

2142 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_vis™Ü
;

2144 
	gmedŸn_vis™Ü
.
´e
();

2145 
medŸn_vis™Ü
(
idx_begš
, 
idx_’d
, 
cŞumn_begš
, 
cŞumn_’d
);

2146 
	gmedŸn_vis™Ü
.
po¡
();

2148 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2149 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2150 cÚ¡ 
	g¡d
::
size_t
 
cŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2151 
	gMedŸnVis™Ü
<
	gT
, 
	gI
> 
	gmedŸn_medŸn_vis™Ü
;

2152 
	g¡d
::
veùÜ
<
T
> 
medŸn_di¡s
;

2154 
	gmedŸn_di¡s
.
»£rve
(
cŞ_s
);

2155 
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gcŞ_s
; ++i)

2156 
	gmedŸn_di¡s
.
push_back
(

2157 
¡d
::
çbs
(*(
cŞumn_begš
 + 
i
è- 
medŸn_vis™Ü
.
g‘_»suÉ
()));

2158 
	gmedŸn_medŸn_vis™Ü
.
´e
();

2159 
medŸn_medŸn_vis™Ü
(
idx_begš
, 
idx_’d
,

2160 
medŸn_di¡s
.
begš
(), medŸn_di¡s.
’d
());

2161 
	gmedŸn_medŸn_vis™Ü
.
po¡
();

2163 
	g»suÉ_
 = 
medŸn_medŸn_vis™Ü
.
g‘_»suÉ
();

2166 
	gpublic
:

2168 
DEFINE_VISIT_BASIC_TYPES_2


2170 
MADVis™Ü
 (
mad_ty³
 
mt
, 
boŞ
 
sk_Çn
 = 
Œue
)

2171 : 
mad_ty³_
(
mt
), 
sk_Çn_
(
sk_Çn
) { }

2172 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2173 
šlše
 

2174 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2175 cÚ¡ 
	gK
 &
	gidx_’d
,

2176 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2177 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2179 
	gmad_ty³_
) {

2180 
	gmad_ty³
::
m—n_abs_dev_¬ound_m—n
:

2181 
ÿlc_m—n_abs_dev_¬ound_m—n_
(
idx_begš
, 
idx_’d
,

2182 
cŞumn_begš
, 
cŞumn_’d
);

2184 
	gmad_ty³
::
m—n_abs_dev_¬ound_medŸn
:

2185 
ÿlc_m—n_abs_dev_¬ound_medŸn_
(
idx_begš
, 
idx_’d
,

2186 
cŞumn_begš
, 
cŞumn_’d
);

2188 
	gmad_ty³
::
medŸn_abs_dev_¬ound_m—n
:

2189 
ÿlc_medŸn_abs_dev_¬ound_m—n_
(
idx_begš
, 
idx_’d
,

2190 
cŞumn_begš
, 
cŞumn_’d
);

2192 
	gmad_ty³
::
medŸn_abs_dev_¬ound_medŸn
:

2193 
ÿlc_medŸn_abs_dev_¬ound_medŸn_
(
idx_begš
, 
idx_’d
,

2194 
cŞumn_begš
, 
cŞumn_’d
);

2200 
šlše
 
´e
 (è{ 
	g»suÉ_
 = 
v®ue_ty³
(); }

2201 
šlše
 
po¡
 () { }

2202 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

2204 
	g´iv©e
:

2206 
»suÉ_ty³
 
»suÉ_
 { };

2211 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2212 
ty³Çme
 
	gI
 = ,

2213 
	gty³Çme
 =

2214 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2215 
	sDiffVis™Ü
 {

2217 
DEFINE_VISIT_BASIC_TYPES_3


2219 
ex¶ic™
 
DiffVis™Ü
(
³riods
 = 1, 
boŞ
 
skÇn
 = 
Œue
)

2220 : 
³riods_
(
³riods
), 
sk_Çn_
(
skÇn
) { }

2222 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gH
>

2223 
šlše
 

2224 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2225 cÚ¡ 
	gK
 &
	gidx_’d
,

2226 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2227 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2229 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2230 cÚ¡ 
size_ty³
 
	gcŞ_size
 = 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2231 cÚ¡ 
size_ty³
 
	gcŞ_Ën
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2233 
	g»suÉ_
.
»£rve
(
cŞ_Ën
);

2234 ià(
	g³riods_
 >= 0) {

2235 ià(! 
sk_Çn_
) {

2236 
i
 = 0;

2237 
	gi
 < 
	g³riods_
 && 
	g¡©ic_ÿ¡
<
	gsize_ty³
>(iè< 
	gcŞ_Ën
; ++i)

2238 
	g»suÉ_
.
push_back
(

2239 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
());

2242 autØ
	gi
 = 
cŞumn_begš
;

2244 
	gi
 +ğ
³riods_
;

2245 autØ
	gj
 = 
cŞumn_begš
; 
	gi
 < 
	gcŞumn_’d
; ++i, ++j) {

2246 ià(
	gsk_Çn_
 && (
is_Çn__
(*
i
è|| is_Çn__(*
j
))) ;

2247 
	g»suÉ_
.
push_back
(*
i
 - *
j
);

2251 autØ
	gi
 = 
cŞumn_’d
;

2252 autØ
	gj
 = 
cŞumn_’d
;

2254 
	gi
 -ğ(1 + 
¡d
::
abs
(
³riods_
));

2255 
	gj
 -= 1;

2256  ; 
	gi
 >ğ
cŞumn_begš
; --i, --
	gj
) {

2257 ià(
	gsk_Çn_
 && (
is_Çn__
(*
i
è|| is_Çn__(*
j
))) ;

2258 
	g»suÉ_
.
push_back
(*
i
 - *
j
);

2260 
	g¡d
::
»v”£
(
»suÉ_
.
begš
(),„esuÉ_.
’d
());

2262 ià(
	gsk_Çn_
 ) ;

2263 
size_ty³
 
	gi
 = 0;

2264 
	gi
 < 
	g¡©ic_ÿ¡
<
	gsize_ty³
>(
	g¡d
::
abs
(
³riods_
)è&& 
i
 < 
cŞ_Ën
;

2265 ++
	gi
)

2266 
	g»suÉ_
.
push_back
(

2267 
¡d
::
num”ic_lim™s
<
v®ue_ty³
>::
qu›t_NaN
());

2271 
šlše
 
´e
 (è{ 
	g»suÉ_
.
ş—r
(); }

2272 
šlše
 
po¡
 () { }

2273 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	g»suÉ_
); }

2275 
	g´iv©e
:

2277 
»suÉ_ty³
 
»suÉ_
 { };

2278 cÚ¡ 
	g³riods_
 { };

2279 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

2284 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2285 
ty³Çme
 
	gI
 = ,

2286 
	gty³Çme
 =

2287 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2288 
	sZScÜeVis™Ü
 {

2290 
DEFINE_VISIT_BASIC_TYPES_3


2292 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

2293 
šlše
 

2294 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2295 cÚ¡ 
	gK
 &
	gidx_’d
,

2296 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2297 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2299 
	gM—nVis™Ü
<
	gv®ue_ty³
> 
	gmvis™
;

2300 
	gStdVis™Ü
<
	gv®ue_ty³
> 
	gsvis™
;

2301 cÚ¡ 
size_ty³
 
	gidx_size
 = 
¡d
::
di¡ªû
(
idx_begš
, 
idx_’d
);

2302 cÚ¡ 
size_ty³
 
	gcŞ_size
 =

2303 
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
);

2304 cÚ¡ 
size_ty³
 
	gcŞ_s
 = 
¡d
::
mš
(
idx_size
, 
cŞ_size
);

2306 
	gmvis™
.
´e
();

2307 
	gsvis™
.
´e
();

2308 
size_ty³
 
	gi
 = 0; i < 
	gcŞ_s
; ++i) {

2309 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(*(
cŞumn_begš
 + 
i
))) {

2310 
mvis™
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2311 
svis™
(*(
idx_begš
 + 
i
), *(
cŞumn_begš
 + i));

2314 
	gmvis™
.
po¡
();

2315 
	gsvis™
.
po¡
();

2317 cÚ¡ 
v®ue_ty³
 
	gm
 = 
mvis™
.
g‘_»suÉ
();

2318 cÚ¡ 
v®ue_ty³
 
	gs
 = 
svis™
.
g‘_»suÉ
();

2320 
	gzscÜe_
.
»£rve
(
cŞ_s
);

2321 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2322 
	gzscÜe_
.
push_back
((*
c™”
 - 
m
è/ 
s
);

2324 
šlše
 
´e
 (è{ 
	gzscÜe_
.
ş—r
(); }

2325 
šlše
 
po¡
 () { }

2326 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gzscÜe_
); }

2327 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	gzscÜe_
); }

2329 
ex¶ic™
 
ZScÜeVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

2331 
´iv©e
:

2333 
»suÉ_ty³
 
zscÜe_
 { };

2334 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

2339 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2340 
ty³Çme
 
	gI
 = ,

2341 
	gty³Çme
 =

2342 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2343 
	sSam¶eZScÜeVis™Ü
 {

2345 
DEFINE_VISIT_BASIC_TYPES_2


2347 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

2348 
šlše
 

2349 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2350 cÚ¡ 
	gK
 &
	gidx_’d
,

2351 cÚ¡ 
	gH
 &
	gpİuÏtiÚ_begš
,

2352 cÚ¡ 
	gH
 &
	gpİuÏtiÚ_’d
,

2353 cÚ¡ 
	gH
 &
	g§m¶e_begš
,

2354 cÚ¡ 
	gH
 &
	g§m¶e_’d
) {

2356 
	gM—nVis™Ü
<
	gv®ue_ty³
> 
	gp_mvis™
;

2357 
	gStdVis™Ü
<
	gv®ue_ty³
> 
	gp_svis™
;

2358 
	gM—nVis™Ü
<
	gv®ue_ty³
> 
	gs_mvis™
;

2359 cÚ¡ 
size_ty³
 
	gp_cŞ_s
 =

2360 
¡d
::
di¡ªû
(
pİuÏtiÚ_begš
, 
pİuÏtiÚ_’d
);

2361 cÚ¡ 
size_ty³
 
	gs_cŞ_s
 =

2362 
¡d
::
di¡ªû
(
§m¶e_begš
, 
§m¶e_’d
);

2363 cÚ¡ 
size_ty³
 
	gmax_s
 = 
¡d
::
max
(
p_cŞ_s
, 
s_cŞ_s
);

2365 
	gp_mvis™
.
´e
();

2366 
	gp_svis™
.
´e
();

2367 
	gs_mvis™
.
´e
();

2368 
size_ty³
 
	gi
 = 0; i < 
	gmax_s
; ++i) {

2369 ià(
	gi
 < 
	gp_cŞ_s
) {

2370 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(*(
pİuÏtiÚ_begš
 + 
i
))) {

2371 
p_mvis™
(*(
idx_begš
 + 
i
), *(
pİuÏtiÚ_begš
 + i));

2372 
p_svis™
(*(
idx_begš
 + 
i
), *(
pİuÏtiÚ_begš
 + i));

2375 ià(
	gi
 < 
	gs_cŞ_s
) {

2376 ià(! 
	gsk_Çn_
 || ! 
is_Çn__
(*(
§m¶e_begš
 + 
i
))) {

2377 
s_mvis™
(*(
idx_begš
 + 
i
), *(
§m¶e_begš
 + i));

2381 
	gp_mvis™
.
po¡
();

2382 
	gp_svis™
.
po¡
();

2383 
	gs_mvis™
.
po¡
();

2385 
	gzscÜe_
 = (
s_mvis™
.
g‘_»suÉ
(è- 
p_mvis™
.get_result()) /

2386 (
p_svis™
.
g‘_»suÉ
(è/ ::
sq¹
(
s_cŞ_s
));

2388 
šlše
 
´e
 (è{ 
	gzscÜe_
 = 0; }

2389 
šlše
 
po¡
 () { }

2390 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gzscÜe_
); }

2392 
ex¶ic™


2393 
Sam¶eZScÜeVis™Ü
(
boŞ
 
skÇn
 = 
Œue
è: 
sk_Çn_
(skipnan) { }

2395 
´iv©e
:

2397 
v®ue_ty³
 
zscÜe_
 { };

2398 cÚ¡ 
boŞ
 
	gsk_Çn_
 { };

2403 
	g‹m¶©e
<
ty³Çme
 
	gT
,

2404 
ty³Çme
 
	gI
 = ,

2405 
	gty³Çme
 =

2406 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gT
>::
ty³
>

2407 
	sSigmoidVis™Ü
 {

2409 
DEFINE_VISIT_BASIC_TYPES_3


2411 
´iv©e
:

2413 
‹m¶©e
 <
ty³Çme
 
H
>

2414 
šlše
 
logi¡ic_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2416 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2417 
	gsigmoids_
.
push_back
(1.0 / (1.0 + 
¡d
::
exp
(-(*
c™”
))));

2419 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2420 
šlše
 
®geb¿ic_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2422 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2423 
	gsigmoids_
.
push_back
(1.0 / 
¡d
::
sq¹
(1.0 + std::
pow
(*
c™”
, 2.0)));

2425 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2426 
šlše
 
hy³rbŞic_n_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2428 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2429 
	gsigmoids_
.
push_back
(
¡d
::
nh
(*
c™”
));

2431 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2432 
šlše
 
¬c_n_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2434 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2435 
	gsigmoids_
.
push_back
(
¡d
::
©ª
(*
c™”
));

2437 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2438 
šlše
 
”rÜ_funùiÚ_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2440 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2441 
	gsigmoids_
.
push_back
(
¡d
::
”f
(*
c™”
));

2443 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2444 
šlše
 
gud”mªnŸn_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2446 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer)

2447 
	gsigmoids_
.
push_back
(
¡d
::
©ª
(¡d::
sšh
(*
c™”
)));

2449 
	g‹m¶©e
 <
ty³Çme
 
	gH
>

2450 
šlše
 
smoÙh¡•_
(cÚ¡ 
H
 &
cŞumn_begš
, cÚ¡ H &
cŞumn_’d
) {

2452 autØ
	gc™”
 = 
cŞumn_begš
; c™” < 
	gcŞumn_’d
; ++citer) {

2453 ià(*
	gc™”
 <= 0.0)

2454 
sigmoids_
.
push_back
(0.0);

2455 ià(*
	gc™”
 >= 1.0)

2456 
sigmoids_
.
push_back
(1.0);

2458 
	gsigmoids_
.
push_back
(*
c™”
 * *citer * (3.0 - 2.0 * *citer));

2462 
	gpublic
:

2464 
‹m¶©e
 <
ty³Çme
 
K
,y³Çm
	gH
>

2465 
šlše
 

2466 
İ”©Ü
(è(cÚ¡ 
	gK
 &
	gidx_begš
,

2467 cÚ¡ 
	gK
 &
	gidx_’d
,

2468 cÚ¡ 
	gH
 &
	gcŞumn_begš
,

2469 cÚ¡ 
	gH
 &
	gcŞumn_’d
) {

2471 
	gsigmoids_
.
»£rve
(
¡d
::
di¡ªû
(
cŞumn_begš
, 
cŞumn_’d
));

2472 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
logi¡ic
)

2473 
logi¡ic_
(
cŞumn_begš
, 
cŞumn_’d
);

2474 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
®geb¿ic
)

2475 
®geb¿ic_
(
cŞumn_begš
, 
cŞumn_’d
);

2476 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
hy³rbŞic_n
)

2477 
hy³rbŞic_n_
(
cŞumn_begš
, 
cŞumn_’d
);

2478 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
¬c_n
)

2479 
¬c_n_
(
cŞumn_begš
, 
cŞumn_’d
);

2480 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
”rÜ_funùiÚ
)

2481 
”rÜ_funùiÚ_
(
cŞumn_begš
, 
cŞumn_’d
);

2482 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
gud”mªnŸn
)

2483 
gud”mªnŸn_
(
cŞumn_begš
, 
cŞumn_’d
);

2484 ià(
	gsigmoid_ty³_
 =ğ
sigmoid_ty³
::
smoÙh¡•
)

2485 
smoÙh¡•_
(
cŞumn_begš
, 
cŞumn_’d
);

2487 
šlše
 
´e
 (è{ 
	gsigmoids_
.
ş—r
(); }

2488 
šlše
 
po¡
 () { }

2489 
šlše
 cÚ¡ 
	g»suÉ_ty³
 &
g‘_»suÉ
 (ècÚ¡ {  (
	gsigmoids_
); }

2490 
šlše
 
	g»suÉ_ty³
 &
g‘_»suÉ
 (è{  (
	gsigmoids_
); }

2492 
ex¶ic™
 
SigmoidVis™Ü
(
sigmoid_ty³
 
¡
è: 
sigmoid_ty³_
(st) { }

2494 
´iv©e
:

2496 
»suÉ_ty³
 
sigmoids_
 { };

2497 cÚ¡ 
sigmoid_ty³
 
	gsigmoid_ty³_
;

	@DataFrame/original/include/DataFrame/DataFrameTransformVisitors.h

30 #´agm¨
Úû


34 
Çme¥aû
 
	ghmdf


37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
 = >

38 
	sClVis™Ü
 {

40 
usšg
 
v®ue_ty³
 = 
T
;

41 
usšg
 
	gšdex_ty³
 = 
I
;

42 
usšg
 
	gsize_ty³
 = 
¡d
::
size_t
;

43 
usšg
 
	g»suÉ_ty³
 = 
size_ty³
;

45 
šlše
 
İ”©Ü
(è(cÚ¡ 
	gšdex_ty³
 &, 
	gv®ue_ty³
 &
	gv®
) {

47 ià(
	gv®
 > 
	guµ”_
) {

48 
	gv®
 = 
uµ”_
;

49 
	gcouÁ_
 += 1;

51 ià(
	gv®
 < 
	glow”_
) {

52 
	gv®
 = 
low”_
;

53 
	gcouÁ_
 += 1;

56 
šlše
 
´e
 () { }

57 
šlše
 
po¡
 () { }

58 
šlše
 
»suÉ_ty³
 
g‘_»suÉ
 (ècÚ¡ {  (
	gcouÁ_
); }

60 
ClVis™Ü
(cÚ¡ 
v®ue_ty³
 &
u
, cÚ¡ v®ue_ty³ &
l
)

61 : 
uµ”_
(
u
), 
low”_
(
l
) { }

63 
	g´iv©e
:

65 
»suÉ_ty³
 
couÁ_
 { 0 };

66 cÚ¡ 
	gv®ue_ty³
 &
	guµ”_
;

67 cÚ¡ 
	gv®ue_ty³
 &
	glow”_
;

	@DataFrame/original/include/DataFrame/DataFrameTypes.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.h
>

34 
	~<cm©h
>

35 
	~<lim™s
>

36 
	~<¡dexû±
>

40 
Çme¥aû
 
	ghmdf


43 #ià
defšed
(
WIN32
è|| defšed(
_WIN32
)

44 #ifdeà
mš


45 #undeà
mš


47 #ifdeà
max


48 #undeà
max


54 
	gD©aF¿meE¼Ü
 : 
public
 
¡d
::
ruÁime_”rÜ
 {

56 
D©aF¿meE¼Ü
 (cÚ¡ *
desc
è: 
¡d
::
ruÁime_”rÜ
 (desc) { }

58 
	gCŞNÙFound
 : 
public
 
D©aF¿meE¼Ü
 {

60 
CŞNÙFound
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

62 
	gIncÚsi¡’tD©a
 : 
public
 
D©aF¿meE¼Ü
 {

64 
IncÚsi¡’tD©a
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

66 
	gBadRªge
 : 
public
 
D©aF¿meE¼Ü
 {

68 
BadRªge
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

70 
	gNÙF—sibË
 : 
public
 
D©aF¿meE¼Ü
 {

72 
NÙF—sibË
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

74 
	gNÙIm¶em’‹d
 : 
public
 
D©aF¿meE¼Ü
 {

76 
NÙIm¶em’‹d
 (cÚ¡ *
desc
è: 
D©aF¿meE¼Ü
 (desc) { }

81 
šlše
 
cÚ¡ex´
 cÚ¡ *cÚ¡ 
	gDF_INDEX_COL_NAME
 = "INDEX";

85 şas 
	cÇn_pŞicy
 : 
boŞ
 {

86 
·d_w™h_Çns
 = 
Œue
,

87 
	gdÚt_·d_w™h_Çns
 = 
çl£


92 şas 
	csÜt_¡©e
 : 
boŞ
 {

93 
sÜ‹d
 = 
Œue
,

94 
	gnÙ_sÜ‹d
 = 
çl£


99 şas 
	csÜt_¥ec
 : {

100 
asûn
 = 1,

101 
	gdesû
 = 2,

106 şas 
	cjoš_pŞicy
 : {

107 
šÃr_još
 = 1,

108 
	gËá_još
 = 2,

109 
	gright_još
 = 3,

110 
	gËá_right_još
 = 4

115 şas 
	ccÚÿt_pŞicy
 : {

116 
commÚ_cŞumns
 = 1,

117 
	g®l_cŞumns
 = 2,

118 
	glhs_ªd_commÚ_cŞumns
 = 3,

125 şas 
	cshiá_pŞicy
 : {

126 
down
 = 1,

128 
	gup
 = 2,

134 şas 
	cfl_pŞicy
 : {

135 
v®ue
 = 1,

136 
	gfl_fÜw¬d
 = 2,

137 
	gfl_backw¬d
 = 3,

142 
	glš—r_š‹½Ş©e
 = 4,

143 
	glš—r_exŒ­Ş©e
 = 5,

144 
	gmid_pošt
 = 6,

149 şas 
	cquªte_pŞicy
 : {

150 
low”_v®ue
 = 1,

151 
	ghigh”_v®ue
 = 2,

152 
	gmid_pošt
 = 3,

153 
	glš—r
 = 4,

158 şas 
	cdrİ_pŞicy
 : {

159 
®l
 = 1,

160 
	gªy
 = 2,

161 
	gth»shŞd
 = 3

166 şas 
	cexpÚ’tŸl_deÿy_¥ec
 : {

167 
ûÁ”_of_g¿v™y
 = 1,

168 
	g¥ª
 = 2,

169 
	gh®æiã
 = 3,

170 
	gfixed
 = 4,

178 şas 
	cmad_ty³
 : {

179 
m—n_abs_dev_¬ound_m—n
 = 1,

180 
	gm—n_abs_dev_¬ound_medŸn
 = 2,

181 
	gmedŸn_abs_dev_¬ound_m—n
 = 3,

182 
	gmedŸn_abs_dev_¬ound_medŸn
 = 4,

187 şas 
	cio_fÜm©
 : {

188 
csv
 = 1,

189 
	gjsÚ
 = 2,

190 
	ghdf5
 = 3,

191 
	gbš¬y
 = 4,

196 şas 
	ctime_äequ’cy
 : {

197 
ªnu®
 = 1,

198 
	gmÚthly
 = 2,

199 
	gw“kly
 = 3,

200 
	gday
 = 4,

201 
	ghou¾y
 = 5,

202 
	gmšu‹ly
 = 6,

203 
	g£cÚdly
 = 7,

204 
	gmli£cÚdly
 = 8,

211 şas 
	c»tuº_pŞicy
 : {

212 
log
 = 1,

213 
	g³rûÁage
 = 2,

214 
	gmÚ‘¬y
 = 3,

225 şas 
	c¿ndom_pŞicy
 : {

226 
num_rows_w™h_£ed
 = 1,

227 
	gnum_rows_no_£ed
 = 2,

228 
	gäac_rows_w™h_£ed
 = 3,

229 
	gäac_rows_no_£ed
 = 4,

234 şas 
	c·‰”n_¥ec
 : {

235 
mÚÙÚic_šü—sšg
 = 1,

236 
	g¡riùly_mÚÙÚic_šü—sšg
 = 2,

237 
	gmÚÙÚic_deü—sšg
 = 3,

238 
	g¡riùly_mÚÙÚic_deü—sšg
 = 4,

239 
	gnÜm®ly_di¡ribu‹d
 = 6,

240 
	g¡ªd¬d_nÜm®ly_di¡ribu‹d
 = 7,

241 
	glognÜm®ly_di¡ribu‹d
 = 8,

249 şas 
	c¿nk_pŞicy
 : {

250 
av”age
 = 1,

251 
	gfœ¡
 = 2,

252 
	gÏ¡
 = 3,

253 
	gaùu®
 = 4,

260 şas 
	csigmoid_ty³
 : {

261 
logi¡ic
 = 1,

262 
	g®geb¿ic
 = 2,

264 
	ghy³rbŞic_n
 = 3,

265 
	g¬c_n
 = 4,

266 
	g”rÜ_funùiÚ
 = 5,

267 
	ggud”mªnŸn
 = 6,

269 
	gsmoÙh¡•
 = 7,

274 
	g‹m¶©e
<
ty³Çme
 
	gT
>

275 
	sRªdG’P¬ams
 {

276 
T
 
	gmš_v®ue
 { 
	g¡d
::
num”ic_lim™s
<T>::
mš
() };

277 
T
 
	gmax_v®ue
 { 
	g¡d
::
num”ic_lim™s
<T>::
max
() };

279 
	g£ed
 { 
	g¡©ic_ÿ¡
<>(-1) };

282 
	g´ob_Œue
 { 0.5 };

284 
	g¡d
::
size_t
 
t_di¡
 { 1 };

286 
	gm—n
 { 1.0 };

288 
	g¡d
 { 0 };

290 
	gÏmbda
 { 1.0 };

292 
	g®pha
 { 1.0 };

294 
	gb‘a
 { 1.0 };

296 
	gm
 { 0 };

298 
	gs
 { 1.0 };

300 
	gn
 { 1.0 };

302 
	gn2
 { 1.0 };

309 
	g‹m¶©e
<
ty³Çme
 
	gT
>

310 
	sIndex2D
 {

311 
T
 
	gbegš
 {};

312 
T
 
	g’d
 {};

317 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

318 
	gty³_deş¬e
;

320 
	g‹m¶©e
<
ty³Çme
 
	gU
>

321 
	gty³_deş¬e
<
	gH‘”oVeùÜ
, 
	gU
> { 
usšg
 
	gty³
 = 
¡d
::
veùÜ
<
U
>; };

323 
	g‹m¶©e
<
ty³Çme
 
	gU
>

324 
	gty³_deş¬e
<
	gH‘”oV›w
, 
	gU
> { 
usšg
 
	gty³
 = 
VeùÜV›w
<
U
>; };

326 
	g‹m¶©e
<
ty³Çme
 
	gU
>

327 
	gty³_deş¬e
<
	gH‘”oPŒV›w
, 
	gU
> { 
usšg
 
	gty³
 = 
VeùÜPŒV›w
<
U
>; };

332 
	g‹m¶©e
<
ty³Çme
 
	gI
,y³Çm
	gH
>

333 
şass
 
	gD©aF¿me
;

335 
	g‹m¶©e
<
ty³Çme
 
	gI
>

336 
usšg
 
	gStdD©aF¿me
 = 
D©aF¿me
<
I
, 
	gH‘”oVeùÜ
>;

338 
	g‹m¶©e
<
ty³Çme
 
	gI
>

339 
usšg
 
	gD©aF¿meV›w
 = 
D©aF¿me
<
I
, 
	gH‘”oV›w
>;

341 
	g‹m¶©e
<
ty³Çme
 
	gI
>

342 
usšg
 
	gD©aF¿mePŒV›w
 = 
D©aF¿me
<
I
, 
	gH‘”oPŒV›w
>;

348 
	g‹m¶©e
<
ty³Çme
 
	gT
>

349 
šlše
 
boŞ
 
	$is_Çn__
(cÚ¡ 
T
 &è{ (
çl£
); 
	}
}

351 
	g‹m¶©e
<>

352 
šlše
 
boŞ
 
	gis_Çn__
<>(cÚ¡ &
	gv®
è{ (
	g¡d
::
i¢ª
(
v®
)); }

354 
	g‹m¶©e
<>

355 
šlše
 
boŞ
 
	gis_Çn__
<>(cÚ¡ &
	gv®
è{ (
	g¡d
::
i¢ª
(
v®
)); }

357 
	g‹m¶©e
<>

358 
šlše
 
boŞ


359 
	gis_Çn__
<>(cÚ¡ &
	gv®
è{ (
	g¡d
::
i¢ª
(
v®
)); }

369 
	sMemU§ge
 {

371 
size_t
 
	mcŞumn_u£d_memÜy
 { 0 };

372 
size_t
 
	mcŞumn_ÿ·c™y_memÜy
 { 0 };

373 
size_t
 
	mcŞumn_ty³_size
 { 0 };

374 
size_t
 
	mšdex_u£d_memÜy
 { 0 };

375 
size_t
 
	mšdex_ÿ·c™y_memÜy
 { 0 };

376 
size_t
 
	mšdex_ty³_size
 { 0 };

378 
	m‹m¶©e
<
ty³Çme
 
	mS
>

379 
ä›nd
 
	mS
 &
	mİ”©Ü
 << (S &
	m¡»am
, cÚ¡ 
	mMemU§ge
 &
	mmu
) {

381 
	m¡»am
 << "CŞumÀU£d MemÜy: " << 
	mmu
.
	mcŞumn_u£d_memÜy
 << '\n'

383 << 
	mmu
.
	mcŞumn_ÿ·c™y_memÜy
 << '\n'

384 << "CŞumÀTy³ Size: " << 
	mmu
.
	mcŞumn_ty³_size
 << '\n'

385 << "Index U£d MemÜy: " << 
	mmu
.
	mšdex_u£d_memÜy
 << '\n'

386 << "Index C­ac™y MemÜy: " << 
	mmu
.
	mšdex_ÿ·c™y_memÜy
 << '\n'

387 << "Index Ty³ Size: " << 
	mmu
.
	mšdex_ty³_size
 << '\n';

388  (
	m¡»am
);

	@DataFrame/original/include/DataFrame/GroupbyAggregators.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

36 
Çme¥aû
 
	ghmdf


39 
	sGroupbySum
 {

41 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

42 
šlše
 
	gSumVis™Ü
<
	gT
, 
	gI
>

43 
g‘_agg»g©Ü
(è{  (
	gSumVis™Ü
<
	gT
, 
	gI
>()); }

48 
	sGroupbyM—n
 {

50 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

51 
šlše
 
	gM—nVis™Ü
<
	gT
, 
	gI
>

52 
g‘_agg»g©Ü
(è{  (
	gM—nVis™Ü
<
	gT
, 
	gI
>()); }

57 
	sGroupbyMax
 {

59 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

60 
šlše
 
	gMaxVis™Ü
<
	gT
, 
	gI
>

61 
g‘_agg»g©Ü
(è{  (
	gMaxVis™Ü
<
	gT
, 
	gI
>()); }

66 
	sGroupbyMš
 {

68 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

69 
šlše
 
	gMšVis™Ü
<
	gT
, 
	gI
>

70 
g‘_agg»g©Ü
(è{  (
	gMšVis™Ü
<
	gT
, 
	gI
>()); }

75 
	sGroupbyV¬
 {

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

78 
šlše
 
	gV¬Vis™Ü
<
	gT
, 
	gI
>

79 
g‘_agg»g©Ü
(è{  (
	gV¬Vis™Ü
<
	gT
, 
	gI
>()); }

84 
	sGroupbyStd
 {

86 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

87 
šlše
 
	gStdVis™Ü
<
	gT
, 
	gI
>

88 
g‘_agg»g©Ü
(è{  (
	gStdVis™Ü
<
	gT
, 
	gI
>()); }

93 
	sGroupbySEM
 {

95 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

96 
šlše
 
	gSEMVis™Ü
<
	gT
, 
	gI
>

97 
g‘_agg»g©Ü
(è{  (
	gSEMVis™Ü
<
	gT
, 
	gI
>()); }

102 
	sGroupbyMedŸn
 {

104 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gI
>

105 
šlše
 
	gMedŸnVis™Ü
<
	gT
, 
	gI
>

106 
g‘_agg»g©Ü
(è{  (
	gMedŸnVis™Ü
<
	gT
, 
	gI
>()); }

	@DataFrame/original/include/DataFrame/Internals/DataFrame_functors.h

30 #´agm¨
Úû


40 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

41 
	gcÚsi¡’t_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

43 
šlše
 
cÚsi¡’t_funùÜ_
 (
size_ty³
 
s
è: 
size
(s) { }

45 cÚ¡ 
D©aF¿me
::
size_ty³
 
size
;

46 
	g‹m¶©e
<
ty³Çme
 
	gT
>

47 
İ”©Ü
(è(
	gT
 &
	gvec
) const;

52 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

53 
	gshršk_to_f™_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

55 
šlše
 
shršk_to_f™_funùÜ_
 () { }

57 
‹m¶©e
<
ty³Çme
 
T
>

58 
İ”©Ü
(è(
T
 &
vec
) const;

63 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

64 
	gsÜt_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

66 
šlše
 
sÜt_funùÜ_
 (cÚ¡ 
¡d
::
veùÜ
<
size_t
> &
si
, size_ˆ
is
)

67 : 
sÜ‹d_idxs
(
si
), 
idx_s
(
is
) { }

69 cÚ¡ 
	g¡d
::
veùÜ
<
size_t
> &
sÜ‹d_idxs
;

70 
	g¡d
::
veùÜ
<
size_t
> 
sÜ‹d_idxs_cİy
;

71 cÚ¡ 
size_t
 
	gidx_s
;

73 
	g‹m¶©e
<
ty³Çme
 
	gT2
>

74 
İ”©Ü
(è(
	gT2
 &
	gvec
);

79 
	g‹m¶©e
<
ty³Çme
 
	gLHS
, 
	gty³Çme
 ... 
	gTs
>

80 
	glßd_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

82 
šlše
 
lßd_funùÜ_
 (cÚ¡ *
n
,

83 
¡d
::
size_t
 
b
,

84 
¡d
::
size_t
 
e
,

85 
LHS
 &
d
,

86 
Çn_pŞicy
 
Å
 =‚ª_pŞicy::
·d_w™h_Çns
)

87 : 
Çme
 (
n
), 
begš
 (
b
), 
’d
 (
e
), 
df
(
d
), 
Çn_p
(
Å
) { }

89 cÚ¡ *
	gÇme
;

90 cÚ¡ 
	g¡d
::
size_t
 
begš
;

91 cÚ¡ 
	g¡d
::
size_t
 
’d
;

92 
	gLHS
 &
	gdf
;

93 cÚ¡ 
Çn_pŞicy
 
	gÇn_p
;

95 
	g‹m¶©e
<
ty³Çme
 
	gT
>

96 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

101 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

102 
	glßd_®l_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

104 
šlše
 
lßd_®l_funùÜ_
 (cÚ¡ *
n
, 
D©aF¿me
 &
d
è: 
Çme
Ò), 
df
(d) { }

106 cÚ¡ *
	gÇme
;

107 
	gD©aF¿me
 &
	gdf
;

109 
	g‹m¶©e
<
ty³Çme
 
	gT
>

110 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

115 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

116 
	g»move_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

118 
šlše
 
»move_funùÜ_
 (
¡d
::
size_t
 
b
, std::size_ˆ
e
)

119 : 
begš
 (
b
), 
’d
 (
e
) { }

121 cÚ¡ 
	g¡d
::
size_t
 
begš
;

122 cÚ¡ 
	g¡d
::
size_t
 
’d
;

124 
	g‹m¶©e
<
ty³Çme
 
	gT
>

125 
İ”©Ü
(è(
	gT
 &
	gvec
);

130 
	g‹m¶©e
<
ty³Çme
 
	gLHS
, 
	gty³Çme
 ... 
	gTs
>

131 
	gv›w_£tup_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

133 
šlše
 
v›w_£tup_funùÜ_
 (cÚ¡ *
n
,

134 
¡d
::
size_t
 
b
,

135 
¡d
::
size_t
 
e
,

136 
LHS
 &
d
)

137 : 
Çme
 (
n
), 
begš
 (
b
), 
’d
 (
e
), 
dfv
(
d
) { }

139 cÚ¡ *
	gÇme
;

140 cÚ¡ 
	g¡d
::
size_t
 
begš
;

141 cÚ¡ 
	g¡d
::
size_t
 
’d
;

142 
	gLHS
 &
	gdfv
;

144 
	g‹m¶©e
<
ty³Çme
 
	gT
>

145 
İ”©Ü
(è(
	gT
 &
	gvec
);

148 
	g‹m¶©e
<
ty³Çme
 
	gLHS
, 
	gty³Çme
 ... 
	gTs
>

149 
ä›nd
 
	gv›w_£tup_funùÜ_
;

153 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

154 
	gadd_cŞ_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

156 
šlše
 
add_cŞ_funùÜ_
 (cÚ¡ *
n
, 
D©aF¿me
 &
d
)

157 : 
Çme
 (
n
), 
df
(
d
) { }

159 cÚ¡ *
	gÇme
;

160 
	gD©aF¿me
 &
	gdf
;

162 
	g‹m¶©e
<
ty³Çme
 
	gT
>

163 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

168 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

169 
	ggroupby_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

171 
šlše
 
groupby_funùÜ_
 (cÚ¡ *
n
,

172 
¡d
::
size_t
 
b
,

173 
¡d
::
size_t
 
e
,

174 cÚ¡ 
IndexVecTy³
 &
iv
,

175 
F
 &
f
,

176 
D©aF¿me
 &
d
)

177 : 
Çme
(
n
), 
begš
(
b
), 
’d
(
e
), 
šdex_vec
(
iv
), 
funùÜ
(
f
), 
df
(
d
) { }

179 cÚ¡ *
	gÇme
;

180 cÚ¡ 
	g¡d
::
size_t
 
begš
;

181 cÚ¡ 
	g¡d
::
size_t
 
’d
;

182 cÚ¡ 
	gIndexVecTy³
 &
	gšdex_vec
;

183 
	gF
 &
	gfunùÜ
;

184 
	gD©aF¿me
 &
	gdf
;

186 
	g‹m¶©e
<
ty³Çme
 
	gT
>

187 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

192 
	g‹m¶©e
<
ty³Çme
 
	gF
, 
	gty³Çme
 ... 
	gTs
>

193 
	gbuck‘_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

195 
šlše
 
buck‘_funùÜ_
 (cÚ¡ *
n
,

196 cÚ¡ 
IndexVecTy³
 &
ts
,

197 cÚ¡ 
IndexTy³
 &
i
,

198 
F
 &
f
,

199 
D©aF¿me
 &
d
)

200 : 
Çme
(
n
), 
šdiûs
(
ts
), 
š‹rv®
(
i
), 
funùÜ
(
f
), 
df
(
d
) { }

202 cÚ¡ *
	gÇme
;

203 cÚ¡ 
	gIndexVecTy³
 &
	gšdiûs
;

204 cÚ¡ 
	gIndexTy³
 &
	gš‹rv®
;

205 
	gF
 &
	gfunùÜ
;

206 
	gD©aF¿me
 &
	gdf
;

208 
	g‹m¶©e
<
ty³Çme
 
	gT
>

209 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

214 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

215 
	g´št_csv_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

217 
šlše
 
´št_csv_funùÜ_
 (cÚ¡ *
n
, 
boŞ
 
vo
, 
¡d
::
o¡»am
 &
o
)

218 : 
Çme
(
n
), 
v®ues_Úly
(
vo
), 
os
(
o
) { }

220 cÚ¡ *
	gÇme
;

221 cÚ¡ 
boŞ
 
	gv®ues_Úly
;

222 
	g¡d
::
o¡»am
 &
os
;

224 
	g‹m¶©e
<
ty³Çme
 
	gT
>

225 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

231 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

232 
	g´št_jsÚ_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

234 
šlše
 
´št_jsÚ_funùÜ_
 (cÚ¡ *
n
,

235 
boŞ
 
vo
,

236 
boŞ
 
Åc
,

237 
¡d
::
o¡»am
 &
o
)

238 : 
Çme
(
n
), 
v®ues_Úly
(
vo
), 
Ãed_´e_comma
(
Åc
), 
os
(
o
) { }

240 cÚ¡ *
	gÇme
;

241 cÚ¡ 
boŞ
 
	gv®ues_Úly
;

242 cÚ¡ 
boŞ
 
	gÃed_´e_comma
;

243 
	g¡d
::
o¡»am
 &
os
;

245 
	g‹m¶©e
<
ty³Çme
 
	gT
>

246 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

251 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

252 
	gequ®_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

254 
šlše
 
equ®_funùÜ_
 (cÚ¡ *
n
, cÚ¡ 
D©aF¿me
 &
d
)

255 : 
Çme
(
n
), 
df
(
d
) { }

257 cÚ¡ *
	gÇme
;

258 cÚ¡ 
	gD©aF¿me
 &
	gdf
;

259 
boŞ
 
	g»suÉ
 { 
	gŒue
 };

261 
	g‹m¶©e
<
ty³Çme
 
	gT
>

262 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
lhs_vec
);

267 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

268 
	gmod_by_idx_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

270 
šlše
 
mod_by_idx_funùÜ_
 (cÚ¡ *
n
,

271 cÚ¡ 
D©aF¿me
 &
d
,

272 
size_ty³
 
li
,

273 
size_ty³
 
ri
)

274 : 
Çme
(
n
), 
rhs_df
(
d
), 
lhs_idx
(
li
), 
rhs_idx
(
ri
) { }

276 cÚ¡ *
	gÇme
;

277 cÚ¡ 
	gD©aF¿me
 &
	grhs_df
;

278 cÚ¡ 
size_ty³
 
	glhs_idx
;

279 cÚ¡ 
size_ty³
 
	grhs_idx
;

281 
	g‹m¶©e
<
ty³Çme
 
	gT
>

282 
İ”©Ü
(è(
	g¡d
::
veùÜ
<
T
> &
lhs_vec
) const;

287 
	g‹m¶©e
<
ty³Çme
 
	gRES_T
, 
	gty³Çme
 ... 
	gTs
>

288 
	gšdex_još_funùÜ_commÚ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

290 
šlše
 
šdex_još_funùÜ_commÚ_
 (

291 cÚ¡ *
n
,

292 cÚ¡ 
D©aF¿me
 &
r
,

293 cÚ¡ 
IndexIdxVeùÜ
 &
mii
,

294 
RES_T
 &
»s
)

295 : 
Çme
(
n
), 
rhs
(
r
), 
jošed_šdex_idx
(
mii
), 
»suÉ
(
»s
) { }

297 cÚ¡ *
	gÇme
;

298 cÚ¡ 
	gD©aF¿me
 &
	grhs
;

299 cÚ¡ 
	gIndexIdxVeùÜ
 &
	gjošed_šdex_idx
;

300 
	gRES_T
 &
	g»suÉ
;

302 
	g‹m¶©e
<
ty³Çme
 
	gT
>

303 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
lhs_vec
);

309 
	g‹m¶©e
<
	gSIDE
, 
ty³Çme
 
	gRES_T
, 
	gty³Çme
 ... 
	gTs
>

310 
	gšdex_još_funùÜ_Úeside_


311 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

313 
šlše
 
šdex_još_funùÜ_Úeside_
 (

314 cÚ¡ *
n
,

315 cÚ¡ 
IndexIdxVeùÜ
 &
mii
,

316 
RES_T
 &
»s
)

317 : 
Çme
(
n
), 
jošed_šdex_idx
(
mii
), 
»suÉ
(
»s
) { }

319 cÚ¡ *
	gÇme
;

320 cÚ¡ 
	gIndexIdxVeùÜ
 &
	gjošed_šdex_idx
;

321 
	gRES_T
 &
	g»suÉ
;

323 
	g‹m¶©e
<
ty³Çme
 
	gT
>

324 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
vec
);

329 
	g‹m¶©e
<
ty³Çme
 
	gRES_T
, 
	gty³Çme
 ... 
	gTs
>

330 
	gcÚÿt_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

332 
šlše
 
cÚÿt_funùÜ_
 (cÚ¡ *
n
, 
RES_T
 &
»s
, 
boŞ
 
ic
, 
size_ty³
 
ois
)

333 : 
Çme
(
n
), 
»suÉ
(
»s
), 
š£¹_cŞ
(
ic
), 
Üigš®_šdex_s
(
ois
) { }

335 cÚ¡ *
	gÇme
;

336 
	gRES_T
 &
	g»suÉ
;

337 cÚ¡ 
boŞ
 
	gš£¹_cŞ
;

338 cÚ¡ 
size_ty³
 
	gÜigš®_šdex_s
;

340 
	g‹m¶©e
<
ty³Çme
 
	gT
>

341 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
vec
);

346 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

347 
	gv”tiÿl_shiá_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

349 
šlše
 
v”tiÿl_shiá_funùÜ_
 (
size_ty³
 
³riods
, 
shiá_pŞicy
 
sh_po
)

350 : 
n
(
³riods
), 
¥
(
sh_po
) { }

352 cÚ¡ 
	gD©aF¿me
::
size_ty³
 
n
;

353 cÚ¡ 
shiá_pŞicy
 
	g¥
;

355 
	g‹m¶©e
<
ty³Çme
 
	gT
>

356 
İ”©Ü
(è(
	gT
 &
	gvec
) const;

359 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

360 
ä›nd
 
	gv”tiÿl_shiá_funùÜ_
;

364 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

365 
	grÙ©e_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

367 
šlše
 
rÙ©e_funùÜ_
 (
size_ty³
 
³riods
, 
shiá_pŞicy
 
sh_po
)

368 : 
n
(
³riods
), 
¥
(
sh_po
) { }

370 cÚ¡ 
	gD©aF¿me
::
size_ty³
 
n
;

371 cÚ¡ 
shiá_pŞicy
 
	g¥
;

373 
	g‹m¶©e
<
ty³Çme
 
	gT
>

374 
İ”©Ü
(è(
	gT
 &
	gvec
) const;

377 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

378 
ä›nd
 
	grÙ©e_funùÜ_
;

382 
	g‹m¶©e
<
ty³Çme
 
	gIDX
,em¶©e<
	gty³Çme
> 
şass
 
	gOPT
,y³Çm... 
	gTs
>

383 
	gİ”©Ü_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

385 
šlše
 
İ”©Ü_funùÜ_
 (cÚ¡ 
¡d
::
veùÜ
<
IDX
> &
lhsidx
,

386 cÚ¡ 
¡d
::
veùÜ
<
IDX
> &
rhsidx
,

387 cÚ¡ 
¡d
::
veùÜ
<
IDX
> &
Ãwidx
,

388 cÚ¡ 
StdD©aF¿me
<
IDX
> &
rhsdf
,

389 cÚ¡ *
cŞÇme
,

390 
StdD©aF¿me
<
IDX
> &
»suÉdf
)

391 : 
lhs_idx
(
lhsidx
),

392 
rhs_idx
(
rhsidx
),

393 
Ãw_idx
(
Ãwidx
),

394 
rhs_df
(
rhsdf
),

395 
cŞ_Çme
(
cŞÇme
),

396 
»suÉ_df
(
»suÉdf
) { }

398 cÚ¡ 
	g¡d
::
veùÜ
<
IDX
> &
lhs_idx
;

399 cÚ¡ 
	g¡d
::
veùÜ
<
IDX
> &
rhs_idx
;

400 cÚ¡ 
	g¡d
::
veùÜ
<
IDX
> &
Ãw_idx
;

401 cÚ¡ 
	gStdD©aF¿me
<
	gIDX
> &
	grhs_df
;

402 cÚ¡ *
	gcŞ_Çme
;

403 
	gStdD©aF¿me
<
	gIDX
> &
	g»suÉ_df
;

405 
	g‹m¶©e
<
ty³Çme
 
	gT
>

406 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
lhs_vec
);

411 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

412 
	gm­_missšg_rows_funùÜ_
 :

413 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

415 
šlše
 
m­_missšg_rows_funùÜ_
 (
size_ty³
 
œ
, 
DrİRowM­
 &
mrm
)

416 : 
šdex_rows
(
œ
), 
missšg_row_m­
(
mrm
) { }

418 cÚ¡ 
size_ty³
 
	gšdex_rows
;

419 
	gDrİRowM­
 &
	gmissšg_row_m­
;

421 
	g‹m¶©e
<
ty³Çme
 
	gT
>

422 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

427 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

428 
	gdrİ_missšg_rows_funùÜ_
 :

429 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

431 
šlše
 
drİ_missšg_rows_funùÜ_
 (cÚ¡ 
DrİRowM­
 &
mrm
,

432 
drİ_pŞicy
 
p
,

433 
size_ty³
 
th
,

434 
size_ty³
 
ú
)

435 : 
missšg_row_m­
(
mrm
),

436 
pŞicy
(
p
),

437 
th»shŞd
(
th
),

438 
cŞ_num
(
ú
) { }

440 cÚ¡ 
	gDrİRowM­
 &
	gmissšg_row_m­
;

441 cÚ¡ 
drİ_pŞicy
 
	gpŞicy
;

442 cÚ¡ 
size_ty³
 
	gth»shŞd
;

443 cÚ¡ 
size_ty³
 
	gcŞ_num
;

445 
	g‹m¶©e
<
ty³Çme
 
	gT
>

446 
İ”©Ü
(è(
	gT
 &
	gvec
);

451 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

452 
	gg‘_row_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

454 
šlše
 
g‘_row_funùÜ_
 (
H‘”oVeùÜ
 &
r
, 
size_ty³
 
º
)

455 : 
»suÉ
(
r
), 
row_num
(
º
) { }

457 
	gH‘”oVeùÜ
 &
	g»suÉ
;

458 cÚ¡ 
size_ty³
 
	grow_num
;

460 
	g‹m¶©e
<
ty³Çme
 
	gT
>

461 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

466 
	g‹m¶©e
<
ty³Çme
 
	gIT
, 
	gty³Çme
 ... 
	gTs
>

467 
	g£l_lßd_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

469 
šlše
 
£l_lßd_funùÜ_
 (cÚ¡ *
n
,

470 cÚ¡ 
¡d
::
veùÜ
<
IT
> &
si
,

471 
size_ty³
 
is
,

472 
D©aF¿me
 &
d
)

473 : 
Çme
 (
n
), 
£l_šdiûs
 (
si
), 
šdiûs_size
(
is
), 
df
(
d
) { }

475 cÚ¡ *
	gÇme
;

476 cÚ¡ 
	g¡d
::
veùÜ
<
IT
> &
£l_šdiûs
;

477 cÚ¡ 
size_ty³
 
	gšdiûs_size
;

478 
	gD©aF¿me
 &
	gdf
;

480 
	g‹m¶©e
<
ty³Çme
 
	gT
>

481 
İ”©Ü
(è(cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
vec
);

486 
	g‹m¶©e
<
ty³Çme
 
	gIT
, 
	gty³Çme
 ... 
	gTs
>

487 
	g£l_lßd_v›w_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

489 
šlše
 
£l_lßd_v›w_funùÜ_
 (cÚ¡ *
n
,

490 cÚ¡ 
¡d
::
veùÜ
<
IT
> &
si
,

491 
size_ty³
 
is
,

492 
D©aF¿mePŒV›w
<
IndexTy³
> &
d
)

493 : 
Çme
 (
n
), 
£l_šdiûs
 (
si
), 
šdiûs_size
(
is
), 
dfv
(
d
) { }

495 cÚ¡ *
	gÇme
;

496 cÚ¡ 
	g¡d
::
veùÜ
<
IT
> &
£l_šdiûs
;

497 cÚ¡ 
size_ty³
 
	gšdiûs_size
;

498 
	gD©aF¿mePŒV›w
<
	gIndexTy³
> &
	gdfv
;

500 
	g‹m¶©e
<
ty³Çme
 
	gT
>

501 
İ”©Ü
(è(
	g¡d
::
veùÜ
<
T
> &
vec
);

506 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

507 
	g£l_»move_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

509 
šlše
 
£l_»move_funùÜ_
 (cÚ¡ 
¡d
::
veùÜ
<
size_ty³
> &
si
)

510 : 
£l_šdiûs
 (
si
) { }

512 cÚ¡ 
¡d
::
veùÜ
<
size_ty³
> &
£l_šdiûs
;

514 
	g‹m¶©e
<
ty³Çme
 
	gT
>

515 
İ”©Ü
(è(
	g¡d
::
veùÜ
<
T
> &
vec
) const;

520 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

521 
	gshufæe_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

523 
šlše
 
shufæe_funùÜ_
 () { }

525 
‹m¶©e
<
ty³Çme
 
T
>

526 
İ”©Ü
(è(
¡d
::
veùÜ
<
T
> &
vec
) const;

531 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

532 
	g¿ndom_lßd_d©a_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

534 
šlše
 
¿ndom_lßd_d©a_funùÜ_
 (

535 cÚ¡ *
n
,

536 cÚ¡ 
¡d
::
veùÜ
<¡d::
size_t
> &
ri
,

537 
D©aF¿me
 &
d
)

538 : 
Çme
 (
n
), 
¿nd_šdiûs
 (
ri
), 
df
(
d
) { }

540 cÚ¡ *
	gÇme
;

541 cÚ¡ 
	g¡d
::
veùÜ
<
¡d
::
size_t
> &
¿nd_šdiûs
;

542 
	gD©aF¿me
 &
	gdf
;

544 
	g‹m¶©e
<
ty³Çme
 
	gT
>

545 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

550 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

551 
	g¿ndom_lßd_v›w_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

553 
šlše
 
¿ndom_lßd_v›w_funùÜ_
 (

554 cÚ¡ *
n
,

555 cÚ¡ 
¡d
::
veùÜ
<¡d::
size_t
> &
ri
,

556 
D©aF¿mePŒV›w
<
IndexTy³
> &
d
)

557 : 
Çme
 (
n
), 
¿nd_šdiûs
 (
ri
), 
dfv
(
d
) { }

559 cÚ¡ *
	gÇme
;

560 cÚ¡ 
	g¡d
::
veùÜ
<
¡d
::
size_t
> &
¿nd_šdiûs
;

561 
	gD©aF¿mePŒV›w
<
	gIndexTy³
> &
	gdfv
;

563 
	g‹m¶©e
<
ty³Çme
 
	gT
>

564 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

569 
	g‹m¶©e
<
	gty³Çme
 ... 
	gTs
>

570 
	gcŞumns_šfo_funùÜ_
 : 
D©aVec
::
‹m¶©e
 
vis™Ü_ba£
<
Ts
 ...> {

572 
usšg
 
»suÉ_t
 =

573 
¡d
::
veùÜ
<¡d::
tu¶e
<
CŞNameTy³
, 
	gsize_ty³
, 
	g¡d
::
ty³_šdex
>>;

575 
šlše
 
cŞumns_šfo_funùÜ_
 (
»suÉ_t
 &
r
, cÚ¡ *
n
)

576 : 
»suÉ
(
r
), 
Çme
(
n
) { }

578 
	g»suÉ_t
 &
	g»suÉ
;

579 cÚ¡ *
	gÇme
;

581 
	g‹m¶©e
<
ty³Çme
 
	gT
>

582 
İ”©Ü
(è(cÚ¡ 
	gT
 &
	gvec
);

	@DataFrame/original/include/DataFrame/RandGen.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/D©aF¿meTy³s.h
>

34 
	~<veùÜ
>

38 
Çme¥aû
 
	ghmdf


55 
	g‹m¶©e
<
ty³Çme
 
	gT
>

56 
	g¡d
::
veùÜ
<
T
>

57 
g’_unifÜm_št_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

74 
	g‹m¶©e
<
ty³Çme
 
	gT
>

75 
	g¡d
::
veùÜ
<
T
>

76 
g’_unifÜm_»®_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

93 
	g¡d
::
veùÜ
<
boŞ
>

94 
g’_b”nouÎi_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
boŞ
> &
·¿ms
 = { });

112 
	g‹m¶©e
<
ty³Çme
 
	gT
>

113 
	g¡d
::
veùÜ
<
T
>

114 
g’_bšomŸl_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

132 
	g‹m¶©e
<
ty³Çme
 
	gT
>

133 
	g¡d
::
veùÜ
<
T
>

134 
g’_Ãg©ive_bšomŸl_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = {});

152 
	g‹m¶©e
<
ty³Çme
 
	gT
>

153 
	g¡d
::
veùÜ
<
T
>

154 
g’_geom‘ric_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

174 
	g‹m¶©e
<
ty³Çme
 
	gT
>

175 
	g¡d
::
veùÜ
<
T
>

176 
g’_poissÚ_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

192 
	g‹m¶©e
<
ty³Çme
 
	gT
>

193 
	g¡d
::
veùÜ
<
T
>

194 
g’_expÚ’tŸl_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

210 
	g‹m¶©e
<
ty³Çme
 
	gT
>

211 
	g¡d
::
veùÜ
<
T
>

212 
g’_gamma_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

228 
	g‹m¶©e
<
ty³Çme
 
	gT
>

229 
	g¡d
::
veùÜ
<
T
>

230 
g’_weibuÎ_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

246 
	g‹m¶©e
<
ty³Çme
 
	gT
>

247 
	g¡d
::
veùÜ
<
T
>

248 
g’_exŒeme_v®ue_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

264 
	g‹m¶©e
<
ty³Çme
 
	gT
>

265 
	g¡d
::
veùÜ
<
T
>

266 
g’_nÜm®_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

282 
	g‹m¶©e
<
ty³Çme
 
	gT
>

283 
	g¡d
::
veùÜ
<
T
>

284 
g’_lognÜm®_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

300 
	g‹m¶©e
<
ty³Çme
 
	gT
>

301 
	g¡d
::
veùÜ
<
T
>

302 
g’_chi_squ¬ed_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

318 
	g‹m¶©e
<
ty³Çme
 
	gT
>

319 
	g¡d
::
veùÜ
<
T
>

320 
g’_ÿuchy_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

335 
	g‹m¶©e
<
ty³Çme
 
	gT
>

336 
	g¡d
::
veùÜ
<
T
>

337 
g’_fish”_f_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

353 
	g‹m¶©e
<
ty³Çme
 
	gT
>

354 
	g¡d
::
veùÜ
<
T
>

355 
g’_¡ud’t_t_di¡
(
¡d
::
size_t
 
n
, cÚ¡ 
RªdG’P¬ams
<
T
> &
·¿ms
 = { });

362 
	g‹m¶©e
<
ty³Çme
 
	gT
>

363 
	g¡d
::
veùÜ
<
T
>

364 
g’_log_¥aû_nums
(
¡d
::
size_t
 
n
, 
T
 
fœ¡
, T 
Ï¡
, T 
ba£
);

370 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


371 
	~<D©aF¿me/IÁ”Çls/RªdG’.tcc
>

	@DataFrame/original/include/DataFrame/Utils/DateTime.h

30 #´agm¨
Úû


32 
	~<c¡dio
>

33 
	~<ùime
>

34 
	~<lim™s
>

35 
	~<¡dexû±
>

36 
	~<¡ršg
>

37 
	~<sys/timeb.h
>

39 #ià
defšed
(
_WIN32
)

40 
	~<wšdows.h
>

41 #ià
defšed
(
HMDF_SHARED
)

42 #ifdeà
LIBRARY_EXPORTS


43 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

45 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

48 #ifdeà
mš


49 #undeà
mš


51 #ifdeà
max


52 #undeà
max


55 
	#LIBRARY_API


	)

60 
Çme¥aû
 
	ghmdf


66 şas 
	cDT_FORMAT
 : {

67 
AMR_DT
 = 1,

68 
	gAMR_DT_CTY
 = 2,

69 
	gEUR_DT
 = 3,

70 
	gEUR_DT_CTY
 = 4,

71 
	gDT_TM
 = 5,

72 
	gSCT_DT
 = 6,

73 
	gDT_MMDDYYYY
 = 7,

74 
	gDT_YYYYMMDD
 = 8,

75 
	gDT_TM2
 = 9,

76 
	gDT_DATETIME
 = 10,

77 
	gDT_PRECISE
 = 11

83 şas 
	cDT_TIME_ZONE
 : {

84 
LOCAL
 = -2,

85 
	gGMT
 = 0,

86 
	gAM_BUENOS_AIRES
 = 1,

87 
	gAM_CHICAGO
 = 2,

88 
	gAM_LOS_ANGELES
 = 3,

89 
	gAM_MEXICO_CITY
 = 4,

90 
	gAM_NEW_YORK
 = 5,

91 
	gAS_DUBAI
 = 6,

92 
	gAS_HONG_KONG
 = 7,

93 
	gAS_SHANGHAI
 = 8,

94 
	gAS_SINGAPORE
 = 9,

95 
	gAS_TEHRAN
 = 10,

96 
	gAS_TEL_AVIV
 = 11,

97 
	gAS_TOKYO
 = 12,

98 
	gAU_MELBOURNE
 = 13,

99 
	gAU_SYDNEY
 = 14,

100 
	gBR_RIO_DE_JANEIRO
 = 15,

101 
	gEU_BERLIN
 = 16,

102 
	gEU_LONDON
 = 17,

103 
	gEU_MOSCOW
 = 18,

104 
	gEU_PARIS
 = 19,

105 
	gEU_ROME
 = 20,

106 
	gEU_VIENNA
 = 21,

107 
	gEU_ZURICH
 = 22,

108 
	gUTC
 = 23,

109 
	gAS_SEOUL
 = 24,

110 
	gAS_TAIPEI
 = 25,

111 
	gEU_STOCKHOLM
 = 26,

112 
	gNZ
 = 27,

113 
	gEU_OSLO
 = 28,

114 
	gEU_WARSAW
 = 29,

115 
	gEU_BUDAPEST
 = 30

121 şas 
	cDT_WEEKDAY
 : {

122 
BAD_DAY
 = 0,

123 
	gSUN
 = 1,

124 
	gMON
 = 2,

125 
	gTUE
 = 3,

126 
	gWED
 = 4,

127 
	gTHU
 = 5,

128 
	gFRI
 = 6,

129 
	gSAT
 = 7

135 şas 
	cDT_MONTH
 : {

136 
BAD_MONTH
 = 0,

137 
	gJAN
 = 1,

138 
	gFEB
 = 2,

139 
	gMAR
 = 3,

140 
	gAPR
 = 4,

141 
	gMAY
 = 5,

142 
	gJUN
 = 6,

143 
	gJUL
 = 7,

144 
	gAUG
 = 8,

145 
	gSEP
 = 9,

146 
	gOCT
 = 10,

147 
	gNOV
 = 11,

148 
	gDEC
 = 12

154 şas 
	cDT_DATE_STYLE
 : {

155 
YYYYMMDD
 = 1,

156 
	gAME_STYLE
 = 2,

157 
	gEUR_STYLE
 = 3

162 şas 
	cLIBRARY_API
 
	gD©eTime
 {

164 
	gpublic
:

166 
usšg
 
D©eTy³
 = ;

167 
usšg
 
	gD©eP¬tTy³
 = ;

168 
usšg
 
	gHourTy³
 = ;

169 
usšg
 
	gMšu‹Ty³
 = ;

170 
usšg
 
	gSecÚdTy³
 = ;

171 
usšg
 
	gMli£cÚdTy³
 = ;

172 
usšg
 
	gMiüo£cÚdTy³
 = ;

173 
usšg
 
	gNªo£cÚdTy³
 = ;

174 
usšg
 
	gEpochTy³
 = 
time_t
;

175 
usšg
 
	gLÚgTimeTy³
 = ;

177 
	g´iv©e
:

179 
‹m¶©e
<
ty³Çme
 
T
>

180 
usšg
 
INVALID_VALUE_
 = 
ty³Çme
 
¡d
::
num”ic_lim™s
<
T
>;

182 cÚ¡ *
	gTIMEZONES_
[];

183 cÚ¡ 
EpochTy³
 
	gINVALID_TIME_T_
 = 
INVALID_VALUE_
<EpochTy³>::
max
();

184 cÚ¡ 
D©eTy³
 
	gINVALID_DATE_
 = 
INVALID_VALUE_
<D©eTy³>::
max
();

185 cÚ¡ 
HourTy³
 
	gINVALID_HOUR_
 = 
INVALID_VALUE_
<HourTy³>::
max
();

186 cÚ¡ 
Mšu‹Ty³
 
	gINVALID_MINUTE_
 = 
INVALID_VALUE_
<Mšu‹Ty³>::
max
();

187 cÚ¡ 
SecÚdTy³
 
	gINVALID_SECOND_
 = 
INVALID_VALUE_
<SecÚdTy³>::
max
();

192 şas 
	cDT_š™Ÿliz”
 { 
	gpublic
: 
DT_š™Ÿliz”
 (è
nÛxû±
; };

194 cÚ¡ 
DT_š™Ÿliz”
 
	gdt_š™_
;

196 
ä›nd
 
şass
 
	gDT_š™Ÿliz”
;

198 
D©eTy³
 
	gd©e_
 { 
	gINVALID_DATE_
 };

199 
HourTy³
 
	ghour_
 { 
	gINVALID_HOUR_
 };

200 
Mšu‹Ty³
 
	gmšu‹_
 { 
	gINVALID_MINUTE_
 };

201 
SecÚdTy³
 
	g£cÚd_
 { 
	gINVALID_SECOND_
 };

202 
Nªo£cÚdTy³
 
	gÇno£cÚd_
 { 0 };

203 
EpochTy³
 
	gtime_
 { 
	gINVALID_TIME_T_
 };

204 
DT_WEEKDAY
 
	gw“k_day_
 { 
	gDT_WEEKDAY
::
BAD_DAY
 };

205 
DT_TIME_ZONE
 
	gtime_zÚe_
 { 
	gDT_TIME_ZONE
::
LOCAL
 };

207 
šlše
 
chªge_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
);

208 
šlše
 
»£t_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
);

210 
	gpublic
:

213 
ex¶ic™
 
D©eTime
 (
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

215 
ex¶ic™
 
D©eTime
 (
D©eTy³
 
d
,

216 
HourTy³
 
hr
 = 0,

217 
Mšu‹Ty³
 
mn
 = 0,

218 
SecÚdTy³
 
sc
 = 0,

219 
Nªo£cÚdTy³
 
ns
 = 0,

220 
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

237 
ex¶ic™
 
D©eTime
 (cÚ¡ *
s
,

238 
DT_DATE_STYLE
 
ds
 = DT_DATE_STYLE::
YYYYMMDD
,

239 
DT_TIME_ZONE
 
tz
 = DT_TIME_ZONE::
LOCAL
);

241 
D©eTime
 (cÚ¡ D©eTim&
th©
) = ;

242 
D©eTime
 (D©eTim&&
th©
) = ;

243 ~
D©eTime
 () = ;

245 
	gD©eTime
 &
	gİ”©Ü
 = (cÚ¡ 
D©eTime
 &
rhs
) = ;

246 
	gD©eTime
 &
	gİ”©Ü
 = (
D©eTime
 &&
rhs
) = ;

250 
£t_time
 (
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
 = 0è
nÛxû±
;

256 
£t_timezÚe
 (
DT_TIME_ZONE
 
tz
);

257 
šlše
 
DT_TIME_ZONE
 
g‘_timezÚe
 (ècÚ¡ {  (
	gtime_zÚe_
); }

259 
	gD©eTime
 &
	gİ”©Ü
 = (
D©eTy³
 
rhs
);

265 
	gD©eTime
 &
	gİ”©Ü
 = (cÚ¡ *
rhs
);

268 
EpochTy³
 
com·»
(cÚ¡ 
D©eTime
 &
rhs
) const;

270 
D©eTy³
 
d©e
 (ècÚ¡ 
	gnÛxû±
;

271 
D©eP¬tTy³
 
y—r
 (ècÚ¡ 
	gnÛxû±
;

272 
DT_MONTH
 
mÚth
 (ècÚ¡ 
	gnÛxû±
;

273 
D©eP¬tTy³
 
dmÚth
 (ècÚ¡ 
	gnÛxû±
;

274 
D©eP¬tTy³
 
dy—r
 (ècÚ¡ 
	gnÛxû±
;

275 
DT_WEEKDAY
 
dw“k
 (ècÚ¡ 
	gnÛxû±
;

276 
HourTy³
 
hour
 (ècÚ¡ 
	gnÛxû±
;

277 
Mšu‹Ty³
 
mšu‹
 (ècÚ¡ 
	gnÛxû±
;

278 
SecÚdTy³
 
£c
 (ècÚ¡ 
	gnÛxû±
;

279 
Mli£cÚdTy³
 
m£c
 (ècÚ¡ 
	gnÛxû±
;

280 
Miüo£cÚdTy³
 
miüo£c
 (ècÚ¡ 
	gnÛxû±
;

281 
Nªo£cÚdTy³
 
Çno£c
 (ècÚ¡ 
	gnÛxû±
;

282 
EpochTy³
 
time
 (ècÚ¡ 
	gnÛxû±
;

283 
LÚgTimeTy³
 
lÚg_time
 (ècÚ¡ 
	gnÛxû±
;

285 
D©eP¬tTy³
 
days_š_mÚth
 (ècÚ¡ 
	gnÛxû±
;

290 
diff_£cÚds
 (cÚ¡ 
D©eTime
 &
th©
) const;

291 
diff_mšu‹s
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

292 
diff_hours
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

293 
diff_days
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

294 
diff_w“kdays
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

295 
diff_w“ks
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
	gnÛxû±
;

299 
add_Çno£cÚds
 (
Çno£cs
è
	gnÛxû±
;

300 
add_£cÚds
 (
EpochTy³
 
£cs
è
	gnÛxû±
;

301 
add_days
 (
days
è
	gnÛxû±
;

302 
add_w“kdays
 (
days
è
	gnÛxû±
;

303 
add_mÚths
 (
mÚths
è
	gnÛxû±
;

304 
add_y—rs
 (
y—rs
è
	gnÛxû±
;

306 
boŞ
 
is_w“k’d
 (ècÚ¡ 
	gnÛxû±
;

307 
boŞ
 
is_Ãwy—r
 (ècÚ¡ 
	gnÛxû±
;

308 
boŞ
 
is_xmas
 (ècÚ¡ 
	gnÛxû±
;

309 
boŞ
 
is_us_busšess_day
 (ècÚ¡ 
	gnÛxû±
;

310 
boŞ
 
is_us_bªk_hŞiday
 (ècÚ¡ 
	gnÛxû±
;

311 
boŞ
 
is_v®id
 (ècÚ¡ 
	gnÛxû±
;

314 
	g‹m¶©e
<
ty³Çme
 
	gT
>

315 
d©e_to_¡r
 (
DT_FORMAT
 
fÜm©
, 
T
 &
»suÉ
) const;

316 
	g¡d
::
¡ršg
 
¡ršg_fÜm©
 (
DT_FORMAT
 
fÜm©
) const;

318 
	g´iv©e
:

320 
D©eP¬tTy³


321 
days_š_mÚth_
 (
DT_MONTH
 
mÚth
, 
D©eP¬tTy³
 
y—r
è
	gnÛxû±
;

327 
EpochTy³
 
mak‘ime_
 (
tm
 &
Éime
ècÚ¡ 
	gnÛxû±
;

333 
b»aktime_
 (
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
è
	gnÛxû±
;

335 cÚ¡ *cÚ¡ 
	gMONTH_
[];

336 cÚ¡ *cÚ¡ 
	gMONTH_BR_
[];

337 cÚ¡ *cÚ¡ 
	gWDAY_
[];

338 cÚ¡ *cÚ¡ 
	gWDAY_BR_
[];

343 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

345  (
	glhs
.
com·»
 (
rhs
) == 0);

350 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

352  (
	glhs
.
com·»
 (
rhs
) != 0);

357 
šlše
 
boŞ
 
	gİ”©Ü
 < (cÚ¡ 
	gD©eTime
 &
	glhs
, cÚ¡ D©eTim&
	grhs
è
	gnÛxû±
 {

359  (
	glhs
.
com·»
 (
rhs
) < 0);

364 
šlše
 
boŞ
 
	gİ”©Ü
 <ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

366  (
	glhs
.
com·»
 (
rhs
) <= 0);

371 
šlše
 
boŞ
 
	gİ”©Ü
 > (cÚ¡ 
	gD©eTime
 &
	glhs
, cÚ¡ D©eTim&
	grhs
è
	gnÛxû±
 {

373  (
	glhs
.
com·»
 (
rhs
) > 0);

378 
šlše
 
boŞ
 
	gİ”©Ü
 >ğ(cÚ¡ 
D©eTime
 &
lhs
, cÚ¡ 
	gD©eTime
 &
	grhs
è
	gnÛxû±
 {

380  (
	glhs
.
com·»
 (
rhs
) >= 0);

385 
	g‹m¶©e
<
ty³Çme
 
	gS
>

386 
šlše
 
	gS
 &
	gİ”©Ü
 << (S &
	go
, cÚ¡ 
	gD©eTime
 &
	grhs
) {

388  (
	go
 << 
	grhs
.
¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
));

	@DataFrame/original/include/DataFrame/Utils/FixedSizeString.h

30 #´agm¨
Úû


32 
	~<c¡d¬g
>

33 
	~<c¡dio
>

34 
	~<c¡dlib
>

35 
	~<funùiÚ®
>

36 
	~<io¡»am
>

37 
	~<¡ršg.h
>

39 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

40 #ifdeà
LIBRARY_EXPORTS


41 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

43 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

46 
	#LIBRARY_API


	)

51 
Çme¥aû
 
	ghmdf


64 şas 
	cLIBRARY_API
 
	gVœtu®SŒšg
 {

65 
	gpublic
:

67 
usšg
 
size_ty³
 = 
¡d
::
size_t
;

68 
usšg
 
	gv®ue_ty³
 = ;

69 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

70 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
v®ue_ty³
 *;

71 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

72 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

74 
usšg
 
	g™”©Ü
 = 
poš‹r
;

75 
usšg
 
	gcÚ¡_™”©Ü
 = 
cÚ¡_poš‹r
;

77 cÚ¡ 
size_ty³
 
	gÅos
 = 
¡©ic_ÿ¡
<size_type>(-1);

79 
šlše
 
™”©Ü
 
begš
 (è
	gnÛxû±
 {  (
	g¡ršg_
); }

80 
šlše
 
cÚ¡_™”©Ü
 
begš
 (ècÚ¡ 
	gnÛxû±
 {  (
	g¡ršg_
); }

85 
šlše
 
™”©Ü
 
’d
 (è
	gnÛxû±
 {  (
	g¡ršg_
 + 
size
 ()); }

86 
šlše
 
cÚ¡_™”©Ü
 
’d
 (ècÚ¡ 
	gnÛxû±
 {

88  (
	g¡ršg_
 + 
size
 ());

91 
	g´Ùeùed
:

93 
šlše
 
Vœtu®SŒšg
 (
poš‹r
 
¡r
è
nÛxû±
 : 
¡ršg_
 (str) { }

95 
public
:

97 
Vœtu®SŒšg
 (èğ
d–‘e
;

98 
Vœtu®SŒšg
 (cÚ¡ Vœtu®SŒšg &èğ
d–‘e
;

99 
Vœtu®SŒšg
 (Vœtu®SŒšg &&èğ
d–‘e
;

100 
	gVœtu®SŒšg
 &
	gİ”©Ü
 = (
Vœtu®SŒšg
 &&èğ
d–‘e
;

104 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 = (
cÚ¡_poš‹r
 
rhs
è
nÛxû±
 {

106 ::
¡rıy
 (
¡ršg_
, 
rhs
);

107  (*
	gthis
);

109 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 = (cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
nÛxû±
 {

111  (*
this
 = 
rhs
.
c_¡r
 ());

113 
šlše
 
	gVœtu®SŒšg
 &
ncİy
 (
cÚ¡_poš‹r
 
rhs
, 
size_ty³
 
Ën
è
	gnÛxû±
 {

115 ::
¢´štf
(
¡ršg_
, 
Ën
, "%s", 
rhs
);

116  (*
	gthis
);

123 
šlše
 
	gVœtu®SŒšg
 &
­³nd
 (
cÚ¡_poš‹r
 
rhs
è
	gnÛxû±
 {

125 ::
¡rÿt
 (
¡ršg_
, 
rhs
);

126  (*
	gthis
);

128 
šlše
 
	gVœtu®SŒšg
 &
­³nd
 (cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
	gnÛxû±
 {

130  (
­³nd
 (
rhs
.
c_¡r
 ()));

132 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 +ğ(
cÚ¡_poš‹r
 
rhs
è
nÛxû±
 {

134  (
­³nd
 (
rhs
));

136 
šlše
 
	gVœtu®SŒšg
 &
	gİ”©Ü
 +ğ(cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
nÛxû±
 {

138  (
­³nd
 (
rhs
.
c_¡r
 ()));

141 
šlše
 
size_ty³


142 
fšd
 (
cÚ¡_»ã»nû
 
tok’
, 
size_ty³
 
pos
 = 0ècÚ¡ 
nÛxû±
 {

144 
size_ty³
 
couÁ”
 = 0;

146 
cÚ¡_poš‹r
 
	g™r
 = &(
¡ršg_
 [
pos
]); *™r; ++™r, ++
	gcouÁ”
)

147 ià(
	g¡ršg_
 [
pos
 + 
couÁ”
] =ğ
tok’
)

148  (
pos
 + 
couÁ”
);

150  (
	gÅos
);

152 
šlše
 
size_ty³


153 
fšd
 (
cÚ¡_poš‹r
 
tok’
, 
size_ty³
 
pos
 = 0ècÚ¡ 
nÛxû±
 {

155 cÚ¡ 
size_ty³
 
tok’_Ën
 = ::
¡¾’
 (
tok’
);

156 cÚ¡ 
size_ty³
 
	g£lf_Ën
 = 
size
 ();

158 ià((
	gtok’_Ën
 + 
	gpos
è> 
	g£lf_Ën
)

159  (
	gÅos
);

161 
size_ty³
 
	gcouÁ”
 = 0;

163 
cÚ¡_poš‹r
 
	g™r
 = &(
¡ršg_
 [
pos
]);

164 
	g™r
 + 
	gtok’_Ën
 - 
begš
 (è<ğ
¡©ic_ÿ¡
<>(
£lf_Ën
);

165 ++
	g™r
, ++
	gcouÁ”
)

166 ià(! ::
¡ºcmp
 (
tok’
, 
™r
, 
tok’_Ën
))

167  (
	gpos
 + 
	gcouÁ”
);

169  (
	gÅos
);

171 
šlše
 
size_ty³


172 
fšd
 (cÚ¡ 
Vœtu®SŒšg
 &
tok’
, 
size_ty³
 
pos
 = 0ècÚ¡ 
nÛxû±
 {

174 cÚ¡ 
size_ty³
 
Ën
 = 
size
 ();

176  (
fšd
 (
tok’
.
c_¡r
 (), 
pos
));

181 
šlše
 
	gVœtu®SŒšg
 &

182 
»¶aû
 (
size_ty³
 
pos
, size_ty³ 
n
, 
cÚ¡_poš‹r
 
s
) {

184 ià(*
	gs
 == 0) {

185 
size_ty³
 
i
 = 
pos
;

187 ; 
	g¡ršg_
 [
i
]; ++
	gi
)

188 
	g¡ršg_
 [
i
] = 
¡ršg_
 [i + 1];

189 
	g¡ršg_
 [
i
] = 
¡ršg_
 [i + 1];

192 
boŞ
 
	gov”wrÙe_nuÎ
 = 
çl£
;

193 
size_ty³
 
	gi
 = 0;

195 
	gs
 [
i
]) {

196 ià(
	g¡ršg_
 [
i
 + 
pos
] == 0)

197 
ov”wrÙe_nuÎ
 = 0;

198 ià(
	gi
 >ğ
n
)

199 
¡ršg_
 [
i
 + 
pos
 + 1] = string_ [i +…os];

200 
	g¡ršg_
 [
i
 + 
pos
] = 
s
 [i];

201 ++
	gi
;

203 ià(
	gov”wrÙe_nuÎ
)

204 
	g¡ršg_
 [
i
 + 
pos
] = 0;

207  (*
	gthis
);

210 
šlše
 
´štf
 (cÚ¡ *
fÜm©_¡r
, ...è
	gnÛxû±
 {

212 
va_li¡
 
	g¬gum’t_±r
;

214 
va_¡¬t
 (
¬gum’t_±r
, 
fÜm©_¡r
);

216 cÚ¡ 
	g»t
 = ::
v¥rštf
 (
¡ršg_
, 
fÜm©_¡r
, 
¬gum’t_±r
);

218 
va_’d
 (
¬gum’t_±r
);

219  (
	g»t
);

222 
šlše
 
­³nd_´štf
 (cÚ¡ *
fÜm©_¡r
, ...è
	gnÛxû±
 {

224 
va_li¡
 
	g¬gum’t_±r
;

226 
va_¡¬t
 (
¬gum’t_±r
, 
fÜm©_¡r
);

228 cÚ¡ 
	g»t
 =

229 ::
v¥rštf
 (
¡ršg_
 + 
size
 (), 
fÜm©_¡r
, 
¬gum’t_±r
);

231 
va_’d
 (
¬gum’t_±r
);

232  (
	g»t
);

237 
šlše
 
com·»
 (
cÚ¡_poš‹r
 
rhs
ècÚ¡ 
	gnÛxû±
 {

239  (::
¡rcmp
 (
¡ršg_
, 
rhs
));

241 
šlše
 
com·»
 (cÚ¡ 
Vœtu®SŒšg
 &
rhs
ècÚ¡ 
	gnÛxû±
 {

243  (
com·»
 (
rhs
.
c_¡r
 ()));

246 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(
cÚ¡_poš‹r
 
rhs
ècÚ¡ 
nÛxû±
 {

248  (
com·»
 (
rhs
) == 0);

250 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
Vœtu®SŒšg
 &
rhs
ècÚ¡ 
nÛxû±
 {

252  (*
this
 =ğ
rhs
.
c_¡r
 ());

254 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(
cÚ¡_poš‹r
 
rhs
ècÚ¡ 
nÛxû±
 {

256  (
com·»
 (
rhs
) != 0);

258 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
Vœtu®SŒšg
 &
rhs
ècÚ¡ 
nÛxû±
 {

260  (*
this
 !ğ
rhs
.
c_¡r
 ());

262 
šlše
 
boŞ
 
	gİ”©Ü
 > (
cÚ¡_poš‹r
 
	grhs
ècÚ¡ 
	gnÛxû±
 {

264  (
com·»
 (
rhs
) > 0);

266 
šlše
 
boŞ
 
	gİ”©Ü
 > (cÚ¡ 
	gVœtu®SŒšg
 &
	grhs
ècÚ¡ 
	gnÛxû±
 {

268  (*
	gthis
 > 
	grhs
.
c_¡r
 ());

270 
šlše
 
boŞ
 
	gİ”©Ü
 < (
cÚ¡_poš‹r
 
	grhs
ècÚ¡ 
	gnÛxû±
 {

272  (
com·»
 (
rhs
) < 0);

274 
šlše
 
boŞ
 
	gİ”©Ü
 < (cÚ¡ 
	gVœtu®SŒšg
 &
	grhs
ècÚ¡ 
	gnÛxû±
 {

276  (*
	gthis
 < 
	grhs
.
c_¡r
 ());

281 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gšdex
ècÚ¡ 
	gnÛxû±
 {

283  (
	g¡ršg_
 [
šdex
]);

285 
šlše
 
»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gšdex
è
	gnÛxû±
 {

287  (
	g¡ršg_
 [
šdex
]);

290 
šlše
 
ş—r
 (è
	gnÛxû±
 { *
	g¡ršg_
 = 0; }

294 
šlše
 
»size
 (
size_ty³
è
	gnÛxû±
 { }

295 
šlše
 
»size
 (
size_ty³
, 
v®ue_ty³
è
	gnÛxû±
 { }

299 
šlše
 
cÚ¡_poš‹r
 
c_¡r
 (ècÚ¡ 
	gnÛxû±
 {  (
	g¡ršg_
); }

300 
šlše
 
cÚ¡_poš‹r
 
sub_c_¡r
 (
size_ty³
 
off£t
ècÚ¡ 
	gnÛxû±
 {

302  (
	goff£t
 !ğ
Åos
 ? 
¡ršg_
 + 
off£t
 : 
nuÎ±r
);

304 
šlše
 
size_ty³
 
size
 (ècÚ¡ 
	gnÛxû±
 {  (::
¡¾’
(
¡ršg_
)); }

305 
šlše
 
boŞ
 
em±y
 (ècÚ¡ 
	gnÛxû±
 {  (*
	g¡ršg_
 == 0); }

310 
šlše
 
size_ty³
 
hash
 (ècÚ¡ 
	gnÛxû±
 {

312 
size_ty³
 
	gh
 = 14695981039346656037UL;

313 
cÚ¡_poš‹r
 
	gs
 = 
¡ršg_
;

315 *(
	gs
++)è{ 
	gh
 = (
h
 ^ *
s
) * 1099511628211UL; }

316  (
	gh
);

319 
	g´iv©e
:

321 
poš‹r
 
¡ršg_
;

335 
	g‹m¶©e
 <
	gS
>

336 şas 
	cFixedSizeSŒšg
 : 
public
 
Vœtu®SŒšg
 {

338 
public
:

340 
šlše
 
FixedSizeSŒšg
 (è
nÛxû±


341 : 
Vœtu®SŒšg
 (
bufãr_
) { *buffer_ = 0; }

342 
šlše
 
FixedSizeSŒšg
 (
cÚ¡_poš‹r
 
¡r
è
	gnÛxû±


343 : 
Vœtu®SŒšg
 (
bufãr_
è{ *
this
 = 
¡r
; }

344 
šlše
 
FixedSizeSŒšg
 (cÚ¡ FixedSizeSŒšg &
th©
è
	gnÛxû±


345 : 
Vœtu®SŒšg
 (
bufãr_
è{ *
this
 = 
th©
; }

346 
šlše
 
FixedSizeSŒšg
 (cÚ¡ 
Vœtu®SŒšg
 &
th©
è
	gnÛxû±


347 : 
Vœtu®SŒšg
 (
bufãr_
è{ *
this
 = 
th©
; }

351 
šlše
 
	gFixedSizeSŒšg
 &
	gİ”©Ü
 = (cÚ¡ 
FixedSizeSŒšg
 &
rhs
è
nÛxû±
 {

353 ::
¡rıy
 (
bufãr_
, 
rhs
.buffer_);

354  (*
	gthis
);

356 
šlše
 
	gFixedSizeSŒšg
 &
	gİ”©Ü
 = (
cÚ¡_poš‹r
 
rhs
è
nÛxû±
 {

358 ::
¢´štf
(
bufãr_
, 
S
, "%s", 
rhs
);

359  (*
	gthis
);

361 
šlše
 
	gFixedSizeSŒšg
 &
	gİ”©Ü
 = (cÚ¡ 
Vœtu®SŒšg
 &
rhs
è
nÛxû±
 {

363 *
this
 = 
rhs
.
c_¡r
 ();

364  (*
	gthis
);

367 
šlše
 
size_ty³
 
ÿ·c™y
 (è
	gnÛxû±
 {  (
	gS
); }

369 
	g´iv©e
:

371 
v®ue_ty³
 
bufãr_
 [
S
 + 1];

376 
	g‹m¶©e
<
ty³Çme
 
	gS
>

377 
šlše
 
	gS
 &
	gİ”©Ü
 << (S &
	glhs
, cÚ¡ 
	gVœtu®SŒšg
 &
	grhs
) {

379  (
	glhs
 << 
	grhs
.
c_¡r
 ());

384 
usšg
 
	gSŒšg32
 = 
FixedSizeSŒšg
<31>;

385 
usšg
 
	gSŒšg64
 = 
FixedSizeSŒšg
<63>;

386 
usšg
 
	gSŒšg128
 = 
FixedSizeSŒšg
<127>;

387 
usšg
 
	gSŒšg512
 = 
FixedSizeSŒšg
<511>;

388 
usšg
 
	gSŒšg1K
 = 
FixedSizeSŒšg
<1023>;

389 
usšg
 
	gSŒšg2K
 = 
FixedSizeSŒšg
<2047>;

395 
Çme¥aû
 
	g¡d
 {

396 
	g‹m¶©e
<>

397 
	ghash
<
ty³Çme
 
	ghmdf
::
Vœtu®SŒšg
> {

399 
šlše
 
size_t
 
İ”©Ü
()(cÚ¡ 
hmdf
::
Vœtu®SŒšg
 &
key
ècÚ¡ 
nÛxû±
 {

401  (
key
.
hash
());

	@DataFrame/original/include/DataFrame/Utils/ThreadGranularity.h

30 
	~<®gÜ™hm
>

31 
	~<©omic
>

33 #´agm¨
Úû


35 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

36 #ifdeà
LIBRARY_EXPORTS


37 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

39 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

41 #ifdeà
mš


42 #undeà
mš


44 #ifdeà
max


45 #undeà
max


48 
	#LIBRARY_API


	)

53 
Çme¥aû
 
	ghmdf


56 
LIBRARY_API
 
	gTh»adG¿nuÏr™y
 {

58 
šlše
 

59 
£t_th»ad_Ëv–
(
n
è{ 
	gnum_of_th»ads_
 =‚; }

60 
šlše
 

61 
g‘_th»ad_Ëv–
(è{  (
	gnum_of_th»ads_
); }

62 
šlše
 

63 
g‘_suµÜ‹d_th»ad
(è{  (
	gsuµÜ‹d_th»ads_
); }

65 
šlše
 

66 
g‘_£nsibË_th»ad_Ëv–
() {

68  (
	gsuµÜ‹d_th»ads_
 != 0

69 ? 
¡d
::
mš
(
suµÜ‹d_th»ads_
, 
num_of_th»ads_
)

70 : 
num_of_th»ads_
);

73 
	g´Ùeùed
:

75 
Th»adG¿nuÏr™y
() = ;

77 
	g´iv©e
:

79 
num_of_th»ads_
;

80 cÚ¡ 
	gsuµÜ‹d_th»ads_
;

85 
	sSpšLock
 {

87 
SpšLock
 () = ;

88 ~
SpšLock
() = ;

90 
šlše
 

91 
lock
(è
	gnÛxû±
 { 
	glock_
.
‹¡_ªd_£t
(
¡d
::
memÜy_Üd”_acquœe
)) ; }

92 
šlše
 
boŞ
 
Œy_lock
(è
	gnÛxû±
 {

94  (! 
	glock_
.
‹¡_ªd_£t
(
¡d
::
memÜy_Üd”_acquœe
));

96 
šlše
 
uÆock
(è
	gnÛxû±
 { 
	glock_
.
ş—r
(
¡d
::
memÜy_Üd”_»Ëa£
); }

98 
SpšLock
 (cÚ¡ SpšLock &èğ
d–‘e
;

99 
	gSpšLock
 &
	gİ”©Ü
 = (cÚ¡ 
SpšLock
 &èğ
d–‘e
;

101 
	g´iv©e
:

103 
¡d
::
©omic_æag
 
lock_
 = 
ATOMIC_FLAG_INIT
;

108 
	sSpšGu¬d
 {

110 
šlše


111 
SpšGu¬d
(
SpšLock
 *
l
è
	gnÛxû±
 : 
lock_
Öè{ iàÖock_èlock_->
lock
(); }

112 
	gšlše
 ~
SpšGu¬d
(è
	gnÛxû±
 { ià(
	glock_
èlock_->
uÆock
(); }

114 
šlše
 
»Ëa£
(è
	gnÛxû±
 {

116 ià(
	glock_
) {

117 
	glock_
->
uÆock
();

118 
	glock_
 = 
nuÎ±r
;

122 
SpšGu¬d
 (èğ
d–‘e
;

123 
SpšGu¬d
 (cÚ¡ SpšGu¬d &èğ
d–‘e
;

124 
	gSpšGu¬d
 &
	gİ”©Ü
 = (cÚ¡ 
SpšGu¬d
 &èğ
d–‘e
;

126 
	g´iv©e
:

128 
SpšLock
 *
lock_
;

	@DataFrame/original/include/DataFrame/Vectors/HeteroPtrView.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/VeùÜs/VeùÜPŒV›w.h
>

34 
	~<funùiÚ®
>

35 
	~<unÜd”ed_m­
>

39 
Çme¥aû
 
	ghmdf


42 
LIBRARY_API
 
	gH‘”oPŒV›w
 {

44 
	gpublic
:

46 
usšg
 
size_ty³
 = 
size_t
;

48 
H‘”oPŒV›w
() = ;

49 
	g‹m¶©e
<
ty³Çme
 
	gT
>

50 
H‘”oPŒV›w
(
T
 *
begš_±r
, T *
’d_±r
);

61 
	g‹m¶©e
<
ty³Çme
 
	gT
>

62 
£t_begš_’d_¥ecŸl
(
T
 *
bp
, T *
•_1
);

64 
	g‹m¶©e
<
ty³Çme
 
	gT
>

65 
H‘”oPŒV›w
(
VeùÜPŒV›w
<
T
> &
vec
);

66 
	g‹m¶©e
<
ty³Çme
 
	gT
>

67 
H‘”oPŒV›w
(
VeùÜPŒV›w
<
T
> &&
vec
);

68 
H‘”oPŒV›w
(cÚ¡ H‘”oPŒV›w &
th©
);

69 
H‘”oPŒV›w
(H‘”oPŒV›w &&
th©
);

71 ~
H‘”oPŒV›w
(è{ 
ş—r
(); }

73 
	gH‘”oPŒV›w
 &
	gİ”©Ü
ğ(cÚ¡ 
H‘”oPŒV›w
 &
rhs
);

74 
	gH‘”oPŒV›w
 &
	gİ”©Ü
ğ(
H‘”oPŒV›w
 &&
rhs
);

76 
	g‹m¶©e
<
ty³Çme
 
	gT
>

77 
	gVeùÜPŒV›w
<
	gT
> &
g‘_veùÜ
();

78 
	g‹m¶©e
<
ty³Çme
 
	gT
>

79 cÚ¡ 
	gVeùÜPŒV›w
<
	gT
> &
g‘_veùÜ
() const;

81 
	g‹m¶©e
<
ty³Çme
 
	gT
>

82 
»£rve
 (
size_ty³
 
r
è{ 
	gg‘_veùÜ
<
	gT
>().reserve (r); }

83 
	g‹m¶©e
<
ty³Çme
 
	gT
>

84 
shršk_to_f™
 (è{ 
	gg‘_veùÜ
<
	gT
>().shrink_to_fit (); }

86 
	g‹m¶©e
<
ty³Çme
 
	gT
>

87 
ty³Çme
 
	gVeùÜPŒV›w
<
	gT
>::

88 
size_ty³
 
size
 (ècÚ¡ {  (
g‘_veùÜ
<
T
>().size()); }

90 
ş—r
();

92 
	g‹m¶©e
<
ty³Çme
 
	gT
>

93 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
;

95 
	g‹m¶©e
<
ty³Çme
 
	gT
>

96 
	gT
 &
©
(
size_ty³
 
idx
);

97 
	g‹m¶©e
<
ty³Çme
 
	gT
>

98 cÚ¡ 
	gT
 &
©
(
size_ty³
 
idx
) const;

100 
	g‹m¶©e
<
ty³Çme
 
	gT
>

101 
	gT
 &
back
();

102 
	g‹m¶©e
<
ty³Çme
 
	gT
>

103 cÚ¡ 
	gT
 &
back
() const;

105 
	g‹m¶©e
<
ty³Çme
 
	gT
>

106 
	gT
 &
äÚt
();

107 
	g‹m¶©e
<
ty³Çme
 
	gT
>

108 cÚ¡ 
	gT
 &
äÚt
() const;

110 
	g´iv©e
:

112 
‹m¶©e
<
ty³Çme
 
T
>

113 
šlše
 
¡d
::
unÜd”ed_m­
<cÚ¡ 
H‘”oPŒV›w
 *, 
	gVeùÜPŒV›w
<
	gT
>>

114 
	gv›ws_
 { };

116 
	g¡d
::
funùiÚ
<(
H‘”oPŒV›w
 &)>

117 
ş—r_funùiÚ_
 {

118 [](
H‘”oPŒV›w
 &) { ; }

120 
	g¡d
::
funùiÚ
<(cÚ¡ 
H‘”oPŒV›w
 &, 
	gH‘”oPŒV›w
 &)>

121 
	gcİy_funùiÚ_
 {

122 [](cÚ¡ 
	gH‘”oPŒV›w
 &, HeteroPtrView &) { ; }

124 
	g¡d
::
funùiÚ
<(
H‘”oPŒV›w
 &, 
	gH‘”oPŒV›w
 &)>

125 
	gmove_funùiÚ_
 {

126 [](
	gH‘”oPŒV›w
 &, HeteroPtrView &) { ; }

131 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

132 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
);

133 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

134 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
) const;

136 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

137 
sÜt_im¶_h–p_
 (
T
 &
funùÜ
);

139 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

140 
chªge_im¶_h–p_
 (
T
 &
funùÜ
);

141 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

142 
chªge_im¶_h–p_
 (
T
 &
funùÜ
) const;

146 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

147 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>);

148 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

149 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>) const;

151 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

152 
sÜt_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

154 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

155 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

156 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

157 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>) const;

159 
	gpublic
:

161 
‹m¶©e
<
ty³Çme
... 
Ts
>

162 
	sty³_li¡
 { };

164 
	g‹m¶©e
<
	gty³Çme
... 
	gTs
>

165 
	svis™Ü_ba£
 { 
usšg
 
	gty³s
 = 
ty³_li¡
<
Ts
 ...>; };

167 
	g‹m¶©e
<
ty³Çme
 
	gT
>

168 
vis™
 (
T
 &&
vis™Ü
) {

170 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

172 
	g‹m¶©e
<
ty³Çme
 
	gT
>

173 
vis™
 (
T
 &&
vis™Ü
) const {

175 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

177 
	g‹m¶©e
<
ty³Çme
 
	gT
>

178 
sÜt
 (
T
 &&
funùÜ
) {

180 
sÜt_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

182 
	g‹m¶©e
<
ty³Çme
 
	gT
>

183 
chªge
 (
T
 &&
funùÜ
) {

185 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

187 
	g‹m¶©e
<
ty³Çme
 
	gT
>

188 
chªge
 (
T
 &&
funùÜ
) const {

190 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

198 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


199 
	~<D©aF¿me/VeùÜs/H‘”oPŒV›w.tcc
>

	@DataFrame/original/include/DataFrame/Vectors/HeteroVector.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/VeùÜs/H‘”oPŒV›w.h
>

33 
	~<D©aF¿me/VeùÜs/H‘”oV›w.h
>

35 
	~<unÜd”ed_m­
>

39 
Çme¥aû
 
	ghmdf


46 
	sH‘”oVeùÜ
 {

48 
	gpublic
:

50 
usšg
 
size_ty³
 = 
size_t
;

52 
H‘”oVeùÜ
();

53 
H‘”oVeùÜ
(cÚ¡ H‘”oVeùÜ &
th©
);

54 
H‘”oVeùÜ
(H‘”oVeùÜ &&
th©
è
	gnÛxû±
;

56 ~
H‘”oVeùÜ
(è{ 
ş—r
(); }

58 
	gH‘”oVeùÜ
 &
	gİ”©Ü
ğ(cÚ¡ 
H‘”oVeùÜ
 &
rhs
);

59 
	gH‘”oVeùÜ
 &
	gİ”©Ü
ğ(
H‘”oVeùÜ
 &&
rhs
è
nÛxû±
;

61 
	g‹m¶©e
<
ty³Çme
 
	gT
>

62 
	g¡d
::
veùÜ
<
T
> &
g‘_veùÜ
();

63 
	g‹m¶©e
<
ty³Çme
 
	gT
>

64 cÚ¡ 
	g¡d
::
veùÜ
<
T
> &
g‘_veùÜ
() const;

71 
	g‹m¶©e
<
ty³Çme
 
	gT
>

72 
H‘”oV›w
 
g‘_v›w
(
size_ty³
 
begš
 = 0, size_ty³ 
’d
 = -1);

74 
	g‹m¶©e
<
ty³Çme
 
	gT
>

75 
H‘”oPŒV›w
 
g‘_±r_v›w
(
size_ty³
 
begš
 = 0, size_ty³ 
’d
 = -1);

77 
	g‹m¶©e
<
ty³Çme
 
	gT
>

78 
push_back
(cÚ¡ 
T
 &
v
);

79 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
	gşass
... 
	gArgs
>

80 
em¶aû_back
 (
Args
 &&... 
¬gs
);

81 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gITR
, 
	gşass
... 
	gArgs
>

82 
em¶aû
 (
ITR
 
pos
, 
Args
 &&... 
¬gs
);

84 
	g‹m¶©e
<
ty³Çme
 
	gT
>

85 
»£rve
 (
size_ty³
 
r
è{ 
	gg‘_veùÜ
<
	gT
>().reserve (r); }

86 
	g‹m¶©e
<
ty³Çme
 
	gT
>

87 
shršk_to_f™
 (è{ 
	gg‘_veùÜ
<
	gT
>().shrink_to_fit (); }

89 
	g‹m¶©e
<
ty³Çme
 
	gT
>

90 
size_ty³
 
size
 (ècÚ¡ {  (
	gg‘_veùÜ
<
	gT
>().size()); }

92 
ş—r
();

94 
	g‹m¶©e
<
ty³Çme
 
	gT
>

95 
”a£
(
size_ty³
 
pos
);

97 
	g‹m¶©e
<
ty³Çme
 
	gT
>

98 
»size
(
size_ty³
 
couÁ
);

99 
	g‹m¶©e
<
ty³Çme
 
	gT
>

100 
»size
(
size_ty³
 
couÁ
, cÚ¡ 
T
 &
v
);

102 
	g‹m¶©e
<
ty³Çme
 
	gT
>

103 
pİ_back
();

105 
	g‹m¶©e
<
ty³Çme
 
	gT
>

106 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
;

108 
	g‹m¶©e
<
ty³Çme
 
	gT
>

109 
	gT
 &
©
(
size_ty³
 
idx
);

110 
	g‹m¶©e
<
ty³Çme
 
	gT
>

111 cÚ¡ 
	gT
 &
©
(
size_ty³
 
idx
) const;

113 
	g‹m¶©e
<
ty³Çme
 
	gT
>

114 
	gT
 &
back
();

115 
	g‹m¶©e
<
ty³Çme
 
	gT
>

116 cÚ¡ 
	gT
 &
back
() const;

118 
	g‹m¶©e
<
ty³Çme
 
	gT
>

119 
	gT
 &
äÚt
();

120 
	g‹m¶©e
<
ty³Çme
 
	gT
>

121 cÚ¡ 
	gT
 &
äÚt
() const;

123 
	g‹m¶©e
<
ty³Çme
 
	gT
>

124 
usšg
 
	g™”©Ü
 = 
ty³Çme
 
¡d
::
veùÜ
<
T
>::
™”©Ü
;

125 
	g‹m¶©e
<
ty³Çme
 
	gT
>

126 
usšg
 
	gcÚ¡_™”©Ü
 = 
ty³Çme
 
¡d
::
veùÜ
<
T
>::
cÚ¡_™”©Ü
;

127 
	g‹m¶©e
<
ty³Çme
 
	gT
>

128 
usšg
 
	g»v”£_™”©Ü
 = 
ty³Çme
 
¡d
::
veùÜ
<
T
>::
»v”£_™”©Ü
;

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
usšg
 
	gcÚ¡_»v”£_™”©Ü
 =

131 
ty³Çme
 
¡d
::
veùÜ
<
T
>::
cÚ¡_»v”£_™”©Ü
;

133 
	g‹m¶©e
<
ty³Çme
 
	gT
>

134 
šlše
 
	g™”©Ü
<
	gT
>

135 
begš
(è
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().begin()); }

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
šlše
 
	g™”©Ü
<
	gT
>

139 
’d
(è
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().end()); }

141 
	g‹m¶©e
<
ty³Çme
 
	gT
>

142 
šlše
 
	gcÚ¡_™”©Ü
<
	gT
>

143 
begš
 (ècÚ¡ 
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().begin()); }

145 
	g‹m¶©e
<
ty³Çme
 
	gT
>

146 
šlše
 
	gcÚ¡_™”©Ü
<
	gT
>

147 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().end()); }

149 
	g‹m¶©e
<
ty³Çme
 
	gT
>

150 
šlše
 
	g»v”£_™”©Ü
<
	gT
>

151 
rbegš
(è
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().rbegin()); }

153 
	g‹m¶©e
<
ty³Çme
 
	gT
>

154 
šlše
 
	g»v”£_™”©Ü
<
	gT
>

155 
»nd
(è
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().rend()); }

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	gcÚ¡_»v”£_™”©Ü
<
	gT
>

159 
rbegš
 (ècÚ¡ 
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().rbegin()); }

161 
	g‹m¶©e
<
ty³Çme
 
	gT
>

162 
šlše
 
	gcÚ¡_»v”£_™”©Ü
<
	gT
>

163 
»nd
 (ècÚ¡ 
	gnÛxû±
 {  (
	gg‘_veùÜ
<
	gT
>().rend()); }

165 
	g´iv©e
:

167 
‹m¶©e
<
ty³Çme
 
T
>

168 
šlše
 
¡d
::
unÜd”ed_m­
<cÚ¡ 
H‘”oVeùÜ
 *, 
	g¡d
::
veùÜ
<
T
>>

169 
veùÜs_
 { };

171 
	g¡d
::
veùÜ
<
¡d
::
funùiÚ
<(
H‘”oVeùÜ
 &)>> 
ş—r_funùiÚs_
;

172 
	g¡d
::
veùÜ
<
¡d
::
funùiÚ
<(cÚ¡ 
H‘”oVeùÜ
 &,

173 
	gH‘”oVeùÜ
 &)>> 
	gcİy_funùiÚs_
;

174 
	g¡d
::
veùÜ
<
¡d
::
funùiÚ
<(
H‘”oVeùÜ
 &,

175 
	gH‘”oVeùÜ
 &)>> 
	gmove_funùiÚs_
;

179 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

180 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
);

181 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

182 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
) const;

184 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

185 
sÜt_im¶_h–p_
 (
T
 &
funùÜ
);

187 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

188 
chªge_im¶_h–p_
 (
T
 &
funùÜ
);

189 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

190 
chªge_im¶_h–p_
 (
T
 &
funùÜ
) const;

194 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

195 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>);

196 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

197 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>) const;

199 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

200 
sÜt_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

202 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

203 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

204 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

205 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>) const;

207 
	gpublic
:

209 
‹m¶©e
<
ty³Çme
... 
Ts
>

210 
	sty³_li¡
 { };

212 
	g‹m¶©e
<
	gty³Çme
... 
	gTs
>

213 
	svis™Ü_ba£
 { 
usšg
 
	gty³s
 = 
ty³_li¡
<
Ts
 ...>; };

215 
	g‹m¶©e
<
ty³Çme
 
	gT
>

216 
vis™
 (
T
 &&
vis™Ü
) {

218 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

220 
	g‹m¶©e
<
ty³Çme
 
	gT
>

221 
vis™
 (
T
 &&
vis™Ü
) const {

223 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

225 
	g‹m¶©e
<
ty³Çme
 
	gT
>

226 
sÜt
 (
T
 &&
funùÜ
) {

228 
sÜt_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

230 
	g‹m¶©e
<
ty³Çme
 
	gT
>

231 
chªge
 (
T
 &&
funùÜ
) {

233 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

235 
	g‹m¶©e
<
ty³Çme
 
	gT
>

236 
chªge
 (
T
 &&
funùÜ
) const {

238 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

246 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


247 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.tcc
>

	@DataFrame/original/include/DataFrame/Vectors/HeteroView.h

30 #´agm¨
Úû


32 
	~<D©aF¿me/VeùÜs/VeùÜV›w.h
>

34 
	~<funùiÚ®
>

35 
	~<unÜd”ed_m­
>

39 
Çme¥aû
 
	ghmdf


42 
	sH‘”oV›w
 {

44 
	gpublic
:

46 
usšg
 
size_ty³
 = 
size_t
;

48 
H‘”oV›w
() = ;

49 
	g‹m¶©e
<
ty³Çme
 
	gT
>

50 
H‘”oV›w
(
T
 *
begš_±r
, T *
’d_±r
);

61 
	g‹m¶©e
<
ty³Çme
 
	gT
>

62 
£t_begš_’d_¥ecŸl
(
T
 *
bp
, T *
•_1
);

64 
H‘”oV›w
(cÚ¡ H‘”oV›w &
th©
);

65 
H‘”oV›w
(H‘”oV›w &&
th©
);

67 ~
H‘”oV›w
(è{ 
ş—r
(); }

69 
	gH‘”oV›w
 &
	gİ”©Ü
ğ(cÚ¡ 
H‘”oV›w
 &
rhs
);

70 
	gH‘”oV›w
 &
	gİ”©Ü
ğ(
H‘”oV›w
 &&
rhs
);

72 
	g‹m¶©e
<
ty³Çme
 
	gT
>

73 
	gVeùÜV›w
<
	gT
> &
g‘_veùÜ
();

74 
	g‹m¶©e
<
ty³Çme
 
	gT
>

75 cÚ¡ 
	gVeùÜV›w
<
	gT
> &
g‘_veùÜ
() const;

77 
	g‹m¶©e
<
ty³Çme
 
	gT
>

78 
ty³Çme
 
	gVeùÜV›w
<
	gT
>::

79 
size_ty³
 
size
 (ècÚ¡ {  (
g‘_veùÜ
<
T
>().size()); }

81 
ş—r
();

83 
	g‹m¶©e
<
ty³Çme
 
	gT
>

84 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
;

86 
	g‹m¶©e
<
ty³Çme
 
	gT
>

87 
	gT
 &
©
(
size_ty³
 
idx
);

88 
	g‹m¶©e
<
ty³Çme
 
	gT
>

89 cÚ¡ 
	gT
 &
©
(
size_ty³
 
idx
) const;

91 
	g‹m¶©e
<
ty³Çme
 
	gT
>

92 
	gT
 &
back
();

93 
	g‹m¶©e
<
ty³Çme
 
	gT
>

94 cÚ¡ 
	gT
 &
back
() const;

96 
	g‹m¶©e
<
ty³Çme
 
	gT
>

97 
	gT
 &
äÚt
();

98 
	g‹m¶©e
<
ty³Çme
 
	gT
>

99 cÚ¡ 
	gT
 &
äÚt
() const;

101 
	g‹m¶©e
<
ty³Çme
 
	gT
>

102 
usšg
 
	g™”©Ü
 = 
ty³Çme
 
VeùÜV›w
<
T
>::
™”©Ü
;

103 
	g‹m¶©e
<
ty³Çme
 
	gT
>

104 
usšg
 
	gcÚ¡_™”©Ü
 = 
ty³Çme
 
VeùÜV›w
<
T
>::
cÚ¡_™”©Ü
;

105 
	g‹m¶©e
<
ty³Çme
 
	gT
>

106 
usšg
 
	g»v”£_™”©Ü
 = 
ty³Çme
 
VeùÜV›w
<
T
>::
»v”£_™”©Ü
;

107 
	g‹m¶©e
<
ty³Çme
 
	gT
>

108 
usšg
 
	gcÚ¡_»v”£_™”©Ü
 =

109 
ty³Çme
 
VeùÜV›w
<
T
>::
cÚ¡_»v”£_™”©Ü
;

111 
	g‹m¶©e
<
ty³Çme
 
	gT
>

112 
	g™”©Ü
<
	gT
> 
begš
();

113 
	g‹m¶©e
<
ty³Çme
 
	gT
>

114 
	gcÚ¡_™”©Ü
<
	gT
> 
begš
() const;

116 
	g‹m¶©e
<
ty³Çme
 
	gT
>

117 
	g™”©Ü
<
	gT
> 
’d
();

118 
	g‹m¶©e
<
ty³Çme
 
	gT
>

119 
	gcÚ¡_™”©Ü
<
	gT
> 
’d
() const;

121 
	g‹m¶©e
<
ty³Çme
 
	gT
>

122 
	g»v”£_™”©Ü
<
	gT
> 
rbegš
();

123 
	g‹m¶©e
<
ty³Çme
 
	gT
>

124 
	gcÚ¡_»v”£_™”©Ü
<
	gT
> 
rbegš
() const;

126 
	g‹m¶©e
<
ty³Çme
 
	gT
>

127 
	g»v”£_™”©Ü
<
	gT
> 
»nd
();

128 
	g‹m¶©e
<
ty³Çme
 
	gT
>

129 
	gcÚ¡_»v”£_™”©Ü
<
	gT
> 
»nd
() const;

131 
	g´iv©e
:

133 
‹m¶©e
<
ty³Çme
 
T
>

134 
šlše
 

135 
¡d
::
unÜd”ed_m­
<cÚ¡ 
H‘”oV›w
 *, 
	gVeùÜV›w
<
	gT
>> 
	gv›ws_
 { };

137 
	g¡d
::
funùiÚ
<(
H‘”oV›w
 &)> 
ş—r_funùiÚ_
 {

138 [](
H‘”oV›w
 &) { ; }

140 
	g¡d
::
funùiÚ
<(cÚ¡ 
H‘”oV›w
 &, 
	gH‘”oV›w
 &)> 
	gcİy_funùiÚ_
 {

141 [](cÚ¡ 
	gH‘”oV›w
 &, HeteroView &) { ; }

143 
	g¡d
::
funùiÚ
<(
H‘”oV›w
 &, 
	gH‘”oV›w
 &)> 
	gmove_funùiÚ_
 {

144 [](
	gH‘”oV›w
 &, HeteroView &) { ; }

149 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

150 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
);

151 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

152 
vis™_im¶_h–p_
 (
T
 &
vis™Ü
) const;

154 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

155 
sÜt_im¶_h–p_
 (
T
 &
funùÜ
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

158 
chªge_im¶_h–p_
 (
T
 &
funùÜ
);

159 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gU
>

160 
chªge_im¶_h–p_
 (
T
 &
funùÜ
) const;

164 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

165 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>);

166 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

167 
vis™_im¶_
 (
T
 &&
vis™Ü
, 
TLIST
<
TYPES
...>) const;

169 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

170 
sÜt_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

172 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

173 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>);

174 
	g‹m¶©e
<
şass
 
	gT
,em¶©e<
	gşass
...> cÏs 
	gTLIST
, cÏss... 
	gTYPES
>

175 
chªge_im¶_
 (
T
 &&
funùÜ
, 
TLIST
<
TYPES
...>) const;

177 
	gpublic
:

179 
‹m¶©e
<
ty³Çme
... 
Ts
>

180 
	sty³_li¡
 { };

182 
	g‹m¶©e
<
	gty³Çme
... 
	gTs
>

183 
	svis™Ü_ba£
 { 
usšg
 
	gty³s
 = 
ty³_li¡
<
Ts
 ...>; };

185 
	g‹m¶©e
<
ty³Çme
 
	gT
>

186 
vis™
 (
T
 &&
vis™Ü
) {

188 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

190 
	g‹m¶©e
<
ty³Çme
 
	gT
>

191 
vis™
 (
T
 &&
vis™Ü
) const {

193 
vis™_im¶_
 (
vis™Ü
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

195 
	g‹m¶©e
<
ty³Çme
 
	gT
>

196 
sÜt
 (
T
 &&
funùÜ
) {

198 
sÜt_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

200 
	g‹m¶©e
<
ty³Çme
 
	gT
>

201 
chªge
 (
T
 &&
funùÜ
) {

203 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

205 
	g‹m¶©e
<
ty³Çme
 
	gT
>

206 
chªge
 (
T
 &&
funùÜ
) const {

208 
chªge_im¶_
 (
funùÜ
, 
ty³Çme
 
¡d
::
deÿy_t
<
T
>::
ty³s
 { });

216 #iâdeà
HMDF_DO_NOT_INCLUDE_TCC_FILES


217 
	~<D©aF¿me/VeùÜs/H‘”oV›w.tcc
>

	@DataFrame/original/include/DataFrame/Vectors/VectorPtrView.h

30 #´agm¨
Úû


32 
	~<®gÜ™hm
>

33 
	~<funùiÚ®
>

34 
	~<™”©Ü
>

35 
	~<veùÜ
>

37 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

38 #ifdeà
LIBRARY_EXPORTS


39 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

41 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

44 
	#LIBRARY_API


	)

49 
Çme¥aû
 
	ghmdf


52 
	g‹m¶©e
<
ty³Çme
 
	gT
>

53 şas 
	cLIBRARY_API
 
	gVeùÜPŒV›w
 {

55 
	g´iv©e
:

57 
usšg
 
veùÜ_ty³
 = 
¡d
::
veùÜ
<
T
 *>;

59 
veùÜ_ty³
 
	gveùÜ_
 { };

61 
	gpublic
:

63 
usšg
 
v®ue_ty³
 = 
T
;

64 
usšg
 
	gpoš‹r
 = 
T
 *;

65 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
T
 *;

66 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
T
 *const;

67 
usšg
 
	g»ã»nû
 = 
T
 &;

68 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
T
 &;

69 
usšg
 
	gsize_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
size_ty³
;

70 
usšg
 
	gdifã»nû_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
difã»nû_ty³
;

72 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
T
);

74 
	gpublic
:

76 
šlše
 
size_ty³
 
size
(ècÚ¡ 
nÛxû±
 {  (
veùÜ_
.size ()); }

77 
šlše
 
size_ty³
 
max_size
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.max_size()); }

78 
šlše
 
size_ty³
 
ÿ·c™y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.capacity()); }

80 
šlše
 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.empty()); }

81 
šlše
 
shršk_to_f™
(è{ 
	gveùÜ_
.shrink_to_fit(); }

83 
šlše
 
»ã»nû
 
©
(
size_ty³
 
n
è{  (*(
	gveùÜ_
[n])); }

84 
šlše
 
	gpoš‹r
 &
±r_©
(
size_ty³
 
n
è{  (
	gveùÜ_
[n]); }

85 
šlše
 
cÚ¡_»ã»nû
 
©
(
size_ty³
 
n
ècÚ¡ {  (*(
	gveùÜ_
[n])); }

86 
šlše
 
»ã»nû
 
	gİ”©Ü
[](
size_ty³
 
	gn
è{  (
©
(
n
)); }

87 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
[](
size_ty³
 
	gn
ècÚ¡ {  (
©
(
n
)); }

89 
šlše
 
»£rve
 (
size_ty³
 
n
è
	gnÛxû±
 { 
	gveùÜ_
.reserve (n); }

91 
šlše
 
»ã»nû
 
äÚt
 (è
	gnÛxû±
 {  (*(
	gveùÜ_
.front ())); }

92 
šlše
 
cÚ¡_»ã»nû


93 
äÚt
(ècÚ¡ 
	gnÛxû±
 { (*(
	gveùÜ_
.front())); }

94 
šlše
 
»ã»nû
 
back
 (è
	gnÛxû±
 {  (*(
	gveùÜ_
.back ())); }

95 
šlše
 
cÚ¡_»ã»nû


96 
back
 (ècÚ¡ 
	gnÛxû±
 {  (*(
	gveùÜ_
.back ())); }

98 
šlše
 
push_back
(
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.push_back(v); }

99 
šlše
 
em¶aû_back
(
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.emplace_back(v); }

100 
šlše
 
pİ_back
(è{ 
	gveùÜ_
.pop_back(); }

102 
šlše
 

103 
sw­
 (
VeùÜPŒV›w
 &
rhs
è
	gnÛxû±
 { 
	gveùÜ_
.sw­ (rhs.
veùÜ_
); }

105 
šlše
 
ä›nd
 
boŞ


106 
	gİ”©Ü
 =ğ(cÚ¡ 
VeùÜPŒV›w
 &
lhs
, cÚ¡ 
	gVeùÜPŒV›w
 &
	grhs
) {

108  (
	glhs
.
	gveùÜ_
 =ğ
rhs
.
veùÜ_
);

110 
šlše
 
ä›nd
 
boŞ


111 
	gİ”©Ü
 < (cÚ¡ 
	gVeùÜPŒV›w
 &
	glhs
, cÚ¡ VeùÜPŒV›w &
	grhs
) {

113  (
	glhs
.
	gveùÜ_
 < 
	grhs
.vector_);

116 
šlše
 
VeùÜPŒV›w
 () = ;

117 
šlše
 
VeùÜPŒV›w
 (const VectorPtrView &) = ;

118 
šlše
 
VeùÜPŒV›w
 (VectorPtrView &&) = ;

119 
šlše
 
VeùÜPŒV›w
(cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

120 
šlše
 
VeùÜPŒV›w
(
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

121 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

122 
VeùÜPŒV›w
(
ITR
 
fœ¡
, ITR 
Ï¡
) {

124 
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

125 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

126 
push_back
(&(*
™”
));

128 ~
VeùÜPŒV›w
 () = ;

139 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

140 
šlše
 
£t_begš_’d_¥ecŸl
(
ITR
 
fœ¡
, ITR 
Ï¡_1
) {

142 
ITR
 
	gÏ¡
 = 
Ï¡_1
;

144 
	gÏ¡
 += 1;

145 
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

146 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

147 
push_back
(&(*
™”
));

150 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (cÚ¡ 
VeùÜPŒV›w
 &) = ;

151 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (
VeùÜPŒV›w
 &&) = ;

152 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
) {

154 
VeùÜPŒV›w
 
tmp_vec
;

155 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

157 
»£rve
(
vec_size
);

158 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

159 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

160 
sw­
(
tmp_vec
);

161  (*
	gthis
);

163 
šlše
 
	gVeùÜPŒV›w
 &
	gİ”©Ü
 = (
¡d
::
veùÜ
<
T
> &
rhs
) {

165 
VeùÜPŒV›w
 
tmp_vec
;

166 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

168 
»£rve
(
vec_size
);

169 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

170 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

171 
sw­
(
tmp_vec
);

172  (*
	gthis
);

175 
šlše
 
ş—r
 (è
throw
 (è{ 
	gveùÜ_
.clear(); }

176 
šlše
 
»size
 (
size_ty³
 
n
è
throw
 (è{ 
	gveùÜ_
.resize(n); }

178 
šlše
 

179 
”a£
 (
size_ty³
 
pos
è{ 
	gveùÜ_
.”a£ (
veùÜ_
.
begš
() +…os); }

180 
šlše
 
”a£
 (
size_ty³
 
fœ¡
, size_ty³ 
Ï¡
) {

182 
	gveùÜ_
.
”a£
 (
veùÜ_
.
begš
(è+ 
fœ¡
, veùÜ_.begš(è+ 
Ï¡
);

185 
šlše
 
š£¹
 (
size_ty³
 
pos
, 
v®ue_ty³
 *
v
) {

187 
	gveùÜ_
.
š£¹
 (
veùÜ_
.
begš
(è+ 
pos
, 
v
);

189 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

190 
šlše
 
š£¹
(
size_ty³
 
pos
, 
ITR
 
fœ¡
, ITR 
Ï¡
) {

192 
	g¡d
::
veùÜ
<
T
 *> 
tmp_vec
;

194 
	gtmp_vec
.
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

195 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

196 
	gtmp_vec
.
push_back
(&(*
™”
));

197 
	gveùÜ_
.
»£rve
(
veùÜ_
.
size
(è+ 
tmp_vec
.size());

198 
	gveùÜ_
.
š£¹
(
veùÜ_
.
begš
(è+ 
pos
, 
tmp_vec
.begš(),mp_vec.
’d
());

201 
šlše
 

202 
sÜt
(
¡d
::
funùiÚ
<
boŞ
(cÚ¡ 
v®ue_ty³
 *, cÚ¡ v®ue_ty³ *)> 
comp
 =

203 [](cÚ¡ 
v®ue_ty³
 *
l
, cÚ¡ v®ue_ty³ *
r
è-> 
boŞ
 {

204  *
l
 < *
r
;

207 
	g¡d
::
sÜt
(
veùÜ_
.
begš
(), veùÜ_.
’d
(), 
comp
);

210 
	gpublic
:

215 
şass
 
cÚ¡_™”©Ü
;

216 şas 
	c™”©Ü
 {

218 
	g´iv©e
:

220 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
™”©Ü
;

222 
	gpublic
:

224 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

225 
usšg
 
	gv®ue_ty³
 = 
T
;

226 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

227 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

228 
usšg
 
	gdifã»nû_ty³
 = ;

230 
	gpublic
:

235 
šlše
 
™”©Ü
 () = ;

236 
šlše
 
™”©Ü
 (const iterator &) = ;

237 
šlše
 
™”©Ü
 (iterator &&) = ;

238 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &) = ;

239 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 = (
™”©Ü
 &&) = ;

241 
šlše
 
™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±
 : 
node_
 (node) { }

242 
šlše
 
™”©Ü
 (
poš‹r
 *
node
è
nÛxû±
 : 
node_
 (node) { }

244 
šlše
 
™”©Ü
 &
İ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

246 
node_
 = 
rhs
;

247  (*
	gthis
);

249 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 = (
poš‹r
 *
rhs
è
nÛxû±
 {

251 
node_
 = 
™”_ty³
(
rhs
);

252  (*
	gthis
);

255 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

257  (
node_
 =ğ
rhs
.node_);

259 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

261  (
node_
 !ğ
rhs
.node_);

267 
šlše
 
poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

268 
šlše
 
»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {  (**
	gnode_
); }

269 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

273 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

275 
	gnode_
 += 1;

276  (*
	gthis
);

278 
šlše
 
™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

280 
™”_ty³
 
	g»t_node
 = 
node_
;

282 
	gnode_
 += 1;

283  (
™”©Ü
 (
»t_node
));

286 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

288 
node_
 +ğ
¡•
;

289  (*
	gthis
);

292 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

294 
	gnode_
 -= 1;

295  (*
	gthis
);

297 
šlše
 
™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

299 
™”_ty³
 
	g»t_node
 = 
node_
;

301 
	gnode_
 -= 1;

302  (
™”©Ü
 (
»t_node
));

305 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

307 
node_
 -ğ
¡•
;

308  (*
	gthis
);

311 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

313 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

315 
	g»t_node
 +ğ
¡•
;

316  (
™”©Ü
 (
»t_node
));

319 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

321 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

323 
	g»t_node
 -ğ
¡•
;

324  (
™”©Ü
 (
»t_node
));

327 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

329 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

331 
	g»t_node
 +ğ
¡•
;

332  (
™”©Ü
 (
»t_node
));

335 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

337 
v®ue_ty³
 **
	g»t_node
 = 
node_
;

339 
	g»t_node
 -ğ
¡•
;

340  (
™”©Ü
 (
»t_node
));

343 
	g´iv©e
:

345 
™”_ty³
 
node_
 { };

347 
ä›nd
 
şass
 
	gcÚ¡_™”©Ü
;

350 şas 
	ccÚ¡_™”©Ü
 {

352 
	g´iv©e
:

354 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_™”©Ü
;

356 
	gpublic
:

358 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

359 
usšg
 
	gv®ue_ty³
 = 
T
;

360 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

361 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

362 
usšg
 
	gdifã»nû_ty³
 = ;

364 
	gpublic
:

369 
šlše
 
cÚ¡_™”©Ü
 () = ;

370 
šlše
 
cÚ¡_™”©Ü
 (const const_iterator &) = ;

371 
šlše
 
cÚ¡_™”©Ü
 (const_iterator &&) = ;

372 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &) = ;

373 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
cÚ¡_™”©Ü
 &&) = ;

375 
šlše
 
cÚ¡_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±
 : 
node_
 (node) { }

376 
šlše
 
cÚ¡_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


377 : 
node_
 (
node
) { }

378 
šlše
 
cÚ¡_™”©Ü
 (cÚ¡ 
™”©Ü
 &
™r
è
nÛxû±
 { *
this
 = itr; }

380 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

382 
node_
 = 
rhs
;

383  (*
	gthis
);

385 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

387 
node_
 = 
™”_ty³
(
rhs
);

388  (*
	gthis
);

390 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &
rhs
è
nÛxû±
 {

392 
node_
 = 
rhs
.node_;

393  (*
	gthis
);

396 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

397 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

399  (
node_
 =ğ
rhs
.node_);

401 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

402 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

404  (
node_
 !ğ
rhs
.node_);

410 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

411 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

413  (**
	gnode_
);

415 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

419 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

421 
	gnode_
 += 1;

422  (*
	gthis
);

427 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

429 
™”_ty³
 
	g»t_node
 = 
node_
;

431 
	gnode_
 += 1;

432  (
cÚ¡_™”©Ü
 (
»t_node
));

435 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

437 
node_
 +ğ
¡•
;

438  (*
	gthis
);

443 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

445 
	gnode_
 -= 1;

446  (*
	gthis
);

451 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

453 
™”_ty³
 
	g»t_node
 = 
node_
;

455 
	gnode_
 -= 1;

456  (
cÚ¡_™”©Ü
 (
»t_node
));

459 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

461 
node_
 -ğ
¡•
;

462  (*
	gthis
);

465 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

467 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

469 
	g»t_node
 +ğ
¡•
;

470  (
cÚ¡_™”©Ü
 (
»t_node
));

473 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

475 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

477 
	g»t_node
 -ğ
¡•
;

478  (
cÚ¡_™”©Ü
 (
»t_node
));

481 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

483 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

485 
	g»t_node
 +ğ
¡•
;

486  (
cÚ¡_™”©Ü
 (
»t_node
));

489 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

491 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

493 
	g»t_node
 -ğ
¡•
;

494  (
cÚ¡_™”©Ü
 (
»t_node
));

497 
	g´iv©e
:

499 
™”_ty³
 
node_
 { };

502 şas 
	ccÚ¡_»v”£_™”©Ü
 {

504 
	g´iv©e
:

506 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_»v”£_™”©Ü
;

508 
	gpublic
:

510 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

511 
usšg
 
	gv®ue_ty³
 = 
T
;

512 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

513 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

514 
usšg
 
	gdifã»nû_ty³
 = ;

516 
	gpublic
:

521 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

522 
šlše
 
cÚ¡_»v”£_™”©Ü
(const const_reverse_iterator &) = ;

523 
šlše
 
cÚ¡_»v”£_™”©Ü
(const_reverse_iterator &&) = ;

524 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

525 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &) = ;

526 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

527 
	gİ”©Ü
 = (
cÚ¡_»v”£_™”©Ü
 &&) = ;

529 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±


530 : 
node_
 (
node
) { }

531 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


532 : 
node_
 (
node
) { }

533 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


534 { *
this
 = 
™r
; }

536 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
™”©Ü
 &
™r
è
	gnÛxû±


537 { *
	gthis
 = 
™r
; }

539 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

541 
node_
 = 
rhs
;

542  (*
	gthis
);

544 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

545 
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

547 
node_
 = 
™”_ty³
(
rhs
);

548  (*
	gthis
);

550 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

551 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

553 
node_
 = 
rhs
.node_;

554  (*
	gthis
);

556 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

557 
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &
rhs
è
nÛxû±
 {

559 
node_
 = 
rhs
.node_;

560  (*
	gthis
);

563 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

564 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

566  (
node_
 =ğ
rhs
.node_);

568 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

569 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

571  (
node_
 !ğ
rhs
.node_);

577 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

578 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 { (**
	gnode_
); }

579 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

583 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

585 
	gnode_
 -= 1;

586  (*
	gthis
);

591 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

593 
™”_ty³
 
	g»t_node
 = 
node_
;

595 
	gnode_
 -= 1;

596  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

599 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

601 
node_
 -ğ
¡•
;

602  (*
	gthis
);

607 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

609 
	gnode_
 += 1;

610  (*
	gthis
);

615 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

617 
™”_ty³
 
	g»t_node
 = 
node_
;

619 
	gnode_
 += 1;

620  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

623 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

625 
node_
 +ğ
¡•
;

626  (*
	gthis
);

629 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

631 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

633 
	g»t_node
 -ğ
¡•
;

634  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

637 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

639 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

641 
	g»t_node
 +ğ
¡•
;

642  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

645 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

647 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

649 
	g»t_node
 -ğ
¡•
;

650  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

653 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

655 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

657 
	g»t_node
 +ğ
¡•
;

658  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

661 
	g´iv©e
:

663 
™”_ty³
 
node_
 { };

665 
ä›nd
 
şass
 
	gcÚ¡_™”©Ü
;

668 
	gpublic
:

670 
šlše
 
™”©Ü
 
begš
 (è
nÛxû±
 {  (™”©Ü(
veùÜ_
.begin())); }

671 
šlše
 
™”©Ü
 
’d
 (è
	gnÛxû±
 {  (™”©Ü(
veùÜ_
.end())); }

672 
šlše
 
cÚ¡_™”©Ü


673 
begš
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.begin())); }

674 
šlše
 
cÚ¡_™”©Ü


675 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.end())); }

677 
šlše
 
cÚ¡_»v”£_™”©Ü


678 
rbegš
 (ècÚ¡ 
	gnÛxû±
 {

679  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
rbegš
()));

681 
šlše
 
cÚ¡_»v”£_™”©Ü


682 
»nd
 (ècÚ¡ 
	gnÛxû±
 {

684  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
»nd
()));

690 
	g‹m¶©e
<
ty³Çme
 
	gT
>

691 şas 
	cVeùÜCÚ¡PŒV›w
 {

693 
	g´iv©e
:

695 
usšg
 
veùÜ_ty³
 = 
¡d
::
veùÜ
<cÚ¡ 
T
 *>;

697 
veùÜ_ty³
 
	gveùÜ_
 { };

699 
	gpublic
:

701 
usšg
 
v®ue_ty³
 = 
T
;

702 
usšg
 
	gpoš‹r
 = cÚ¡ 
T
 *;

703 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
T
 *;

704 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
T
 *const;

705 
usšg
 
	g»ã»nû
 = cÚ¡ 
T
 &;

706 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
T
 &;

707 
usšg
 
	gsize_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
size_ty³
;

708 
usšg
 
	gdifã»nû_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
difã»nû_ty³
;

710 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
T
);

712 
	gpublic
:

714 
šlše
 
size_ty³
 
size
(ècÚ¡ 
nÛxû±
 {  (
veùÜ_
.size ()); }

715 
šlše
 
size_ty³
 
max_size
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.max_size()); }

716 
šlše
 
size_ty³
 
ÿ·c™y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.capacity()); }

718 
šlše
 
boŞ
 
em±y
(ècÚ¡ 
	gnÛxû±
 {  (
	gveùÜ_
.empty()); }

719 
šlše
 
shršk_to_f™
(è{ 
	gveùÜ_
.shrink_to_fit(); }

721 
šlše
 
	gcÚ¡_poš‹r
 &
±r_©
(
size_ty³
 
n
ècÚ¡ {  (
	gveùÜ_
[n]); }

722 
šlše
 
cÚ¡_»ã»nû
 
©
(
size_ty³
 
n
ècÚ¡ {  (*(
	gveùÜ_
[n])); }

723 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
[](
size_ty³
 
	gn
ècÚ¡ {  (
©
(
n
)); }

725 
šlše
 
»£rve
 (
size_ty³
 
n
è
	gnÛxû±
 { 
	gveùÜ_
.reserve (n); }

727 
šlše
 
cÚ¡_»ã»nû


728 
äÚt
(ècÚ¡ 
	gnÛxû±
 { (*(
	gveùÜ_
.front())); }

729 
šlše
 
cÚ¡_»ã»nû


730 
back
 (ècÚ¡ 
	gnÛxû±
 {  (*(
	gveùÜ_
.back ())); }

732 
šlše
 
push_back
(cÚ¡ 
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.push_back(v); }

733 
šlše
 
em¶aû_back
(cÚ¡ 
v®ue_ty³
 *
v
è{ 
	gveùÜ_
.emplace_back(v); }

734 
šlše
 
pİ_back
(è{ 
	gveùÜ_
.pop_back(); }

736 
šlše
 

737 
sw­
 (
VeùÜCÚ¡PŒV›w
 &
rhs
è
	gnÛxû±
 { 
	gveùÜ_
.sw­ (rhs.
veùÜ_
); }

739 
šlše
 
ä›nd
 
boŞ


740 
	gİ”©Ü
 =ğ(cÚ¡ 
VeùÜCÚ¡PŒV›w
 &
lhs
, cÚ¡ 
	gVeùÜCÚ¡PŒV›w
 &
	grhs
) {

742  (
	glhs
.
	gveùÜ_
 =ğ
rhs
.
veùÜ_
);

744 
šlše
 
ä›nd
 
boŞ


745 
	gİ”©Ü
 < (cÚ¡ 
	gVeùÜCÚ¡PŒV›w
 &
	glhs
, cÚ¡ VeùÜCÚ¡PŒV›w &
	grhs
) {

747  (
	glhs
.
	gveùÜ_
 < 
	grhs
.vector_);

750 
šlše
 
VeùÜCÚ¡PŒV›w
 () = ;

751 
šlše
 
VeùÜCÚ¡PŒV›w
 (const VectorConstPtrView &) = ;

752 
šlše
 
VeùÜCÚ¡PŒV›w
 (VectorConstPtrView &&) = ;

753 
šlše
 
VeùÜCÚ¡PŒV›w
(cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

754 
šlše
 
VeùÜCÚ¡PŒV›w
(
¡d
::
veùÜ
<
T
> &
rhs
è{ *
this
 =„hs; }

755 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

756 
VeùÜCÚ¡PŒV›w
(
ITR
 
fœ¡
, ITR 
Ï¡
) {

758 
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

759 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

760 
push_back
(&(*
™”
));

762 ~
VeùÜCÚ¡PŒV›w
 () = ;

764 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &

765 
	gİ”©Ü
 = (cÚ¡ 
VeùÜCÚ¡PŒV›w
 &) = ;

766 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &
	gİ”©Ü
 = (
VeùÜCÚ¡PŒV›w
 &&) = ;

767 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &
	gİ”©Ü
 = (cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
) {

769 
VeùÜCÚ¡PŒV›w
 
tmp_vec
;

770 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

772 
»£rve
(
vec_size
);

773 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

774 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

775 
sw­
(
tmp_vec
);

776  (*
	gthis
);

778 
šlše
 
	gVeùÜCÚ¡PŒV›w
 &
	gİ”©Ü
 = (
¡d
::
veùÜ
<
T
> &
rhs
) {

780 
VeùÜCÚ¡PŒV›w
 
tmp_vec
;

781 cÚ¡ 
size_ty³
 
	gvec_size
 = 
rhs
.
size
();

783 
»£rve
(
vec_size
);

784 
size_ty³
 
	gidx
 = 0; idx < 
	gvec_size
; ++idx)

785 
	gtmp_vec
.
push_back
(&(
rhs
[
idx
]));

786 
sw­
(
tmp_vec
);

787  (*
	gthis
);

790 
šlše
 
ş—r
 (è
throw
 (è{ 
	gveùÜ_
.clear(); }

791 
šlše
 
»size
 (
size_ty³
 
n
è
throw
 (è{ 
	gveùÜ_
.resize(n); }

793 
šlše
 

794 
”a£
 (
size_ty³
 
pos
è{ 
	gveùÜ_
.”a£ (
veùÜ_
.
begš
() +…os); }

795 
šlše
 
”a£
 (
size_ty³
 
fœ¡
, size_ty³ 
Ï¡
) {

797 
	gveùÜ_
.
”a£
 (
veùÜ_
.
begš
(è+ 
fœ¡
, veùÜ_.begš(è+ 
Ï¡
);

800 
šlše
 
š£¹
 (
size_ty³
 
pos
, 
v®ue_ty³
 *
v
) {

802 
	gveùÜ_
.
š£¹
 (
veùÜ_
.
begš
(è+ 
pos
, 
v
);

804 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

805 
šlše
 
š£¹
(
size_ty³
 
pos
, 
ITR
 
fœ¡
, ITR 
Ï¡
) {

807 
	g¡d
::
veùÜ
<
T
 *> 
tmp_vec
;

809 
	gtmp_vec
.
»£rve
(
¡d
::
di¡ªû
(
fœ¡
, 
Ï¡
));

810 autØ
	g™”
 = 
fœ¡
; i‹¸< 
	gÏ¡
; ++iter)

811 
	gtmp_vec
.
push_back
(&(*
™”
));

812 
	gveùÜ_
.
»£rve
(
veùÜ_
.
size
(è+ 
tmp_vec
.size());

813 
	gveùÜ_
.
š£¹
(
veùÜ_
.
begš
(è+ 
pos
, 
tmp_vec
.begš(),mp_vec.
’d
());

816 
šlše
 

817 
sÜt
(
¡d
::
funùiÚ
<
boŞ
(cÚ¡ 
v®ue_ty³
 *, cÚ¡ v®ue_ty³ *)> 
comp
 =

818 [](cÚ¡ 
v®ue_ty³
 *
l
, cÚ¡ v®ue_ty³ *
r
è-> 
boŞ
 {

819  *
l
 < *
r
;

822 
	g¡d
::
sÜt
(
veùÜ_
.
begš
(), veùÜ_.
’d
(), 
comp
);

825 
	gpublic
:

830 şas 
	ccÚ¡_™”©Ü
 {

832 
´iv©e
:

834 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_™”©Ü
;

836 
	gpublic
:

838 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

839 
usšg
 
	gv®ue_ty³
 = 
T
;

840 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

841 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

842 
usšg
 
	gdifã»nû_ty³
 = ;

844 
	gpublic
:

849 
šlše
 
cÚ¡_™”©Ü
 () = ;

850 
šlše
 
cÚ¡_™”©Ü
 (const const_iterator &) = ;

851 
šlše
 
cÚ¡_™”©Ü
 (const_iterator &&) = ;

852 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &) = ;

853 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
cÚ¡_™”©Ü
 &&) = ;

855 
šlše
 
cÚ¡_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±
 : 
node_
 (node) { }

856 
šlše
 
cÚ¡_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


857 : 
node_
 (
node
) { }

859 
šlše
 
cÚ¡_™”©Ü
 &
İ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

861 
node_
 = 
rhs
;

862  (*
	gthis
);

864 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

866 
node_
 = 
™”_ty³
(
rhs
);

867  (*
	gthis
);

870 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

871 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

873  (
node_
 =ğ
rhs
.node_);

875 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

876 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

878  (
node_
 !ğ
rhs
.node_);

884 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

885 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

887  (**
	gnode_
);

889 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

893 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

895 
	gnode_
 += 1;

896  (*
	gthis
);

901 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

903 
™”_ty³
 
	g»t_node
 = 
node_
;

905 
	gnode_
 += 1;

906  (
cÚ¡_™”©Ü
 (
»t_node
));

909 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

911 
node_
 +ğ
¡•
;

912  (*
	gthis
);

917 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

919 
	gnode_
 -= 1;

920  (*
	gthis
);

925 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

927 
™”_ty³
 
	g»t_node
 = 
node_
;

929 
	gnode_
 -= 1;

930  (
cÚ¡_™”©Ü
 (
»t_node
));

933 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

935 
node_
 -ğ
¡•
;

936  (*
	gthis
);

939 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

941 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

943 
	g»t_node
 +ğ
¡•
;

944  (
cÚ¡_™”©Ü
 (
»t_node
));

947 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

949 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

951 
	g»t_node
 -ğ
¡•
;

952  (
cÚ¡_™”©Ü
 (
»t_node
));

955 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

957 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

959 
	g»t_node
 +ğ
¡•
;

960  (
cÚ¡_™”©Ü
 (
»t_node
));

963 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

965 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

967 
	g»t_node
 -ğ
¡•
;

968  (
cÚ¡_™”©Ü
 (
»t_node
));

971 
	g´iv©e
:

973 
™”_ty³
 
node_
 { };

976 şas 
	ccÚ¡_»v”£_™”©Ü
 {

978 
	g´iv©e
:

980 
usšg
 
™”_ty³
 = 
ty³Çme
 
veùÜ_ty³
::
cÚ¡_»v”£_™”©Ü
;

982 
	gpublic
:

984 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

985 
usšg
 
	gv®ue_ty³
 = 
T
;

986 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

987 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

988 
usšg
 
	gdifã»nû_ty³
 = ;

990 
	gpublic
:

995 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

996 
šlše
 
cÚ¡_»v”£_™”©Ü
(const const_reverse_iterator &) = ;

997 
šlše
 
cÚ¡_»v”£_™”©Ü
(const_reverse_iterator &&) = ;

998 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

999 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &) = ;

1000 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

1001 
	gİ”©Ü
 = (
cÚ¡_»v”£_™”©Ü
 &&) = ;

1003 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
™”_ty³
 
node
è
	gnÛxû±


1004 : 
node_
 (
node
) { }

1005 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
poš‹r
 cÚ¡ *
node
è
nÛxû±


1006 : 
node_
 (
node
) { }

1007 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


1008 { *
this
 = 
™r
; }

1010 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 = (
™”_ty³
 
rhs
è
nÛxû±
 {

1012 
node_
 = 
rhs
;

1013  (*
	gthis
);

1015 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

1016 
	gİ”©Ü
 = (
poš‹r
 cÚ¡ *
rhs
è
nÛxû±
 {

1018 
node_
 = 
™”_ty³
(
rhs
);

1019  (*
	gthis
);

1021 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

1022 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

1024 
node_
 = 
rhs
.node_;

1025  (*
	gthis
);

1028 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

1029 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

1031  (
node_
 =ğ
rhs
.node_);

1033 
	g‹m¶©e
<
ty³Çme
 
	gITR
>

1034 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
ITR
 &
rhs
ècÚ¡ 
nÛxû±
 {

1036  (
node_
 !ğ
rhs
.node_);

1042 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 { (*
	gnode_
); }

1043 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 { (**
	gnode_
); }

1044 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

1048 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

1050 
	gnode_
 -= 1;

1051  (*
	gthis
);

1056 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

1058 
™”_ty³
 
	g»t_node
 = 
node_
;

1060 
	gnode_
 -= 1;

1061  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1064 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

1066 
node_
 -ğ
¡•
;

1067  (*
	gthis
);

1072 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

1074 
	gnode_
 += 1;

1075  (*
	gthis
);

1080 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

1082 
™”_ty³
 
	g»t_node
 = 
node_
;

1084 
	gnode_
 += 1;

1085  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1088 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

1090 
node_
 +ğ
¡•
;

1091  (*
	gthis
);

1094 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

1096 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1098 
	g»t_node
 -ğ
¡•
;

1099  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1102 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

1104 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1106 
	g»t_node
 +ğ
¡•
;

1107  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1110 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

1112 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1114 
	g»t_node
 -ğ
¡•
;

1115  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1118 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

1120 
v®ue_ty³
 cÚ¡ **
	g»t_node
 = 
node_
;

1122 
	g»t_node
 +ğ
¡•
;

1123  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

1126 
	g´iv©e
:

1128 
™”_ty³
 
node_
 { };

1130 
ä›nd
 
şass
 
	gcÚ¡_™”©Ü
;

1133 
	gpublic
:

1135 
šlše
 
cÚ¡_™”©Ü


1136 
begš
(ècÚ¡ 
nÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.begin())); }

1137 
šlše
 
cÚ¡_™”©Ü


1138 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
(
veùÜ_
.end())); }

1140 
šlše
 
cÚ¡_»v”£_™”©Ü


1141 
rbegš
 (ècÚ¡ 
	gnÛxû±
 {

1142  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
rbegš
()));

1144 
šlše
 
cÚ¡_»v”£_™”©Ü


1145 
»nd
 (ècÚ¡ 
	gnÛxû±
 {

1147  (
cÚ¡_»v”£_™”©Ü
(
veùÜ_
.
»nd
()));

	@DataFrame/original/include/DataFrame/Vectors/VectorView.h

30 #´agm¨
Úû


32 
	~<™”©Ü
>

33 
	~<veùÜ
>

35 #ià
defšed
(
_WIN32
è&& defšed(
HMDF_SHARED
)

36 #ifdeà
LIBRARY_EXPORTS


37 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎexpÜt
)

	)

39 
	#LIBRARY_API
 
	`__deş¥ec
(
dÎimpÜt
)

	)

42 
	#LIBRARY_API


	)

47 
Çme¥aû
 
	ghmdf


54 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

55 şas 
	cLIBRARY_API
 
	gVeùÜV›w
 {

57 
	gpublic
:

59 
usšg
 
v®ue_ty³
 = 
T
;

60 
usšg
 
	gsize_ty³
 = ;

61 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

62 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
v®ue_ty³
 *;

63 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
v®ue_ty³
 *const;

64 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

65 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

67 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
v®ue_ty³
);

69 
	gpublic
:

71 
VeùÜV›w
() = ;

72 
VeùÜV›w
(const VectorView &) = ;

73 
VeùÜV›w
(VectorView &&) = ;

74 
	gVeùÜV›w
 &
	gİ”©Ü
ğ(cÚ¡ 
VeùÜV›w
 &) = ;

75 
	gVeùÜV›w
 &
	gİ”©Ü
ğ(
VeùÜV›w
 &&) = ;

76 ~
VeùÜV›w
() = ;

78 
šlše
 
VeùÜV›w
 (
v®ue_ty³
 *
bp
, v®ue_ty³ *
•
è
	gnÛxû±


79 : 
begš_±r_
(
bp
), 
’d_±r_
(
•
) { }

90 
šlše
 
£t_begš_’d_¥ecŸl
(
v®ue_ty³
 *
bp
, v®ue_ty³ *
•_1
) {

92 
	gbegš_±r_
 = 
bp
;

93 
	g’d_±r_
 = 
•_1
;

94 
	g’d_±r_
 += 1;

97 
šlše
 
boŞ
 
em±y
 (ècÚ¡ 
	gnÛxû±
 {  (
	gbegš_±r_
 =ğ
’d_±r_
); }

98 
šlše
 
size_ty³
 
size
 (ècÚ¡ 
	gnÛxû±
 {

100  (
	g¡©ic_ÿ¡
<
	gsize_ty³
>(
	g’d_±r_
 - 
	gbegš_±r_
));

102 
šlše
 
size_ty³
 
ÿ·c™y
 (ècÚ¡ 
	gnÛxû±
 {  (
size
()); }

103 
šlše
 
ş—r
 (è
	gnÛxû±
 { 
	gbegš_±r_
 = 
’d_±r_
 = 
nuÎ±r
; }

105 
šlše
 
»ã»nû
 
©
 (
size_ty³
 
i
è
	gnÛxû±
 {  (*(
	gbegš_±r_
 + 
	gi
)); }

106 
šlše
 
cÚ¡_»ã»nû


107 
©
 (
size_ty³
 
i
ècÚ¡ 
	gnÛxû±
 {  (*(
	gbegš_±r_
 + 
	gi
)); }

108 
šlše
 
»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gi
è
	gnÛxû±
 {

110  (*(
	gbegš_±r_
 + 
	gi
));

112 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gi
ècÚ¡ 
	gnÛxû±
 {

114  (*(
	gbegš_±r_
 + 
	gi
));

116 
šlše
 
»ã»nû
 
äÚt
(è
	gnÛxû±
 {  (*
	gbegš_±r_
); }

117 
šlše
 
cÚ¡_»ã»nû
 
äÚt
(ècÚ¡ 
	gnÛxû±
 {  (*
	gbegš_±r_
); }

118 
šlše
 
»ã»nû
 
back
(è
	gnÛxû±
 {  (*(
	g’d_±r_
 - 1)); }

119 
šlše
 
cÚ¡_»ã»nû
 
back
(ècÚ¡ 
	gnÛxû±
 {  (*(
	g’d_±r_
 - 1)); }

123 
šlše
 
shršk_to_f™
() { }

124 
šlše
 
»£rve
 (
size_ty³
) { }

126 
šlše
 
sw­
 (
VeùÜV›w
 &
rhs
è
	gnÛxû±
 {

128 
	g¡d
::
sw­
 (
begš_±r_
, 
rhs
.begin_ptr_);

129 
	g¡d
::
sw­
 (
’d_±r_
, 
rhs
.end_ptr_);

133 
	gVeùÜV›w
 &
	gİ”©Ü
ğ(
¡d
::
veùÜ
<
T
> &
rhs
) {

135 
VeùÜV›w
 
vw
(&*(
rhs
.
begš
()), &*Ôhs.
’d
()));

137 
sw­
(
vw
);

138  (*
	gthis
);

141 
	g´iv©e
:

143 
v®ue_ty³
 *
begš_±r_
 { 
nuÎ±r
 };

144 
v®ue_ty³
 *
	g’d_±r_
 { 
	gnuÎ±r
 };

146 
	gpublic
:

148 
şass
 
cÚ¡_™”©Ü
;

149 şas 
	ccÚ¡_»v”£_™”©Ü
 {

151 
	gpublic
:

153 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

154 
usšg
 
	gv®ue_ty³
 = 
T
;

155 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

156 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

157 
usšg
 
	gdifã»nû_ty³
 = ;

159 
	gpublic
:

164 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

166 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
)

167 
	gnÛxû±
 : 
node_
 (
node
) { }

169 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


170 : 
node_
 (
nuÎ±r
è{ *
this
 = 
™r
; }

172 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

173 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

175 
node_
 = 
rhs
.node_;

176  (*
	gthis
);

179 
šlše
 
boŞ


180 
	gİ”©Ü
 =ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

182  (
node_
 =ğ
rhs
.node_);

184 
šlše
 
boŞ


185 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

187  (
node_
 !ğ
rhs
.node_);

193 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {

195  (
	gnode_
);

197 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 {

199  (*
	gnode_
);

201 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

205 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

207 
	gnode_
 -= 1;

208  (*
	gthis
);

213 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

215 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

217 
	gnode_
 -= 1;

218  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

221 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

223 
node_
 -ğ
¡•
;

224  (*
	gthis
);

229 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

231 
	gnode_
 += 1;

232  (*
	gthis
);

237 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

239 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

241 
	gnode_
 += 1;

242  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

245 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

247 
node_
 +ğ
¡•
;

248  (*
	gthis
);

251 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

253 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

255 
	g»t_node
 -ğ
¡•
;

256  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

259 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

261 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

263 
	g»t_node
 +ğ
¡•
;

264  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

267 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

269 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

271 
	g»t_node
 -ğ
¡•
;

272  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

275 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

277 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

279 
	g»t_node
 +ğ
¡•
;

280  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

283 
	g´iv©e
:

285 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

288 
şass
 
	g™”©Ü
;

289 şas 
	ccÚ¡_™”©Ü
 {

291 
	gpublic
:

293 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

294 
usšg
 
	gv®ue_ty³
 = 
T
;

295 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

296 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

297 
usšg
 
	gdifã»nû_ty³
 = ;

299 
	gpublic
:

304 
šlše
 
cÚ¡_™”©Ü
 () = ;

306 
šlše
 
cÚ¡_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
è
	gnÛxû±


307 : 
node_
 (
node
) { }

309 
šlše
 
cÚ¡_™”©Ü
 (cÚ¡ 
™”©Ü
 &
™r
è
nÛxû±


310 : 
node_
 (
nuÎ±r
è{ *
this
 = 
™r
; }

312 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 = (cÚ¡ 
™”©Ü
 &
rhs
è
nÛxû±
 {

314 
node_
 = 
rhs
.node_;

315  (*
	gthis
);

318 
šlše
 
boŞ
 
	gİ”©Ü
 =ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

320  (
node_
 =ğ
rhs
.node_);

322 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

324  (
node_
 !ğ
rhs
.node_);

330 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

331 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

333  (*
	gnode_
);

335 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

339 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

341 
	gnode_
 += 1;

342  (*
	gthis
);

347 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

349 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

351 
	gnode_
 += 1;

352  (
cÚ¡_™”©Ü
 (
»t_node
));

355 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

357 
node_
 +ğ
¡•
;

358  (*
	gthis
);

363 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

365 
	gnode_
 -= 1;

366  (*
	gthis
);

371 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

373 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

375 
	gnode_
 -= 1;

376  (
cÚ¡_™”©Ü
 (
»t_node
));

379 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

381 
node_
 -ğ
¡•
;

382  (*
	gthis
);

385 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

387 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

389 
	g»t_node
 +ğ
¡•
;

390  (
cÚ¡_™”©Ü
 (
»t_node
));

393 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

395 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

397 
	g»t_node
 -ğ
¡•
;

398  (
cÚ¡_™”©Ü
 (
»t_node
));

401 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

403 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

405 
	g»t_node
 +ğ
¡•
;

406  (
cÚ¡_™”©Ü
 (
»t_node
));

409 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

411 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

413 
	g»t_node
 -ğ
¡•
;

414  (
cÚ¡_™”©Ü
 (
»t_node
));

417 
	g´iv©e
:

419 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

421 
ä›nd
 
şass
 
	gVeùÜV›w
::
cÚ¡_»v”£_™”©Ü
;

427 şas 
	c™”©Ü
 {

429 
	gpublic
:

431 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

432 
usšg
 
	gv®ue_ty³
 = 
T
;

433 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

434 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

435 
usšg
 
	gdifã»nû_ty³
 = ;

437 
	gpublic
:

442 
šlše
 
™”©Ü
 () = ;

444 
šlše
 
™”©Ü
 (
v®ue_ty³
 *
node
è
	gnÛxû±
 : 
node_
 (node) { }

446 
šlše
 
boŞ
 
İ”©Ü
 =ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

448  (
node_
 =ğ
rhs
.node_);

450 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

452  (
node_
 !ğ
rhs
.node_);

458 
šlše
 
poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

459 
šlše
 
»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {  (*
	gnode_
); }

460 
šlše
 
İ”©Ü
 
poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

464 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

466 
	gnode_
 += 1;

467  (*
	gthis
);

469 
šlše
 
™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

471 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

473 
	gnode_
 += 1;

474  (
™”©Ü
 (
»t_node
));

477 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

479 
node_
 +ğ
¡•
;

480  (*
	gthis
);

483 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

485 
	gnode_
 -= 1;

486  (*
	gthis
);

488 
šlše
 
™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

490 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

492 
	gnode_
 -= 1;

493  (
™”©Ü
 (
»t_node
));

496 
šlše
 
	g™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

498 
node_
 -ğ
¡•
;

499  (*
	gthis
);

502 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

504 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

506 
	g»t_node
 +ğ
¡•
;

507  (
™”©Ü
 (
»t_node
));

510 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

512 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

514 
	g»t_node
 -ğ
¡•
;

515  (
™”©Ü
 (
»t_node
));

518 
šlše
 
™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

520 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

522 
	g»t_node
 +ğ
¡•
;

523  (
™”©Ü
 (
»t_node
));

526 
šlše
 
™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

528 
v®ue_ty³
 *
	g»t_node
 = 
node_
;

530 
	g»t_node
 -ğ
¡•
;

531  (
™”©Ü
 (
»t_node
));

534 
	g´iv©e
:

536 
poš‹r
 
node_
 { 
nuÎ±r
 };

538 
ä›nd
 
şass
 
	gVeùÜV›w
::
cÚ¡_™”©Ü
;

541 
	gpublic
:

543 
šlše
 
™”©Ü
 
begš
 (è
nÛxû±
 {  (™”©Ü (
begš_±r_
)); }

544 
šlše
 
™”©Ü
 
’d
 (è
	gnÛxû±
 {  (™”©Ü (
’d_±r_
)); }

545 
šlše
 
cÚ¡_™”©Ü


546 
begš
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
 (
begš_±r_
)); }

547 
šlše
 
cÚ¡_™”©Ü


548 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
 (
’d_±r_
)); }

550 
šlše
 
cÚ¡_»v”£_™”©Ü


551 
rbegš
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
’d_±r_
 - 1)); }

552 
šlše
 
cÚ¡_»v”£_™”©Ü


553 
»nd
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
begš_±r_
 - 1)); }

558 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

559 şas 
	cVeùÜCÚ¡V›w
 {

561 
	gpublic
:

563 
usšg
 
v®ue_ty³
 = 
T
;

564 
usšg
 
	gsize_ty³
 = ;

565 
usšg
 
	gpoš‹r
 = cÚ¡ 
v®ue_ty³
 *;

566 
usšg
 
	gcÚ¡_poš‹r
 = cÚ¡ 
v®ue_ty³
 *;

567 
usšg
 
	gcÚ¡_poš‹r_cÚ¡
 = cÚ¡ 
v®ue_ty³
 *const;

568 
usšg
 
	g»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

569 
usšg
 
	gcÚ¡_»ã»nû
 = cÚ¡ 
v®ue_ty³
 &;

571 cÚ¡ 
size_ty³
 
	gv®ue_size
 = (
v®ue_ty³
);

573 
	gpublic
:

575 
VeùÜCÚ¡V›w
() = ;

576 
VeùÜCÚ¡V›w
(const VectorConstView &) = ;

577 
VeùÜCÚ¡V›w
(VectorConstView &&) = ;

578 
	gVeùÜCÚ¡V›w
 &
	gİ”©Ü
ğ(cÚ¡ 
VeùÜCÚ¡V›w
 &) = ;

579 
	gVeùÜCÚ¡V›w
 &
	gİ”©Ü
ğ(
VeùÜCÚ¡V›w
 &&) = ;

580 ~
VeùÜCÚ¡V›w
() = ;

582 
šlše


583 
VeùÜCÚ¡V›w
 (cÚ¡ 
v®ue_ty³
 *
bp
, cÚ¡ v®ue_ty³ *
•
è
	gnÛxû±


584 : 
begš_±r_
(
bp
), 
’d_±r_
(
•
) { }

595 
šlše
 
£t_begš_’d_¥ecŸl
(
v®ue_ty³
 *
bp
, v®ue_ty³ *
•_1
) {

597 
	gbegš_±r_
 = 
bp
;

598 
	g’d_±r_
 = 
•_1
;

599 
	g’d_±r_
 += 1;

602 
šlše
 
boŞ
 
em±y
 (ècÚ¡ 
	gnÛxû±
 {  (
	gbegš_±r_
 =ğ
’d_±r_
); }

603 
šlše
 
size_ty³
 
size
 (ècÚ¡ 
	gnÛxû±
 {

605  (
	g¡©ic_ÿ¡
<
	gsize_ty³
>(
	g’d_±r_
 - 
	gbegš_±r_
));

607 
šlše
 
ş—r
 (è
	gnÛxû±
 { 
	gbegš_±r_
 = 
’d_±r_
 = 
nuÎ±r
; }

609 
šlše
 
cÚ¡_»ã»nû


610 
©
 (
size_ty³
 
i
ècÚ¡ 
	gnÛxû±
 {  (*(
	gbegš_±r_
 + 
	gi
)); }

611 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 [] (
size_ty³
 
	gi
ècÚ¡ 
	gnÛxû±
 {

613  (*(
	gbegš_±r_
 + 
	gi
));

615 
šlše
 
cÚ¡_»ã»nû
 
äÚt
(ècÚ¡ 
	gnÛxû±
 {  (*
	gbegš_±r_
); }

616 
šlše
 
cÚ¡_»ã»nû
 
back
(ècÚ¡ 
	gnÛxû±
 {  (*(
	g’d_±r_
 - 1)); }

620 
šlše
 
shršk_to_f™
() { }

621 
šlše
 
»£rve
 (
size_ty³
) { }

623 
šlše
 
sw­
 (
VeùÜCÚ¡V›w
 &
rhs
è
	gnÛxû±
 {

625 
	g¡d
::
sw­
 (
begš_±r_
, 
rhs
.begin_ptr_);

626 
	g¡d
::
sw­
 (
’d_±r_
, 
rhs
.end_ptr_);

630 
	gVeùÜCÚ¡V›w
 &
	gİ”©Ü
ğ(cÚ¡ 
¡d
::
veùÜ
<
T
> &
rhs
) {

632 
VeùÜCÚ¡V›w
 
vw
(&*(
rhs
.
begš
()), &*Ôhs.
’d
()));

634 
sw­
(
vw
);

635  (*
	gthis
);

638 
	g´iv©e
:

640 cÚ¡ 
v®ue_ty³
 *
begš_±r_
 { 
nuÎ±r
 };

641 cÚ¡ 
v®ue_ty³
 *
	g’d_±r_
 { 
	gnuÎ±r
 };

643 
	gpublic
:

645 
şass
 
cÚ¡_™”©Ü
;

646 şas 
	ccÚ¡_»v”£_™”©Ü
 {

648 
	gpublic
:

650 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

651 
usšg
 
	gv®ue_ty³
 = 
T
;

652 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

653 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

654 
usšg
 
	gdifã»nû_ty³
 = ;

656 
	gpublic
:

661 
šlše
 
cÚ¡_»v”£_™”©Ü
 () = ;

663 
šlše
 
cÚ¡_»v”£_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
)

664 
	gnÛxû±
 : 
node_
 (
node
) { }

666 
šlše
 
cÚ¡_»v”£_™”©Ü
 (cÚ¡ 
cÚ¡_™”©Ü
 &
™r
è
nÛxû±


667 : 
node_
 (
nuÎ±r
è{ *
this
 = 
™r
; }

669 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &

670 
	gİ”©Ü
 = (cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
è
nÛxû±
 {

672 
node_
 = 
rhs
.node_;

673  (*
	gthis
);

676 
šlše
 
boŞ


677 
	gİ”©Ü
 =ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

679  (
node_
 =ğ
rhs
.node_);

681 
šlše
 
boŞ


682 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_»v”£_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

684  (
node_
 !ğ
rhs
.node_);

690 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {

692  (
	gnode_
);

694 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 *(ècÚ¡ 
	gnÛxû±
 {

696  (*
	gnode_
);

698 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

702 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

704 
	gnode_
 -= 1;

705  (*
	gthis
);

710 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

712 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

714 
	gnode_
 -= 1;

715  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

718 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

720 
node_
 -ğ
¡•
;

721  (*
	gthis
);

726 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

728 
	gnode_
 += 1;

729  (*
	gthis
);

734 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

736 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

738 
	gnode_
 += 1;

739  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

742 
šlše
 
	gcÚ¡_»v”£_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

744 
node_
 +ğ
¡•
;

745  (*
	gthis
);

748 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

750 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

752 
	g»t_node
 -ğ
¡•
;

753  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

756 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

758 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

760 
	g»t_node
 +ğ
¡•
;

761  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

764 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

766 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

768 
	g»t_node
 -ğ
¡•
;

769  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

772 
šlše
 
cÚ¡_»v”£_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

774 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

776 
	g»t_node
 +ğ
¡•
;

777  (
cÚ¡_»v”£_™”©Ü
 (
»t_node
));

780 
	g´iv©e
:

782 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

785 şas 
	ccÚ¡_™”©Ü
 {

787 
	gpublic
:

789 
usšg
 
™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

790 
usšg
 
	gv®ue_ty³
 = 
T
;

791 
usšg
 
	gpoš‹r
 = 
v®ue_ty³
 *;

792 
usšg
 
	g»ã»nû
 = 
v®ue_ty³
 &;

793 
usšg
 
	gdifã»nû_ty³
 = ;

795 
	gpublic
:

800 
šlše
 
cÚ¡_™”©Ü
 () = ;

802 
šlše
 
cÚ¡_™”©Ü
 (
v®ue_ty³
 cÚ¡ *cÚ¡ 
node
è
	gnÛxû±


803 : 
node_
 (
node
) { }

805 
šlše
 
boŞ
 
İ”©Ü
 =ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

807  (
node_
 =ğ
rhs
.node_);

809 
šlše
 
boŞ
 
	gİ”©Ü
 !ğ(cÚ¡ 
cÚ¡_™”©Ü
 &
rhs
ècÚ¡ 
nÛxû±
 {

811  (
node_
 !ğ
rhs
.node_);

817 
šlše
 
cÚ¡_poš‹r
 
	gİ”©Ü
 -> (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

818 
šlše
 
cÚ¡_»ã»nû
 
	gİ”©Ü
 * (ècÚ¡ 
	gnÛxû±
 {

820  (*
	gnode_
);

822 
šlše
 
İ”©Ü
 
cÚ¡_poš‹r
 (ècÚ¡ 
	gnÛxû±
 {  (
	gnode_
); }

826 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

828 
	gnode_
 += 1;

829  (*
	gthis
);

834 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 ++ (è
	gnÛxû±
 {

836 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

838 
	gnode_
 += 1;

839  (
cÚ¡_™”©Ü
 (
»t_node
));

842 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 +ğ(
¡•
è
nÛxû±
 {

844 
node_
 +ğ
¡•
;

845  (*
	gthis
);

850 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -- (è
	gnÛxû±
 {

852 
	gnode_
 -= 1;

853  (*
	gthis
);

858 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 -- (è
	gnÛxû±
 {

860 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

862 
	gnode_
 -= 1;

863  (
cÚ¡_™”©Ü
 (
»t_node
));

866 
šlše
 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
 -ğ(
¡•
è
nÛxû±
 {

868 
node_
 -ğ
¡•
;

869  (*
	gthis
);

872 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

874 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

876 
	g»t_node
 +ğ
¡•
;

877  (
cÚ¡_™”©Ü
 (
»t_node
));

880 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

882 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

884 
	g»t_node
 -ğ
¡•
;

885  (
cÚ¡_™”©Ü
 (
»t_node
));

888 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 + (
	g¡•
è
	gnÛxû±
 {

890 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

892 
	g»t_node
 +ğ
¡•
;

893  (
cÚ¡_™”©Ü
 (
»t_node
));

896 
šlše
 
cÚ¡_™”©Ü
 
	gİ”©Ü
 - (
	g¡•
è
	gnÛxû±
 {

898 
v®ue_ty³
 cÚ¡ *
	g»t_node
 = 
node_
;

900 
	g»t_node
 -ğ
¡•
;

901  (
cÚ¡_™”©Ü
 (
»t_node
));

904 
	g´iv©e
:

906 
cÚ¡_poš‹r
 
node_
 { 
nuÎ±r
 };

908 
ä›nd
 
şass
 
	gVeùÜCÚ¡V›w
::
cÚ¡_»v”£_™”©Ü
;

911 
	gpublic
:

913 
šlše
 
cÚ¡_™”©Ü


914 
begš
 (ècÚ¡ 
nÛxû±
 {  (
cÚ¡_™”©Ü
 (
begš_±r_
)); }

915 
šlše
 
cÚ¡_™”©Ü


916 
’d
 (ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_™”©Ü
 (
’d_±r_
)); }

918 
šlše
 
cÚ¡_»v”£_™”©Ü


919 
rbegš
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
’d_±r_
 - 1)); }

920 
šlše
 
cÚ¡_»v”£_™”©Ü


921 
»nd
(ècÚ¡ 
	gnÛxû±
 {  (
cÚ¡_»v”£_™”©Ü
(
begš_±r_
 - 1)); }

	@DataFrame/original/include/simple_time.hpp

1 #´agm¨
Úû


3 
	~<c¡dšt
>

4 
	~<io¡»am
>

6 
	sSim¶eTime
 {

7 
	my—r_
;

8 
	mmÚth_
;

9 
	mday_
;

10 
	mhour_
;

11 
	mmš_
;

12 
	m£cÚd_
;

14 
Sim¶eTime
() {}

16 
Sim¶eTime
(
y—r
, 
mÚth
, 
day
, 
hour
, 
mš
, 
£cÚd
)

17 : 
y—r_
(
y—r
), 
mÚth_
(
mÚth
), 
day_
(
day
), 
hour_
(
hour
), 
mš_
(
mš
), 
£cÚd_
(
£cÚd
)

21 
ušt64_t
 
to_£cÚd
() const

23 
ušt64_t
 
	m»t
 = 
y—r_
;

24 
	m»t
 = 12 * 
»t
 + 
mÚth_
;

26 
	m»t
 = 30 * 
»t
 + 
day_
;

27 
	m»t
 = 24 * 
»t
 + 
hour_
;

28 
	m»t
 = 60 * 
»t
 + 
mš_
;

29 
	m»t
 = 60 * 
»t
 + 
£cÚd_
;

30  
	m»t
;

33 
ä›nd
 
	m¡d
::
i¡»am
& 
İ”©Ü
>>(
¡d
::i¡»am& 
š
, 
	mSim¶eTime
& 
	mt
)

35 
	md–im
;

36 
ušt16_t
 
	mmÚth
, 
	mday
, 
	mhour
, 
	mmš
, 
	m£cÚd
;

37 
	mš
 >> 
	mt
.
	my—r_
 >> 
	md–im
 >> 
	mmÚth
 >> d–im >> 
	mday
 >> d–im >> 
	mhour
 >> d–im >> 
	mmš
 >> delim >>

38 
	m£cÚd
;

39 
	mt
.
	mmÚth_
 = 
mÚth
;

40 
	mt
.
	mday_
 = 
day
;

41 
	mt
.
	mhour_
 = 
hour
;

42 
	mt
.
	mmš_
 = 
mš
;

43 
	mt
.
	m£cÚd_
 = 
£cÚd
;

44  
	mš
;

47 
ä›nd
 
	m¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ 
	mSim¶eTime
& 
	mt
)

49 
	mout
 << 
	mt
.
	my—r_
 << '-' << (é.
	mmÚth_
 << '-' << (é.
	mday_
 << ' ' << (é.
	mhour_
 << ':'

50 << ()
	mt
.
	mmš_
 << ':' << (é.
	m£cÚd_
;

51  
	mout
;

54 
boŞ
 
	mİ”©Ü
<(cÚ¡ 
	mSim¶eTime
& 
	mo
) const

56 ià(
	my—r_
 !ğ
o
.
y—r_
)  year_ < o.year_;

57 ià(
	mmÚth_
 !ğ
o
.
mÚth_
)  month_ < o.month_;

58 ià(
	mday_
 !ğ
o
.
day_
)  day_ < o.day_;

59 ià(
	mhour_
 !ğ
o
.
hour_
)  hour_ < o.hour_;

60 ià(
	mmš_
 !ğ
o
.
mš_
)  min_ < o.min_;

61 ià(
	m£cÚd_
 !ğ
o
.
£cÚd_
)  second_ < o.second_;

62  
	mçl£
;

65 
boŞ
 
	mİ”©Ü
>(cÚ¡ 
	mSim¶eTime
& 
	mo
) const

67 ià(
	my—r_
 !ğ
o
.
y—r_
)  year_ > o.year_;

68 ià(
	mmÚth_
 !ğ
o
.
mÚth_
)  month_ > o.month_;

69 ià(
	mday_
 !ğ
o
.
day_
)  day_ > o.day_;

70 ià(
	mhour_
 !ğ
o
.
hour_
)  hour_ > o.hour_;

71 ià(
	mmš_
 !ğ
o
.
mš_
)  min_ > o.min_;

72 ià(
	m£cÚd_
 !ğ
o
.
£cÚd_
)  second_ > o.second_;

73  
	mçl£
;

76 
boŞ
 
	mİ”©Ü
==(cÚ¡ 
Sim¶eTime
& 
o
) const

78  
__butš_¡ºcmp
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
this
),

79 
»š‹½»t_ÿ¡
<cÚ¡ *>(&
o
), (o)) == 0;

	@DataFrame/original/src/Utils/DateTime.cc

30 
	~<D©aF¿me/Uts/D©eTime.h
>

31 
	~<D©aF¿me/Uts/FixedSizeSŒšg.h
>

33 
	~<time.h
>

35 #ifdeà
_WIN32


36 #ià
defšed
(
_MSC_VER
è|| defšed(
_MSC_EXTENSIONS
)

37 
	#DELTA_EPOCH_IN_MICROSECS
 11644473600000000U
i64


	)

39 
	#DELTA_EPOCH_IN_MICROSECS
 11644473600000000ULL

	)

42 
	~<sys/time.h
>

47 
Çme¥aû
 
	ghmdf


50 #ifdeà
_WIN32


51 cÚ¡ *
	gD©eTime
::
TIMEZONES_
[] =

86 cÚ¡ *
	gD©eTime
::
TIMEZONES_
[] =

122 cÚ¡ 
	gD©eTime
::
DT_š™Ÿliz”
 
D©eTime
::
dt_š™_
;

126 
	gD©eTime
::
DT_š™Ÿliz”
::DT_š™Ÿliz”(è
nÛxû±
 {

128 #ifdeà
_WIN32


129 
_tz£t
 ();

131 ::
tz£t
 ();

137 cÚ¡ *cÚ¡ 
	gD©eTime
::
MONTH_
[] =

142 cÚ¡ *cÚ¡ 
	gD©eTime
::
MONTH_BR_
[] =

147 cÚ¡ *cÚ¡ 
	gD©eTime
::
WDAY_
[] =

152 cÚ¡ *cÚ¡ 
	gD©eTime
::
WDAY_BR_
[] =

159 
	gD©eTime
::
D©eTime
 (
DT_TIME_ZONE
 
tz
è: 
time_zÚe_
(tz) {

161 #ifdeà
_WIN32


162 
FILETIME
 
á
;

163 
__št64
 
	gtm´es
 = 0;

165 
G‘Sy¡emTimeAsFeTime
(&
á
);

167 
	gtm´es
 |ğ
á
.
dwHighD©eTime
;

168 
	gtm´es
 <<= 32;

169 
	gtm´es
 |ğ
á
.
dwLowD©eTime
;

171 
	gtm´es
 /= 10;

173 
	gtm´es
 -ğ
DELTA_EPOCH_IN_MICROSECS
;

175 
£t_time
(
tm´es
 / 1000000UL, (tmpres % 1000000UL) * 1000000);

176 #–ià
defšed
 
HMDF_HAVE_CLOCK_GETTIME


177 
time¥ec
 
	gts
;

179 ::
şock_g‘time
(
CLOCK_REALTIME
, &
ts
);

180 
£t_time
(
ts
.
tv_£c
,s.
tv_n£c
);

182 
timev®
 
	gtv
 { };

184 ::
g‘timeofday
(&
tv
, 
nuÎ±r
);

185 
£t_time
(
tv
.
tv_£c
,v.
tv_u£c
 * 1000);

191 
	gD©eTime
::
£t_time
(
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
è
	gnÛxû±
 {

193 
	gd©e_
 = 
INVALID_DATE_
;

194 
	ghour_
 = 
INVALID_HOUR_
;

195 
	gmšu‹_
 = 
INVALID_MINUTE_
;

196 
	g£cÚd_
 = 
INVALID_SECOND_
;

197 
	gw“k_day_
 = 
DT_WEEKDAY
::
BAD_DAY
;

199 
	gÇno£cÚd_
 = 
Çno£c
;

200 
	gtime_
 = 
the_time
;

205 
	gD©eTime
::
D©eTime
 (
D©eTy³
 
d
,

206 
HourTy³
 
hr
,

207 
Mšu‹Ty³
 
mn
,

208 
SecÚdTy³
 
sc
,

209 
Nªo£cÚdTy³
 
ns
,

210 
DT_TIME_ZONE
 
tz
)

211 : 
d©e_
 (
d
),

212 
hour_
 (
hr
),

213 
mšu‹_
 (
mn
),

214 
£cÚd_
 (
sc
),

215 
Çno£cÚd_
 (
ns
),

216 
time_zÚe_
 (
tz
) {

237 
	gD©eTime
::
D©eTime
 (cÚ¡ *
s
, 
DT_DATE_STYLE
 
ds
, 
DT_TIME_ZONE
 
tz
)

238 : 
time_zÚe_
 (
tz
) {

240 cÚ¡ *
¡r
 = 
s
;

242 ::
is¥aû
 (*
¡r
)) ++str;

244 ià(
	gds
 =ğ
DT_DATE_STYLE
::
YYYYMMDD
)

245 *
this
 = 
¡r
;

247 cÚ¡ 
size_t
 
	g¡r_Ën
 = ::
¡¾’
 (
¡r
);

248 
	gy—r
 { 0 }, 
	gmÚth
 { 0 }, 
	gday
 { 0 };

250 
	ghour_
 = 
mšu‹_
 = 
£cÚd_
 = 
Çno£cÚd_
 = 0;

251 ià(
	gds
 =ğ
DT_DATE_STYLE
::
AME_STYLE
) {

252 ià(
¡r_Ën
 == 10) {

253 ::
ssÿnf
 (
¡r
, "%d/%d/%d", &
mÚth
, &
day
, &
y—r
);

255 ià(
	g¡r_Ën
 == 13) {

256 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd", &
mÚth
, &
day
, &
y—r
, &
hour_
);

258 ià(
	g¡r_Ën
 == 16) {

259 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd",

260 &
mÚth
, &
day
, &
y—r
, &
hour_
, &
mšu‹_
);

262 ià(
	g¡r_Ën
 == 19) {

263 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd",

264 &
mÚth
, &
day
, &
y—r
, &
hour_
, &
mšu‹_
, &
£cÚd_
);

266 ià(
	g¡r_Ën
 == 23) {

267 
Mli£cÚdTy³
 
ms
 { 0 };

269 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd.%hd",

270 &
mÚth
, &
day
, &
y—r
, &
hour_
, &
mšu‹_
, &
£cÚd_
, &
ms
);

271 
	gÇno£cÚd_
 = 
ms
 * 1000000;

274 ià(
	gds
 =ğ
DT_DATE_STYLE
::
EUR_STYLE
) {

275 ià(
¡r_Ën
 == 10) {

276 ::
ssÿnf
 (
¡r
, "%d/%d/%d", &
y—r
, &
mÚth
, &
day
);

278 ià(
	g¡r_Ën
 == 13) {

279 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd", &
y—r
, &
mÚth
, &
day
, &
hour_
);

281 ià(
	g¡r_Ën
 == 16) {

282 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd",

283 &
y—r
, &
mÚth
, &
day
, &
hour_
, &
mšu‹_
);

285 ià(
	g¡r_Ën
 == 19) {

286 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd",

287 &
y—r
, &
mÚth
, &
day
, &
hour_
, &
mšu‹_
, &
£cÚd_
);

289 ià(
	g¡r_Ën
 == 23) {

290 
Mli£cÚdTy³
 
ms
 { 0 };

292 ::
ssÿnf
 (
¡r
, "%d/%d/%d %hd:%hd:%hd.%hd",

293 &
y—r
, &
mÚth
, &
day
, &
hour_
, &
mšu‹_
, &
£cÚd_
, &
ms
);

294 
	gÇno£cÚd_
 = 
ms
 * 1000000;

297 ià(
	gy—r
 =ğ0 && 
mÚth
 =ğ0 && 
day
 == 0) {

298 
SŒšg512
 
”r
;

300 
	g”r
.
´štf
 ("DateTime::DateTime(const char *): Don't know "

301 "howØ·r£ '%s'", 
s
);

302 
throw
 
	g¡d
::
ruÁime_”rÜ
 (
”r
.
c_¡r
 ());

304 
	gd©e_
 = 
y—r
 * 10000 + 
mÚth
 * 100 + 
day
;

320 
	gD©eTime
 &D©eTime::
İ”©Ü
 = (cÚ¡ *
s
) {

322 cÚ¡ *
¡r
 = 
s
;

324 ::
is¥aû
 (*
¡r
)) ++str;

326 cÚ¡ 
size_t
 
	g¡r_Ën
 = ::
¡¾’
 (
¡r
);

328 ià(
	g¡r_Ën
 == 8) {

329 
hour_
 = 
mšu‹_
 = 
£cÚd_
 = 
Çno£cÚd_
 = 0;

330 ::
ssÿnf
 (
¡r
, "%d", &
d©e_
);

332 ià(
	g¡r_Ën
 == 11) {

333 
mšu‹_
 = 
£cÚd_
 = 
Çno£cÚd_
 = 0;

334 ::
ssÿnf
 (
¡r
, "%d %hd", &
d©e_
, &
hour_
);

336 ià(
	g¡r_Ën
 == 14) {

337 
£cÚd_
 = 
Çno£cÚd_
 = 0;

338 ::
ssÿnf
 (
¡r
, "%d %hd:%hd", &
d©e_
, &
hour_
, &
mšu‹_
);

340 ià(
	g¡r_Ën
 == 17) {

341 
Çno£cÚd_
 = 0;

342 ::
ssÿnf
 (
¡r
, "%d %hd:%hd:%hd", &
d©e_
, &
hour_
, &
mšu‹_
, &
£cÚd_
);

344 ià(
	g¡r_Ën
 == 21) {

345 
Mli£cÚdTy³
 
ms
;

347 ::
ssÿnf
 (
¡r
, "%d %hd:%hd:%hd.%hd",

348 &
d©e_
, &
hour_
, &
mšu‹_
, &
£cÚd_
, &
ms
);

349 
	gÇno£cÚd_
 = 
ms
 * 1000000;;

352 
SŒšg512
 
	g”r
;

354 
	g”r
.
´štf
 ("DateTime::operator=(const char *): Don't know howo "

355 "·r£ '%s'", 
s
);

356 
throw
 
	g¡d
::
ruÁime_”rÜ
 (
”r
.
c_¡r
 ());

359  (*
	gthis
);

364 
	gD©eTime
 &D©eTime::
İ”©Ü
 = (
D©eTy³
 
the_d©e
) {

366 
SŒšg512
 
bufãr
;

368 
	gbufãr
.
´štf
 ("%u", 
the_d©e
);

369 *
	gthis
 = 
bufãr
.
c_¡r
 ();

370  (*
	gthis
);

375 
	gD©eTime
::
EpochTy³
 
D©eTime
::
com·»
 (cÚ¡ D©eTim&
rhs
) const {

377 cÚ¡ 
EpochTy³
 
t
 = 
this
->
time
(è- 
rhs
.time();

379  (
	gt
 =ğ0 ? 
Çno£c
 (è- 
rhs
.Çno£ø(è: 
t
);

384 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
days_š_mÚth
 (ècÚ¡ 
nÛxû±
 {

386  (
days_š_mÚth_
(
mÚth
(), 
y—r
()));

391 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::

392 
days_š_mÚth_
 (
DT_MONTH
 
mÚth
, 
D©eP¬tTy³
 
y—r
è
	gnÛxû±
 {

394 
	gmÚth
) {

395 
	gDT_MONTH
::
APR
:

396 
DT_MONTH
::
JUN
:

397 
DT_MONTH
::
SEP
:

398 
DT_MONTH
::
NOV
:

400 
	gDT_MONTH
::
FEB
:

403 ià((
y—r
 % 4 == 0 && year % 100 != 0) || year % 400 == 0)

417 
boŞ
 
	gD©eTime
::
is_v®id
 (ècÚ¡ 
nÛxû±
 {

419  (
y—r
 () > 0 && year () < 9999 &&

420 
mÚth
 (è> 
DT_MONTH
::
BAD_MONTH
 && mÚth (è<ğDT_MONTH::
DEC
 &&

421 
dmÚth
 () > 0 &&

422 
dmÚth
 (è<ğ
days_š_mÚth_
 (
mÚth
(), 
y—r
()) &&

423 
hour
 () >= 0 && hour () < 24 &&

424 
mšu‹
 () >= 0 && minute () < 60 &&

425 
£c
 () >= 0 && sec () < 60 &&

426 
Çno£c
 () >= 0 &&‚anosec () < 1000000000);

438 
boŞ
 
	gD©eTime
::
is_us_busšess_day
 (ècÚ¡ 
nÛxû±
 {

440 cÚ¡ 
D©eP¬tTy³
 
m_day
 = 
dmÚth
 ();

441 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

442 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

443 cÚ¡ 
D©eTy³
 
	gd©e_·¹
 = 
d©e
();

445  (! (
is_w“k’d
 () ||

446 
is_Ãwy—r
 () ||

450 (
	gd©e_·¹
 =ğ19450815 || 
d©e_·¹
 == 19450816) ||

454 (
d©e_·¹
 == 19631122) ||

458 (
d©e_·¹
 == 19721228) ||

462 (
d©e_·¹
 == 19730125) ||

466 (
d©e_·¹
 == 19770714) ||

470 (
d©e_·¹
 == 19940427) ||

474 (
d©e_·¹
 == 20040611) ||

478 (
d©e_·¹
 == 20070102) ||

482 (
d©e_·¹
 == 20181205) ||

486 (
y—r
 (è=ğ2001 && 
mÚ
 =ğ
DT_MONTH
::
SEP
 && 
m_day
 >= 11 &&

487 
m_day
 <= 14) ||

491 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 &&

492 (
m_day
 >ğ15 && m_day <ğ21è&& 
mÚ
 =ğ
DT_MONTH
::
JAN
) ||

496 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 &&

497 (
m_day
 >ğ15 && m_day <ğ21è&& 
mÚ
 =ğ
DT_MONTH
::
FEB
) ||

501 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 >= 25 &&

502 
mÚ
 =ğ
DT_MONTH
::
MAY
) ||

506 ((
m_day
 =ğ4 || (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && m_day == 5) ||

507 (
w_day
 =ğ
DT_WEEKDAY
::
FRI
 && 
m_day
 == 3)) &&

508 
mÚ
 =ğ
DT_MONTH
::
JUL
) ||

512 (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 <= 7 &&

513 
mÚ
 =ğ
DT_MONTH
::
SEP
) ||

517 (
w_day
 =ğ
DT_WEEKDAY
::
THU
 &&

518 (
m_day
 >ğ22 && m_day <ğ28è&& 
mÚ
 =ğ
DT_MONTH
::
NOV
) ||

520 
is_xmas
 ()));

527 
boŞ
 
	gD©eTime
::
is_us_bªk_hŞiday
 (ècÚ¡ 
nÛxû±
 {

529 ià(! 
is_us_busšess_day
 ())

530  (
Œue
);

532 cÚ¡ 
D©eP¬tTy³
 
	gm_day
 = 
dmÚth
 ();

533 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

534 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

538 ià(
	gw_day
 =ğ
DT_WEEKDAY
::
MON
 &&

539 
m_day
 >= 8 &&

540 
m_day
 <= 14 &&

541 
mÚ
 =ğ
DT_MONTH
::
OCT
)

542  (
Œue
);

545  (
	gçl£
);

550 
	gD©eTime
::
£t_timezÚe
 (
DT_TIME_ZONE
 
tz
) {

552 cÚ¡ 
EpochTy³
 
t
 = 
this
->
time
 ();

554 
	gtime_zÚe_
 = 
tz
;

555 
b»aktime_
 (
t
, 
Çno£c
 ());

561 
	gD©eTime
::
D©eTy³
 
D©eTime
::
d©e
 (ècÚ¡ 
nÛxû±
 {

563 ià(
d©e_
 =ğ
INVALID_DATE_
)

564 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

566  (
	gd©e_
);

571 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
y—r
 (ècÚ¡ 
nÛxû±
 {

573  (
d©e
 () / 10000);

578 
DT_MONTH
 
	gD©eTime
::
mÚth
 (ècÚ¡ 
nÛxû±
 {

580  (
¡©ic_ÿ¡
<
DT_MONTH
>((
d©e
 () % 10000) / 100));

585 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
dmÚth
 (ècÚ¡ 
nÛxû±
 {

587  (
d©e
 () % 100);

592 
	gD©eTime
::
D©eP¬tTy³
 
D©eTime
::
dy—r
 (ècÚ¡ 
nÛxû±
 {

594 
tm
 
Éime
;

599 
	gcÚ¡_ÿ¡
<
	gD©eTime
 *>(
	gthis
)->
	gtime_
 = 
mak‘ime_
 (
Éime
);

601  (
	gÉime
.
	gtm_yday
 + 1);

606 
DT_WEEKDAY
 
	gD©eTime
::
dw“k
 (ècÚ¡ 
nÛxû±
 {

611 ià(
w“k_day_
 =ğ
DT_WEEKDAY
::
BAD_DAY
)

612 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

614  (
	gw“k_day_
);

619 
	gD©eTime
::
HourTy³
 
D©eTime
::
hour
 (ècÚ¡ 
nÛxû±
 {

624 ià(
hour_
 =ğ
INVALID_HOUR_
)

625 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

626  (
	ghour_
);

631 
	gD©eTime
::
Mšu‹Ty³
 
D©eTime
::
mšu‹
 (ècÚ¡ 
nÛxû±
 {

633 ià(
mšu‹_
 =ğ
INVALID_MINUTE_
)

634 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

636  (
	gmšu‹_
);

641 
	gD©eTime
::
SecÚdTy³
 
D©eTime
::
£c
 (ècÚ¡ 
nÛxû±
 {

643 ià(
£cÚd_
 =ğ
INVALID_SECOND_
)

644 
cÚ¡_ÿ¡
<
D©eTime
 *>(
this
)->
b»aktime_
 (this->
time
 (), 
Çno£c
 ());

646  (
	g£cÚd_
);

651 
	gD©eTime
::
Mli£cÚdTy³
 
D©eTime
::
m£c
 (ècÚ¡ 
nÛxû±
 {

653 cÚ¡ 
¦ug
 = (
Çno£c
 ()) / 1000000.0 + 0.5;

655 (
	g¡©ic_ÿ¡
<
	gMli£cÚdTy³
>(
	g¦ug
 < 1000.0 ? slug : 999.0));

660 
	gD©eTime
::
Miüo£cÚdTy³
 
D©eTime
::
miüo£c
 (ècÚ¡ 
nÛxû±
 {

662 cÚ¡ 
¦ug
 = (
Çno£c
 ()) / 1000.0 + 0.5;

664  (
	g¡©ic_ÿ¡
<
	gMiüo£cÚdTy³
>(
	g¦ug
 < 1000000.0 ? slug : 999999.0));

669 
	gD©eTime
::
Nªo£cÚdTy³
 
D©eTime
::
Çno£c
 (ècÚ¡ 
nÛxû±
 {

672  (
Çno£cÚd_
);

683 
	gD©eTime
::
EpochTy³
 
D©eTime
::
time
 (ècÚ¡ 
nÛxû±
 {

685 ià(
time_
 =ğ
INVALID_TIME_T_
) {

686 
tm
 
Éime
;

691 
	gcÚ¡_ÿ¡
<
	gD©eTime
 *>(
	gthis
)->
	gtime_
 = 
mak‘ime_
 (
Éime
);

694  (
	gtime_
);

699 
	gD©eTime
::
LÚgTimeTy³
 
D©eTime
::
lÚg_time
 (ècÚ¡ 
nÛxû±
 {

701  (
¡©ic_ÿ¡
<
LÚgTimeTy³
>(
this
->
time
()) * 1000000000LL +

702 
¡©ic_ÿ¡
<
LÚgTimeTy³
>(
Çno£c
()));

707 
	gD©eTime
::
diff_£cÚds
 (cÚ¡ 
D©eTime
 &
th©
) const {

713 ià(
time_zÚe_
 !ğ
th©
.time_zone_)

714 
throw
 
¡d
::
ruÁime_”rÜ
 (

719 cÚ¡ 
	gthis_time
 =

720 
¡©ic_ÿ¡
<>(
this
->
time
 ()) +

721 (
¡©ic_ÿ¡
<>(
Çno£c
 ()) / 1000000000.0);

722 cÚ¡ 
	gth©_time
 =

723 
¡©ic_ÿ¡
<>(
th©
.
time
 ()) +

724 (
¡©ic_ÿ¡
<>(
th©
.
Çno£c
 ()) / 1000000000.0);

726  (
	gthis_time
 - 
	gth©_time
);

731 
	gD©eTime
::
diff_mšu‹s
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

733  (
diff_£cÚds
 (
th©
) / 60.0);

738 
	gD©eTime
::
diff_hours
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

740  (
diff_mšu‹s
 (
th©
) / 60.0);

745 
	gD©eTime
::
diff_days
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

747  (
diff_hours
 (
th©
) / 24.0);

752 
	gD©eTime
::
diff_w“kdays
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

754 cÚ¡ 
add’d
 = 
com·»
(
th©
) ? -1 : 1;

755 
D©eTime
 
¦ug
 (
th©
);

756 
	gddays
 = 0.0;

758 
	g¦ug
.
d©e
 () != date ()) {

759 ià(! 
¦ug
.
is_w“k’d
 ())

760 
ddays
 +ğ
¡©ic_ÿ¡
<cÚ¡ >(
add’d
);

761 
	g¦ug
.
add_days
 (
add’d
);

764  (
	gddays
 + (
diff_£cÚds
 (
¦ug
è/ 
	g¡©ic_ÿ¡
<>(24 * 3600)));

769 
	gD©eTime
::
diff_w“ks
 (cÚ¡ 
D©eTime
 &
th©
ècÚ¡ 
nÛxû±
 {

771  (
diff_days
 (
th©
) / 7.0);

776 
	gD©eTime
::
add_£cÚds
 (
EpochTy³
 
£cs
è
nÛxû±
 {

778 
£t_time
 (
this
->
time
 (è+ 
£cs
, 
Çno£c
 ());

784 
	gD©eTime
::
add_Çno£cÚds
 (
Çno£cs
è
nÛxû±
 {

786 
Ãw_time
 =

787 
¡©ic_ÿ¡
<>(
this
->
time
()) * 1000000000LL +

788 
¡©ic_ÿ¡
<>(
Çno£c
());

790 
	gÃw_time
 +ğ
¡©ic_ÿ¡
<>(
Çno£cs
);

791 
£t_time
(
¡©ic_ÿ¡
<
EpochTy³
>(
Ãw_time
 / 1000000000LL),

792 
¡©ic_ÿ¡
<
Nªo£cÚdTy³
>(
Ãw_time
 % 1000000000LL));

798 
	gD©eTime
::
add_days
 (
days
è
nÛxû±
 {

800 ià(
days
 != 0) {

801 cÚ¡ 
add’d
 = 
days
 < 0 ? -1 : 1;

803 
	gdays
) {

804 cÚ¡ 
D©eTime
 
´ev_d©e
 (*
this
);

806 
add_£cÚds
 (
add’d
 * 24 * 3600);

811 ià(
d©e
 (è=ğ
´ev_d©e
.date ()) {

812 
d©e
 (è=ğ
´ev_d©e
.date ())

813 
add_£cÚds
 (3600 * 
add’d
);

815 ià(
	gadd’d
 > 0 && (
dy—r
()è- (
	g´ev_d©e
.dyear()) > 1) {

816 (
dy—r
 ()è- (
	g´ev_d©e
.dyear ()) > 1)

817 
add_£cÚds
 (-3600 * 
add’d
);

819 ià(
	gadd’d
 < 0 && (
dy—r
()è- (
	g´ev_d©e
.dyear()) < -1) {

820 (
dy—r
 ()è- (
	g´ev_d©e
.dyear()) < -1)

821 
add_£cÚds
 (3600);

823 ià(
hour
 (è< 
	g´ev_d©e
.hour ()) {

824 
hour
 (è< 
	g´ev_d©e
.hour ())

825 
add_£cÚds
 (3600);

827 ià(
hour
 (è> 
	g´ev_d©e
.hour ()) {

828 
hour
 (è> 
	g´ev_d©e
.hour ())

829 
add_£cÚds
 (-3600);

832 
	gdays
 -ğ
add’d
;

841 
	gD©eTime
::
add_w“kdays
 (
days
è
nÛxû±
 {

843 ià(
days
 != 0) {

844 cÚ¡ 
add’d
 = 
days
 < 0 ? -1 : 1;

846 
	gdays
) {

847 
add_days
 (
add’d
);

849 
is_w“k’d
 ())

850 
add_days
 (
add’d
);

851 
	gdays
 -ğ
add’d
;

859 
	gD©eTime
::
add_mÚths
 (
mÚths
è
nÛxû±
 {

861 
y
 = 
y—r
();

862 
	gm
 = 
¡©ic_ÿ¡
<>(
mÚth
());

863 cÚ¡ 
	gadd’d
 = 
mÚths
 >= 0 ? 1 : -1;

865 
	gmÚths
) {

866 
	gm
 +ğ
add’d
;

867 ià(
	gm
 > 12 || m == 0) {

868 
m
 = m > 12 ? 1 : 12;

869 
	gy
 +ğ
add’d
;

871 
	gmÚths
 -ğ
add’d
;

874 
	gÃw_day
 = 
dmÚth
();

875 cÚ¡ 
	gdays_max
 = 
days_š_mÚth_
(
¡©ic_ÿ¡
<
DT_MONTH
>(
m
), 
y
);

877 ià(
	gÃw_day
 > 
	gdays_max
)

878 
	gÃw_day
 = 
days_max
;

880 cÚ¡ 
D©eTime
 
Ãw_di
((
y
 * 100 + 
m
è* 100 + 
Ãw_day
,

881 
hour
(),

882 
mšu‹
(),

883 
£c
(),

884 
Çno£c
(),

885 
g‘_timezÚe
());

887 *
	gthis
 = 
Ãw_di
;

893 
	gD©eTime
::
add_y—rs
 (
y—rs
è
nÛxû±
 {

895 
Ãw_y—r
 = 
y—r
(è+ 
y—rs
;

896 
	gÃw_day
 = 
dmÚth
();

897 cÚ¡ 
	gdays_max
 = 
days_š_mÚth_
(
mÚth
(), 
Ãw_y—r
);

899 ià(
	gÃw_day
 > 
	gdays_max
)

900 
	gÃw_day
 = 
days_max
;

902 cÚ¡ 
D©eTime
 
Ãw_di
(

903 (
Ãw_y—r
 * 100 + 
¡©ic_ÿ¡
<>(
mÚth
())è* 100 + 
Ãw_day
,

904 
hour
(),

905 
mšu‹
(),

906 
£c
(),

907 
Çno£c
(),

908 
g‘_timezÚe
());

910 *
	gthis
 = 
Ãw_di
;

916 
boŞ
 
	gD©eTime
::
is_w“k’d
 (ècÚ¡ 
nÛxû±
 {

918 cÚ¡ 
DT_WEEKDAY
 
w_day
 = 
dw“k
 ();

920  (
	gw_day
 =ğ
DT_WEEKDAY
::
SUN
 || 
w_day
 =ğDT_WEEKDAY::
SAT
);

925 
boŞ
 
	gD©eTime
::
is_Ãwy—r
 (ècÚ¡ 
nÛxû±
 {

927 cÚ¡ 
D©eP¬tTy³
 
m_day
 = 
dmÚth
 ();

928 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

929 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

934  (((
	gm_day
 =ğ1 || (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 == 2)) &&

935 
mÚ
 =ğ
DT_MONTH
::
JAN
) ||

936 (
m_day
 =ğ31 && 
w_day
 =ğ
DT_WEEKDAY
::
FRI
 &&

937 
mÚ
 =ğ
DT_MONTH
::
DEC
));

942 
boŞ
 
	gD©eTime
::
is_xmas
 (ècÚ¡ 
nÛxû±
 {

944 cÚ¡ 
D©eP¬tTy³
 
m_day
 = 
dmÚth
 ();

945 cÚ¡ 
DT_MONTH
 
	gmÚ
 = 
mÚth
 ();

946 cÚ¡ 
DT_WEEKDAY
 
	gw_day
 = 
dw“k
 ();

951  ((
	gm_day
 =ğ25 || (
w_day
 =ğ
DT_WEEKDAY
::
MON
 && 
m_day
 == 26) ||

952 (
w_day
 =ğ
DT_WEEKDAY
::
FRI
 && 
m_day
 == 24)) &&

953 
mÚ
 =ğ
DT_MONTH
::
DEC
);

958 
	g¡d
::
¡ršg
 
D©eTime
::
¡ršg_fÜm©
 (
DT_FORMAT
 
fÜm©
) const {

960 
¡d
::
¡ršg
 
»suÉ
;

962 
d©e_to_¡r
 (
fÜm©
, 
»suÉ
);

963  (
	g»suÉ
);

968 
šlše
 
	gD©eTime
::
chªge_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
) {

970 ià(
time_zÚe
 !ğ
DT_TIME_ZONE
::
LOCAL
) {

971 #ifdeà
_WIN32


973 
_pu‹nv
 (
TIMEZONES_
[
¡©ic_ÿ¡
<>(
time_zÚe
)]);

974 
_tz£t
 ();

976 ::
£‹nv
 ("TZ", 
TIMEZONES_
[
¡©ic_ÿ¡
<>(
time_zÚe
)], 1);

977 ::
tz£t
 ();

984 
šlše
 
	gD©eTime
::
»£t_’v_timezÚe_
(
DT_TIME_ZONE
 
time_zÚe
) {

986 ià(
time_zÚe
 !ğ
DT_TIME_ZONE
::
LOCAL
) {

987 #ifdeà
_WIN32


989 
_pu‹nv
 ("TZ=");

990 
_tz£t
 ();

992 ::
un£‹nv
 ("TZ");

993 ::
tz£t
 ();

1000 
	gD©eTime
::
EpochTy³
 
D©eTime
::
mak‘ime_
 (
tm
 &
Éime
ècÚ¡ 
nÛxû±
 {

1002 
Éime
.
tm_£c
 = 
£c
 ();

1003 
	gÉime
.
	gtm_isd¡
 = -1;

1004 
	gÉime
.
	gtm_mš
 = 
mšu‹
 ();

1005 
	gÉime
.
	gtm_hour
 = 
hour
 ();

1006 
	gÉime
.
	gtm_mday
 = 
dmÚth
 ();

1007 
	gÉime
.
	gtm_mÚ
 = 
¡©ic_ÿ¡
<>(
mÚth
()) - 1;

1008 
	gÉime
.
	gtm_y—r
 = 
y—r
 () - 1900;

1010 
chªge_’v_timezÚe_
(
time_zÚe_
);

1012 cÚ¡ 
time_t
 
	gt
 = ::
mktime
 (&
Éime
);

1014 
»£t_’v_timezÚe_
(
time_zÚe_
);

1015  (
	gt
);

1021 
	gD©eTime
::
b»aktime_
 (
EpochTy³
 
the_time
, 
Nªo£cÚdTy³
 
Çno£c
è
	gnÛxû±
 {

1023 
chªge_’v_timezÚe_
(
time_zÚe_
);

1025 
tm
 
	gÉime
;

1027 #ifdeà
_WIN32


1028 
loÿÉime_s
 (&
Éime
, &
the_time
);

1030 
loÿÉime_r
 (&
the_time
, &
Éime
);

1033 
»£t_’v_timezÚe_
(
time_zÚe_
);

1035 
	gd©e_
 = (
Éime
.
tm_y—r
 + 1900) * 100;

1037 
	gd©e_
 +ğ(
Éime
.
tm_mÚ
 + 1);

1038 
	gd©e_
 *= 100;

1039 
	gd©e_
 +ğ
Éime
.
tm_mday
;

1041 
	ghour_
 = 
Éime
.
tm_hour
;

1042 
	gmšu‹_
 = 
Éime
.
tm_mš
;

1043 
	g£cÚd_
 = 
Éime
.
tm_£c
;

1044 
	gÇno£cÚd_
 = 
Çno£c
;

1045 
	gtime_
 = 
the_time
;

1046 
	gw“k_day_
 = 
¡©ic_ÿ¡
<
DT_WEEKDAY
>(
Éime
.
tm_wday
 + 1);

1053 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1054 
	gD©eTime
::
d©e_to_¡r
 (
DT_FORMAT
 
fÜm©
, 
T
 &
»suÉ
) const {

1056 
SŒšg128
 
	gbufãr
;

1058 
	gfÜm©
) {

1059 
	gDT_FORMAT
::
AMR_DT
:

1061 
bufãr
.
´štf
 ("%002d/%002d/%002d",

1062 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1063 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1064 
¡©ic_ÿ¡
<>(
y—r
 ()) % 100);

1067 
	gDT_FORMAT
::
AMR_DT_CTY
:

1069 
bufãr
.
´štf
 ("%002d/%002d/%d",

1070 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1071 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1072 
¡©ic_ÿ¡
<>(
y—r
 ()));

1075 
	gDT_FORMAT
::
EUR_DT
:

1077 
bufãr
.
´štf
 ("%002d/%002d/%002d",

1078 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1079 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1080 
¡©ic_ÿ¡
<>(
y—r
 ()) % 100);

1083 
	gDT_FORMAT
::
EUR_DT_CTY
:

1085 
bufãr
.
´štf
 ("%002d/%002d/%d",

1086 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1087 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1088 
¡©ic_ÿ¡
<>(
y—r
 ()));

1091 
	gDT_FORMAT
::
DT_TM
:

1093 
bufãr
.
´štf
 ("%002d/%002d/%d %002d:%002d:%002d",

1094 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1095 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1096 
¡©ic_ÿ¡
<>(
y—r
 ()),

1097 
¡©ic_ÿ¡
<>(
hour
 ()),

1098 
¡©ic_ÿ¡
<>(
mšu‹
 ()),

1099 
¡©ic_ÿ¡
<>(
£c
 ()));

1102 
	gDT_FORMAT
::
DT_TM2
:

1104 
bufãr
.
´štf
 ("%002d/%002d/%d %002d:%002d:%002d.%0003d",

1105 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1106 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1107 
¡©ic_ÿ¡
<>(
y—r
 ()),

1108 
¡©ic_ÿ¡
<>(
hour
 ()),

1109 
¡©ic_ÿ¡
<>(
mšu‹
 ()),

1110 
¡©ic_ÿ¡
<>(
£c
 ()),

1111 
¡©ic_ÿ¡
<>(
m£c
 ()));

1114 
	gDT_FORMAT
::
DT_DATETIME
:

1116 
bufãr
.
´štf
 ("%d%002d%002d %002d:%002d:%002d.%0003d",

1117 
¡©ic_ÿ¡
<>(
y—r
 ()),

1118 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1119 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1120 
¡©ic_ÿ¡
<>(
hour
 ()),

1121 
¡©ic_ÿ¡
<>(
mšu‹
 ()),

1122 
¡©ic_ÿ¡
<>(
£c
 ()),

1123 
¡©ic_ÿ¡
<>(
m£c
 ()));

1126 
	gDT_FORMAT
::
SCT_DT
:

1128 
bufãr
.
´štf
 ("%s %002d, %d",

1129 
MONTH_BR_
 [
¡©ic_ÿ¡
<>(
mÚth
 ()) - 1],

1130 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1131 
¡©ic_ÿ¡
<>(
y—r
 ()));

1134 
	gDT_FORMAT
::
DT_MMDDYYYY
:

1136 
bufãr
.
´štf
 ("%002d%002d%d",

1137 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1138 
¡©ic_ÿ¡
<>(
dmÚth
 ()),

1139 
¡©ic_ÿ¡
<>(
y—r
 ()));

1142 
	gDT_FORMAT
::
DT_YYYYMMDD
:

1144 
bufãr
.
´štf
 ("%002d%002d%002d",

1145 
¡©ic_ÿ¡
<>(
y—r
 ()),

1146 
¡©ic_ÿ¡
<>(
mÚth
 ()),

1147 
¡©ic_ÿ¡
<>(
dmÚth
 ()));

1150 
	gDT_FORMAT
::
DT_PRECISE
:

1152 
bufãr
.
´štf
 ("%ld.%d", 
this
->
time
(), 
Çno£c
());

1157 
bufãr
.
´štf
 ("ERROR: DateTime::date_to_str(): "

1159 
fÜm©
);

1160 
throw
 
	g¡d
::
ruÁime_”rÜ
 (
bufãr
.
c_¡r
 ());

1164 
	g»suÉ
 = 
bufãr
.
c_¡r
 ();

	@DataFrame/original/src/Utils/ThreadGranularity.cc

30 
	~<D©aF¿me/Uts/Th»adG¿nuÏr™y.h
>

32 
	~<th»ad
>

36 
Çme¥aû
 
	ghmdf


39 
	gTh»adG¿nuÏr™y
::
num_of_th»ads_
 = 0;

40 cÚ¡ 
	gTh»adG¿nuÏr™y
::
suµÜ‹d_th»ads_
 =

41 
¡d
::
th»ad
::
h¬dw¬e_cÚcu¼’cy
();

	@DataFrame/original/src/Vectors/HeteroPtrView.cc

30 
	~<D©aF¿me/VeùÜs/H‘”oPŒV›w.h
>

34 
Çme¥aû
 
	ghmdf


37 
	gH‘”oPŒV›w
::
H‘”oPŒV›w
 (cÚ¡ H‘”oPŒV›w &
th©
è{ *
this
 =hat; }

38 
	gH‘”oPŒV›w
::
H‘”oPŒV›w
 (H‘”oPŒV›w &&
th©
è{ *
this
 =hat; }

42 
	gH‘”oPŒV›w
 &H‘”oPŒV›w::
İ”©Ü
ğ(cÚ¡ 
H‘”oPŒV›w
 &
rhs
) {

44 ià(&
rhs
 !ğ
this
) {

45 
ş—r
();

46 
	gş—r_funùiÚ_
 = 
rhs
.
ş—r_funùiÚ_
;

47 
	gcİy_funùiÚ_
 = 
rhs
.
cİy_funùiÚ_
;

48 
	gmove_funùiÚ_
 = 
rhs
.
move_funùiÚ_
;

50 
cİy_funùiÚ_
(
rhs
, *
this
);

53  (*
	gthis
);

58 
	gH‘”oPŒV›w
 &H‘”oPŒV›w::
İ”©Ü
ğ(
H‘”oPŒV›w
 &&
rhs
) {

60 ià(&
rhs
 !ğ
this
) {

61 
ş—r
();

62 
	gş—r_funùiÚ_
 = 
¡d
::
move
(
rhs
.
ş—r_funùiÚ_
);

63 
	gcİy_funùiÚ_
 = 
¡d
::
move
(
rhs
.
cİy_funùiÚ_
);

64 
	gmove_funùiÚ_
 = 
¡d
::
move
(
rhs
.
move_funùiÚ_
);

66 
move_funùiÚ_
(
rhs
, *
this
);

69  (*
	gthis
);

74 
	gH‘”oPŒV›w
::
ş—r
() {

76 
ş—r_funùiÚ_
(*
this
);

	@DataFrame/original/src/Vectors/HeteroVector.cc

30 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.h
>

34 
Çme¥aû
 
	ghmdf


37 
	gH‘”oVeùÜ
::
H‘”oVeùÜ
 () {

39 
ş—r_funùiÚs_
.
»£rve
(2);

40 
	gcİy_funùiÚs_
.
»£rve
(2);

41 
	gmove_funùiÚs_
.
»£rve
(2);

46 
	gH‘”oVeùÜ
::
H‘”oVeùÜ
 (cÚ¡ H‘”oVeùÜ &
th©
è{ *
this
 =hat; }

47 
	gH‘”oVeùÜ
::
H‘”oVeùÜ
 (H‘”oVeùÜ &&
th©
è
nÛxû±
 { *
this
 = 
¡d
::
move
(that); }

51 
	gH‘”oVeùÜ
 &H‘”oVeùÜ::
İ”©Ü
ğ(cÚ¡ 
H‘”oVeùÜ
 &
rhs
) {

53 ià(&
rhs
 !ğ
this
) {

54 
ş—r
();

55 
	gş—r_funùiÚs_
 = 
rhs
.
ş—r_funùiÚs_
;

56 
	gcİy_funùiÚs_
 = 
rhs
.
cİy_funùiÚs_
;

57 
	gmove_funùiÚs_
 = 
rhs
.
move_funùiÚs_
;

59 autØ&&
	gcİy_funùiÚ
 : 
cİy_funùiÚs_
)

60 
cİy_funùiÚ
(
rhs
, *
this
);

63  (*
	gthis
);

68 
	gH‘”oVeùÜ
 &H‘”oVeùÜ::
İ”©Ü
ğ(
H‘”oVeùÜ
 &&
rhs
è
nÛxû±
 {

70 ià(&
rhs
 !ğ
this
) {

71 
ş—r
();

72 
	gş—r_funùiÚs_
 = 
¡d
::
move
(
rhs
.
ş—r_funùiÚs_
);

73 
	gcİy_funùiÚs_
 = 
¡d
::
move
(
rhs
.
cİy_funùiÚs_
);

74 
	gmove_funùiÚs_
 = 
¡d
::
move
(
rhs
.
move_funùiÚs_
);

76 autØ&&
	gmove_funùiÚ
 : 
move_funùiÚs_
)

77 
move_funùiÚ
(
rhs
, *
this
);

80  (*
	gthis
);

85 
	gH‘”oVeùÜ
::
ş—r
() {

87 autØ&&
ş—r_func
 : 
ş—r_funùiÚs_
)

88 
ş—r_func
 (*
this
);

	@DataFrame/original/src/Vectors/HeteroView.cc

30 
	~<D©aF¿me/VeùÜs/H‘”oV›w.h
>

34 
Çme¥aû
 
	ghmdf


37 
	gH‘”oV›w
::
H‘”oV›w
 (cÚ¡ H‘”oV›w &
th©
è{ *
this
 =hat; }

38 
	gH‘”oV›w
::
H‘”oV›w
 (H‘”oV›w &&
th©
è{ *
this
 =hat; }

42 
	gH‘”oV›w
 &H‘”oV›w::
İ”©Ü
ğ(cÚ¡ 
H‘”oV›w
 &
rhs
) {

44 ià(&
rhs
 !ğ
this
) {

45 
ş—r
();

46 
	gş—r_funùiÚ_
 = 
rhs
.
ş—r_funùiÚ_
;

47 
	gcİy_funùiÚ_
 = 
rhs
.
cİy_funùiÚ_
;

48 
	gmove_funùiÚ_
 = 
rhs
.
move_funùiÚ_
;

50 
cİy_funùiÚ_
(
rhs
, *
this
);

53  (*
	gthis
);

58 
	gH‘”oV›w
 &H‘”oV›w::
İ”©Ü
ğ(
H‘”oV›w
 &&
rhs
) {

60 ià(&
rhs
 !ğ
this
) {

61 
ş—r
();

62 
	gş—r_funùiÚ_
 = 
¡d
::
move
(
rhs
.
ş—r_funùiÚ_
);

63 
	gcİy_funùiÚ_
 = 
¡d
::
move
(
rhs
.
cİy_funùiÚ_
);

64 
	gmove_funùiÚ_
 = 
¡d
::
move
(
rhs
.
move_funùiÚ_
);

66 
move_funùiÚ_
(
rhs
, *
this
);

69  (*
	gthis
);

74 
	gH‘”oV›w
::
ş—r
() {

76 
ş—r_funùiÚ_
(*
this
);

	@DataFrame/original/test/dataframe_performance.cc

28 
	~<D©aF¿me/D©aF¿me.h
>

29 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

30 
	~<D©aF¿me/RªdG’.h
>

32 
	~<io¡»am
>

34 
usšg
 
Çme¥aû
 
	ghmdf
;

36 
	gStdD©aF¿me
<
	ttime_t
> 
	tMyD©aF¿me
;

40 
	$maš
(
¬gc
, *
¬gv
[]) {

42 
MyD©aF¿me
 
df
;

43 cÚ¡ 
size_t
 
šdex_sz
 =

44 
df
.
	`lßd_šdex
(

45 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
("01/01/1970",

47 
time_äequ’cy
::
£cÚdly
,

49 
RªdG’P¬ams
<> 
p
;

51 
p
.
m—n
 = 1.0;

52 
p
.
¡d
 = 0.005;

54 
df
.
	`lßd_cŞumn
("nÜm®", 
g’_nÜm®_di¡
<>(
šdex_sz
, 
p
));

55 
df
.
	`lßd_cŞumn
("log_nÜm®", 
g’_lognÜm®_di¡
<>(
šdex_sz
));

56 
p
.
Ïmbda
 = 1.5;

57 
df
.
	`lßd_cŞumn
("expÚ’tŸl", 
g’_expÚ’tŸl_di¡
<>(
šdex_sz
, 
p
));

59 
¡d
::
cout
 << "All memory‡llocations‡re done. Calculating means ..."

60 << 
¡d
::
’dl
;

62 
M—nVis™Ü
<, 
time_t
> 
n_mv
;

63 
M—nVis™Ü
<, 
time_t
> 
Ê_mv
;

64 
M—nVis™Ü
<, 
time_t
> 
e_mv
;

66 autØ
fut1
 = 
df
.
vis™_async
<>("nÜm®", 
n_mv
);

67 autØ
fut2
 = 
df
.
vis™_async
<>("log_nÜm®", 
Ê_mv
);

68 autØ
fut3
 = 
df
.
vis™_async
<>("expÚ’tŸl", 
e_mv
);

70 
fut1
.
	`g‘
();

71 
fut2
.
	`g‘
();

72 
fut3
.
	`g‘
();

77 
	}
}

	@DataFrame/original/test/dataframe_tester.cc

28 
	~<CSV/csv.hµ
>

29 
	~<D©aF¿me/D©aF¿me.h
>

30 
	~<D©aF¿me/D©aF¿meO³¿tÜs.h
>

31 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

32 
	~<D©aF¿me/D©aF¿meMLVis™Üs.h
>

33 
	~<D©aF¿me/D©aF¿meFšªcŸlVis™Üs.h
>

34 
	~<D©aF¿me/GroupbyAgg»g©Üs.h
>

35 
	~<D©aF¿me/RªdG’.h
>

37 
	~<®gÜ™hm
>

38 
	~<ÿs£¹
>

39 
	~<cm©h
>

40 
	~<io¡»am
>

41 
	~<lim™s
>

42 
	~<¡ršg
>

43 
	~<ty³šfo
>

45 
usšg
 
Çme¥aû
 
	ghmdf
;

47 
	gStdD©aF¿me
<> 
	tMyD©aF¿me
;

51 
	sR•ÏûFunùÜ
 {

53 
boŞ
 
İ”©Ü
(è(cÚ¡ &
	midx
, &
	mv®ue
) {

55 ià(
	midx
 == 20180103) {

56 
v®ue
 *= 1000.0;

57 
	mcouÁ
 += 1;

59 ià(
	midx
 == 20180115) {

60 
v®ue
 *= 1000.0;

61 
	mcouÁ
 += 1;

63 ià(
	midx
 == 20180121) {

64 
v®ue
 *= 1000.0;

65 
	mcouÁ
 += 1;

68  (
	mŒue
);

71 
size_t
 
	mcouÁ
 { 0 };

76 
	$‹¡_h­haz¬d
() {

78 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

80 
¡d
::
cout
 << "\nTe¡šg†ßd_d©¨..." << std::
’dl
;

82 
MyD©aF¿me
 
df
;

83 
¡d
::
veùÜ
<> &
cŞ0
 =

84 
df
.
ü—‹_cŞumn
<>(
¡©ic_ÿ¡
<const *>("col_name"));

86 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5 };

87 
¡d
::
veùÜ
<> 
dblvec
 =

89 
¡d
::
veùÜ
<> 
dblvec2
 =

91 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 =

93 
¡d
::
veùÜ
<> 
ulgvec
 =

95 
¡d
::
veùÜ
<> 
xulgvec
 = 
ulgvec
;

96 cÚ¡ 
size_t
 
tÙ®_couÁ
 =

97 
ulgvec
.
	`size
() +

98 
štvec
.
	`size
() +

99 
dblvec
.
	`size
() +

100 
dblvec2
.
	`size
() +

101 
¡rvec
.
	`size
() +

102 
xulgvec
.
	`size
() +

105 
MyD©aF¿me
::
size_ty³
 
rc
 =

106 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
ulgvec
),

107 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

108 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

109 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

110 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
),

111 
¡d
::
	`make_·œ
("ul_cŞ", 
xulgvec
));

113 
	`as£¹
(
rc
 == 48);

115 
df
.
	`lßd_šdex
(
ulgvec
.
	`begš
(), ulgvec.
	`’d
());

116 
df
.
lßd_cŞumn
<>("št_cŞ", { 
štvec
.
	`begš
(), iÁvec.
	`’d
() },

117 
Çn_pŞicy
::
·d_w™h_Çns
);

118 
df
.
lßd_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ", { 
¡rvec
.
	`begš
(), sŒvec.
	`’d
() },

119 
Çn_pŞicy
::
·d_w™h_Çns
);

120 
df
.
lßd_cŞumn
<>("dbl_cŞ", { 
dblvec
.
	`begš
(), dblvec.
	`’d
() },

121 
Çn_pŞicy
::
·d_w™h_Çns
);

122 
df
.
lßd_cŞumn
<>("dbl_cŞ_2", { 
dblvec2
.
	`begš
(), dblvec2.
	`’d
() },

123 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

125 
df
.
­³nd_cŞumn
<
¡d
::
¡ršg
>("str_col", "Additional column");

126 
df
.
	`­³nd_cŞumn
("dbl_col", 10.56);

128 
¡d
::
veùÜ
<> 
ivec
 = 
df
.
g‘_cŞumn
<> ("int_col");

130 
	`as£¹
(
df
.
g‘_cŞumn
<> ("dbl_col")[2] == 3.2345);

132 
¡d
::
cout
 << "\nTe¡šg Vis™Ü 1 ..." << std::
’dl
;

134 
M—nVis™Ü
<> 
ivis™Ü
;

135 
M—nVis™Ü
<> 
dvis™Ü
;

136 cÚ¡ 
MyD©aF¿me
 
cÚ¡_df
 = 
df
;

137 autØ
cÚ¡_fut
 =

138 
cÚ¡_df
.
vis™_async
<>("št_cŞ", 
ivis™Ü
);

140 
	`as£¹
(
cÚ¡_fut
.
	`g‘
().
	`g‘_»suÉ
() == 1);

142 autØ
fut
 = 
df
.
vis™_async
<>("dbl_cŞ", 
dvis™Ü
);

144 
	`as£¹
(
	`abs
(
fut
.
	`g‘
().
	`g‘_»suÉ
() - 3.2345) < 0.00001);

146 
df
.
g‘_cŞumn
<>("dbl_col")[5] = 6.5;

147 
df
.
g‘_cŞumn
<>("dbl_col")[6] = 7.5;

148 
df
.
g‘_cŞumn
<>("dbl_col")[7] = 8.5;

149 
	`as£¹
(::
	`abs
(
df
.
vis™
<>("dbl_cŞ", 
dvis™Ü
).
	`g‘_»suÉ
() -

152 
¡d
::
veùÜ
<> 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

153 
¡d
::
veùÜ
<> 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

155 
	`as£¹
(
dvec
.
	`size
() == 9);

156 
	`as£¹
(
dvec
[0] == 1.2345);

157 
	`as£¹
(
dvec
[1] == 2.2345);

158 
	`as£¹
(
dvec
[3] == 4.2345);

159 
	`as£¹
(
dvec
[8] == 10.56);

161 
	`as£¹
(
dvec2
.
	`size
() == 8);

162 
	`as£¹
(
dvec2
[0] == 0.998);

163 
	`as£¹
(
dvec2
[1] == 0.3456);

164 
	`as£¹
(
dvec2
[4] == 0.00345);

165 
	`as£¹
(
dvec2
[7] == 0.1);

167 
¡d
::
cout
 << "\nTe¡šg make_cÚsi¡’ˆ..." << std::
’dl
;

169 
df
.
make_cÚsi¡’t
<, , 
¡d
::
¡ršg
>();

170 
df
.
shršk_to_f™
<, , 
¡d
::
¡ršg
>();

171 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

172 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

174 
	`as£¹
(
dvec
.
	`size
() == 8);

175 
	`as£¹
(
dvec
[0] == 1.2345);

176 
	`as£¹
(
dvec
[1] == 2.2345);

177 
	`as£¹
(
dvec
[3] == 4.2345);

178 
	`as£¹
(
dvec
[7] == 8.5);

180 
	`as£¹
(
dvec2
.
	`size
() == 8);

181 
	`as£¹
(
dvec2
[0] == 0.998);

182 
	`as£¹
(
dvec2
[1] == 0.3456);

183 
	`as£¹
(
dvec2
[4] == 0.00345);

184 
	`as£¹
(
dvec2
[7] == 0.1);

186 
¡d
::
cout
 << "\nTe¡šg sÜˆ1 ..." << std::
’dl
;

188 
df
.
sÜt
<
MyD©aF¿me
::
IndexTy³
, , , 
¡d
::
¡ršg
>

189 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
);

190 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

191 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

193 
	`as£¹
(
dvec
.
	`size
() == 8);

194 
	`as£¹
(
dvec
[0] == 1.2345);

195 
	`as£¹
(
dvec
[1] == 2.2345);

196 
	`as£¹
(
dvec
[3] == 4.2345);

197 
	`as£¹
(
dvec
[5] == 8.5);

198 
	`as£¹
(
dvec
[7] == 6.5);

200 
	`as£¹
(
dvec2
.
	`size
() == 8);

201 
	`as£¹
(
dvec2
[0] == 0.998);

202 
	`as£¹
(
dvec2
[1] == 0.3456);

203 
	`as£¹
(
dvec2
[4] == 0.00345);

204 
	`as£¹
(
dvec2
[5] == 0.1);

205 
	`as£¹
(
dvec2
[7] == 0.923);

207 
¡d
::
cout
 << "\nTe¡šg sÜˆ2 ..." << std::
’dl
;

209 
df
.
sÜt
<, , , 
¡d
::
¡ršg
>("dbl_cŞ_2", 
sÜt_¥ec
::
desû
);

210 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

211 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

213 
	`as£¹
(
dvec
[0] == 1.2345);

214 
	`as£¹
(
dvec
[7] == 5.2345);

216 
	`as£¹
(
dvec2
[0] == 0.998);

217 
	`as£¹
(
dvec2
[7] == 0.00345);

219 
¡d
::
cout
 << "\nTe¡šg sÜˆ3 ..." << std::
’dl
;

221 
df
.
sÜt
<, , , 
¡d
::
¡ršg
>("dbl_cŞ_2", 
sÜt_¥ec
::
asûn
);

222 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

223 
dvec2
 = 
df
.
g‘_cŞumn
<> ("dbl_col_2");

225 
	`as£¹
(
dvec
.
	`size
() == 8);

226 
	`as£¹
(
dvec
[0] == 5.2345);

227 
	`as£¹
(
dvec
[1] == 3.2345);

228 
	`as£¹
(
dvec
[3] == 8.5);

229 
	`as£¹
(
dvec
[5] == 2.2345);

230 
	`as£¹
(
dvec
[7] == 1.2345);

232 
	`as£¹
(
dvec2
.
	`size
() == 8);

233 
	`as£¹
(
dvec2
[0] == 0.00345);

234 
	`as£¹
(
dvec2
[1] == 0.056);

235 
	`as£¹
(
dvec2
[4] == 0.15678);

236 
	`as£¹
(
dvec2
[5] == 0.3456);

237 
	`as£¹
(
dvec2
[7] == 0.998);

239 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_idx(è..." << std::
’dl
;

241 
df
.
sÜt
<
MyD©aF¿me
::
IndexTy³
, , , 
¡d
::
¡ršg
>

242 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
);

244 
MyD©aF¿me
 
df2
 =

245 
df
.
g‘_d©a_by_idx
<, , 
¡d
::
¡ršg
>(

246 
Index2D
<
MyD©aF¿me
::
IndexTy³
> { 3, 5 });

248 
dvec
 = 
df2
.
g‘_cŞumn
<> ("dbl_col");

249 
dvec2
 = 
df2
.
g‘_cŞumn
<> ("dbl_col_2");

251 
	`as£¹
(
dvec
.
	`size
() == 3);

252 
	`as£¹
(
dvec
[0] == 3.2345);

253 
	`as£¹
(
dvec
[1] == 4.2345);

255 
	`as£¹
(
dvec2
.
	`size
() == 3);

256 
	`as£¹
(
dvec2
[0] == 0.056);

257 
	`as£¹
(
dvec2
[1] == 0.15678);

259 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_loc(è..." << std::
’dl
;

261 
df
.
sÜt
<, , , 
¡d
::
¡ršg
>("dbl_cŞ_2", 
sÜt_¥ec
::
asûn
);

263 
MyD©aF¿me
 
df3
 = 
df
.
g‘_d©a_by_loc
<, , 
¡d
::
¡ršg
>

264 (
Index2D
<> { 1, 2 });

266 
	`as£¹
(
df3
.
	`g‘_šdex
().
	`size
() == 1);

267 
	`as£¹
(
df3
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 1);

268 
	`as£¹
(
df3
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 1);

269 
	`as£¹
(
df3
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 1);

270 
	`as£¹
(
df3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 1);

271 
	`as£¹
(
df3
.
	`g‘_šdex
()[0] == 3);

272 
	`as£¹
(
df3
.
g‘_cŞumn
<>("dbl_col")[0] == 3.2345);

273 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_name")[0] == 0);

274 
	`as£¹
(
df3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "Col_name");

278 
dvec
 = 
df3
.
g‘_cŞumn
<> ("dbl_col");

279 
dvec2
 = 
df3
.
g‘_cŞumn
<> ("dbl_col_2");

281 
	`as£¹
(
dvec
.
	`size
() == 1);

282 
	`as£¹
(
dvec
[0] == 3.2345);

284 
	`as£¹
(
dvec2
.
	`size
() == 1);

285 
	`as£¹
(
dvec2
[0] == 0.056);

287 
¡d
::
cout
 << "\nTe¡šg CÜ»ÏtiÚ Vis™Ü ..." << std::
’dl
;

289 
CÜrVis™Ü
<> 
cÜr_vis™Ü
;

290 autØ
fut10
 =

291 
df
.
vis™_async
<, >("dbl_cŞ", "dbl_cŞ_2", 
cÜr_vis™Ü
);

292 cÚ¡ 
cÜr
 = 
fut10
.
	`g‘
().
	`g‘_»suÉ
();

294 
	`as£¹
(
	`çbs
(
cÜr
 - -0.358381) < 0.000001);

296 
¡d
::
cout
 << "\nTe¡šg St Vis™Ü ..." << std::
’dl
;

298 
StsVis™Ü
<> 
¡©s_vis™Ü
;

300 
df
.
vis™
<>("dbl_cŞ", 
¡©s_vis™Ü
);

301 
dvec
 = 
df
.
g‘_cŞumn
<> ("dbl_col");

302 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_skew
() - 0.0396307) < 0.0001);

303 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_ku¹osis
() - -1.273) < 0.0001);

304 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_m—n
() - 4.83406) < 0.0001);

305 
	`as£¹
(
	`çbs
(
¡©s_vis™Ü
.
	`g‘_v¬Ÿnû
() - 6.58781) < 0.0001);

307 
¡d
::
cout
 << "\nTe¡šg SLReg»ssiÚ Vis™Ü ..." << std::
’dl
;

309 
SLReg»ssiÚVis™Ü
<> 
¦r_vis™Ü
;

311 
df
.
vis™
<, >("dbl_cŞ", "dbl_cŞ_2", 
¦r_vis™Ü
);

312 
	`as£¹
(
¦r_vis™Ü
.
	`g‘_couÁ
() == 8);

313 
	`as£¹
(
	`çbs
(
¦r_vis™Ü
.
	`g‘_¦İe
() - -0.0561415) < 0.00001);

314 
	`as£¹
(
	`çbs
(
¦r_vis™Ü
.
	`g‘_š‹rû±
() - 0.602674) < 0.00001);

315 
	`as£¹
(
	`çbs
(
¦r_vis™Ü
.
	`g‘_cÜr
() - -0.358381) < 0.00001);

316 
	`as£¹
(
	`çbs
(
df
.
vis™
<, >("dbl_col", "dbl_col_2",

317 
cÜr_vis™Ü
).
	`g‘_»suÉ
() -

320 
¡d
::
cout
 << "\nTe¡šg GROUPBY ..." << std::
’dl
;

322 
¡d
::
veùÜ
<> 
ulgvec2
 =

327 
¡d
::
veùÜ
<> 
xulgvec2
 = 
ulgvec2
;

328 
¡d
::
veùÜ
<> 
štvec2
 =

331 
¡d
::
veùÜ
<> 
xdblvec2
 =

336 
¡d
::
veùÜ
<> 
dblvec22
 =

341 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec2
 =

350 
MyD©aF¿me
 
dfx
;

352 
dfx
.
	`lßd_d©a
(
¡d
::
	`move
(
ulgvec2
),

353 
¡d
::
	`make_·œ
("xšt_cŞ", 
štvec2
),

354 
¡d
::
	`make_·œ
("dbl_cŞ", 
xdblvec2
),

355 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec22
),

356 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec2
),

357 
¡d
::
	`make_·œ
("ul_cŞ", 
xulgvec2
));

358 
dfx
.
wr™e
<
¡d
::
o¡»am
,

362 
¡d
::
¡ršg
>(¡d::
cout
);

364 cÚ¡ 
MyD©aF¿me
 
dfxx
 =

365 
dfx
.
groupby
<
GroupbySum
,

369 
¡d
::
¡ršg
,

370 >(
	`GroupbySum
(), 
DF_INDEX_COL_NAME
);

372 
dfxx
.
wr™e
<
¡d
::
o¡»am
,

376 
¡d
::
¡ršg
>(¡d::
cout
);

378 cÚ¡ 
MyD©aF¿me
 
dfxx2
 =

379 
dfx
.
groupby
<
GroupbySum
,

380 
¡d
::
¡ršg
,

383 
¡d
::
¡ršg
,

384 >(
	`GroupbySum
(), "str_col");

386 
dfxx2
.
wr™e
<
¡d
::
o¡»am
,

390 
¡d
::
¡ršg
>(¡d::
cout
);

392 
¡d
::
futu»
<
MyD©aF¿me
> 
gb_fut
 =

393 
dfx
.
groupby_async
<
GroupbySum
,

397 
¡d
::
¡ršg
,

398 >(
	`GroupbySum
(), "dbl_col_2");

399 cÚ¡ 
MyD©aF¿me
 
dfxx3
 = 
gb_fut
.
	`g‘
();

401 
dfxx3
.
wr™e
<
¡d
::
o¡»am
,

405 
¡d
::
¡ršg
>(¡d::
cout
);

407 
¡d
::
cout
 << "\nTe¡šg Asynøwr™..." << std::
’dl
;

409 
¡d
::
futu»
<
boŞ
> 
fut2
 =

410 
dfxx3
.
wr™e_async
<
¡d
::
o¡»am
,

414 
¡d
::
¡ršg
>(¡d::
cout
);

416 
fut2
.
	`g‘
();

418 
¡d
::
cout
 << "\nTe¡šg AsynøsÜˆ..." << std::
’dl
;

420 autØ
sf
 = 
dfx
.
sÜt_async
<
MyD©aF¿me
::
IndexTy³
, 
¡d
::
¡ršg
,

421 , , 
¡d
::
¡ršg
, >

422 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
,

423 "¡r_cŞ", 
sÜt_¥ec
::
desû
);

425 
sf
.
	`g‘
();

427 
¡d
::
cout
 << "\nTe¡šg AsynøsÜˆ2 ..." << std::
’dl
;

429 
¡d
::
futu»
<> 
sÜt_fut
 =

430 
dfx
.
sÜt_async
<
MyD©aF¿me
::
IndexTy³
,

431 , , 
¡d
::
¡ršg
, >

432 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
);

434 
sÜt_fut
.
	`g‘
();

435 
dfx
.
wr™e
<
¡d
::
o¡»am
,

439 
¡d
::
¡ršg
>(¡d::
cout
);

441 
¡d
::
cout
 << "\nTe¡šg Buck‘ize(è..." << std::
’dl
;

443 cÚ¡ 
MyD©aF¿me
::
IndexTy³
 
š‹rv®
 = 4;

444 
¡d
::
futu»
<
MyD©aF¿me
> 
b_fut
 =

445 
dfx
.
buck‘ize_async
<
GroupbySum
,

448 
¡d
::
¡ršg
,

449 >(
	`GroupbySum
(), 
š‹rv®
);

450 cÚ¡ 
MyD©aF¿me
 
buck_df
 = 
b_fut
.
	`g‘
();

452 
buck_df
.
wr™e
<
¡d
::
o¡»am
,

456 
¡d
::
¡ršg
>(¡d::
cout
, 
Œue
);

458 
¡d
::
cout
 << "\nTe¡šg muÉi_vis™(è..." << std::
’dl
;

460 
M—nVis™Ü
<> 
ivis™Ü2
;

461 
M—nVis™Ü
<> 
ulvis™Ü
;

462 
M—nVis™Ü
<> 
dvis™Ü2
;

463 
M—nVis™Ü
<> 
dvis™Ü22
;

465 
dfx
.
	`muÉi_vis™
(
¡d
::
	`make_·œ
("xšt_cŞ", &
ivis™Ü2
),

466 
¡d
::
	`make_·œ
("dbl_cŞ", &
dvis™Ü2
),

467 
¡d
::
	`make_·œ
("dbl_cŞ_2", &
dvis™Ü22
),

468 
¡d
::
	`make_·œ
("ul_cŞ", &
ulvis™Ü
));

469 
	`as£¹
(
ivis™Ü2
.
	`g‘_»suÉ
() == 19);

470 
	`as£¹
(
	`çbs
(
dvis™Ü2
.
	`g‘_»suÉ
() - 4.5696) < 0.0001);

471 
	`as£¹
(
	`çbs
(
dvis™Ü22
.
	`g‘_»suÉ
() - 0.0264609) < 0.00001);

472 
	`as£¹
(
ulvis™Ü
.
	`g‘_»suÉ
() == 123448);

474 cÚ¡ 
MyD©aF¿me
 
dfx_c
 = 
dfx
;

476 
dfx_c
.
	`muÉi_vis™
(
¡d
::
	`make_·œ
("xšt_cŞ", &
ivis™Ü2
),

477 
¡d
::
	`make_·œ
("dbl_cŞ", &
dvis™Ü2
),

478 
¡d
::
	`make_·œ
("dbl_cŞ_2", &
dvis™Ü22
),

479 
¡d
::
	`make_·œ
("ul_cŞ", &
ulvis™Ü
));

480 
	`as£¹
(
ivis™Ü2
.
	`g‘_»suÉ
() == 19);

481 
	`as£¹
(
	`çbs
(
dvis™Ü2
.
	`g‘_»suÉ
() - 4.5696) < 0.0001);

482 
	`as£¹
(
	`çbs
(
dvis™Ü22
.
	`g‘_»suÉ
() - 0.0264609) < 0.00001);

483 
	`as£¹
(
ulvis™Ü
.
	`g‘_»suÉ
() == 123448);

485 
MyD©aF¿me
 
df_cİy_cÚ
 = 
dfx
;

487 
	`as£¹
((
df_cİy_cÚ
.
is_equ®
<,

490 
¡d
::
¡ršg
>(
dfx
)));

491 
	`as£¹
((! 
df_cİy_cÚ
.
is_equ®
<,

494 
¡d
::
¡ršg
>(
dfxx
)));

496 
df_cİy_cÚ
.
g‘_cŞumn
<>("dbl_col")[7] = 88.888888;

497 
	`as£¹
(
dfx
.
g‘_cŞumn
<>("dbl_col")[7] == 10.0);

498 
	`as£¹
(

499 
	`çbs
(
df_cİy_cÚ
.
g‘_cŞumn
<>("dbl_col")[7] - 88.888888) <

501 
	`as£¹
(! (
df_cİy_cÚ
.
is_equ®
<,

504 
¡d
::
¡ršg
>(
dfx
)));

506 
¡d
::
cout
 << "dfx befÜmodify_by_idx()" << std::
’dl
;

507 
dfx
.
wr™e
<
¡d
::
o¡»am
,

511 
¡d
::
¡ršg
>(¡d::
cout
);

513 
dfx
.
modify_by_idx
<, , , 
¡d
::
¡ršg
>(
df_cİy_cÚ
);

514 
¡d
::
cout
 << "dfx‡á” modify_by_idx()" << std::
’dl
;

515 
dfx
.
wr™e
<
¡d
::
o¡»am
,

519 
¡d
::
¡ršg
>(¡d::
cout
);

520 
dfx
.
modify_by_idx
<, , , 
¡d
::
¡ršg
>(
df
);

521 
¡d
::
cout
 << "dfx‡á” modify_by_idx()" << std::
’dl
;

522 
dfx
.
wr™e
<
¡d
::
o¡»am
,

526 
¡d
::
¡ršg
>(¡d::
cout
);

528 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(5);

529 
	`as£¹
(
MyD©aF¿me
::
	`g‘_th»ad_Ëv–
() == 5);

530 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(0);

531 
	`as£¹
(
MyD©aF¿me
::
	`g‘_th»ad_Ëv–
() == 0);

532 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

533 
	}
}

537 
	$‹¡_»ad
() {

539 
¡d
::
cout
 << "\nTe¡šg„—d(è..." << std::
’dl
;

541 
MyD©aF¿me
 
df_»ad
;

543 
Œy
 {

544 
¡d
::
futu»
<
boŞ
> 
fut2
 = 
df_»ad
.
	`»ad_async
("sample_data.csv");

546 
fut2
.
	`g‘
();

548 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

549 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

551 
df_»ad
.
wr™e
<
¡d
::
o¡»am
,

555 
¡d
::
¡ršg
,

556 
boŞ
>(
¡d
::
cout
);

558 
StdD©aF¿me
<
¡d
::
¡ršg
> 
df_»ad_¡r
;

560 
Œy
 {

561 
df_»ad_¡r
.
	`»ad
("sample_data_string_index.csv");

563 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

564 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

566 
df_»ad_¡r
.
wr™e
<
¡d
::
o¡»am
,

570 
¡d
::
¡ršg
,

571 
boŞ
>(
¡d
::
cout
);

573 
StdD©aF¿me
<
D©eTime
> 
df_»ad_dt
;

575 
Œy
 {

576 
df_»ad_dt
.
	`»ad
("sample_data_dt_index.csv");

578 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

579 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

581 
df_»ad_dt
.
wr™e
<
¡d
::
o¡»am
,

585 
¡d
::
¡ršg
,

586 
boŞ
>(
¡d
::
cout
);

587 
	}
}

591 
	$‹¡_Œª¥o£
() {

593 
¡d
::
cout
 << "\nTe¡šg¿n¥o£(è..." << std::
’dl
;

595 
¡d
::
veùÜ
<> 
idx
 =

597 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

598 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

599 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

600 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

601 
MyD©aF¿me
 
df
;

603 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

604 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

605 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

606 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

607 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

609 
¡d
::
veùÜ
<> 
tidx
 = { 100, 101, 102, 104 };

610 
¡d
::
veùÜ
<cÚ¡ *> 
tcŞ_Çmes
 =

613 
MyD©aF¿me
 
tdf
 =

614 
df
.
Œª¥o£
<>(
¡d
::
	`move
(
tidx
),

616 
tcŞ_Çmes
);

618 
¡d
::
cout
 << "Origš® D©aF¿me:" << std::
’dl
;

619 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

620 
¡d
::
cout
 << "T¿n¥o£d D©aF¿me:" << std::
’dl
;

621 
tdf
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

622 
	}
}

626 
	$‹¡_g‘_d©a_by_loc_¦icšg
() {

628 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_loc()/¦icšg ..." << std::
’dl
;

630 
¡d
::
veùÜ
<> 
idx
 =

632 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

633 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

634 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

635 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

636 
MyD©aF¿me
 
df
;

638 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

639 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

640 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

641 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

642 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

644 
MyD©aF¿me
 
df2
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { 3, 6 });

645 
MyD©aF¿me
 
df3
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { 0, 7 });

646 
MyD©aF¿me
 
df4
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { -4, -1 });

647 
MyD©aF¿me
 
df5
 = 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { -4, 6 });

649 
df
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

650 
df2
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

651 
df3
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

652 
df4
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

653 
df5
.
wr™e
<
¡d
::
o¡»am
, >(¡d::
cout
);

655 
Œy
 {

656 
MyD©aF¿me
 
df2
 =

657 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { 3, 8 });

659 
	`ÿtch
 (cÚ¡ 
BadRªge
 &
ex
) {

660 
¡d
::
cout
 << "Caught: " << 
ex
.
	`wh©
(è<< std::
’dl
;

662 
Œy
 {

663 
MyD©aF¿me
 
df2
 =

664 
df
.
g‘_d©a_by_loc
<>(
Index2D
<> { -8, -1 });

666 
	`ÿtch
 (cÚ¡ 
BadRªge
 &
ex
) {

667 
¡d
::
cout
 << "Caught: " << 
ex
.
	`wh©
(è<< std::
’dl
;

669 
	}
}

673 
	$‹¡_g‘_v›w_by_loc
() {

675 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_loc(è..." << std::
’dl
;

677 
¡d
::
veùÜ
<> 
idx
 =

679 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

680 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

681 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

682 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

683 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

685 
MyD©aF¿me
 
df
;

687 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

688 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

689 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

690 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

691 
¡d
::
	`make_·œ
("cŞ_4", 
d4
),

692 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

694 autØ
memÜy_u£1
 = 
df
.
g‘_memÜy_u§ge
<>("col_3");

696 
¡d
::
cout
 << "D©aF¿mMemÜy U§ge:\n" << 
memÜy_u£1
 << std::
’dl
;

698 
D©aF¿meV›w
<> 
	tMyD©aF¿meV›w
;

700 
MyD©aF¿meV›w
 
dfv
 =

701 
df
.
g‘_v›w_by_loc
<, 
¡d
::
¡ršg
>(
Index2D
<> { 3, 6 });

703 
dfv
.
shršk_to_f™
<, 
¡d
::
¡ršg
>();

704 
dfv
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
);

705 
dfv
.
g‘_cŞumn
<>("col_3")[0] = 88.0;

706 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] ==

707 
df
.
g‘_cŞumn
<>("col_3")[3]);

708 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] == 88.0);

710 autØ
memÜy_u£2
 = 
dfv
.
g‘_memÜy_u§ge
<>("col_3");

712 
¡d
::
cout
 << "V›w MemÜy U§ge:\n" << 
memÜy_u£2
 << std::
’dl
;

713 
	}
}

717 
	$‹¡_»move_cŞumn
() {

719 
¡d
::
cout
 << "\nTe¡šg„emove_cŞumn(è..." << std::
’dl
;

721 
¡d
::
veùÜ
<> 
idx
 =

723 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

724 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

725 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

726 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25 };

727 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

729 
MyD©aF¿me
 
df
;

731 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

732 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

733 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

734 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

735 
¡d
::
	`make_·œ
("cŞ_št", 
i1
),

736 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

738 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

739 
df
.
	`»move_cŞumn
("col_2");

740 
¡d
::
cout
 << "Aá”„emovšg cŞumÀ`cŞ_2`" << std::
’dl
;

741 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

742 
df
.
	`»move_cŞumn
("col_str");

743 
¡d
::
cout
 << "Aá”„emovšg cŞumÀ`cŞ_¡r`" << std::
’dl
;

744 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

746 
¡d
::
veùÜ
<> 
d22
 = { 8, 9, 10, 11, 12, 13, 14 };

748 
df
.
	`lßd_cŞumn
("cŞ_2", 
¡d
::
	`move
(
d22
));

749 
¡d
::
cout
 << "Aá”‡ddšg back cŞumÀ`cŞ_2`" << std::
’dl
;

750 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

751 
	}
}

755 
	$‹¡_g‘_v›w_by_idx_¦icšg
() {

757 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_idx()/¦icšg ..." << std::
’dl
;

759 
¡d
::
veùÜ
<> 
idx
 =

762 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

763 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

765 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

767 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

768 
MyD©aF¿me
 
df
;

770 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

771 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

772 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

773 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

774 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

776 
D©aF¿meV›w
<> 
	tMyD©aF¿meV›w
;

778 
MyD©aF¿me
 
df2
 =

779 
df
.
g‘_d©a_by_idx
<, >(

780 
Index2D
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123460 });

781 
MyD©aF¿meV›w
 
dfv
 =

782 
df
.
g‘_v›w_by_idx
<, >(

783 
Index2D
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123460 });

785 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

786 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

787 
dfv
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

789 
dfv
.
g‘_cŞumn
<>("col_3")[0] = 88.0;

790 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] ==

791 
df
.
g‘_cŞumn
<>("col_3")[2]);

792 
	`as£¹
(
dfv
.
g‘_cŞumn
<>("col_3")[0] == 88.0);

793 
	}
}

797 
	$‹¡_»Çme_cŞumn
() {

799 
¡d
::
cout
 << "\nTe¡šg„’ame_cŞumn(è..." << std::
’dl
;

801 
¡d
::
veùÜ
<> 
idx
 =

804 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,

806 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

808 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

810 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

811 
MyD©aF¿me
 
df
;

813 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

814 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

815 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

816 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

817 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

819 
¡d
::
cout
 << "BefÜ»Çme" << std::
’dl
;

820 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

821 
df
.
	`»Çme_cŞumn
("col_2", "renamed_column");

822 
¡d
::
cout
 << "Aá”„’ame" << std::
’dl
;

823 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

824 
	}
}

828 
	$‹¡_g‘_cŞ_unique_v®ues
() {

830 
¡d
::
cout
 << "\nTe¡šg g‘_cŞ_unique_v®ues(è..." << std::
’dl
;

832 
¡d
::
veùÜ
<> 
idx
 =

835 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

836 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

838 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

840 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

841 
MyD©aF¿me
 
df
;

843 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

844 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

845 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

846 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

847 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

849 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

850 
¡d
::
cout
 << "G‘tšg uniquv®ue š cŞumÀcŞ_3" << std::
’dl
;

852 cÚ¡ 
¡d
::
veùÜ
<> 
»suÉ
 =

853 
df
.
g‘_cŞ_unique_v®ues
<>("col_3");

855 autØ&
™”
 : 
»suÉ
)

856 
¡d
::
cout
 << 
™”
 << ",";

857 
¡d
::
cout
 << std::
’dl
;

858 
	}
}

862 
	$‹¡_»move_d©a_by_idx
() {

864 
¡d
::
cout
 << "\nTe¡šg„emove_d©a_by_idx(è..." << std::
’dl
;

866 
¡d
::
veùÜ
<> 
idx
 =

869 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

870 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

872 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

874 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99, 100, 101, 3, 2 };

875 
MyD©aF¿me
 
df
;

877 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

878 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

879 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

880 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

881 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

883 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

884 
¡d
::
cout
 << "Aá”„emovšg by ibdex { 123452, 123460 }" << std::
’dl
;

885 
df
.
»move_d©a_by_idx
<, >({ 123452, 123460 });

886 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

887 
	}
}

891 
	$‹¡_»move_d©a_by_loc
() {

893 
¡d
::
cout
 << "\nTe¡šg„emove_d©a_by_loc(è..." << std::
’dl
;

895 
¡d
::
veùÜ
<> 
idx
 =

898 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

899 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

901 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21,

903 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

904 
MyD©aF¿me
 
df
;

906 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

907 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

908 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

909 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

910 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

912 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

913 
¡d
::
cout
 << "Aá”„emovšg by ibdex { 3, -3 }" << std::
’dl
;

914 
df
.
»move_d©a_by_loc
<, >({ 3, -3 });

915 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

916 
	}
}

920 
	$‹¡_v®ue_couÁs
() {

922 
¡d
::
cout
 << "\nTe¡šg v®ue_couÁs(è..." << std::
’dl
;

924 cÚ¡ 
my_Çn
 = 
	`sq¹
(-1);

925 
¡d
::
veùÜ
<> 
idx
 =

928 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

929 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

931 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21, 
my_Çn
,

933 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

934 
MyD©aF¿me
 
df
;

936 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

937 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

938 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

939 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

940 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

942 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

944 autØ
»suÉ
 = 
df
.
v®ue_couÁs
<>("col_3");

946 
¡d
::
cout
 << "Aá” c®lšg v®ue_couÁs(cŞs_3)" << std::
’dl
;

947 
»suÉ
.
wr™e
<
¡d
::
o¡»am
, 
size_t
>(¡d::
cout
);

948 
	}
}

952 
	$‹¡_šdex_šÃr_još
() {

954 
¡d
::
cout
 << "\nTe¡šg Index IÂ” Još ..." << std::
’dl
;

956 
¡d
::
veùÜ
<> 
idx
 =

959 
¡d
::
veùÜ
<> 
d1
 = { 7, 2, 3, 4, 5, 6, 1, 8, 9, 10, 11, 12, 13, 14 };

960 
¡d
::
veùÜ
<> 
d2
 = { 14, 9, 10, 11, 12, 13, 8, 20, 22, 23,

962 
¡d
::
veùÜ
<> 
d3
 = { 21, 16, 15, 18, 19, 16, 15,

964 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

965 
MyD©aF¿me
 
df
;

967 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

968 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

969 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

970 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

971 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

973 
¡d
::
veùÜ
<> 
idx2
 =

976 
¡d
::
veùÜ
<> 
d12
 =

978 
¡d
::
veùÜ
<> 
d22
 =

981 
¡d
::
veùÜ
<> 
d32
 =

984 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

985 
MyD©aF¿me
 
df2
;

987 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

988 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

989 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

990 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

991 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

993 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

994 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

995 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

996 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

998 
MyD©aF¿me
 
još_df
 =

999 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1000 (
df2
, 
još_pŞicy
::
šÃr_još
);

1002 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1003 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1004 
	}
}

1008 
	$‹¡_šdex_Ëá_još
() {

1010 
¡d
::
cout
 << "\nTe¡šg Index Leá Još ..." << std::
’dl
;

1012 
¡d
::
veùÜ
<> 
idx
 =

1015 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

1016 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1018 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

1020 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1021 
MyD©aF¿me
 
df
;

1023 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1024 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1025 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1026 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1027 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1029 
¡d
::
veùÜ
<> 
idx2
 =

1032 
¡d
::
veùÜ
<> 
d12
 =

1034 
¡d
::
veùÜ
<> 
d22
 =

1037 
¡d
::
veùÜ
<> 
d32
 =

1040 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

1041 
MyD©aF¿me
 
df2
;

1043 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1044 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

1045 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

1046 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

1047 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

1049 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

1050 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1051 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

1052 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1054 
MyD©aF¿me
 
još_df
 =

1055 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1056 (
df2
, 
još_pŞicy
::
Ëá_još
);

1058 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1059 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1060 
	}
}

1064 
	$‹¡_šdex_right_još
() {

1066 
¡d
::
cout
 << "\nTe¡šg Index RighˆJoš ..." << std::
’dl
;

1068 
¡d
::
veùÜ
<> 
idx
 =

1071 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

1072 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1074 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

1076 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1077 
MyD©aF¿me
 
df
;

1079 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1080 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1081 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1082 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1083 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1085 
¡d
::
veùÜ
<> 
idx2
 =

1088 
¡d
::
veùÜ
<> 
d12
 =

1090 
¡d
::
veùÜ
<> 
d22
 =

1093 
¡d
::
veùÜ
<> 
d32
 =

1096 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

1097 
MyD©aF¿me
 
df2
;

1099 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1100 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

1101 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

1102 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

1103 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

1105 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

1106 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1107 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

1108 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1110 
MyD©aF¿me
 
još_df
 =

1111 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1112 (
df2
, 
još_pŞicy
::
right_još
);

1114 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1115 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1116 
	}
}

1120 
	$‹¡_šdex_Ëá_right_još
() {

1122 
¡d
::
cout
 << "\nTe¡šg Index Leá RighˆJoš ..." << std::
’dl
;

1124 
¡d
::
veùÜ
<> 
idx
 =

1127 
¡d
::
veùÜ
<> 
d1
 = { 14, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 1 };

1128 
¡d
::
veùÜ
<> 
d2
 = { 1.89, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1130 
¡d
::
veùÜ
<> 
d3
 = { 19.0, 16, 15, 18, 19, 16, 21,

1132 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1133 
MyD©aF¿me
 
df
;

1135 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1136 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1137 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1138 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1139 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1141 
¡d
::
veùÜ
<> 
idx2
 =

1144 
¡d
::
veùÜ
<> 
d12
 =

1146 
¡d
::
veùÜ
<> 
d22
 =

1149 
¡d
::
veùÜ
<> 
d32
 =

1152 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

1153 
MyD©aF¿me
 
df2
;

1155 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1156 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

1157 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

1158 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

1159 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

1161 
¡d
::
cout
 << "Fœ¡ DF:" << std::
’dl
;

1162 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1163 
¡d
::
cout
 << "SecÚd DF2:" << std::
’dl
;

1164 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1166 
MyD©aF¿me
 
još_df
 =

1167 
df
.
još_by_šdex
<
	`deşty³
(
df2
), , >

1168 (
df2
, 
još_pŞicy
::
Ëá_right_još
);

1170 
¡d
::
cout
 << "Now Thjošed DF:" << std::
’dl
;

1171 
još_df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1172 
	}
}

1176 
	$‹¡_Ïrge¡_sm®Ë¡_vis™Üs
() {

1178 
¡d
::
cout
 << "\nTe¡šg L¬ge¡/Sm®Ë¡ vis™Ü ..." << std::
’dl
;

1180 
¡d
::
veùÜ
<> 
idx
 =

1183 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

1184 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

1186 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

1188 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1189 
MyD©aF¿me
 
df
;

1191 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1192 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1193 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1194 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1195 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1197 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1198 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1200 
NL¬ge¡Vis™Ü
<5, > 
Æ_vis™Ü
;

1202 
df
.
vis™
<>("cŞ_3", 
Æ_vis™Ü
);

1203 
¡d
::
cout
 << "N†¬ge¡„esuÉ fÜ cŞ_3:" << std::
’dl
;

1204 autØ
™”
 : 
Æ_vis™Ü
.
	`g‘_»suÉ
())

1205 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1206 
¡d
::
cout
 << std::
’dl
;

1207 
Æ_vis™Ü
.
	`sÜt_by_šdex
();

1208 
¡d
::
cout
 << "N†¬ge¡„esuÉ fÜ cŞ_3 sÜ‹d by index:" << std::
’dl
;

1209 autØ
™”
 : 
Æ_vis™Ü
.
	`g‘_»suÉ
())

1210 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1211 
¡d
::
cout
 << std::
’dl
;

1212 
Æ_vis™Ü
.
	`sÜt_by_v®ue
();

1213 
¡d
::
cout
 << "N†¬ge¡„esuÉ fÜ cŞ_3 sÜ‹d by v®ue:" << std::
’dl
;

1214 autØ
™”
 : 
Æ_vis™Ü
.
	`g‘_»suÉ
())

1215 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1216 
¡d
::
cout
 << std::
’dl
;

1218 
NSm®Ë¡Vis™Ü
<5, > 
ns_vis™Ü
;

1220 
df
.
vis™
<>("cŞ_3", 
ns_vis™Ü
);

1221 
¡d
::
cout
 << "N sm®Ë¡„esuÉ fÜ cŞ_3:" << std::
’dl
;

1222 autØ
™”
 : 
ns_vis™Ü
.
	`g‘_»suÉ
())

1223 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1224 
¡d
::
cout
 << std::
’dl
;

1225 
ns_vis™Ü
.
	`sÜt_by_šdex
();

1226 
¡d
::
cout
 << "N sm®Ë¡„esuÉ fÜ cŞ_3 sÜ‹d by index:" << std::
’dl
;

1227 autØ
™”
 : 
ns_vis™Ü
.
	`g‘_»suÉ
())

1228 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1229 
¡d
::
cout
 << std::
’dl
;

1230 
ns_vis™Ü
.
	`sÜt_by_v®ue
();

1231 
¡d
::
cout
 << "N sm®Ë¡„esuÉ fÜ cŞ_3 sÜ‹d by v®ue:" << std::
’dl
;

1232 autØ
™”
 : 
ns_vis™Ü
.
	`g‘_»suÉ
())

1233 
¡d
::
cout
 << 
™”
.
šdex
 << '|' << i‹r.
v®ue
 << " ";

1234 
¡d
::
cout
 << std::
’dl
;

1235 
	}
}

1239 
	$‹¡_shiášg_up_down
() {

1241 
¡d
::
cout
 << "\nTe¡šg Shiášg Up/DowÀ..." << std::
’dl
;

1243 
¡d
::
veùÜ
<> 
idx
 =

1246 
¡d
::
veùÜ
<> 
d1
 = { 15, 16, 15, 18, 19, 16, 21,

1248 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1249 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1252 
MyD©aF¿me
 
df
;

1254 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1255 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1256 
¡d
::
	`make_·œ
("št_cŞ", 
i1
),

1257 
¡d
::
	`make_·œ
("¡r_cŞ", 
s1
));

1259 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1260 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1262 autØ
sudf
 = 
df
.
shiá
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
up
);

1264 
¡d
::
cout
 << "Shiáed U°DF:" << std::
’dl
;

1265 
sudf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1267 autØ
sddf
 = 
df
.
shiá
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
down
);

1269 
¡d
::
cout
 << "Shiáed DowÀDF:" << std::
’dl
;

1270 
sddf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1271 
	}
}

1275 
	$‹¡_rÙ©šg_up_down
() {

1277 
¡d
::
cout
 << "\nTe¡šg RÙ©šg Up/DowÀ..." << std::
’dl
;

1279 
¡d
::
veùÜ
<> 
idx
 =

1282 
¡d
::
veùÜ
<> 
d1
 = { 15, 16, 15, 18, 19, 16, 21,

1284 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

1285 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1288 
MyD©aF¿me
 
df
;

1290 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1291 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1292 
¡d
::
	`make_·œ
("št_cŞ", 
i1
),

1293 
¡d
::
	`make_·œ
("¡r_cŞ", 
s1
));

1295 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1296 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1298 autØ
rudf
 = 
df
.
rÙ©e
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
up
);

1300 
¡d
::
cout
 << "RÙ©ed U°DF:" << std::
’dl
;

1301 
rudf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1303 autØ
rddf
 = 
df
.
rÙ©e
<, , 
¡d
::
¡ršg
>(3, 
shiá_pŞicy
::
down
);

1305 
¡d
::
cout
 << "RÙ©ed DowÀDF:" << std::
’dl
;

1306 
rddf
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1307 
	}
}

1311 
	$‹¡_d©aäame_w™h_d©‘ime
() {

1313 
¡d
::
cout
 << "\nTe¡šg D©aF¿mw™h D©eTim..." << std::
’dl
;

1315 
D©eTime
 
	`dt
(20010102);

1316 
¡d
::
veùÜ
<
D©eTime
> 
idx
;

1317 
¡d
::
veùÜ
<> 
d1
;

1318 
¡d
::
veùÜ
<> 
i1
;

1319 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
;

1321 
idx
.
	`»£rve
(20);

1322 
d1
.
	`»£rve
(20);

1323 
i1
.
	`»£rve
(20);

1324 
s1
.
	`»£rve
(20);

1325 
i
 = 0; i < 20; ++i) {

1326 
idx
.
	`em¶aû_back
(
dt
);

1327 
d1
.
	`push_back
(
i
 + 0.345689);

1328 
i1
.
	`push_back
(
i
);

1329 
dt
.
	`add_days
(1);

1330 
s1
.
	`em¶aû_back
("Test str");

1333 
StdD©aF¿me
<
D©eTime
> 
df
;

1335 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1336 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1337 
¡d
::
	`make_·œ
("št_cŞ", 
i1
),

1338 
¡d
::
	`make_·œ
("¡r_cŞ", 
s1
));

1340 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1341 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1342 
	}
}

1346 
	$‹¡_d©aäame_ä›nd_¶us_İ”©Ü
() {

1348 
¡d
::
cout
 << "\nTe¡šg D©aF¿mä›nd…lu İ”©Ü ..." << std::
’dl
;

1350 
MyD©aF¿me
 
df1
;

1351 
MyD©aF¿me
 
df2
;

1353 
Œy
 {

1354 
df1
.
	`»ad
("sample_data.csv");

1355 
df2
.
	`»ad
("sample_data.csv");

1357 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

1358 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

1361 
MyD©aF¿me
 
»suÉ
 =

1362 
df_¶us
<
MyD©aF¿me
,

1366 
¡d
::
¡ršg
,

1367 
boŞ
>(
df1
, 
df2
);

1369 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1370 
df1
.
wr™e
<
¡d
::
o¡»am
,

1374 
¡d
::
¡ršg
,

1375 
boŞ
>(
¡d
::
cout
);

1376 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1377 
df2
.
wr™e
<
¡d
::
o¡»am
,

1381 
¡d
::
¡ršg
,

1382 
boŞ
>(
¡d
::
cout
);

1383 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1384 
»suÉ
.
wr™e
<
¡d
::
o¡»am
,

1388 
¡d
::
¡ršg
,

1389 
boŞ
>(
¡d
::
cout
);

1390 
	}
}

1394 
	$‹¡_d©aäame_ä›nd_mšus_İ”©Ü
() {

1396 
¡d
::
cout
 << "\nTe¡šg D©aF¿mä›nd mšu İ”©Ü ..." << std::
’dl
;

1398 
MyD©aF¿me
 
df1
;

1399 
MyD©aF¿me
 
df2
;

1401 
Œy
 {

1402 
df1
.
	`»ad
("sample_data.csv");

1403 
df2
.
	`»ad
("sample_data.csv");

1405 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

1406 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

1411 
MyD©aF¿me
 
»suÉ
 =

1412 
df_mšus
<
MyD©aF¿me
,

1416 
boŞ
>(
df1
, 
df2
);

1418 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1419 
df1
.
wr™e
<
¡d
::
o¡»am
,

1423 
¡d
::
¡ršg
,

1424 
boŞ
>(
¡d
::
cout
);

1425 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1426 
df2
.
wr™e
<
¡d
::
o¡»am
,

1430 
¡d
::
¡ršg
,

1431 
boŞ
>(
¡d
::
cout
);

1432 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1433 
»suÉ
.
wr™e
<
¡d
::
o¡»am
,

1437 
boŞ
>(
¡d
::
cout
);

1438 
	}
}

1442 
	$‹¡_d©aäame_ä›nd_muÉl›s_İ”©Ü
() {

1444 
¡d
::
cout
 << "\nTesting DataFrame friend multiplies operator ..."

1445 << 
¡d
::
’dl
;

1447 
¡d
::
veùÜ
<> 
idx1
 =

1449 
¡d
::
veùÜ
<> 
idx2
 = { 1, 2, 3, 4, 5, 8, 9, 22, 25, 40 };

1450 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1451 
¡d
::
veùÜ
<> 
d2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1452 
¡d
::
veùÜ
<> 
s1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1453 
¡d
::
veùÜ
<> 
s2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1455 
MyD©aF¿me
 
df1
;

1456 
MyD©aF¿me
 
df2
;

1458 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idx1
),

1459 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1460 
¡d
::
	`make_·œ
("§me_Çme", 
s1
));

1461 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1462 
¡d
::
	`make_·œ
("dbl_cŞ", 
d2
),

1463 
¡d
::
	`make_·œ
("§me_Çme", 
s2
));

1465 
MyD©aF¿me
 
»suÉ
 = 
df_muÉl›s
<MyD©aF¿me, , >(
df1
, 
df2
);

1467 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1468 
df1
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1469 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1470 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1471 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1472 
»suÉ
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1473 
	}
}

1477 
	$‹¡_d©aäame_ä›nd_divides_İ”©Ü
() {

1479 
¡d
::
cout
 << "\nTe¡šg D©aF¿mä›nd divide İ”©Ü ..." << std::
’dl
;

1481 
¡d
::
veùÜ
<> 
idx1
 =

1483 
¡d
::
veùÜ
<> 
idx2
 = { 1, 2, 3, 4, 5, 8, 9, 22, 25, 40 };

1484 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1485 
¡d
::
veùÜ
<> 
d2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1486 
¡d
::
veùÜ
<> 
s1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };

1487 
¡d
::
veùÜ
<> 
s2
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

1489 
MyD©aF¿me
 
df1
;

1490 
MyD©aF¿me
 
df2
;

1492 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idx1
),

1493 
¡d
::
	`make_·œ
("dbl_cŞ", 
d1
),

1494 
¡d
::
	`make_·œ
("§me_Çme", 
s1
));

1495 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

1496 
¡d
::
	`make_·œ
("dbl_cŞ", 
d2
),

1497 
¡d
::
	`make_·œ
("§me_Çme", 
s2
));

1499 
MyD©aF¿me
 
»suÉ
 = 
df_divides
<MyD©aF¿me, , >(
df1
, 
df2
);

1501 
¡d
::
cout
 << "Origš® DF1:" << std::
’dl
;

1502 
df1
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1503 
¡d
::
cout
 << "Origš® DF2:" << std::
’dl
;

1504 
df2
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1505 
¡d
::
cout
 << "ResuÉ DF:" << std::
’dl
;

1506 
»suÉ
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1507 
	}
}

1511 
	$‹¡_fl_missšg_v®ues
() {

1513 
¡d
::
cout
 << "\nTe¡šg fl_missšg(v®uesè..." << std::
’dl
;

1515 
¡d
::
veùÜ
<> 
idx
 =

1518 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1519 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1521 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1522 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1523 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1525 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1526 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1528 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1529 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1531 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1533 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1535 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1537 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1539 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1540 
¡d
::
veùÜ
<> 
i1
 = { 22,

1541 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1542 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1544 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1545 
MyD©aF¿me
 
df
;

1547 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1548 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1549 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1550 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1551 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1553 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1556 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

1558 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1559 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1561 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1562 
fl_pŞicy
::
v®ue
,

1565 
df
.
fl_missšg
<
¡d
::
¡ršg
, 1>({ "col_str" },

1566 
fl_pŞicy
::
v®ue
,

1569 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1570 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1571 
	}
}

1575 
	$‹¡_fl_missšg_fl_fÜw¬d
() {

1577 
¡d
::
cout
 << "\nTe¡šg fl_missšg(fl_fÜw¬dè..." << std::
’dl
;

1579 
¡d
::
veùÜ
<> 
idx
 =

1582 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1583 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1585 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1586 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1587 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1589 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1590 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1592 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1593 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1595 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1597 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1599 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1601 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1603 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1604 
¡d
::
veùÜ
<> 
i1
 = { 22,

1605 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1606 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1608 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1609 
MyD©aF¿me
 
df
;

1611 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1612 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1613 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1614 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1615 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1617 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1620 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

1622 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1623 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1625 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1626 
fl_pŞicy
::
fl_fÜw¬d
,

1629 
df
.
fl_missšg
<
¡d
::
¡ršg
, 1>({ "col_str" },

1630 
fl_pŞicy
::
fl_fÜw¬d
,

1633 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1634 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1635 
	}
}

1639 
	$‹¡_fl_missšg_fl_backw¬d
() {

1641 
¡d
::
cout
 << "\nTe¡šg fl_missšg(fl_backw¬dè..." << std::
’dl
;

1643 
¡d
::
veùÜ
<> 
idx
 =

1646 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1647 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1649 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1650 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1651 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1653 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1654 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1656 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1657 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1659 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1661 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1663 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1665 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1667 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1668 
¡d
::
veùÜ
<> 
i1
 = { 22,

1669 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1670 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1672 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1673 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1676 
MyD©aF¿me
 
df
;

1678 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1679 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1680 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1681 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1682 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1683 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1685 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1686 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1688 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1689 
fl_pŞicy
::
fl_backw¬d
);

1690 
df
.
fl_missšg
<
¡d
::
¡ršg
, 1>({ "cŞ_¡r" }, 
fl_pŞicy
::
fl_backw¬d
);

1692 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1693 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1694 
	}
}

1698 
	$‹¡_fl_missšg_fl_lš—r_š‹½Ş©iÚ
() {

1700 
¡d
::
cout
 << "\nTe¡šg fl_missšgÖš—r_š‹½Ş©eè..." << std::
’dl
;

1702 
¡d
::
veùÜ
<> 
idx
 =

1705 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1706 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1708 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1709 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1710 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1712 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1713 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1715 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1716 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1718 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1720 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1722 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1724 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1726 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1727 
¡d
::
veùÜ
<> 
i1
 = { 22,

1728 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1729 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1731 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1732 
MyD©aF¿me
 
df
;

1734 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1735 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1736 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1737 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1738 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1740 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1741 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1743 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

1744 
fl_pŞicy
::
lš—r_š‹½Ş©e
);

1746 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

1747 
df
.
wr™e
<
¡d
::
o¡»am
, , >(¡d::
cout
);

1748 
	}
}

1752 
	$‹¡_drİ_missšg_®l_no_drİ
() {

1754 
¡d
::
cout
 << "\nTe¡šg drİ_missšg×ÎènØdrİ ..." << std::
’dl
;

1756 
¡d
::
veùÜ
<> 
idx
 =

1759 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1760 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1762 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1763 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1764 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1766 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1767 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1769 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1770 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1772 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1774 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1776 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1778 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1780 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1781 
¡d
::
veùÜ
<> 
i1
 = { 22,

1782 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1783 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1785 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1786 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1789 
MyD©aF¿me
 
df
;

1791 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1792 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1793 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1794 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1795 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1796 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1798 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1799 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1801 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
®l
);

1803 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1804 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1805 
	}
}

1809 
	$‹¡_drİ_missšg_®l_2_drİ
() {

1811 
¡d
::
cout
 << "\nTe¡šg drİ_missšg×Îè2 drİ ..." << std::
’dl
;

1813 
¡d
::
veùÜ
<> 
idx
 =

1816 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1817 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1818 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1820 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1821 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1822 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1823 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1825 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1826 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1828 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1829 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1831 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1833 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1835 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1837 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1839 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1840 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1842 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1844 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1845 
¡d
::
veùÜ
<> 
i1
 = { 22,

1846 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1847 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1849 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1850 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1853 
MyD©aF¿me
 
df
;

1855 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1856 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1857 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1858 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1859 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1860 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1862 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1863 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1865 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
®l
);

1867 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1868 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1869 
	}
}

1873 
	$‹¡_drİ_missšg_ªy
() {

1875 
¡d
::
cout
 << "\nTe¡šg drİ_missšg×nyè..." << std::
’dl
;

1877 
¡d
::
veùÜ
<> 
idx
 =

1880 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1881 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1883 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1884 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1885 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1887 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1888 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1890 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1891 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1893 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1895 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1897 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1899 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1901 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1902 
¡d
::
veùÜ
<> 
i1
 = { 22,

1903 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1904 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1906 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1907 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1910 
MyD©aF¿me
 
df
;

1912 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1913 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1914 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1915 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1916 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1917 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1919 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1920 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1922 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
ªy
);

1924 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1925 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1926 
	}
}

1930 
	$‹¡_drİ_th»ashŞd_3
() {

1932 
¡d
::
cout
 << "\nTe¡šg drİ_missšgÑh»shŞd=3è..." << std::
’dl
;

1934 
¡d
::
veùÜ
<> 
idx
 =

1937 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1938 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1940 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1941 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1942 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1944 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

1945 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1947 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1948 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1950 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1952 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1954 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1956 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1958 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1959 
¡d
::
veùÜ
<> 
i1
 = { 22,

1960 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1961 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1963 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

1964 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

1967 
MyD©aF¿me
 
df
;

1969 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

1970 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

1971 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

1972 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

1973 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
),

1974 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

1976 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

1977 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1979 
df
.
drİ_missšg
<, , 
¡d
::
¡ršg
>(
drİ_pŞicy
::
th»shŞd
, 3);

1981 
¡d
::
cout
 << "Aá” drİ missšg‡Î DF:" << std::
’dl
;

1982 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

1983 
	}
}

1987 
	$‹¡_g‘_row
() {

1989 
¡d
::
cout
 << "\nTe¡šg g‘_row(è..." << std::
’dl
;

1991 
¡d
::
veùÜ
<> 
idx
 =

1994 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

1995 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1997 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1998 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

1999 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2001 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12,

2002 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2003 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2005 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2007 
¡d
::
veùÜ
<> 
d3
 = { 400.4, 16, 500.5, 18, 19, 16,

2008 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2010 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

2011 
¡d
::
veùÜ
<> 
i1
 = { 22, 11, 34, 25,

2012 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

2013 
MyD©aF¿me
 
df
;

2015 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2016 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2017 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2018 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2019 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

2021 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

2024 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2026 
¡d
::
veùÜ
<> 
i2
 = { 22, 11 };

2028 
df
.
	`lßd_cŞumn
("cŞ_št", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2030 
¡d
::
cout
 << "Origš® DF:" << std::
’dl
;

2031 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

2033 
¡d
::
¬¿y
<cÚ¡ *, 6> 
cŞumns
 =

2035 autØ
row
 =

2036 
df
.
g‘_row
<6, , , 
¡d
::
¡ršg
>(2, 
cŞumns
);

2038 
	`as£¹
(
row
.
©
<
MyD©aF¿me
::
IndexTy³
>(0) == 123452);

2039 
	`as£¹
(
row
.
©
<>(0) == 3.0);

2040 
	`as£¹
(
row
.
©
<>(1) == 10.0);

2041 
	`as£¹
(
row
.
©
<>(2) == 500.5);

2042 
	`as£¹
(
row
.
©
<>(0) == 34);

2043 
	`as£¹
(
row
.
©
<>(1) == 0);

2044 
	`as£¹
(
row
.
©
<
¡d
::
¡ršg
>(0) == "eeee");

2045 
	}
}

2049 
	$‹¡_auto_cÜ»ÏtiÚ
() {

2051 
¡d
::
cout
 << "\nTe¡šg AutØCÜ»ÏtiÚ ..." << std::
’dl
;

2053 
¡d
::
veùÜ
<> 
idx
 =

2057 
¡d
::
veùÜ
<> 
d1
 =

2061 
¡d
::
veùÜ
<> 
d2
 =

2065 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

2066 
MyD©aF¿me
 
df
;

2068 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2069 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2070 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2071 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

2073 
AutoCÜrVis™Ü
<> 
auto_cÜr
;

2074 autØ
fut
 =

2075 
df
.
sšgË_aù_vis™_async
<>("cŞ_1", 
auto_cÜr
);

2076 cÚ¡‡utØ&
»suÉ
 = 
fut
.
	`g‘
().
	`g‘_»suÉ
();

2078 
	`as£¹
(
»suÉ
.
	`size
() == 17);

2079 
	`as£¹
(
»suÉ
[0] == 1.0);

2080 
	`as£¹
(
	`çbs
(
»suÉ
[1] - 0.562001) < 0.00001);

2081 
	`as£¹
(
	`çbs
(
»suÉ
[16] - -0.265228) < 0.00001);

2082 
	`as£¹
(
	`çbs
(
»suÉ
[6] - 0.388131) < 0.00001);

2083 
	`as£¹
(
	`çbs
(
»suÉ
[10] - 0.125514) < 0.00001);

2085 cÚ¡‡utØ&
»suÉ2
 =

2086 
df
.
sšgË_aù_vis™
<>("cŞ_2", 
auto_cÜr
).
	`g‘_»suÉ
();

2088 
	`as£¹
(
»suÉ2
.
	`size
() == 17);

2089 
	`as£¹
(
»suÉ2
[0] == 1.0);

2090 
	`as£¹
(
	`çbs
(
»suÉ2
[1] - 0.903754) < 0.00001);

2091 
	`as£¹
(
	`çbs
(
»suÉ2
[16] - 0.183254) < 0.00001);

2092 
	`as£¹
(
	`çbs
(
»suÉ2
[6] - -0.263385) < 0.00001);

2093 
	`as£¹
(
	`çbs
(
»suÉ2
[10] - -0.712274) < 0.00001);

2095 cÚ¡ 
MyD©aF¿me
 
df_c
 = 
df
;

2097 cÚ¡‡utØ&
»suÉ3
 =

2098 
df_c
.
sšgË_aù_vis™
<>("cŞ_2", 
auto_cÜr
).
	`g‘_»suÉ
();

2100 
	`as£¹
(
»suÉ3
.
	`size
() == 17);

2101 
	`as£¹
(
»suÉ3
[0] == 1.0);

2102 
	`as£¹
(
	`çbs
(
»suÉ3
[1] - 0.903754) < 0.00001);

2103 
	`as£¹
(
	`çbs
(
»suÉ3
[16] - 0.183254) < 0.00001);

2104 
	`as£¹
(
	`çbs
(
»suÉ3
[6] - -0.263385) < 0.00001);

2105 
	`as£¹
(
	`çbs
(
»suÉ3
[10] - -0.712274) < 0.00001);

2106 
	}
}

2110 
	$‹¡_»tuº
() {

2112 
¡d
::
cout
 << "\nTe¡šg R‘uº ..." << std::
’dl
;

2114 
¡d
::
veùÜ
<> 
idx
 =

2118 
¡d
::
veùÜ
<> 
d1
 =

2122 
¡d
::
veùÜ
<> 
d2
 =

2126 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

2127 
MyD©aF¿me
 
df
;

2129 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2130 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2131 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2132 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

2134 
R‘uºVis™Ü
<> 
	`»tuº_vis™
(
»tuº_pŞicy
::
mÚ‘¬y
);

2135 cÚ¡‡utØ&
»suÉ
 =

2136 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
»tuº_vis™
).
	`g‘_»suÉ
();

2138 
	`as£¹
(
»suÉ
.
	`size
() == 20);

2139 
	`as£¹
(
»suÉ
[0] == 1.0);

2140 
	`as£¹
(
»suÉ
[1] == -1.0);

2141 
	`as£¹
(
»suÉ
[16] == 1.38);

2142 
	`as£¹
(
»suÉ
[6] == -20.66);

2143 
	`as£¹
(
	`çbs
(
»suÉ
[10] - -1.96) < 0.00001);

2145 
R‘uºVis™Ü
<> 
	`»tuº_vis™2
(
»tuº_pŞicy
::
³rûÁage
);

2146 cÚ¡‡utØ&
»suÉ2
 =

2147 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
»tuº_vis™2
).
	`g‘_»suÉ
();

2149 
	`as£¹
(
»suÉ2
.
	`size
() == 20);

2150 
	`as£¹
(
	`çbs
(
»suÉ2
[0] - 0.0666667) < 0.00001);

2151 
	`as£¹
(
	`çbs
(
»suÉ2
[1] - -0.0625) < 0.00001);

2152 
	`as£¹
(
	`çbs
(
»suÉ2
[16] - 2.12308) < 0.00001);

2153 
	`as£¹
(
	`çbs
(
»suÉ2
[6] - -0.98381) < 0.00001);

2154 
	`as£¹
(
	`çbs
(
»suÉ2
[10] - -0.852174) < 0.00001);

2156 
R‘uºVis™Ü
<> 
	`»tuº_vis™3
(
»tuº_pŞicy
::
log
);

2157 cÚ¡‡utØ&
»suÉ3
 =

2158 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
»tuº_vis™3
).
	`g‘_»suÉ
();

2160 
	`as£¹
(
»suÉ3
.
	`size
() == 20);

2161 
	`as£¹
(
	`çbs
(
»suÉ3
[0] - 0.0645385) < 0.00001);

2162 
	`as£¹
(
	`çbs
(
»suÉ3
[1] - -0.0645385) < 0.00001);

2163 
	`as£¹
(
	`çbs
(
»suÉ3
[16] - 1.13882) < 0.00001);

2164 
	`as£¹
(
	`çbs
(
»suÉ3
[6] - -4.12333) < 0.00001);

2165 
	`as£¹
(
	`çbs
(
»suÉ3
[10] - -1.91172) < 0.00001);

2166 
	}
}

2170 
	$‹¡_medŸn
() {

2172 
¡d
::
cout
 << "\nTe¡šg MedŸÀ..." << std::
’dl
;

2174 
¡d
::
veùÜ
<> 
idx
 =

2178 
¡d
::
veùÜ
<> 
d1
 =

2181 
¡d
::
veùÜ
<> 
d2
 =

2184 
¡d
::
veùÜ
<> 
i1
 =

2187 
¡d
::
veùÜ
<> 
i2
 =

2190 
MyD©aF¿me
 
df
;

2192 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2193 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2194 
¡d
::
	`make_·œ
("štcŞ_1", 
i1
));

2195 
df
.
	`lßd_cŞumn
("dblcŞ_2", 
¡d
::
	`move
(
d2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2196 
df
.
	`lßd_cŞumn
("štcŞ_2", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2198 
MedŸnVis™Ü
<> 
med_vis™
;

2199 
»suÉ
 =

2200 
df
.
sšgË_aù_vis™
<>("dblcŞ_1", 
med_vis™
).
	`g‘_»suÉ
();

2202 
	`as£¹
(
»suÉ
 == 10.0);

2204 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("dblcŞ_2", 
med_vis™
).
	`g‘_»suÉ
();

2205 
	`as£¹
(
»suÉ
 == 10.50);

2207 
MedŸnVis™Ü
<> 
med_vis™2
;

2208 
»suÉ2
 =

2209 
df
.
sšgË_aù_vis™
<>("štcŞ_1", 
med_vis™2
).
	`g‘_»suÉ
();

2211 
	`as£¹
(
»suÉ2
 == 10);

2213 
»suÉ2
 = 
df
.
sšgË_aù_vis™
<>("štcŞ_2", 
med_vis™2
).
	`g‘_»suÉ
();

2214 
	`as£¹
(
»suÉ2
 == 10);

2215 
	}
}

2219 
	$‹¡_Œackšg_”rÜ
() {

2221 
¡d
::
cout
 << "\nTe¡šg T¿ckšg E¼Ü ..." << std::
’dl
;

2223 
¡d
::
veùÜ
<> 
idx
 =

2227 
¡d
::
veùÜ
<> 
d1
 =

2230 
¡d
::
veùÜ
<> 
d2
 =

2233 
¡d
::
veùÜ
<> 
d3
 =

2237 
¡d
::
veùÜ
<> 
d4
 =

2241 
¡d
::
veùÜ
<> 
d5
 =

2245 
MyD©aF¿me
 
df
;

2247 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2248 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2249 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2250 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2251 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2252 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2254 
T¿ckšgE¼ÜVis™Ü
<> 
Œackšg_vis™
;

2255 
»suÉ
 =

2256 
df
.
vis™
<, >("dblcol_1",

2258 
Œackšg_vis™
).
	`g‘_»suÉ
();

2260 
	`as£¹
(
»suÉ
 == 0.0);

2262 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1",

2264 
Œackšg_vis™
).
	`g‘_»suÉ
();

2265 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.256416) < 0.00001);

2267 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1",

2269 
Œackšg_vis™
).
	`g‘_»suÉ
();

2270 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.256416) < 0.00001);

2272 
»suÉ
 = 
df
.
vis™
<, >("dblcol_3",

2274 
Œackšg_vis™
).
	`g‘_»suÉ
();

2275 
	`as£¹
(
»suÉ
 == 0.0);

2277 
»suÉ
 = 
df
.
vis™
<, >("dblcol_2",

2279 
Œackšg_vis™
).
	`g‘_»suÉ
();

2280 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.256416) < 0.00001);

2282 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1",

2284 
Œackšg_vis™
).
	`g‘_»suÉ
();

2285 
	`as£¹
(
	`çbs
(
»suÉ
 - 17.0566) < 0.0001);

2286 
	}
}

2290 
	$‹¡_b‘a
() {

2292 
¡d
::
cout
 << "\nTe¡šg B‘¨..." << std::
’dl
;

2294 
¡d
::
veùÜ
<> 
idx
 =

2298 
¡d
::
veùÜ
<> 
d1
 =

2301 
¡d
::
veùÜ
<> 
d2
 =

2304 
¡d
::
veùÜ
<> 
d3
 =

2308 
¡d
::
veùÜ
<> 
d4
 =

2312 
¡d
::
veùÜ
<> 
d5
 =

2316 
MyD©aF¿me
 
df
;

2318 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2319 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2320 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2321 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2322 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2323 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2325 
R‘uºVis™Ü
<> 
	`»tuº_vis™
(
»tuº_pŞicy
::
log
);

2327 
df
.
	`lßd_cŞumn
(

2329 
df
.
sšgË_aù_vis™
<>("dblcŞ_1", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2330 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2331 
df
.
	`lßd_cŞumn
(

2333 
df
.
sšgË_aù_vis™
<>("dblcŞ_2", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2334 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2335 
df
.
	`lßd_cŞumn
(

2337 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2338 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2339 
df
.
	`lßd_cŞumn
(

2341 
df
.
sšgË_aù_vis™
<>("dblcŞ_4", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2342 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2343 
df
.
	`lßd_cŞumn
(

2345 
df
.
sšgË_aù_vis™
<>("dblcŞ_5", 
»tuº_vis™
).
	`g‘_»suÉ
(),

2346 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2348 
B‘aVis™Ü
<> 
b‘a_vis™
;

2349 
»suÉ
 =

2350 
df
.
vis™
<, >("dblcol_1_return",

2352 
b‘a_vis™
).
	`g‘_»suÉ
();

2354 
	`as£¹
(
»suÉ
 == 1.0);

2356 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1_return",

2358 
b‘a_vis™
).
	`g‘_»suÉ
();

2359 
	`as£¹
(
	`çbs
(
»suÉ
 - 1.04881) < 0.00001);

2361 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1_return",

2363 
b‘a_vis™
).
	`g‘_»suÉ
();

2364 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.647582) < 0.00001);

2366 
»suÉ
 = 
df
.
vis™
<, >("dblcol_1_return",

2368 
b‘a_vis™
).
	`g‘_»suÉ
();

2369 
	`as£¹
(
	`çbs
(
»suÉ
 - -0.128854) < 0.00001);

2370 
	}
}

2374 
	$‹¡_g’_d©‘ime_šdex
() {

2376 
¡d
::
cout
 << "\nTe¡šg g’_d©‘ime_šdex(è..." << std::
’dl
;

2380 
¡d
::
veùÜ
<> 
idx_vec1
 =

2381 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
("01/01/2018",

2383 
time_äequ’cy
::
ªnu®
,

2385 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2387 
	`as£¹
(
idx_vec1
.
	`size
() == 21);

2388 
	`as£¹
(
idx_vec1
.
	`ÿ·c™y
() == 22);

2389 
	`as£¹
(
idx_vec1
[0] == 20180101);

2390 
	`as£¹
(
idx_vec1
[1] == 20190101);

2391 
	`as£¹
(
idx_vec1
[10] == 20280101);

2392 
	`as£¹
(
idx_vec1
[20] == 20380101);

2448 
idx_vec1
 = 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
("01/01/2018",

2450 
time_äequ’cy
::
£cÚdly
,

2452 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2453 
	`as£¹
(
idx_vec1
.
	`size
() == 768600);

2454 
	`as£¹
(
idx_vec1
.
	`ÿ·c™y
() == 768601);

2455 
	`as£¹
(
idx_vec1
[0] == 1514782800);

2456 
	`as£¹
(
idx_vec1
[1] == 1514782810);

2457 
	`as£¹
(
idx_vec1
[2] == 1514782820);

2458 
	`as£¹
(
idx_vec1
[768598] == 1522468780);

2459 
	`as£¹
(
idx_vec1
[768599] == 1522468790);

2461 
idx_vec1
 = 
MyD©aF¿me
::
	`g’_d©‘ime_šdex
(

2464 
time_äequ’cy
::
mli£cÚdly
,

2466 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2467 
	`as£¹
(
idx_vec1
.
	`size
() == 73204);

2468 
	`as£¹
(
idx_vec1
.
	`ÿ·c™y
() == 73229);

2469 
	`as£¹
(
idx_vec1
[0] == 1514782800000000000);

2470 
	`as£¹
(
idx_vec1
[1] == 1514782800500000000);

2471 
	`as£¹
(
idx_vec1
[2] == 1514782801000000000);

2472 
	`as£¹
(
idx_vec1
[73201] == 1514819400500000000);

2473 
	`as£¹
(
idx_vec1
[73202] == 1514819401000000000);

2474 
	`as£¹
(
idx_vec1
[73203] == 1514819401500000000);

2476 
¡d
::
veùÜ
<
D©eTime
> 
idx_vec2
 =

2477 
StdD©aF¿me
<
D©eTime
>::
	`g’_d©‘ime_šdex
(

2480 
time_äequ’cy
::
hou¾y
,

2482 
DT_TIME_ZONE
::
AM_NEW_YORK
);

2484 
	`as£¹
(
idx_vec2
.
	`size
() == 43800);

2485 
	`as£¹
(
idx_vec2
[0].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2487 
	`as£¹
(
idx_vec2
[1].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2489 
	`as£¹
(
idx_vec2
[2].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2491 
	`as£¹
(
idx_vec2
[43798].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2493 
	`as£¹
(
idx_vec2
[43799].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

2495 
	}
}

2499 
	$‹¡_»¶aû_1
() {

2501 
¡d
::
cout
 << "\nTe¡šg„•Ïû(1è..." << std::
’dl
;

2503 
¡d
::
veùÜ
<> 
d1
 = { 1.0, 10, 8, 18, 19, 16, 21,

2506 
¡d
::
veùÜ
<> 
d2
 = { 1.0, 10, 8, 18, 19, 16, 21,

2509 
¡d
::
veùÜ
<> 
d3
 = { 1.1, 10.09, 8.2, 18.03, 19.4, 15.9, 20.8,

2512 
¡d
::
veùÜ
<> 
d4
 = { 0.1, 9.09, 7.2, 17.03, 18.4, 14.9, 19.8,

2515 
¡d
::
veùÜ
<> 
d5
 = { 20.0, 10.1, -30.2, 18.5, 1.1, 16.2, 30.8,

2518 
MyD©aF¿me
 
df
;

2520 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_d©‘ime_šdex
(

2523 
time_äequ’cy
::
day
),

2524 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2525 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2526 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2527 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2528 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2529 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2530 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4.0);

2531 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[1] == 10.0);

2532 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8.0);

2533 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[6] == 21.0);

2534 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[7] == 17.0);

2535 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[11] == 11.0);

2536 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[15] == 15.0);

2538 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[0] == 20.0);

2539 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[20] == 40.1);

2540 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[1] == 10.1);

2541 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[2] == -30.2);

2542 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[3] == 18.5);

2543 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[10] == 30.89);

2544 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[11] == 11.1);

2545 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[17] == 1.2);

2546 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[19] == 23.2);

2548 autØ
»suÉ1
 = 
df
.
»¶aû_async
<, 3>(

2550 autØ
idx_»suÉ
 = 
df
.
»¶aû_šdex
<3>(

2552 autØ
»suÉ2
 = 
df
.
»¶aû_async
<, 6>(

2558 autØ
couÁ
 = 
»suÉ1
.
	`g‘
();

2560 
	`as£¹
(
couÁ
 == 3);

2561 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2562 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4.0);

2563 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[1] == 1000.0);

2564 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8.0);

2565 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[6] == 2100.0);

2566 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[7] == 17.0);

2567 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[11] == 1100.0);

2568 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[15] == 15.0);

2570 
couÁ
 = 
»suÉ2
.
	`g‘
();

2571 
	`as£¹
(
couÁ
 == 3);

2572 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[0] == 20.0);

2573 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[20] == 110.0);

2574 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[1] == 10.1);

2575 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[2] == 300.0);

2576 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[3] == 18.5);

2577 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[10] == 210.0);

2578 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[11] == 11.1);

2579 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[17] == 1.2);

2580 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_5")[19] == 23.2);

2581 
	}
}

2585 
	$‹¡_»¶aû_2
() {

2587 
¡d
::
cout
 << "\nTe¡šg„•Ïû(2è..." << std::
’dl
;

2589 
¡d
::
veùÜ
<> 
d1
 = { 1.0, 10, 8, 18, 19, 16, 21,

2592 
¡d
::
veùÜ
<> 
d2
 = { 1.0, 10, 8, 18, 19, 16, 21,

2595 
¡d
::
veùÜ
<> 
d3
 = { 1.1, 10.09, 8.2, 18.03, 19.4, 15.9, 20.8,

2598 
¡d
::
veùÜ
<> 
d4
 = { 0.1, 9.09, 7.2, 17.03, 18.4, 14.9, 19.8,

2601 
¡d
::
veùÜ
<> 
d5
 = { 20.0, 10.1, -30.2, 18.5, 1.1, 16.2, 30.8,

2604 
MyD©aF¿me
 
df
;

2606 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_d©‘ime_šdex
(

2609 
time_äequ’cy
::
day
),

2610 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2611 
¡d
::
	`make_·œ
("dblcŞ_2", 
d2
),

2612 
¡d
::
	`make_·œ
("dblcŞ_3", 
d3
),

2613 
¡d
::
	`make_·œ
("dblcŞ_4", 
d4
),

2614 
¡d
::
	`make_·œ
("dblcŞ_5", 
d5
));

2615 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2616 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[19] == 6.0);

2617 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4.0);

2618 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8.0);

2619 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[14] == 9.0);

2621 
R•ÏûFunùÜ
 
funùÜ
;

2622 autØ
»suÉ
 =

2623 
df
.
»¶aû_async
<, 
R•ÏûFunùÜ
>("dblcŞ_1", 
funùÜ
);

2625 
»suÉ
.
	`g‘
();

2626 
	`as£¹
(
funùÜ
.
couÁ
 == 3);

2627 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[0] == 1.0);

2628 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[19] == 6.0);

2629 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[20] == 4000.0);

2630 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[2] == 8000.0);

2631 
	`as£¹
(
df
.
g‘_cŞumn
<>("dblcol_1")[14] == 9000.0);

2633 autØ
£q_vec
 = 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(1, 200, 4);

2635 
	`as£¹
(
£q_vec
.
	`size
() == 50);

2636 
	`as£¹
(
£q_vec
[0] == 1);

2637 
	`as£¹
(
£q_vec
[2] == 9);

2638 
	`as£¹
(
£q_vec
[3] == 13);

2639 
	`as£¹
(
£q_vec
[49] == 197);

2640 
	`as£¹
(
£q_vec
[48] == 193);

2641 
	}
}

2645 
	$‹¡_some_vis™Üs
() {

2647 
¡d
::
cout
 << "\nTe¡šg somvis™Ü ..." << std::
’dl
;

2649 
¡d
::
veùÜ
<> 
idx
 =

2653 
¡d
::
veùÜ
<> 
d1
 =

2656 
¡d
::
veùÜ
<> 
d2
 =

2659 
¡d
::
veùÜ
<> 
i1
 =

2661 
¡d
::
veùÜ
<> 
i2
 =

2664 
¡d
::
veùÜ
<> 
d3
 =

2665 { 1, 10, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 18, 19, 16,

2666 17, 20, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2667 2, 11, 7, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 5,

2669 
MyD©aF¿me
 
df
;

2671 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2672 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2673 
¡d
::
	`make_·œ
("štcŞ_1", 
i1
));

2674 
df
.
	`lßd_cŞumn
("dblcŞ_2", 
¡d
::
	`move
(
d2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2675 
df
.
	`lßd_cŞumn
("štcŞ_2", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2676 
df
.
	`lßd_cŞumn
("dblcŞ_3", 
¡d
::
	`move
(
d3
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2678 
SumVis™Ü
<> 
sum_vis™
;

2679 
ProdVis™Ü
<> 
´od_vis™
;

2680 
sum_»suÉ
 =

2681 
df
.
vis™
<>("štcŞ_2", 
sum_vis™
).
	`g‘_»suÉ
();

2682 
´od_»suÉ
 =

2683 
df
.
vis™
<>("štcŞ_1", 
´od_vis™
).
	`g‘_»suÉ
();

2685 
	`as£¹
(
sum_»suÉ
 == 210);

2686 
	`as£¹
(
´od_»suÉ
 == 464486400);

2688 
CumSumVis™Ü
<> 
cum_sum_vis™
;

2689 cÚ¡ 
¡d
::
veùÜ
<> &
cum_sum_»suÉ
 =

2690 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
cum_sum_vis™
).
	`g‘_»suÉ
();

2692 
	`as£¹
(
cum_sum_»suÉ
.
	`size
() == 20);

2693 
	`as£¹
(
cum_sum_»suÉ
[0] == 1);

2694 
	`as£¹
(
cum_sum_»suÉ
[1] == 11);

2695 
	`as£¹
(
cum_sum_»suÉ
[19] == 195);

2696 
	`as£¹
(
cum_sum_»suÉ
[18] == 189);

2697 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_sum_»suÉ
[2]));

2698 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_sum_»suÉ
[8]));

2700 
CumMaxVis™Ü
<> 
cum_max_vis™
;

2701 cÚ¡ 
¡d
::
veùÜ
<> &
cum_max_»suÉ
 =

2702 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
cum_max_vis™
).
	`g‘_»suÉ
();

2704 
	`as£¹
(
cum_max_»suÉ
.
	`size
() == 20);

2705 
	`as£¹
(
cum_max_»suÉ
[0] == 1);

2706 
	`as£¹
(
cum_max_»suÉ
[1] == 10);

2707 
	`as£¹
(
cum_max_»suÉ
[19] == 20);

2708 
	`as£¹
(
cum_max_»suÉ
[18] == 20);

2709 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_max_»suÉ
[2]));

2710 
	`as£¹
(
¡d
::
	`i¢ª
(
cum_max_»suÉ
[8]));

2711 
	}
}

2715 
	$‹¡_mode
() {

2717 
¡d
::
cout
 << "\nTe¡šg Mod..." << std::
’dl
;

2719 
¡d
::
veùÜ
<> 
idx
 =

2723 
¡d
::
veùÜ
<> 
d1
 =

2726 
¡d
::
veùÜ
<> 
d2
 =

2729 
¡d
::
veùÜ
<> 
i1
 =

2731 
¡d
::
veùÜ
<> 
i2
 =

2734 
¡d
::
veùÜ
<> 
d3
 =

2735 { 1, 10, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 18, 19, 16,

2736 17, 20, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

2737 2, 11, 7, 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(), 5,

2739 
MyD©aF¿me
 
df
;

2741 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2742 
¡d
::
	`make_·œ
("dblcŞ_1", 
d1
),

2743 
¡d
::
	`make_·œ
("štcŞ_1", 
i1
));

2744 
df
.
	`lßd_cŞumn
("dblcŞ_2", 
¡d
::
	`move
(
d2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2745 
df
.
	`lßd_cŞumn
("štcŞ_2", 
¡d
::
	`move
(
i2
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2746 
df
.
	`lßd_cŞumn
("dblcŞ_3", 
¡d
::
	`move
(
d3
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2748 
ModeVis™Ü
<3, > 
mode_vis™
;

2749 cÚ¡‡utØ&
»suÉ
 =

2750 
df
.
sšgË_aù_vis™
<>("dblcŞ_3", 
mode_vis™
).
	`g‘_»suÉ
();

2752 
	`as£¹
(
»suÉ
.
	`size
() == 3);

2753 
	`as£¹
(
»suÉ
[0].
šdiûs
.
	`size
() == 3);

2754 
	`as£¹
(
»suÉ
[0].
v®ue_šdiûs_š_cŞ
.
	`size
() == 3);

2755 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0].
	`g‘_v®ue
()));

2756 
	`as£¹
(
»suÉ
[0].
	`»³©_couÁ
() == 3);

2757 
	`as£¹
(
»suÉ
[0].
šdiûs
[1] == 123458);

2758 
	`as£¹
(
»suÉ
[0].
v®ue_šdiûs_š_cŞ
[2] == 12);

2760 
ModeVis™Ü
<4, > 
mode_vis™2
;

2761 cÚ¡‡utØ&
»suÉ2
 =

2762 
df
.
sšgË_aù_vis™
<>("štcŞ_1", 
mode_vis™2
).
	`g‘_»suÉ
();

2764 
	`as£¹
(
»suÉ2
.
	`size
() == 4);

2765 
	`as£¹
(
»suÉ2
[0].
šdiûs
.
	`size
() == 6);

2766 
	`as£¹
(
»suÉ2
[0].
v®ue_šdiûs_š_cŞ
.
	`size
() == 6);

2767 
	`as£¹
(
»suÉ2
[0].
	`»³©_couÁ
() == 6);

2768 
	`as£¹
(
»suÉ2
[0].
	`g‘_v®ue
() == 2);

2769 
	`as£¹
(
»suÉ2
[1].
	`»³©_couÁ
() == 4);

2770 
	}
}

2774 
	$‹¡_g‘_d©a_by_£l
() {

2776 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_£l(è..." << std::
’dl
;

2778 
¡d
::
veùÜ
<> 
idx
 =

2780 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

2781 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

2782 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

2783 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

2784 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "ee", "ff", "gg", "ll" };

2785 
MyD©aF¿me
 
df
;

2787 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2788 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2789 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2790 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2791 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

2792 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2794 autØ
funùÜ
 =

2795 [](cÚ¡ &, cÚ¡ &
v®
)-> 
boŞ
 {

2796  (
v®
 >= 5);

2798 autØ
»suÉ
 =

2799 
df
.
g‘_d©a_by_£l
<, 
	`deşty³
(
funùÜ
), , 
¡d
::
¡ršg
>

2800 ("cŞ_1", 
funùÜ
);

2802 
	`as£¹
(
»suÉ
.
	`g‘_šdex
().
	`size
() == 3);

2803 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

2804 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 3);

2805 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 0);

2806 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[0] == 123454);

2807 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[2] == 123456);

2808 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_2")[1] == 13);

2809 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "gg");

2810 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ll");

2811 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[1] == 6);

2812 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 7);

2814 autØ
funùÜ2
 =

2816 cÚ¡ &
v®1
,

2817 cÚ¡ &
v®2
,

2818 cÚ¡ 
¡d
::
¡ršg
 
v®3
)-> 
boŞ
 {

2819  (
v®1
 >ğ5 || 
v®2
 =ğ15 || 
v®3
 == "33");

2821 autØ
»suÉ2
 =

2822 
df
.
g‘_d©a_by_£l
<,

2824 
¡d
::
¡ršg
,

2825 
	`deşty³
(
funùÜ2
),

2826 , 
¡d
::
¡ršg
>

2827 ("cŞ_1", "cŞ_3", "cŞ_¡r", 
funùÜ2
);

2829 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 5);

2830 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 5);

2831 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 5);

2832 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 2);

2833 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[0] == 123450);

2834 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[2] == 123454);

2835 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[4] == 123456);

2836 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_2")[0] == 8);

2837 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_2")[1] == 10);

2838 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_2")[3] == 13);

2839 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_4")[0] == 22);

2840 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_4")[1] == 24);

2841 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "11");

2842 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "33");

2843 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ff");

2844 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[4] == "ll");

2845 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_1")[0] == 1);

2846 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_1")[1] == 3);

2847 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("col_1")[2] == 5);

2848 
	}
}

2852 
	$‹¡_g‘_v›w_by_£l
() {

2854 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_£l(è..." << std::
’dl
;

2856 
¡d
::
veùÜ
<> 
idx
 =

2858 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

2859 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

2860 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

2861 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

2862 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "ee", "ff", "gg", "ll" };

2863 
MyD©aF¿me
 
df
;

2865 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2866 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2867 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2868 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2869 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

2870 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2872 autØ
funùÜ
 =

2873 [](cÚ¡ &, cÚ¡ &
v®
)-> 
boŞ
 {

2874  (
v®
 >= 5);

2876 autØ
»suÉ
 =

2877 
df
.
g‘_v›w_by_£l
<, 
	`deşty³
(
funùÜ
), , 
¡d
::
¡ršg
>

2878 ("cŞ_1", 
funùÜ
);

2880 
»suÉ
.
shršk_to_f™
<, 
¡d
::
¡ršg
>();

2881 
	`as£¹
(
»suÉ
.
	`g‘_šdex
().
	`size
() == 3);

2882 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

2883 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 3);

2884 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 0);

2885 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[0] == 123454);

2886 
	`as£¹
(
»suÉ
.
	`g‘_šdex
()[2] == 123456);

2887 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_2")[1] == 13);

2888 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "gg");

2889 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ll");

2890 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[1] == 6);

2891 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 7);

2893 
»suÉ
.
g‘_cŞumn
<>("col_1")[1] = 600;

2894 
	`as£¹
(
»suÉ
.
g‘_cŞumn
<>("col_1")[1] == 600);

2895 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[5] == 600);

2897 autØ
funùÜ2
 =

2899 cÚ¡ &
v®1
,

2900 cÚ¡ &
v®2
)-> 
boŞ
 {

2901  (
v®1
 >ğ5 || 
v®2
 == 15);

2903 autØ
»suÉ2
 =

2904 
df
.
g‘_v›w_by_£l
<,

2906 
	`deşty³
(
funùÜ2
),

2907 , 
¡d
::
¡ršg
>

2908 ("cŞ_1", "cŞ_3", 
funùÜ2
);

2910 autØ
funùÜ3
 =

2912 cÚ¡ &
v®1
,

2913 cÚ¡ &
v®2
,

2914 cÚ¡ 
¡d
::
¡ršg
 
v®3
)-> 
boŞ
 {

2915  (
v®1
 >ğ5 || 
v®2
 =ğ15 || 
v®3
 == "33");

2917 autØ
»suÉ3
 =

2918 
df
.
g‘_v›w_by_£l
<,

2920 
¡d
::
¡ršg
,

2921 
	`deşty³
(
funùÜ3
),

2922 , 
¡d
::
¡ršg
>

2923 ("cŞ_1", "cŞ_3", "cŞ_¡r", 
funùÜ3
);

2925 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
().
	`size
() == 5);

2926 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 5);

2927 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 5);

2928 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 2);

2929 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
()[0] == 123450);

2930 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
()[2] == 123454);

2931 
	`as£¹
(
»suÉ3
.
	`g‘_šdex
()[4] == 123456);

2932 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_2")[0] == 8);

2933 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_2")[1] == 10);

2934 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_2")[3] == 13);

2935 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_4")[0] == 22);

2936 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_4")[1] == 24);

2937 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "11");

2938 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "33");

2939 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "ff");

2940 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[4] == "ll");

2941 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_1")[0] == 1);

2942 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_1")[1] == 3);

2943 
	`as£¹
(
»suÉ3
.
g‘_cŞumn
<>("col_1")[2] == 5);

2944 
	}
}

2948 
	$‹¡_»move_d©a_by_£l
() {

2950 
¡d
::
cout
 << "\nTe¡šg„emove_d©a_by_£l(è..." << std::
’dl
;

2952 
¡d
::
veùÜ
<> 
idx
 =

2954 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

2955 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

2956 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

2957 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

2958 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "ee", "ff", "gg", "ll" };

2959 
MyD©aF¿me
 
df
;

2961 autØ
sh­e
 = 
df
.
	`sh­e
();

2963 
	`as£¹
(
sh­e
.
fœ¡
 == 0);

2964 
	`as£¹
(
sh­e
.
£cÚd
 == 0);

2966 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

2967 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

2968 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

2969 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

2970 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

2971 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

2973 
sh­e
 = 
df
.
	`sh­e
();

2974 
	`as£¹
(
sh­e
.
fœ¡
 == 7);

2975 
	`as£¹
(
sh­e
.
£cÚd
 == 5);

2977 
MyD©aF¿me
 
df2
 = 
df
;

2979 autØ
funùÜ
 =

2980 [](cÚ¡ &, cÚ¡ &
v®
)-> 
boŞ
 {

2981  (
v®
 >= 5);

2984 
df
.
»move_d©a_by_£l
<, 
	`deşty³
(
funùÜ
), , 
¡d
::
¡ršg
>

2985 ("cŞ_1", 
funùÜ
);

2987 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 4);

2988 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 4);

2989 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 4);

2990 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 4);

2991 
	`as£¹
(
df
.
	`g‘_šdex
()[0] == 123450);

2992 
	`as£¹
(
df
.
	`g‘_šdex
()[2] == 123452);

2993 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_2")[1] == 9);

2994 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "22");

2995 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[2] == "33");

2996 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[1] == 2);

2997 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[2] == 3);

2998 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[3] == 25);

3000 autØ
funùÜ2
 =

3002 cÚ¡ &
v®1
,

3003 cÚ¡ &
v®2
,

3004 cÚ¡ 
¡d
::
¡ršg
 
v®3
)-> 
boŞ
 {

3005  (
v®1
 >ğ5 || 
v®2
 =ğ15 || 
v®3
 == "33");

3008 
df2
.
»move_d©a_by_£l
<,

3010 
¡d
::
¡ršg
,

3011 
	`deşty³
(
funùÜ2
),

3012 , 
¡d
::
¡ršg
>

3013 ("cŞ_1", "cŞ_3", "cŞ_¡r", 
funùÜ2
);

3015 
	`as£¹
(
df2
.
	`g‘_šdex
().
	`size
() == 2);

3016 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 2);

3017 
	`as£¹
(
df2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 2);

3018 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 2);

3019 
	`as£¹
(
df2
.
	`g‘_šdex
()[0] == 123451);

3020 
	`as£¹
(
df2
.
	`g‘_šdex
()[1] == 123453);

3021 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[0] == 9);

3022 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[1] == 11);

3023 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_4")[0] == 23);

3024 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_4")[1] == 25);

3025 
	`as£¹
(
df2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "22");

3026 
	`as£¹
(
df2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[1] == "ee");

3027 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_1")[0] == 2);

3028 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_1")[1] == 4);

3029 
	}
}

3033 
	$‹¡_shufæe
() {

3035 
¡d
::
cout
 << "\nTe¡šg shufæe(è..." << std::
’dl
;

3037 
¡d
::
veùÜ
<> 
idx
 =

3039 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3040 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3041 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3042 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3043 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc", "dd" };

3044 
MyD©aF¿me
 
df
;

3046 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3047 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3048 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3049 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3050 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3051 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3056 
df
.
shufæe
<2, , 
¡d
::
¡ršg
>({"cŞ_1", "cŞ_¡r"}, 
çl£
);

3060 
df
.
shufæe
<2, >({"cŞ_2", "cŞ_3"}, 
Œue
);

3063 
	}
}

3067 
	$‹¡_Sim¶eRŞlAdİ‹r
() {

3069 
¡d
::
cout
 << "\nTe¡šg Sim¶eRŞlAdİ‹r{ } ..." << std::
’dl
;

3071 
¡d
::
veùÜ
<> 
idx
 =

3074 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3075 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11,

3076 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3078 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3080 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3081 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3082 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

3084 
MyD©aF¿me
 
df
;

3086 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3087 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3088 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3089 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3090 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3091 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3093 
Sim¶eRŞlAdİ‹r
<
MšVis™Ü
<>, > 
	`mš_rŞËr
(

3094 
MšVis™Ü
<>(), 3);

3095 cÚ¡‡utØ&
»suÉ
 =

3096 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mš_rŞËr
).
	`g‘_»suÉ
();

3098 
	`as£¹
(
»suÉ
.
	`size
() == 11);

3099 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0]));

3100 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[1]));

3101 
	`as£¹
(
»suÉ
[2] == 1.0);

3102 
	`as£¹
(
»suÉ
[5] == 4.0);

3103 
	`as£¹
(
»suÉ
[8] == 7.0);

3105 
Sim¶eRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`m—n_rŞËr
(

3106 
M—nVis™Ü
<>(), 3);

3107 cÚ¡‡utØ&
»suÉ2
 =

3108 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
m—n_rŞËr
).
	`g‘_»suÉ
();

3110 
	`as£¹
(
»suÉ2
.
	`size
() == 11);

3111 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[0]));

3112 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[1]));

3113 
	`as£¹
(
»suÉ2
[2] == 16.0);

3114 
	`as£¹
(
»suÉ2
[5] == 19.0);

3115 
	`as£¹
(
»suÉ2
[8] == 22.0);

3117 
Sim¶eRŞlAdİ‹r
<
MaxVis™Ü
<>, > 
	`max_rŞËr
(

3118 
MaxVis™Ü
<>(), 3);

3119 cÚ¡‡utØ&
»suÉ3
 =

3120 
df
.
sšgË_aù_vis™
<>("cŞ_4", 
max_rŞËr
).
	`g‘_»suÉ
();

3122 
	`as£¹
(
»suÉ3
.
	`size
() == 6);

3123 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[0]));

3124 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[1]));

3125 
	`as£¹
(
»suÉ3
[2] == 24.0);

3126 
	`as£¹
(
»suÉ3
[4] == 26.0);

3127 
	`as£¹
(
»suÉ3
[5] == 27.0);

3129 
Sim¶eRŞlAdİ‹r
<
MaxVis™Ü
<>, > 
	`max2_rŞËr
(

3130 
MaxVis™Ü
<>(
çl£
), 3);

3131 cÚ¡‡utØ&
»suÉ4
 =

3132 
df
.
sšgË_aù_vis™
<>("cŞ_2", 
max2_rŞËr
).
	`g‘_»suÉ
();

3134 
	`as£¹
(
»suÉ4
.
	`size
() == 11);

3135 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[0]));

3136 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[1]));

3137 
	`as£¹
(
»suÉ4
[2] == 10.0);

3138 
	`as£¹
(
»suÉ4
[3] == 11.0);

3139 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[4]));

3140 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[8]));

3141 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[9]));

3142 
	`as£¹
(
»suÉ4
[10] == 18.0);

3143 
	}
}

3147 
	$‹¡_ExpÚ’tŸlRŞlAdİ‹r
() {

3149 
¡d
::
cout
 << "\nTe¡šg ExpÚ’tŸlRŞlAdİ‹r{ } ..." << std::
’dl
;

3151 
¡d
::
veùÜ
<> 
idx
 =

3154 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3155 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11,

3156 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3158 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

3160 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3161 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3162 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

3164 
MyD©aF¿me
 
df
;

3166 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3167 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3168 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3169 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3170 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3171 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3173 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`hl_expo_m—n_rŞËr
(

3174 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
h®æiã
, 0.5);

3175 cÚ¡‡utØ&
hl_expo_»suÉ
 =

3176 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
hl_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3177 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`cg_expo_m—n_rŞËr
(

3178 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
ûÁ”_of_g¿v™y
,

3180 cÚ¡‡utØ&
cg_expo_»suÉ
 =

3181 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
cg_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3182 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`s_expo_m—n_rŞËr
(

3183 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 1.5);

3184 cÚ¡‡utØ&
s_expo_»suÉ
 =

3185 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
s_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3186 
ExpÚ’tŸlRŞlAdİ‹r
<
M—nVis™Ü
<>, > 
	`f_expo_m—n_rŞËr
(

3187 
M—nVis™Ü
<>(), 3, 
expÚ’tŸl_deÿy_¥ec
::
fixed
, 0.5);

3188 cÚ¡‡utØ&
f_expo_»suÉ
 =

3189 
df
.
sšgË_aù_vis™
<>("cŞ_3", 
f_expo_m—n_rŞËr
).
	`g‘_»suÉ
();

3191 
	`as£¹
(
s_expo_»suÉ
.
	`size
() == 11);

3192 
	`as£¹
(
¡d
::
	`i¢ª
(
s_expo_»suÉ
[0]));

3193 
	`as£¹
(
¡d
::
	`i¢ª
(
s_expo_»suÉ
[1]));

3194 
	`as£¹
(
s_expo_»suÉ
[2] == 16.0);

3195 
	`as£¹
(
s_expo_»suÉ
[5] == 19.744);

3196 
	`as£¹
(
	`çbs
(
s_expo_»suÉ
[8] - 22.75) < 0.0001);

3198 
	`as£¹
(
f_expo_»suÉ
.
	`size
() == 11);

3199 
	`as£¹
(
¡d
::
	`i¢ª
(
f_expo_»suÉ
[0]));

3200 
	`as£¹
(
¡d
::
	`i¢ª
(
f_expo_»suÉ
[1]));

3201 
	`as£¹
(
f_expo_»suÉ
[2] == 16.0);

3202 
	`as£¹
(
f_expo_»suÉ
[5] == 19.0);

3203 
	`as£¹
(
f_expo_»suÉ
[8] == 22.0);

3205 
	`as£¹
(
cg_expo_»suÉ
.
	`size
() == 11);

3206 
	`as£¹
(
¡d
::
	`i¢ª
(
cg_expo_»suÉ
[0]));

3207 
	`as£¹
(
¡d
::
	`i¢ª
(
cg_expo_»suÉ
[1]));

3208 
	`as£¹
(
cg_expo_»suÉ
[2] == 16.0);

3209 
	`as£¹
(
	`çbs
(
cg_expo_»suÉ
[5] - 19.4815) < 0.0001);

3210 
	`as£¹
(
	`çbs
(
cg_expo_»suÉ
[8] - 22.4993) < 0.0001);

3212 
	`as£¹
(
hl_expo_»suÉ
.
	`size
() == 11);

3213 
	`as£¹
(
¡d
::
	`i¢ª
(
hl_expo_»suÉ
[0]));

3214 
	`as£¹
(
¡d
::
	`i¢ª
(
hl_expo_»suÉ
[1]));

3215 
	`as£¹
(
hl_expo_»suÉ
[2] == 16.0);

3216 
	`as£¹
(
	`çbs
(
hl_expo_»suÉ
[5] - 19.6562) < 0.0001);

3217 
	`as£¹
(
	`çbs
(
hl_expo_»suÉ
[8] - 22.6665) < 0.0001);

3218 
	}
}

3222 
	$‹¡_g‘_d©a_by_¿nd
() {

3224 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_¿nd(è..." << std::
’dl
;

3226 
¡d
::
veùÜ
<> 
idx
 =

3229 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3230 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 };

3231 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3232 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3233 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc",

3235 
MyD©aF¿me
 
df
;

3237 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3238 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3239 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3240 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3241 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3242 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3244 autØ
»suÉ
 =

3245 
df
.
g‘_d©a_by_¿nd
<, 
¡d
::
¡ršg
>

3246 (
¿ndom_pŞicy
::
num_rows_no_£ed
, 5);

3247 autØ
»suÉ2
 =

3248 
df
.
g‘_d©a_by_¿nd
<, 
¡d
::
¡ršg
>

3249 (
¿ndom_pŞicy
::
äac_rows_w™h_£ed
, 0.8, 23);

3251 
»suÉ2
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
);

3262 
	}
}

3266 
	$‹¡_g‘_v›w_by_¿nd
() {

3268 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_¿nd(è..." << std::
’dl
;

3270 
¡d
::
veùÜ
<> 
idx
 =

3273 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3274 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 };

3275 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3276 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3277 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc",

3279 
MyD©aF¿me
 
df
;

3281 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3282 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3283 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3284 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3285 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3286 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3288 autØ
»suÉ
 =

3289 
df
.
g‘_v›w_by_¿nd
<, 
¡d
::
¡ršg
>

3290 (
¿ndom_pŞicy
::
num_rows_no_£ed
, 5);

3291 autØ
»suÉ2
 =

3292 
df
.
g‘_v›w_by_¿nd
<, 
¡d
::
¡ršg
>

3293 (
¿ndom_pŞicy
::
äac_rows_w™h_£ed
, 0.8, 23);

3295 
»suÉ2
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
);

3311 
	}
}

3315 
	$‹¡_wr™e_jsÚ
() {

3317 
¡d
::
cout
 << "\nTe¡šg wr™e(jsÚè..." << std::
’dl
;

3319 
¡d
::
veùÜ
<> 
idx
 =

3322 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };

3323 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 };

3324 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25 };

3325 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25, 26, 27 };

3326 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 = { "11", "22", "33", "aa", "bb", "cc",

3328 
MyD©aF¿me
 
df
;

3330 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3331 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3332 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3333 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3334 
¡d
::
	`make_·œ
("cŞ_¡r", 
s1
));

3335 
df
.
	`lßd_cŞumn
("cŞ_4", 
¡d
::
	`move
(
d4
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

3337 
¡d
::
cout
 << "Wr™šg iÀJSON:" << std::
’dl
;

3338 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
,

3339 
çl£
,

3340 
io_fÜm©
::
jsÚ
);

3341 
	}
}

3345 
	$‹¡_diff
() {

3347 
¡d
::
cout
 << "\nTe¡šg Difà..." << std::
’dl
;

3349 cÚ¡ 
my_Çn
 = 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
();

3350 cÚ¡ 
•sÚ
 = 0.0000001;

3352 
¡d
::
veùÜ
<> 
idx
 =

3356 
¡d
::
veùÜ
<> 
d1
 =

3357 { 
my_Çn
, 16, 15, 18, my_nan, 16, 21,

3358 0.34, 1.56, 0.34, 2.3, 
my_Çn
, 19.0, 0.387,

3359 0.123, 1.06, 
my_Çn
, 2.03, 0.4, 1.0, my_nan };

3360 
¡d
::
veùÜ
<> 
d2
 =

3364 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

3365 
MyD©aF¿me
 
df
;

3367 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3368 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3369 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3370 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

3372 
DiffVis™Ü
<> 
	`diff_vis™
(1, 
çl£
);

3373 cÚ¡‡utØ&
»suÉ
 =

3374 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™
).
	`g‘_»suÉ
();

3376 
	`as£¹
(
»suÉ
.
	`size
() == 21);

3377 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0]));

3378 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[1]));

3379 
	`as£¹
(
»suÉ
[2] == -1.0);

3380 
	`as£¹
(
»suÉ
[3] == 3);

3381 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[4]));

3382 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[17]));

3383 
	`as£¹
(
»suÉ
[18] == -1.63);

3384 
	`as£¹
(
»suÉ
[19] == 0.6);

3385 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[20]));

3387 
DiffVis™Ü
<> 
	`diff_vis™2
(-1, 
çl£
);

3388 cÚ¡‡utØ&
»suÉ2
 =

3389 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™2
).
	`g‘_»suÉ
();

3391 
	`as£¹
(
»suÉ2
.
	`size
() == 21);

3392 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[0]));

3393 
	`as£¹
(
»suÉ2
[1] == 1.0);

3394 
	`as£¹
(
»suÉ2
[2] == -3);

3395 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[4]));

3396 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[16]));

3397 
	`as£¹
(
»suÉ2
[17] == 1.63);

3398 
	`as£¹
(
»suÉ2
[18] == -0.6);

3399 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[19]));

3400 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ2
[20]));

3402 
DiffVis™Ü
<> 
	`diff_vis™3
(3, 
çl£
);

3403 cÚ¡‡utØ&
»suÉ3
 =

3404 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™3
).
	`g‘_»suÉ
();

3406 
	`as£¹
(
»suÉ3
.
	`size
() == 21);

3407 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[0]));

3408 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[1]));

3409 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[2]));

3410 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[4]));

3411 
	`as£¹
(
»suÉ3
[5] == 1.0);

3412 
	`as£¹
(
»suÉ3
[6] == 3.0);

3413 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[7]));

3414 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[16]));

3415 
	`as£¹
(
	`çbs
(
»suÉ3
[17] - 1.907è< 
•sÚ
);

3416 
	`as£¹
(
»suÉ3
[18] == -0.66);

3417 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[19]));

3418 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ3
[20]));

3420 
DiffVis™Ü
<> 
	`diff_vis™4
(-3, 
çl£
);

3421 cÚ¡‡utØ&
»suÉ4
 =

3422 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™4
).
	`g‘_»suÉ
();

3424 
	`as£¹
(
»suÉ4
.
	`size
() == 21);

3425 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[0]));

3426 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[1]));

3427 
	`as£¹
(
»suÉ4
[2] == -1.0);

3428 
	`as£¹
(
»suÉ4
[3] == -3.0);

3429 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[4]));

3430 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[13]));

3431 
	`as£¹
(
	`çbs
(
»suÉ4
[14] - -1.907è< 
•sÚ
);

3432 
	`as£¹
(
»suÉ4
[15] == 0.66);

3433 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[16]));

3434 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[17]));

3435 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[18]));

3436 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[19]));

3437 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ4
[20]));

3439 
DiffVis™Ü
<> 
	`diff_vis™5
(3, 
Œue
);

3440 cÚ¡‡utØ&
»suÉ5
 =

3441 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™5
).
	`g‘_»suÉ
();

3443 
	`as£¹
(
»suÉ5
.
	`size
() == 10);

3444 
	`as£¹
(
»suÉ5
[0] == 1.0);

3445 
	`as£¹
(
»suÉ5
[1] == 3.0);

3446 
	`as£¹
(
»suÉ5
[2] == -14.44);

3447 
	`as£¹
(
»suÉ5
[7] == -17.94);

3448 
	`as£¹
(
	`çbs
(
»suÉ5
[8] - 1.907è< 
•sÚ
);

3449 
	`as£¹
(
»suÉ5
[9] == -0.66);

3451 
DiffVis™Ü
<> 
	`diff_vis™6
(-3, 
Œue
);

3452 cÚ¡‡utØ&
»suÉ6
 =

3453 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
diff_vis™6
).
	`g‘_»suÉ
();

3455 
	`as£¹
(
»suÉ6
.
	`size
() == 10);

3456 
	`as£¹
(
»suÉ6
[0] == -1.0);

3457 
	`as£¹
(
»suÉ6
[1] == -3.0);

3458 
	`as£¹
(
»suÉ6
[2] == 14.44);

3459 
	`as£¹
(
»suÉ6
[7] == 17.94);

3460 
	`as£¹
(
	`çbs
(
»suÉ6
[8] - -1.907è< 
•sÚ
);

3461 
	`as£¹
(
»suÉ6
[9] == 0.66);

3462 
	}
}

3466 
	$‹¡_»adšg_wr™šg_jsÚ
() {

3468 
¡d
::
cout
 << "\nTe¡šg„—dšg/wr™šg JSON ..." << std::
’dl
;

3470 
MyD©aF¿me
 
df
;

3472 
Œy
 {

3473 
df
.
	`»ad
("§m¶e_d©a.jsÚ", 
io_fÜm©
::
jsÚ
);

3474 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 12);

3475 
	`as£¹
(
df
.
	`g‘_šdex
()[0] == 123450);

3476 
	`as£¹
(
df
.
	`g‘_šdex
()[4] == 123454);

3477 
	`as£¹
(
df
.
	`g‘_šdex
()[11] == 555555);

3478 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_4").
	`size
() == 6);

3479 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[0] == 22.0);

3480 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[4] == 26.0);

3481 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_4")[5] == 27.0);

3482 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("cŞ_¡r").
	`size
() == 12);

3483 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[0] == "11");

3484 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[8] == "uu");

3485 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("col_str")[11] == "This is‡est");

3486 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 12);

3487 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 12);

3488 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_2")[6] == 14.0);

3489 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_2")[11] == 777.78);

3490 
	`as£¹
(
df
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 12);

3491 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_3")[3] == 18.0);

3492 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_3")[11] == 555.543);

3494 
	`ÿtch
 (cÚ¡ 
D©aF¿meE¼Ü
 &
ex
) {

3495 
¡d
::
cout
 << 
ex
.
	`wh©
(è<< std::
’dl
;

3497 
	}
}

3501 
	$‹¡_g‘_d©a_by_loc_loÿtiÚ
() {

3503 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_locÖoÿtiÚsè..." << std::
’dl
;

3505 
¡d
::
veùÜ
<> 
idx
 =

3507 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3508 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3509 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3510 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3511 
MyD©aF¿me
 
df
;

3513 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3514 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3515 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3516 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3517 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3519 
MyD©aF¿me
 
df2
 = 
df
.
g‘_d©a_by_loc
<>(
¡d
::
veùÜ
<> { 3, 6 });

3520 
MyD©aF¿me
 
df3
 =

3521 
df
.
g‘_d©a_by_loc
<>(
¡d
::
veùÜ
<> { -4, -1 , 5 });

3523 
	`as£¹
(
df2
.
	`g‘_šdex
().
	`size
() == 2);

3524 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3525 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3526 
	`as£¹
(
df2
.
	`g‘_šdex
()[0] == 123450);

3527 
	`as£¹
(
df2
.
	`g‘_šdex
()[1] == 123449);

3528 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_3")[0] == 18.0);

3529 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[1] == 14.0);

3530 
	`as£¹
(
¡d
::
	`i¢ª
(
df2
.
g‘_cŞumn
<>("col_4")[1]));

3532 
	`as£¹
(
df3
.
	`g‘_šdex
().
	`size
() == 3);

3533 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 3);

3534 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 3);

3535 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

3536 
	`as£¹
(
df3
.
	`g‘_šdex
()[0] == 123450);

3537 
	`as£¹
(
df3
.
	`g‘_šdex
()[1] == 123449);

3538 
	`as£¹
(
df3
.
	`g‘_šdex
()[2] == 123450);

3539 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_1")[0] == 4.0);

3540 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3541 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_4")[0] == 25.0);

3542 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[1]));

3543 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[2]));

3544 
	}
}

3548 
	$‹¡_g‘_v›w_by_loc_loÿtiÚ
() {

3550 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_locÖoÿtiÚsè..." << std::
’dl
;

3552 
¡d
::
veùÜ
<> 
idx
 =

3554 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3555 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3556 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3557 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3558 
MyD©aF¿me
 
df
;

3560 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3561 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3562 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3563 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3564 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3566 autØ
dfv1
 = 
df
.
g‘_v›w_by_loc
<>(
¡d
::
veùÜ
<> { 3, 6 });

3567 autØ
dfv2
 = 
df
.
g‘_v›w_by_loc
<>(
¡d
::
veùÜ
<> { -4, -1 , 5 });

3569 
	`as£¹
(
dfv1
.
	`g‘_šdex
().
	`size
() == 2);

3570 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3571 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3572 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[0] == 123450);

3573 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[1] == 123449);

3574 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_3")[0] == 18.0);

3575 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_2")[1] == 14.0);

3576 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv1
.
g‘_cŞumn
<>("col_4")[1]));

3578 
	`as£¹
(
dfv2
.
	`g‘_šdex
().
	`size
() == 3);

3579 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 3);

3580 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 3);

3581 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 3);

3582 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[0] == 123450);

3583 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[1] == 123449);

3584 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[2] == 123450);

3585 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 4.0);

3586 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3587 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_4")[0] == 25.0);

3588 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[1]));

3589 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[2]));

3591 
dfv2
.
g‘_cŞumn
<>("col_1")[0] = 101.0;

3592 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 101.0);

3593 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[3] == 101.0);

3595 autØ
memÜy_u£
 = 
dfv2
.
g‘_memÜy_u§ge
<>("col_3");

3597 
¡d
::
cout
 << "V›w MemÜy U§ge:\n" << 
memÜy_u£
 << std::
’dl
;

3598 
	}
}

3602 
	$‹¡_g‘_d©a_by_idx_v®ues
() {

3604 
¡d
::
cout
 << "\nTe¡šg g‘_d©a_by_idx(v®uesè..." << std::
’dl
;

3606 
¡d
::
veùÜ
<> 
idx
 =

3608 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3609 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3610 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3611 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3612 
MyD©aF¿me
 
df
;

3614 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3615 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3616 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3617 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3618 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3620 
MyD©aF¿me
 
df2
 =

3621 
df
.
g‘_d©a_by_idx
<>(

3622 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123455 });

3623 
MyD©aF¿me
 
df3
 =

3624 
df
.
g‘_d©a_by_idx
<>(

3625 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123449, 123450 });

3627 
	`as£¹
(
df2
.
	`g‘_šdex
().
	`size
() == 2);

3628 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3629 
	`as£¹
(
df2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3630 
	`as£¹
(
df2
.
	`g‘_šdex
()[0] == 123452);

3631 
	`as£¹
(
df2
.
	`g‘_šdex
()[1] == 123455);

3632 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_3")[0] == 17.0);

3633 
	`as£¹
(
df2
.
g‘_cŞumn
<>("col_2")[1] == 12.0);

3634 
	`as£¹
(
¡d
::
	`i¢ª
(
df2
.
g‘_cŞumn
<>("col_4")[1]));

3636 
	`as£¹
(
df3
.
	`g‘_šdex
().
	`size
() == 4);

3637 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 4);

3638 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 4);

3639 
	`as£¹
(
df3
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 4);

3640 
	`as£¹
(
df3
.
	`g‘_šdex
()[0] == 123450);

3641 
	`as£¹
(
df3
.
	`g‘_šdex
()[1] == 123450);

3642 
	`as£¹
(
df3
.
	`g‘_šdex
()[2] == 123450);

3643 
	`as£¹
(
df3
.
	`g‘_šdex
()[3] == 123449);

3644 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_1")[0] == 1.0);

3645 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3646 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_4")[0] == 22.0);

3647 
	`as£¹
(
df3
.
g‘_cŞumn
<>("col_4")[1] == 25.0);

3648 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[2]));

3649 
	`as£¹
(
¡d
::
	`i¢ª
(
df3
.
g‘_cŞumn
<>("col_4")[3]));

3650 
	}
}

3654 
	$‹¡_g‘_v›w_by_idx_v®ues
() {

3656 
¡d
::
cout
 << "\nTe¡šg g‘_v›w_by_idx(v®uesè..." << std::
’dl
;

3658 
¡d
::
veùÜ
<> 
idx
 =

3660 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7 };

3661 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14 };

3662 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 17, 18, 19, 20, 21 };

3663 
¡d
::
veùÜ
<> 
d4
 = { 22, 23, 24, 25 };

3664 
MyD©aF¿me
 
df
;

3666 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3667 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3668 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

3669 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

3670 
¡d
::
	`make_·œ
("cŞ_4", 
d4
));

3672 autØ
dfv1
 =

3673 
df
.
g‘_v›w_by_idx
<>(

3674 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123452, 123455 });

3675 autØ
dfv2
 =

3676 
df
.
g‘_v›w_by_idx
<>(

3677 
¡d
::
veùÜ
<
MyD©aF¿me
::
IndexTy³
> { 123449, 123450 });

3679 
	`as£¹
(
dfv1
.
	`g‘_šdex
().
	`size
() == 2);

3680 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 2);

3681 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 2);

3682 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[0] == 123452);

3683 
	`as£¹
(
dfv1
.
	`g‘_šdex
()[1] == 123455);

3684 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_3")[0] == 17.0);

3685 
	`as£¹
(
dfv1
.
g‘_cŞumn
<>("col_2")[1] == 12.0);

3686 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv1
.
g‘_cŞumn
<>("col_4")[1]));

3688 
	`as£¹
(
dfv2
.
	`g‘_šdex
().
	`size
() == 4);

3689 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_3").
	`size
() == 4);

3690 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_2").
	`size
() == 4);

3691 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("cŞ_1").
	`size
() == 4);

3692 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[0] == 123450);

3693 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[1] == 123450);

3694 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[2] == 123450);

3695 
	`as£¹
(
dfv2
.
	`g‘_šdex
()[3] == 123449);

3696 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 1.0);

3697 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_2")[2] == 13.0);

3698 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_4")[0] == 22.0);

3699 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_4")[1] == 25.0);

3700 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[2]));

3701 
	`as£¹
(
¡d
::
	`i¢ª
(
dfv2
.
g‘_cŞumn
<>("col_4")[3]));

3703 
dfv2
.
g‘_cŞumn
<>("col_1")[0] = 101.0;

3704 
	`as£¹
(
dfv2
.
g‘_cŞumn
<>("col_1")[0] == 101.0);

3705 
	`as£¹
(
df
.
g‘_cŞumn
<>("col_1")[0] == 101.0);

3706 
	}
}

3710 
	$‹¡_z_scÜe_vis™Ü
() {

3712 
¡d
::
cout
 << "\nTe¡šg Z-ScÜvis™Ü ..." << std::
’dl
;

3714 
¡d
::
veùÜ
<> 
idx
 =

3718 
¡d
::
veùÜ
<> 
d1
 =

3723 
¡d
::
veùÜ
<> 
d2
 =

3727 
MyD©aF¿me
 
df
;

3729 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

3730 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

3731 
¡d
::
	`make_·œ
("cŞ_2", 
d2
));

3733 
ZScÜeVis™Ü
<> 
z_scÜe
;

3734 
ZScÜeVis™Ü
<> 
z_scÜe2
;

3735 cÚ¡‡utØ
»suÉ
 =

3736 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
z_scÜe
).
	`g‘_»suÉ
();

3737 cÚ¡‡utØ
»suÉ2
 =

3738 
df
.
sšgË_aù_vis™
<>("cŞ_2", 
z_scÜe2
).
	`g‘_»suÉ
();

3740 
	`as£¹
(
»suÉ
.
	`size
() == 21);

3741 
	`as£¹
(
	`çbs
(
»suÉ
[0] - -0.774806) < 0.000001);

3742 
	`as£¹
(
	`çbs
(
»suÉ
[4] - 0.816872) < 0.000001);

3743 
	`as£¹
(
	`çbs
(
»suÉ
[10] - 2.01063) < 0.000001);

3744 
	`as£¹
(
	`çbs
(
»suÉ
[19] - -0.723076) < 0.000001);

3745 
	`as£¹
(
	`çbs
(
»suÉ
[20] - -0.727055) < 0.000001);

3747 
	`as£¹
(
»suÉ2
.
	`size
() == 21);

3748 
	`as£¹
(
	`çbs
(
»suÉ2
[0] - -1.42003) < 0.00001);

3749 
	`as£¹
(
	`çbs
(
»suÉ2
[4] - -0.732921) < 0.00001);

3750 
	`as£¹
(
	`çbs
(
»suÉ2
[10] - -1.28261) < 0.00001);

3751 
	`as£¹
(
	`çbs
(
»suÉ2
[19] - 1.5002) < 0.00001);

3752 
	`as£¹
(
	`çbs
(
»suÉ2
[20] - 1.67198) < 0.00001);

3754 cÚ¡ 
MyD©aF¿me
 
cÚ¡_df
 = 
df
;

3755 
Sam¶eZScÜeVis™Ü
<> 
z_scÜe3
;

3756 autØ
fut
 =

3757 
cÚ¡_df
.
sšgË_aù_vis™_async
<, >

3758 ("cŞ_1", "cŞ_2", 
z_scÜe3
);

3759 autØ
»suÉ3
 = 
fut
.
	`g‘
().
	`g‘_»suÉ
();

3761 
	`as£¹
(
	`çbs
(
»suÉ3
 - -1136669.1600501483772) < 0.000001);

3762 
»suÉ3
 =

3763 
df
.
sšgË_aù_vis™
<, >("col_2",

3765 
z_scÜe3
).
	`g‘_»suÉ
();

3766 
	`as£¹
(
»suÉ3
 == 0.0);

3767 
	}
}

3771 
	$‹¡_th»ad_§ãty
() {

3773 
¡d
::
cout
 << "\nTe¡šg Th»ad saãty ..." << std::
’dl
;

3775 cÚ¡ 
size_t
 
vec_size
 = 100000;

3777 autØ
do_wÜk
 = [
vec_size
]() {

3778 
MyD©aF¿me
 
df
;

3779 
¡d
::
veùÜ
<
size_t
> 
vec
;

3781 
size_t
 
i
 = 0; i < 
vec_size
; ++i)

3782 
vec
.
	`push_back
(
i
);

3784 
df
.
	`lßd_d©a
(

3785 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0,

3786 
¡©ic_ÿ¡
<>(
vec_size
),

3788 
¡d
::
	`make_·œ
("cŞ1", 
vec
));

3798 
size_t
 
i
 = 0; i < 
vec_size
; ++i) {

3799 cÚ¡ 
size_t
 
j
 = 
df
.
g‘_cŞumn
<size_t>("cŞ1")[
i
];

3801 
	`as£¹
(
i
 =ğ
j
);

3803 
df
.
shršk_to_f™
<
size_t
>();

3806 
SpšLock
 
lock
;

3807 
¡d
::
veùÜ
<¡d::
th»ad
> 
thr_vec
;

3809 
MyD©aF¿me
::
	`£t_lock
(&
lock
);

3811 
size_t
 
i
 = 0; i < 20; ++i)

3812 
thr_vec
.
	`push_back
(
¡d
::
	`th»ad
(
do_wÜk
));

3813 
size_t
 
i
 = 0; i < 20; ++i)

3814 
thr_vec
[
i
].
	`još
();

3816 
MyD©aF¿me
::
	`»move_lock
();

3817 
	}
}

3821 
	$‹¡_v›w_vis™Üs
() {

3823 
¡d
::
cout
 << "\nTe¡šg V›w vis™Ü ..." << std::
’dl
;

3825 
MyD©aF¿me
 
df
;

3827 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 4UL, 5UL,

3829 
¡d
::
veùÜ
<> 
dblvec1
 = { 1.1, 2.2, 3.3, 4.4, 5.5 };

3830 
¡d
::
veùÜ
<> 
dblvec2
 = { 2.2, 3.3, 4.4, 5.5, 6.6 };

3831 
¡d
::
veùÜ
<> 
dblvec3
 = { 0.0, 1.1, 2.2, 3.3, 4.4,

3833 
¡d
::
veùÜ
<> 
dblvec4
 = { 5.9, 4.4, 1.0, 9.8, 5.3,

3835 
¡d
::
veùÜ
<> 
dblvec5
 = { 1.1, 5.9, 4.4, 1.0, 9.8,

3837 
¡d
::
veùÜ
<> 
dblvec6
 = { 1.1, 1.1, 3.3, 3.3, 1.1 };

3839 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

3840 
¡d
::
	`make_·œ
("dbl_cŞ1", 
dblvec1
),

3841 
¡d
::
	`make_·œ
("dbl_cŞ2", 
dblvec2
),

3842 
¡d
::
	`make_·œ
("dbl_cŞ3", 
dblvec3
),

3843 
¡d
::
	`make_·œ
("dbl_cŞ4", 
dblvec4
),

3844 
¡d
::
	`make_·œ
("dbl_cŞ5", 
dblvec5
),

3845 
¡d
::
	`make_·œ
("dbl_cŞ6", 
dblvec6
));

3847 
D©aF¿meV›w
<> 
	tMyD©aF¿meV›w
;

3849 
MyD©aF¿meV›w
 
dfv
 =

3850 
df
.
g‘_v›w_by_idx
<>(
Index2D
<> { 2, 4 });

3851 
	`as£¹
(
dfv
.
	`g‘_šdex
().
	`size
() == 3);

3852 
M—nVis™Ü
<> 
m—n_vis™Ü
;

3853 
	`as£¹
(
	`çbs
(
dfv
.
vis™
<>("dbl_col1",

3854 
m—n_vis™Ü
).
	`g‘_»suÉ
() - 3.3) < 0.00001);

3856 
DÙProdVis™Ü
<> 
dp_vis™Ü
;

3857 
	`as£¹
(
	`çbs
(
dfv
.
vis™
<, >("dbl_col1", "dbl_col2",

3858 
dp_vis™Ü
).
	`g‘_»suÉ
() - 45.98) < 0.00001);

3861 
Sim¶eRŞlAdİ‹r
<
M—nVis™Ü
<>, >

3862 
	`m—n_rŞËr1
(
M—nVis™Ü
<>(), 3);

3863 cÚ¡‡utØ&
»s_¤a
 =

3864 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
m—n_rŞËr1
).
	`g‘_»suÉ
();

3866 
	`as£¹
(
	`çbs
(
»s_¤a
[2] - 3.3) < 0.00001);

3868 
Sim¶eRŞlAdİ‹r
<
Geom‘ricM—nVis™Ü
<>, >

3869 
	`geo_m—n_rŞËr
(
Geom‘ricM—nVis™Ü
<>(), 3);

3870 cÚ¡‡utØ&
»s_¤ga
 =

3871 
df
.
sšgË_aù_vis™
<>("dbl_cŞ4", 
geo_m—n_rŞËr
).
	`g‘_»suÉ
();

3873 
	`as£¹
(
	`çbs
(
»s_¤ga
[2] - 2.96098) < 0.00001);

3874 
	`as£¹
(
	`çbs
(
»s_¤ga
[6] - 5.25368) < 0.00001);

3876 
Sim¶eRŞlAdİ‹r
<
H¬mÚicM—nVis™Ü
<>, >

3877 
	`h¬_m—n_rŞËr
(
H¬mÚicM—nVis™Ü
<>(), 3);

3878 cÚ¡‡utØ&
»s_¤ha
 =

3879 
df
.
sšgË_aù_vis™
<>("dbl_cŞ4", 
h¬_m—n_rŞËr
).
	`g‘_»suÉ
();

3881 
	`as£¹
(
	`çbs
(
»s_¤ha
[2] - 2.14782) < 0.00001);

3882 
	`as£¹
(
	`çbs
(
»s_¤ha
[6] - 5.0785) < 0.00001);

3884 
CumSumVis™Ü
<> 
cs_vis™Ü
;

3885 cÚ¡‡utØ&
»s_cs
 =

3886 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
cs_vis™Ü
).
	`g‘_»suÉ
();

3887 
	`as£¹
(
	`çbs
(
»s_cs
[0] - 2.2) < 0.00001);

3888 
	`as£¹
(
	`çbs
(
»s_cs
[1] - 5.5) < 0.00001);

3889 
	`as£¹
(
	`çbs
(
»s_cs
[2] - 9.9) < 0.00001);

3891 
CumProdVis™Ü
<> 
ı_vis™Ü
;

3892 cÚ¡‡utØ&
»s_ı
 =

3893 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
ı_vis™Ü
).
	`g‘_»suÉ
();

3894 
	`as£¹
(
	`çbs
(
»s_ı
[0] - 2.2) < 0.00001);

3895 
	`as£¹
(
	`çbs
(
»s_ı
[1] - 7.26) < 0.00001);

3896 
	`as£¹
(
	`çbs
(
»s_ı
[2] - 31.944) < 0.00001);

3898 
CumMšVis™Ü
<> 
cmš_vis™Ü
;

3899 cÚ¡‡utØ&
»s_cmš
 =

3900 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
cmš_vis™Ü
).
	`g‘_»suÉ
();

3901 
	`as£¹
(
	`çbs
(
»s_cmš
[0] - 2.2) < 0.00001);

3902 
	`as£¹
(
	`çbs
(
»s_cmš
[1] - 2.2) < 0.00001);

3903 
	`as£¹
(
	`çbs
(
»s_cmš
[2] - 2.2) < 0.00001);

3905 
CumMaxVis™Ü
<> 
cmax_vis™Ü
;

3906 cÚ¡‡utØ&
»s_cmax
 =

3907 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
cmax_vis™Ü
).
	`g‘_»suÉ
();

3908 
	`as£¹
(
	`çbs
(
»s_cmax
[0] - 2.2) < 0.00001);

3909 
	`as£¹
(
	`çbs
(
»s_cmax
[1] - 3.3) < 0.00001);

3910 
	`as£¹
(
	`çbs
(
»s_cmax
[2] - 4.4) < 0.00001);

3912 
MyD©aF¿meV›w
 
dfv2
 =

3913 
df
.
g‘_v›w_by_idx
<>(
Index2D
<> { 2, 9 });

3915 
AutoCÜrVis™Ü
<> 
ac_vis™Ü
;

3916 cÚ¡‡utØ&
»s_ac
 =

3917 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ5", 
ac_vis™Ü
).
	`g‘_»suÉ
();

3918 
	`as£¹
(
	`çbs
(
»s_ac
[1] - -0.36855) < 0.00001);

3921 
R‘uºVis™Ü
<> 
	`»t_vis™Ü
(
»tuº_pŞicy
::
mÚ‘¬y
);

3922 cÚ¡‡utØ&
»s_»t
 =

3923 
df
.
sšgË_aù_vis™
<>("dbl_cŞ4", 
»t_vis™Ü
).
	`g‘_»suÉ
();

3924 
	`as£¹
(
	`çbs
(
»s_»t
[0] - -1.5) < 0.00001);

3925 
	`as£¹
(
	`çbs
(
»s_»t
[6] - 0.3) < 0.00001);

3927 
MedŸnVis™Ü
<> 
med_vis™Ü
;

3928 cÚ¡‡utØ&
»s_med
 =

3929 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ3", 
med_vis™Ü
).
	`g‘_»suÉ
();

3930 
	`as£¹
(
	`çbs
(
»s_med
 - 4.95) < 0.00001);

3932 
ModeVis™Ü
<2, > 
mode_vis™Ü
;

3933 cÚ¡‡utØ&
»s_mode
 =

3934 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ6", 
mode_vis™Ü
).
	`g‘_»suÉ
();

3935 
	`as£¹
(
	`çbs
(
»s_mode
[1].
	`g‘_v®ue
() - 3.3) < 0.00001);

3937 
DiffVis™Ü
<> 
	`diff_vis™Ü
(1);

3938 cÚ¡‡utØ&
»s_diff
 =

3939 
dfv
.
sšgË_aù_vis™
<>("dbl_cŞ1", 
diff_vis™Ü
).
	`g‘_»suÉ
();

3940 
	`as£¹
(
»s_diff
.
	`size
() == 2);

3941 
	`as£¹
(
	`çbs
(
»s_diff
[0] - 1.1) < 0.00001);

3942 
	`as£¹
(
	`çbs
(
»s_diff
[1] - 1.1) < 0.00001);

3944 
ZScÜeVis™Ü
<> 
zs_vis™Ü
;

3945 cÚ¡‡utØ&
»s_zs
 =

3946 
dfv2
.
sšgË_aù_vis™
<>("dbl_cŞ5", 
zs_vis™Ü
).
	`g‘_»suÉ
();

3947 
	`as£¹
(
	`çbs
(
»s_zs
[2] - -1.61418) < 0.00001);

3948 
	`as£¹
(
	`çbs
(
»s_zs
[4] - 0.04336) < 0.00001);

3949 
	}
}

3953 
	sPošt
 {

3955 
	mx
 { 0.0 };

3956 
	my
 { 0.0 };

3958 
Pošt
() = ;

3959 
Pošt
(
xx
, 
yy
è: 
x
(xx), 
y
(yy) { }

3960 
Pošt
(const Point &) = ;

3961 
	mPošt
 &
	mİ”©Ü
 = (cÚ¡ 
Pošt
 &) = ;

3963 
ä›nd
 
Pošt
 
	mİ”©Ü
 + (cÚ¡ 
	mPošt
 &
	mlhs
, cÚ¡ Pošˆ&
	mrhs
) {

3965  (
Pošt
(
lhs
.
x
 + 
rhs
.x,†hs.
y
 +„hs.y));

3967 
ä›nd
 
Pošt
 
	mİ”©Ü
 / (cÚ¡ 
	mPošt
 &
	mlhs
, 
	mrhs
) {

3969  (
Pošt
(
lhs
.
x
 / 
rhs
,†hs.
y
 /„hs));

3972 
	m‹m¶©e
<
ty³Çme
 
	mS
>

3973 
ä›nd
 
	mS
 &
	mİ”©Ü
 << (S &
	ms
, cÚ¡ 
	mPošt
 &
	mrhs
) {

3975  (
	ms
 << 
	mrhs
.
	mx
 << ", " <<„hs.
	my
);

3979 
	$pošt_di¡ªû
(cÚ¡ 
Pošt
 &
lhs
, cÚ¡ Pošˆ&
rhs
) {

3981  ((
lhs
.
x
 - 
rhs
.x) * (lhs.x -„hs.x) +

3982 (
lhs
.
y
 - 
rhs
.y) * (lhs.y -„hs.y));

3983 
	}
}

3985 
	$‹¡_k_m—ns
() {

3987 
¡d
::
cout
 << "\nTe¡šg k-m—n vis™Ü ..." << std::
’dl
;

3989 cÚ¡ 
size_t
 
™em_út
 = 1024;

3990 
MyD©aF¿me
 
df
;

3991 
RªdG’P¬ams
<> 
p
;

3993 
p
.
m—n
 = 1.0;

3994 
p
.
¡d
 = 0.005;

3995 
p
.
£ed
 = 10;

3997 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1),

3998 
¡d
::
	`make_·œ
("col1",

3999 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
)));

4001 
KM—nsVis™Ü
<5, > 
	`km_vis™Ü
(1000);

4003 
df
.
sšgË_aù_vis™
<>("cŞ1", 
km_vis™Ü
);

4005 cÚ¡‡utØ&
cŞ1
 = 
df
.
g‘_cŞumn
<>("col1");

4007 cÚ¡‡utØ
şu¡”s
 =

4008 
km_vis™Ü
.
	`g‘_şu¡”s
(
df
.
	`g‘_šdex
().
	`begš
(), df.g‘_šdex().
	`’d
(),

4009 
cŞ1
.
	`begš
(), cŞ1.
	`’d
());

4010 
boŞ
 
found
 = 
çl£
;

4060 
p
.
£ed
 = 200;

4062 autØ
x_vec
 = 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
);

4064 
p
.
£ed
 = 4356;

4066 autØ
y_vec
 = 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
);

4067 
¡d
::
veùÜ
<
Pošt
> 
pošts
;

4069 
pošts
.
	`»£rve
(
™em_út
);

4070 
size_t
 
i
 = 0; i < 
™em_út
; ++i)

4071 
pošts
.
	`push_back
(
	`Pošt
(
x_vec
[
i
], 
y_vec
[i]));

4072 
df
.
	`lßd_cŞumn
("pošt_cŞ", 
¡d
::
	`move
(
pošts
));

4074 
KM—nsVis™Ü
<5, 
Pošt
> 
	`km_vis™Ü2
(1000, 
pošt_di¡ªû
);

4076 
df
.
sšgË_aù_vis™
<
Pošt
>("pošt_cŞ", 
km_vis™Ü2
);

4079 cÚ¡‡utØ&
pošt_cŞ
 = 
df
.
g‘_cŞumn
<
Pošt
>("point_col");

4080 cÚ¡‡utØ
şu¡”s2
 =

4081 
km_vis™Ü2
.
	`g‘_şu¡”s
(
df
.
	`g‘_šdex
().
	`begš
(), df.g‘_šdex().
	`’d
(),

4082 
pošt_cŞ
.
	`begš
(),…ošt_cŞ.
	`’d
());

4084 autØ
™”
 : 
şu¡”s2
) {

4085 autØ
™”2
 : 
™”
) {

4086 
¡d
::
cout
 << 
™”2
.
x
 << " | " << i‹r2.
y
 << ", ";

4088 
¡d
::
cout
 << "\n\n" << std::
’dl
;

4149 
	}
}

4153 
	$‹¡_affš™y_´İag©iÚ
() {

4155 
¡d
::
cout
 << "\nTe¡šg‡ffš™y…rİag©iÚ vis™Ü ..." << std::
’dl
;

4157 cÚ¡ 
size_t
 
™em_út
 = 50;

4158 
MyD©aF¿me
 
df
;

4159 
RªdG’P¬ams
<> 
p
;

4160 
¡d
::
veùÜ
<> 
fš®_cŞ
;

4161 
¡d
::
veùÜ
<> 
cŞ_d©a
;

4163 
p
.
£ed
 = 3575984165U;

4165 
p
.
mš_v®ue
 = 0;

4166 
p
.
max_v®ue
 = 10;

4167 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4168 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4170 
p
.
mš_v®ue
 = 20;

4171 
p
.
max_v®ue
 = 30;

4172 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4173 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4175 
p
.
mš_v®ue
 = 40;

4176 
p
.
max_v®ue
 = 50;

4177 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4178 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4180 
p
.
mš_v®ue
 = 60;

4181 
p
.
max_v®ue
 = 70;

4182 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4183 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4185 
p
.
mš_v®ue
 = 80;

4186 
p
.
max_v®ue
 = 90;

4187 
cŞ_d©a
 = 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
);

4188 
fš®_cŞ
.
	`š£¹
(fš®_cŞ.
	`’d
(), 
cŞ_d©a
.
	`begš
(), col_data.end());

4190 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
 * 5, 1),

4191 
¡d
::
	`make_·œ
("cŞ1", 
fš®_cŞ
));

4192 
df
.
shufæe
<1, >({"cŞ1"}, 
çl£
);

4194 
KM—nsVis™Ü
<5, > 
	`km_vis™Ü
(1000);

4195 
Affš™yPrİVis™Ü
<> 
	`­_vis™Ü
(50);

4197 
df
.
sšgË_aù_vis™
<>("cŞ1", 
km_vis™Ü
);

4198 
df
.
sšgË_aù_vis™
<>("cŞ1", 
­_vis™Ü
);

4201 cÚ¡‡utØ
k_m—ns
 = 
km_vis™Ü
.
	`g‘_»suÉ
();

4202 cÚ¡‡utØ&
cŞ1
 = 
df
.
g‘_cŞumn
<>("col1");

4203 cÚ¡‡utØ
»suÉs
 =

4204 
­_vis™Ü
.
	`g‘_şu¡”s
(
df
.
	`g‘_šdex
().
	`begš
(), df.g‘_šdex().
	`’d
(),

4205 
cŞ1
.
	`begš
(), cŞ1.
	`’d
());

4207 autØ
™”
 : 
k_m—ns
) {

4208 
¡d
::
cout
 << 
™”
 << ", ";

4210 
¡d
::
cout
 << "\n\n" << std::
’dl
;

4211 autØ
™”
 : 
»suÉs
) {

4212 autØ
™”2
 : 
™”
) {

4213 
¡d
::
cout
 << 
™”2
 << ", ";

4215 
¡d
::
cout
 << "\n" << std::
’dl
;

4217 
	}
}

4221 
	$‹¡_muÉi_cŞ_sÜt
() {

4223 
¡d
::
cout
 << "\nTe¡šg muÉi-cŞumÀsÜˆ..." << std::
’dl
;

4225 
MyD©aF¿me
 
df
;

4227 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

4230 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

4233 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

4236 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5,

4239 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

4243 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

4244 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

4245 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

4246 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

4247 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

4250 autØ
sf
 = 
df
.
sÜt_async
<
MyD©aF¿me
::
IndexTy³
, , 
¡d
::
¡ršg
,

4251 , , 
¡d
::
¡ršg
>

4252 (
DF_INDEX_COL_NAME
, 
sÜt_¥ec
::
asûn
,

4253 "št_cŞ", 
sÜt_¥ec
::
desû
,

4254 "¡r_cŞ", 
sÜt_¥ec
::
desû
);

4256 
sf
.
	`g‘
();

4257 
	`as£¹
(
df
.
	`g‘_šdex
()[0] == 1);

4258 
	`as£¹
(
df
.
	`g‘_šdex
()[5] == 8);

4259 
	`as£¹
(
df
.
	`g‘_šdex
()[8] == 10);

4260 
	`as£¹
(
df
.
	`g‘_šdex
()[13] == 14);

4261 
	`as£¹
(
df
.
	`g‘_šdex
()[14] == 15);

4263 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[0] == 1);

4264 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[5] == 6);

4265 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[8] == 9);

4266 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[13] == 13);

4267 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[14] == 12);

4269 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

4270 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "gg");

4271 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[8] == "kk");

4272 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[13] == "oo");

4273 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "nn");

4275 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[0] == 0.0);

4276 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[5] == 11.0);

4277 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[8] == 5.0);

4278 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[13] == 10.0);

4279 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[14] == 9.0);

4281 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[0] == 100.0);

4282 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[5] == 106.55);

4283 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[8] == 112.0);

4284 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[13] == 116.0);

4285 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col_2")[14] == 115.0);

4286 
	}
}

4290 
	$‹¡_još_by_cŞumn
() {

4292 
¡d
::
cout
 << "\nTe¡šg još by cŞumÀ..." << std::
’dl
;

4294 
¡d
::
veùÜ
<> 
idx
 =

4297 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 };

4298 
¡d
::
veùÜ
<> 
d2
 = { 8, 9, 10, 11, 12, 13, 14, 20, 22, 23,

4300 
¡d
::
veùÜ
<> 
d3
 = { 15, 16, 15, 18, 19, 16, 21,

4302 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

4303 
MyD©aF¿me
 
df
;

4305 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

4306 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

4307 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

4308 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

4309 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

4311 
¡d
::
veùÜ
<> 
idx2
 =

4314 
¡d
::
veùÜ
<> 
d12
 =

4316 
¡d
::
veùÜ
<> 
d22
 =

4319 
¡d
::
veùÜ
<> 
d32
 =

4322 
¡d
::
veùÜ
<> 
i12
 = { 122, 123, 124, 125, 199 };

4323 
MyD©aF¿me
 
df2
;

4325 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
),

4326 
¡d
::
	`make_·œ
("xcŞ_1", 
d12
),

4327 
¡d
::
	`make_·œ
("cŞ_2", 
d22
),

4328 
¡d
::
	`make_·œ
("xcŞ_3", 
d32
),

4329 
¡d
::
	`make_·œ
("cŞ_4", 
i12
));

4331 
StdD©aF¿me
<> 
šÃr_»suÉ
 =

4332 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4333 (
df2
, "cŞ_2", 
još_pŞicy
::
šÃr_još
);

4335 
	`as£¹
(
šÃr_»suÉ
.
	`g‘_šdex
().
	`size
() == 3);

4336 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("xcol_1")[2] == 113.0);

4337 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("xcol_3")[1] == 119.0);

4338 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 8.0);

4339 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("col_3")[0] == 15.0);

4340 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 0);

4341 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[0] == 22);

4342 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[1] == 123466);

4343 
	`as£¹
(
šÃr_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[2] == 123457);

4345 
StdD©aF¿me
<> 
Ëá_»suÉ
 =

4346 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4347 (
df2
, "cŞ_2", 
još_pŞicy
::
Ëá_još
);

4349 
	`as£¹
(
Ëá_»suÉ
.
	`g‘_šdex
().
	`size
() == 14);

4350 
	`as£¹
(
¡d
::
	`i¢ª
(
Ëá_»suÉ
.
g‘_cŞumn
<>("xcol_1")[5]));

4351 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("xcol_3")[8] == 119.0);

4352 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("col_1")[13] == 13.0);

4353 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("col_3")[9] == 1.56);

4354 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 199);

4355 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[5] == 99);

4356 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[3] == 0);

4357 
	`as£¹
(
Ëá_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[11] == 123460);

4359 
StdD©aF¿me
<> 
right_»suÉ
 =

4360 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4361 (
df2
, "cŞ_2", 
još_pŞicy
::
right_još
);

4363 
	`as£¹
(
right_»suÉ
.
	`g‘_šdex
().
	`size
() == 14);

4364 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("xcol_1")[5] == 18.0);

4365 
	`as£¹
(
¡d
::
	`i¢ª
(
right_»suÉ
.
g‘_cŞumn
<>("xcol_3")[2]));

4366 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("col_1")[4] == 8.0);

4367 
	`as£¹
(
¡d
::
	`i¢ª
(
right_»suÉ
.
g‘_cŞumn
<>("col_3")[5]));

4368 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 0);

4369 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[5] == 0);

4370 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[3] == 123453);

4371 
	`as£¹
(
right_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[11] == 0);

4373 
StdD©aF¿me
<> 
Ëá_right_»suÉ
 =

4374 
df
.
još_by_cŞumn
<
	`deşty³
(
df2
), , , >

4375 (
df2
, "cŞ_2", 
još_pŞicy
::
Ëá_right_još
);

4377 
	`as£¹
(
Ëá_right_»suÉ
.
	`g‘_šdex
().
	`size
() == 25);

4378 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("xcol_1")[2] == 15.0);

4379 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("xcol_3")[1] == 115.0);

4380 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("col_1")[2] == 2.0);

4381 
	`as£¹
(
¡d
::
	`i¢ª
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("col_3")[0]));

4382 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("rhs.col_4")[2] == 199);

4383 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("lhs.col_4")[0] == 0);

4384 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("rhs.INDEX")[1] ==

4386 
	`as£¹
(
Ëá_right_»suÉ
.
g‘_cŞumn
<>("lhs.INDEX")[2] ==

4388 
	}
}

4392 
	$‹¡_DoubËCrossOv”
() {

4394 
¡d
::
cout
 << "\nTe¡šg DoubËCrossOv”{ } ..." << std::
’dl
;

4396 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

4398 
¡d
::
veùÜ
<> 
idx
 =

4402 
¡d
::
veùÜ
<> 
d1
 =

4406 
MyD©aF¿me
 
df
;

4408 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4410 
usšg
 
geo_m—n_t
 = 
Geom‘ricM—nVis™Ü
<>;

4411 
usšg
 
m—n_t
 = 
M—nVis™Ü
<>;

4412 
usšg
 
shÜt_rŞËr_t
 = 
Sim¶eRŞlAdİ‹r
<
geo_m—n_t
, >;

4413 
usšg
 
lÚg_rŞËr_t
 = 
ExpÚ’tŸlRŞlAdİ‹r
<
m—n_t
, >;

4414 
usšg
 
doubË_üoss_t
 =

4415 
DoubËCrossOv”
<
shÜt_rŞËr_t
, 
lÚg_rŞËr_t
, >;

4417 
doubË_üoss_t
 
	`vis™Ü
(

4418 
	`shÜt_rŞËr_t
(
	`geo_m—n_t
(), 3),

4419 
	`lÚg_rŞËr_t
(
	`m—n_t
(), 4, 
expÚ’tŸl_deÿy_¥ec
::
¥ª
, 1.5));

4421 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
vis™Ü
);

4423 autØ&
¿w_to_shÜt
 = 
vis™Ü
.
	`g‘_¿w_to_shÜt_‹rm
();

4424 autØ&
¿w_to_lÚg
 = 
vis™Ü
.
	`g‘_¿w_to_lÚg_‹rm
();

4425 autØ&
shÜt_to_lÚg
 = 
vis™Ü
.
	`g‘_shÜt_‹rm_to_lÚg_‹rm
();

4427 
	`as£¹
(
¿w_to_shÜt
.
	`size
() == 40);

4428 
	`as£¹
(
¡d
::
	`i¢ª
(
¿w_to_shÜt
[1]));

4429 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[8] - 1.04189) < 0.00001);

4430 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[12] - 1.02784) < 0.00001);

4431 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[39] - -0.943922) < 0.00001);

4432 
	`as£¹
(
	`çbs
(
¿w_to_shÜt
[38] - 0.3506) < 0.00001);

4434 
	`as£¹
(
¿w_to_lÚg
.
	`size
() == 40);

4435 
	`as£¹
(
¡d
::
	`i¢ª
(
¿w_to_lÚg
[2]));

4436 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[8] - 0.2504) < 0.00001);

4437 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[12] - 0.250001) < 0.00001);

4438 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[39] - -0.370008) < 0.00001);

4439 
	`as£¹
(
	`çbs
(
¿w_to_lÚg
[38] - 0.149962) < 0.00001);

4441 
	`as£¹
(
shÜt_to_lÚg
.
	`size
() == 40);

4442 
	`as£¹
(
¡d
::
	`i¢ª
(
shÜt_to_lÚg
[0]));

4443 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[8] - -0.791486) < 0.00001);

4444 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[12] - -0.777842) < 0.00001);

4445 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[39] - 0.573914) < 0.00001);

4446 
	`as£¹
(
	`çbs
(
shÜt_to_lÚg
[38] - -0.200639) < 0.00001);

4448 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(0);

4449 
	}
}

4453 
	$‹¡_BŞlšg”Bªd
() {

4455 
¡d
::
cout
 << "\nTe¡šg BŞlšg”Bªd{ } ..." << std::
’dl
;

4457 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(10);

4459 
¡d
::
veùÜ
<> 
idx
 =

4463 
¡d
::
veùÜ
<> 
d1
 =

4467 
MyD©aF¿me
 
df
;

4469 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4471 
usšg
 
bŞlšg”_bªd_t
 = 
BŞlšg”Bªd
<>;

4473 
bŞlšg”_bªd_t
 
	`vis™Ü
(2.0, 2.0, 5);

4475 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
vis™Ü
);

4477 autØ&
uµ”_to_¿w
 = 
vis™Ü
.
	`g‘_uµ”_bªd_to_¿w
();

4478 autØ&
¿w_to_low”
 = 
vis™Ü
.
	`g‘_¿w_to_low”_bªd
();

4480 
	`as£¹
(
uµ”_to_¿w
.
	`size
() == 40);

4481 
	`as£¹
(
¡d
::
	`i¢ª
(
uµ”_to_¿w
[3]));

4482 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[8] - 1.16228) < 0.00001);

4483 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[12] - 1.16228) < 0.00001);

4484 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[38] - 2.68035) < 0.00001);

4485 
	`as£¹
(
	`çbs
(
uµ”_to_¿w
[39] - 3.88035) < 0.00001);

4487 
	`as£¹
(
¿w_to_low”
.
	`size
() == 40);

4488 
	`as£¹
(
¡d
::
	`i¢ª
(
¿w_to_low”
[1]));

4489 
	`as£¹
(
	`çbs
(
¿w_to_low”
[8] - 5.16228) < 0.00001);

4490 
	`as£¹
(
	`çbs
(
¿w_to_low”
[12] - 5.16228) < 0.00001);

4491 
	`as£¹
(
	`çbs
(
¿w_to_low”
[38] - 1.88035) < 0.00001);

4492 
	`as£¹
(
	`çbs
(
¿w_to_low”
[39] - 0.680351) < 0.00001);

4494 
MyD©aF¿me
::
	`£t_th»ad_Ëv–
(0);

4495 
	}
}

4499 
	$‹¡_MACDVis™Ü
() {

4501 
¡d
::
cout
 << "\nTe¡šg MACDVis™Ü{ } ..." << std::
’dl
;

4503 
¡d
::
veùÜ
<> 
idx
 =

4507 
¡d
::
veùÜ
<> 
d1
 =

4511 
MyD©aF¿me
 
df
;

4513 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4515 
usšg
 
macd_t
 = 
MACDVis™Ü
<>;

4517 
macd_t
 
	`vis™Ü
(2, 5, 6);

4519 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
vis™Ü
);

4521 autØ&
macd_»suÉ
 = 
vis™Ü
.
	`g‘_macd_lše
();

4522 autØ&
sigÇl_lše
 = 
vis™Ü
.
	`g‘_sigÇl_lše
();

4523 autØ&
macd_hi¡o
 = 
vis™Ü
.
	`g‘_macd_hi¡og¿m
();

4525 
	`as£¹
(
macd_»suÉ
.
	`size
() == 40);

4526 
	`as£¹
(
¡d
::
	`i¢ª
(
macd_»suÉ
[3]));

4527 
	`as£¹
(
	`çbs
(
macd_»suÉ
[8] - 0.526749) < 0.000001);

4528 
	`as£¹
(
	`çbs
(
macd_»suÉ
[12] - 0.104049) < 0.000001);

4529 
	`as£¹
(
	`çbs
(
macd_»suÉ
[38] - 2.74705e-06) < 0.000001);

4530 
	`as£¹
(
	`çbs
(
macd_»suÉ
[39] - -1.83136e-06) < 0.000001);

4532 
	`as£¹
(
sigÇl_lše
.
	`size
() == 40);

4533 
	`as£¹
(
¡d
::
	`i¢ª
(
sigÇl_lše
[2]));

4534 
	`as£¹
(
¡d
::
	`i¢ª
(
sigÇl_lše
[4]));

4535 
	`as£¹
(
	`çbs
(
sigÇl_lše
[8] - 2.50206) < 0.00001);

4536 
	`as£¹
(
	`çbs
(
sigÇl_lše
[12] - 1.18789) < 0.00001);

4537 
	`as£¹
(
	`çbs
(
sigÇl_lše
[38] - 0.000150401) < 0.000001);

4538 
	`as£¹
(
	`çbs
(
sigÇl_lše
[39] - -0.000103319) < 0.000001);

4540 
	`as£¹
(
macd_hi¡o
.
	`size
() == 40);

4541 
	`as£¹
(
¡d
::
	`i¢ª
(
macd_hi¡o
[0]));

4542 
	`as£¹
(
¡d
::
	`i¢ª
(
macd_hi¡o
[4]));

4543 
	`as£¹
(
	`çbs
(
macd_hi¡o
[8] - -1.97531) < 0.00001);

4544 
	`as£¹
(
	`çbs
(
macd_hi¡o
[12] - -1.08385) < 0.00001);

4545 
	`as£¹
(
	`çbs
(
macd_hi¡o
[38] - -0.000147654) < 0.000001);

4546 
	`as£¹
(
	`çbs
(
macd_hi¡o
[39] - 0.000101488) < 0.000001);

4547 
	}
}

4551 
	$‹¡_Ex·ndšgRŞlAdİ‹r
() {

4553 
¡d
::
cout
 << "\nTe¡šg Ex·ndšgRŞlAdİ‹r{ } ..." << std::
’dl
;

4555 
¡d
::
veùÜ
<> 
idx
 =

4559 
¡d
::
veùÜ
<> 
d1
 =

4563 
MyD©aF¿me
 
df
;

4565 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4567 
Ex·ndšgRŞlAdİ‹r
<
M—nVis™Ü
<>, >

4568 
	`ex·nd_rŞËr
(
M—nVis™Ü
<>(), 2);

4569 cÚ¡‡utØ&
»suÉ
 =

4570 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
ex·nd_rŞËr
).
	`g‘_»suÉ
();

4572 
	`as£¹
(
»suÉ
.
	`size
() == 21);

4573 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ
[0]));

4574 
	`as£¹
(
»suÉ
[8] == 12);

4575 
	`as£¹
(
»suÉ
[13] == 19.5);

4576 
	`as£¹
(
»suÉ
[15] == 22.5);

4577 
	`as£¹
(
»suÉ
[20] == 30);

4578 
	}
}

4582 
	$‹¡_MADVis™Ü
() {

4584 
¡d
::
cout
 << "\nTe¡šg MADVis™Ü{ } ..." << std::
’dl
;

4586 
¡d
::
veùÜ
<> 
idx
 =

4590 
¡d
::
veùÜ
<> 
d1
 =

4594 
MyD©aF¿me
 
df
;

4596 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4598 
MADVis™Ü
<> 
	`mad_vis™Ü1
(
mad_ty³
::
m—n_abs_dev_¬ound_m—n
);

4599 cÚ¡‡utØ
»suÉ1
 =

4600 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü1
).
	`g‘_»suÉ
();

4602 
	`as£¹
(
»suÉ1
 == 10.0);

4604 
MADVis™Ü
<> 
	`mad_vis™Ü2
(
mad_ty³
::
m—n_abs_dev_¬ound_medŸn
);

4605 cÚ¡‡utØ
»suÉ2
 =

4606 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü2
).
	`g‘_»suÉ
();

4608 
	`as£¹
(
»suÉ2
 == 10.0);

4610 
MADVis™Ü
<> 
	`mad_vis™Ü3
(
mad_ty³
::
medŸn_abs_dev_¬ound_m—n
);

4611 cÚ¡‡utØ
»suÉ3
 =

4612 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü3
).
	`g‘_»suÉ
();

4614 
	`as£¹
(
»suÉ3
 == 5.25);

4616 
MADVis™Ü
<> 
	`mad_vis™Ü4
(
mad_ty³
::
medŸn_abs_dev_¬ound_medŸn
);

4617 cÚ¡‡utØ
»suÉ4
 =

4618 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
mad_vis™Ü4
).
	`g‘_»suÉ
();

4620 
	`as£¹
(
»suÉ4
 == 5.25);

4621 
	}
}

4625 
	$‹¡_SEMVis™Ü
() {

4627 
¡d
::
cout
 << "\nTe¡šg SEMVis™Ü{ } ..." << std::
’dl
;

4629 
¡d
::
veùÜ
<> 
idx
 =

4633 
¡d
::
veùÜ
<> 
d1
 =

4637 
MyD©aF¿me
 
df
;

4639 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4641 
SEMVis™Ü
<> 
£m_vis™Ü
;

4642 cÚ¡‡utØ
»suÉ
 =

4643 
df
.
vis™
<>("cŞ_1", 
£m_vis™Ü
).
	`g‘_»suÉ
();

4645 
	`as£¹
(
	`çbs
(
»suÉ
 - 1.84842) < 0.00001);

4646 
	}
}

4650 
	$‹¡_fl_missšg_mid_pošt
() {

4652 
¡d
::
cout
 << "\nTe¡šg fl_missšg(mid_poštè..." << std::
’dl
;

4654 
¡d
::
veùÜ
<> 
idx
 =

4657 
¡d
::
veùÜ
<> 
d1
 = { 1, 2, 3, 4,

4658 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4660 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4661 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4662 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4664 
¡d
::
veùÜ
<> 
d2
 = { 8, 9,

4665 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4667 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4668 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4670 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4672 
¡d
::
veùÜ
<> 
d3
 = { std::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4674 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4676 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4678 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

4679 
¡d
::
veùÜ
<> 
i1
 = { 22,

4680 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4681 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
(),

4683 
¡d
::
num”ic_lim™s
<>::
	`qu›t_NaN
() };

4684 
MyD©aF¿me
 
df
;

4686 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

4687 
¡d
::
	`make_·œ
("cŞ_1", 
d1
),

4688 
¡d
::
	`make_·œ
("cŞ_2", 
d2
),

4689 
¡d
::
	`make_·œ
("cŞ_3", 
d3
),

4690 
¡d
::
	`make_·œ
("cŞ_4", 
i1
));

4692 
¡d
::
veùÜ
<¡d::
¡ršg
> 
s1
 =

4695 
df
.
	`lßd_cŞumn
("cŞ_¡r", 
¡d
::
	`move
(
s1
), 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

4700 
df
.
fl_missšg
<, 3>({ "col_1", "col_2", "col_3" },

4701 
fl_pŞicy
::
mid_pošt
);

4703 
¡d
::
cout
 << "Aá” fÈmissšg w™h v®ue DF:" << std::
’dl
;

4704 
df
.
wr™e
<
¡d
::
o¡»am
, , , std::
¡ršg
>(¡d::
cout
);

4705 
	}
}

4709 
	$‹¡_quªte
() {

4711 
¡d
::
cout
 << "\nTe¡šg QuªteVis™Ü{ } ..." << std::
’dl
;

4713 
¡d
::
veùÜ
<> 
idx
 =

4717 
¡d
::
veùÜ
<> 
d1
 =

4721 
MyD©aF¿me
 
df
;

4723 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
), std::
	`make_·œ
("cŞ_1", 
d1
));

4724 
df
.
shufæe
<1, >({"cŞ_1"}, 
çl£
);

4726 
QuªteVis™Ü
<> 
	`v1
(1, 
quªte_pŞicy
::
mid_pošt
);

4727 autØ
»suÉ
 =

4728 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v1
).
	`g‘_»suÉ
();

4730 
	`as£¹
(
»suÉ
 == 40.0);

4732 
QuªteVis™Ü
<> 
	`v2
(0.5, 
quªte_pŞicy
::
mid_pošt
);

4734 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v2
).
	`g‘_»suÉ
();

4735 
	`as£¹
(
»suÉ
 == 20.5);

4737 
QuªteVis™Ü
<> 
	`v3
(0.5, 
quªte_pŞicy
::
lš—r
);

4739 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v3
).
	`g‘_»suÉ
();

4740 
	`as£¹
(
»suÉ
 == 20.5);

4742 
QuªteVis™Ü
<> 
	`v4
(0.5, 
quªte_pŞicy
::
high”_v®ue
);

4744 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v4
).
	`g‘_»suÉ
();

4745 
	`as£¹
(
»suÉ
 == 21.0);

4747 
QuªteVis™Ü
<> 
	`v5
(0.5, 
quªte_pŞicy
::
low”_v®ue
);

4749 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v5
).
	`g‘_»suÉ
();

4750 
	`as£¹
(
»suÉ
 == 20.0);

4752 
QuªteVis™Ü
<> 
	`v6
(0.55, 
quªte_pŞicy
::
mid_pošt
);

4754 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v6
).
	`g‘_»suÉ
();

4755 
	`as£¹
(
»suÉ
 == 22.5);

4757 
QuªteVis™Ü
<> 
	`v7
(0.55, 
quªte_pŞicy
::
lš—r
);

4759 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v7
).
	`g‘_»suÉ
();

4760 
	`as£¹
(
»suÉ
 == 22.45);

4762 
QuªteVis™Ü
<> 
	`v8
(0.75, 
quªte_pŞicy
::
mid_pošt
);

4764 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v8
).
	`g‘_»suÉ
();

4765 
	`as£¹
(
»suÉ
 == 30.5);

4767 
QuªteVis™Ü
<> 
	`v9
(0.75, 
quªte_pŞicy
::
lš—r
);

4769 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v9
).
	`g‘_»suÉ
();

4770 
	`as£¹
(
»suÉ
 == 30.25);

4772 
QuªteVis™Ü
<> 
	`v10
(0, 
quªte_pŞicy
::
lš—r
);

4774 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v10
).
	`g‘_»suÉ
();

4775 
	`as£¹
(
»suÉ
 == 1.0);

4777 
df
.
	`g‘_šdex
().
	`push_back
(41);

4778 
df
.
g‘_cŞumn
<>("cŞ_1").
	`push_back
(41);

4780 
QuªteVis™Ü
<> 
	`v11
(0.75, 
quªte_pŞicy
::
mid_pošt
);

4782 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v11
).
	`g‘_»suÉ
();

4783 
	`as£¹
(
»suÉ
 == 31.0);

4785 
QuªteVis™Ü
<> 
	`v12
(0.75, 
quªte_pŞicy
::
lš—r
);

4787 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v12
).
	`g‘_»suÉ
();

4788 
	`as£¹
(
»suÉ
 == 31.0);

4790 
QuªteVis™Ü
<> 
	`v13
(0.75, 
quªte_pŞicy
::
low”_v®ue
);

4792 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v13
).
	`g‘_»suÉ
();

4793 
	`as£¹
(
»suÉ
 == 31.0);

4795 
QuªteVis™Ü
<> 
	`v14
(0.75, 
quªte_pŞicy
::
high”_v®ue
);

4797 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v14
).
	`g‘_»suÉ
();

4798 
	`as£¹
(
»suÉ
 == 31.0);

4800 
QuªteVis™Ü
<> 
	`v15
(0.71, 
quªte_pŞicy
::
mid_pošt
);

4802 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v15
).
	`g‘_»suÉ
();

4803 
	`as£¹
(
»suÉ
 == 29.5);

4805 
QuªteVis™Ü
<> 
	`v16
(0.71, 
quªte_pŞicy
::
lš—r
);

4807 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v16
).
	`g‘_»suÉ
();

4808 
	`as£¹
(
»suÉ
 == 29.29);

4810 
QuªteVis™Ü
<> 
	`v17
(0.23, 
quªte_pŞicy
::
mid_pošt
);

4812 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v17
).
	`g‘_»suÉ
();

4813 
	`as£¹
(
»suÉ
 == 9.5);

4815 
QuªteVis™Ü
<> 
	`v18
(0.2, 
quªte_pŞicy
::
mid_pošt
);

4817 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v18
).
	`g‘_»suÉ
();

4818 
	`as£¹
(
»suÉ
 == 8.5);

4820 
QuªteVis™Ü
<> 
	`v19
(0.23, 
quªte_pŞicy
::
lš—r
);

4822 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v19
).
	`g‘_»suÉ
();

4823 
	`as£¹
(
»suÉ
 == 9.77);

4825 
QuªteVis™Ü
<> 
	`v20
(0.23, 
quªte_pŞicy
::
low”_v®ue
);

4827 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v20
).
	`g‘_»suÉ
();

4828 
	`as£¹
(
»suÉ
 == 9.0);

4830 
QuªteVis™Ü
<> 
	`v21
(0.23, 
quªte_pŞicy
::
high”_v®ue
);

4832 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v21
).
	`g‘_»suÉ
();

4833 
	`as£¹
(
»suÉ
 == 10.0);

4835 
QuªteVis™Ü
<> 
	`v22
(1, 
quªte_pŞicy
::
lš—r
);

4837 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v22
).
	`g‘_»suÉ
();

4838 
	`as£¹
(
»suÉ
 == 41.0);

4840 
QuªteVis™Ü
<> 
	`v23
(0, 
quªte_pŞicy
::
mid_pošt
);

4842 
»suÉ
 = 
df
.
sšgË_aù_vis™
<>("cŞ_1", 
v23
).
	`g‘_»suÉ
();

4843 
	`as£¹
(
»suÉ
 == 1.0);

4844 
	}
}

4848 
	$‹¡_VWAP
() {

4850 
¡d
::
cout
 << "\nTe¡šg VWAPVis™Ü{ } ..." << std::
’dl
;

4852 
RªdG’P¬ams
<> 
´iû_p
;

4854 
´iû_p
.
m—n
 = 1.0;

4855 
´iû_p
.
¡d
 = 0.005;

4856 
´iû_p
.
£ed
 = 10;

4857 
´iû_p
.
mš_v®ue
 = 500.0;

4858 
´iû_p
.
max_v®ue
 = 580.0;

4860 
RªdG’P¬ams
<> 
size_p
 = 
´iû_p
;

4862 
size_p
.
¡d
 = 1;

4863 
size_p
.
mš_v®ue
 = 50.0;

4864 
size_p
.
max_v®ue
 = 2000.0;

4866 
MyD©aF¿me
 
df
;

4868 
df
.
	`lßd_d©a
(

4869 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(100, 1124, 1),

4870 
¡d
::
	`make_·œ
("´iû", 
g’_unifÜm_»®_di¡
<>(1024, 
´iû_p
)),

4871 
¡d
::
	`make_·œ
("size", 
g’_unifÜm_»®_di¡
<>(1024, 
size_p
)));

4873 
VWAPVis™Ü
<> 
	`v1
(100);

4874 autØ
»suÉ
 =

4875 
df
.
vis™
<, >("´iû", "size", 
v1
).
	`g‘_»suÉ
();

4877 
	`as£¹
(
»suÉ
.
	`size
() == 11);

4878 
	`as£¹
(
»suÉ
[0].
ev’t_couÁ
 == 100);

4879 
	`as£¹
(
»suÉ
[0].
šdex_v®ue
 == 100);

4880 
	`as£¹
(
»suÉ
[1].
ev’t_couÁ
 == 100);

4881 
	`as£¹
(
»suÉ
[1].
šdex_v®ue
 == 200);

4882 
	`as£¹
(
»suÉ
[10].
ev’t_couÁ
 == 24);

4883 
	`as£¹
(
»suÉ
[10].
šdex_v®ue
 == 1100);

4895 
	}
}

4899 
	$‹¡_VWBAS
() {

4901 
¡d
::
cout
 << "\nTe¡šg VWBASVis™Ü{ } ..." << std::
’dl
;

4903 
RªdG’P¬ams
<> 
b´iû_p
;

4905 
b´iû_p
.
m—n
 = 1.0;

4906 
b´iû_p
.
¡d
 = 0.005;

4907 
b´iû_p
.
£ed
 = 10;

4908 
b´iû_p
.
mš_v®ue
 = 100.0;

4909 
b´iû_p
.
max_v®ue
 = 102.0;

4911 
RªdG’P¬ams
<> 
­riû_p
 = 
b´iû_p
;

4913 
­riû_p
.
£ed
 = 200;

4914 
­riû_p
.
mš_v®ue
 = 102.0;

4915 
­riû_p
.
max_v®ue
 = 104.0;

4917 
RªdG’P¬ams
<> 
asize_p
 = 
b´iû_p
;

4919 
asize_p
.
¡d
 = 1;

4920 
asize_p
.
£ed
 = 500;

4921 
asize_p
.
mš_v®ue
 = 50.0;

4922 
asize_p
.
max_v®ue
 = 2000.0;

4924 
RªdG’P¬ams
<> 
bsize_p
 = 
asize_p
;

4926 
asize_p
.
¡d
 = 1;

4927 
asize_p
.
£ed
 = 123456;

4928 
asize_p
.
mš_v®ue
 = 50.0;

4929 
asize_p
.
max_v®ue
 = 2000.0;

4930 
MyD©aF¿me
 
df
;

4932 
df
.
	`lßd_d©a
(

4933 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(100, 1124, 1),

4934 
¡d
::
	`make_·œ
("bid_price",

4935 
g’_unifÜm_»®_di¡
<>(1024, 
b´iû_p
)),

4936 
¡d
::
	`make_·œ
("ask_price",

4937 
g’_unifÜm_»®_di¡
<>(1024, 
­riû_p
)),

4938 
¡d
::
	`make_·œ
("bid_size",

4939 
g’_unifÜm_»®_di¡
<>(1024, 
bsize_p
)),

4940 
¡d
::
	`make_·œ
("ask_size",

4941 
g’_unifÜm_»®_di¡
<>(1024, 
asize_p
)));

4943 
VWBASVis™Ü
<> 
	`v1
(100);

4944 cÚ¡ 
MyD©aF¿me
 
cÚ¡_df
 = 
df
;

4945 autØ
fut
 =

4946 
cÚ¡_df
.
vis™_async
<, , , >

4947 ("bid_´iû", "ask_´iû", "bid_size", "ask_size", 
v1
);

4948 autØ
»suÉ
 = 
fut
.
	`g‘
().
	`g‘_»suÉ
();

4950 
	`as£¹
(
»suÉ
.
	`size
() == 11);

4951 
	`as£¹
(
»suÉ
[0].
ev’t_couÁ
 == 100);

4952 
	`as£¹
(
»suÉ
[0].
šdex_v®ue
 == 100);

4953 
	`as£¹
(
»suÉ
[1].
ev’t_couÁ
 == 100);

4954 
	`as£¹
(
»suÉ
[1].
cumuÏtive_ev’t_couÁ
 == 200);

4955 
	`as£¹
(
»suÉ
[1].
šdex_v®ue
 == 200);

4956 
	`as£¹
(
»suÉ
[10].
ev’t_couÁ
 == 24);

4957 
	`as£¹
(
»suÉ
[10].
šdex_v®ue
 == 1100);

4984 
	}
}

4988 
	$‹¡_£lf_cÚÿt
() {

4990 
¡d
::
cout
 << "\nTe¡šg s–f_cÚÿtĞè..." << std::
’dl
;

4992 
MyD©aF¿me
 
df1
;

4994 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

4997 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

5000 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

5003 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14,

5005 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

5009 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

5010 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

5011 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

5012 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

5014 
MyD©aF¿me
 
df2
 = 
df1
;

5016 
df2
.
	`lßd_cŞumn
("dbl_cŞ_2", 
¡d
::
	`move
(
dblvec2
));

5018 
df1
.
£lf_cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>(df2, 
Œue
);

5019 
	`as£¹
(
df1
.
	`g‘_šdex
().
	`size
() == 30);

5020 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 30);

5021 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 30);

5022 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 30);

5023 
	`as£¹
(
df1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 30);

5024 
	`as£¹
(
df1
.
	`g‘_šdex
()[0] == 1);

5025 
	`as£¹
(
df1
.
	`g‘_šdex
()[14] == 14);

5026 
	`as£¹
(
df1
.
	`g‘_šdex
()[15] == 1);

5027 
	`as£¹
(
df1
.
	`g‘_šdex
()[29] == 14);

5028 
	`as£¹
(
¡d
::
	`i¢ª
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[0]));

5029 
	`as£¹
(
¡d
::
	`i¢ª
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[14]));

5030 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[15] == 100.0);

5031 
	`as£¹
(
df1
.
g‘_cŞumn
<>("dbl_col_2")[29] == 116.0);

5032 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

5033 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "oo");

5034 
	`as£¹
(
df1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[15] == "zz");

5035 
	`as£¹
(
df1
.
g‘_cŞumn
<>("int_col")[0] == 1);

5036 
	`as£¹
(
df1
.
g‘_cŞumn
<>("int_col")[14] == 13);

5037 
	`as£¹
(
df1
.
g‘_cŞumn
<>("int_col")[15] == 1);

5038 
	}
}

5042 
	$‹¡_cÚÿt
() {

5044 
¡d
::
cout
 << "\nTe¡šg cÚÿtĞè..." << std::
’dl
;

5046 
MyD©aF¿me
 
df1
;

5048 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

5051 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

5054 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

5057 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14,

5059 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

5063 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

5064 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

5065 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
),

5066 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

5068 
MyD©aF¿me
 
df2
 = 
df1
;

5070 
df2
.
	`lßd_cŞumn
("dbl_cŞ_2", 
¡d
::
	`move
(
dblvec2
));

5072 autØ
»suÉ1
 = 
df1
.
cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>(df2);

5074 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
().
	`size
() == 30);

5075 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 30);

5076 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 30);

5077 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 30);

5078 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 30);

5079 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[0] == 1);

5080 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[14] == 14);

5081 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[15] == 1);

5082 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[29] == 14);

5083 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[0]));

5084 
	`as£¹
(
¡d
::
	`i¢ª
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[14]));

5085 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[15] == 100.0);

5086 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[29] == 116.0);

5087 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

5088 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "oo");

5089 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[15] == "zz");

5090 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[0] == 1);

5091 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[14] == 13);

5092 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[15] == 1);

5094 autØ
»suÉ2
 =

5095 
df1
.
cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>

5096 (
df2
, 
cÚÿt_pŞicy
::
commÚ_cŞumns
);

5098 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 30);

5099 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 30);

5100 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 30);

5101 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "zz");

5102 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[14] == "oo");

5103 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[15] == "zz");

5104 
	`as£¹
(! 
»suÉ2
.
	`has_cŞumn
("dbl_col_2"));

5106 autØ
»suÉ3
 =

5107 
df1
.
cÚÿt
<
	`deşty³
(
df2
), , , 
¡d
::
¡ršg
>

5108 (
df2
, 
cÚÿt_pŞicy
::
lhs_ªd_commÚ_cŞumns
);

5110 
	`as£¹
((
»suÉ2
.
is_equ®
<, , 
¡d
::
¡ršg
>(
»suÉ3
)));

5111 
	}
}

5115 
	$‹¡_»ad_csv
()

5117 
¡d
::
cout
 << "\nTe¡šg„—d_csvĞè..." << std::
’dl
;

5118 autØ
df_0
 =

5119 
»ad_csv
<0, , 
¡d
::
¡ršg
, std::string, std::string, std::string, std::string,

5120 
¡d
::
¡ršg
, std::string>("standard.csv", "idx", "oci", "citing", "cited",

5122 
df_0
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
, 
çl£
, 
io_fÜm©
::
jsÚ
);

5123 autØ
df_1
 =

5124 
»ad_csv
<-1, , 
¡d
::
¡ršg
, std::string, std::string, std::string, std::string,

5125 
¡d
::
¡ršg
, std::string>("standard.csv", "idx", "oci", "citing", "cited",

5127 
df_1
.
wr™e
<
¡d
::
o¡»am
, , std::
¡ršg
>(¡d::
cout
, 
çl£
, 
io_fÜm©
::
jsÚ
);

5128 
	}
}

5132 
	$maš
(
¬gc
, *
¬gv
[]) {

5134 
	`‹¡_h­haz¬d
();

5135 
	`‹¡_»ad
();

5136 
	`‹¡_Œª¥o£
();

5137 
	`‹¡_g‘_d©a_by_loc_¦icšg
();

5138 
	`‹¡_g‘_v›w_by_loc
();

5139 
	`‹¡_»move_cŞumn
();

5140 
	`‹¡_g‘_v›w_by_idx_¦icšg
();

5141 
	`‹¡_»Çme_cŞumn
();

5142 
	`‹¡_g‘_cŞ_unique_v®ues
();

5143 
	`‹¡_»move_d©a_by_idx
();

5144 
	`‹¡_»move_d©a_by_loc
();

5145 
	`‹¡_v®ue_couÁs
();

5146 
	`‹¡_šdex_šÃr_još
();

5147 
	`‹¡_šdex_Ëá_još
();

5148 
	`‹¡_šdex_right_još
();

5149 
	`‹¡_šdex_Ëá_right_još
();

5150 
	`‹¡_Ïrge¡_sm®Ë¡_vis™Üs
();

5151 
	`‹¡_shiášg_up_down
();

5152 
	`‹¡_rÙ©šg_up_down
();

5153 
	`‹¡_d©aäame_w™h_d©‘ime
();

5154 
	`‹¡_d©aäame_ä›nd_¶us_İ”©Ü
();

5155 
	`‹¡_d©aäame_ä›nd_mšus_İ”©Ü
();

5156 
	`‹¡_d©aäame_ä›nd_muÉl›s_İ”©Ü
();

5157 
	`‹¡_d©aäame_ä›nd_divides_İ”©Ü
();

5158 
	`‹¡_fl_missšg_v®ues
();

5159 
	`‹¡_fl_missšg_fl_fÜw¬d
();

5160 
	`‹¡_fl_missšg_fl_backw¬d
();

5161 
	`‹¡_fl_missšg_fl_lš—r_š‹½Ş©iÚ
();

5162 
	`‹¡_drİ_missšg_®l_no_drİ
();

5163 
	`‹¡_drİ_missšg_®l_2_drİ
();

5164 
	`‹¡_drİ_missšg_ªy
();

5165 
	`‹¡_drİ_th»ashŞd_3
();

5166 
	`‹¡_g‘_row
();

5167 
	`‹¡_auto_cÜ»ÏtiÚ
();

5168 
	`‹¡_»tuº
();

5169 
	`‹¡_medŸn
();

5170 
	`‹¡_Œackšg_”rÜ
();

5171 
	`‹¡_b‘a
();

5172 
	`‹¡_g’_d©‘ime_šdex
();

5173 
	`‹¡_»¶aû_1
();

5174 
	`‹¡_»¶aû_2
();

5175 
	`‹¡_some_vis™Üs
();

5176 
	`‹¡_mode
();

5177 
	`‹¡_g‘_d©a_by_£l
();

5178 
	`‹¡_g‘_v›w_by_£l
();

5179 
	`‹¡_»move_d©a_by_£l
();

5180 
	`‹¡_shufæe
();

5181 
	`‹¡_Sim¶eRŞlAdİ‹r
();

5182 
	`‹¡_g‘_d©a_by_¿nd
();

5183 
	`‹¡_g‘_v›w_by_¿nd
();

5184 
	`‹¡_wr™e_jsÚ
();

5185 
	`‹¡_diff
();

5186 
	`‹¡_»adšg_wr™šg_jsÚ
();

5187 
	`‹¡_g‘_d©a_by_loc_loÿtiÚ
();

5188 
	`‹¡_g‘_v›w_by_loc_loÿtiÚ
();

5189 
	`‹¡_g‘_d©a_by_idx_v®ues
();

5190 
	`‹¡_g‘_v›w_by_idx_v®ues
();

5191 
	`‹¡_z_scÜe_vis™Ü
();

5192 
	`‹¡_th»ad_§ãty
();

5193 
	`‹¡_v›w_vis™Üs
();

5194 
	`‹¡_k_m—ns
();

5195 
	`‹¡_affš™y_´İag©iÚ
();

5196 
	`‹¡_muÉi_cŞ_sÜt
();

5197 
	`‹¡_još_by_cŞumn
();

5198 
	`‹¡_ExpÚ’tŸlRŞlAdİ‹r
();

5199 
	`‹¡_DoubËCrossOv”
();

5200 
	`‹¡_BŞlšg”Bªd
();

5201 
	`‹¡_MACDVis™Ü
();

5202 
	`‹¡_Ex·ndšgRŞlAdİ‹r
();

5203 
	`‹¡_MADVis™Ü
();

5204 
	`‹¡_SEMVis™Ü
();

5205 
	`‹¡_fl_missšg_mid_pošt
();

5206 
	`‹¡_quªte
();

5207 
	`‹¡_VWAP
();

5208 
	`‹¡_VWBAS
();

5209 
	`‹¡_£lf_cÚÿt
();

5210 
	`‹¡_cÚÿt
();

5211 
	`‹¡_»ad_csv
();

5214 
	}
}

	@DataFrame/original/test/dataframe_tester_2.cc

28 
	~<D©aF¿me/D©aF¿me.h
>

29 
	~<D©aF¿me/D©aF¿meFšªcŸlVis™Üs.h
>

30 
	~<D©aF¿me/D©aF¿meStsVis™Üs.h
>

31 
	~<D©aF¿me/D©aF¿meT¿nsfÜmVis™Üs.h
>

32 
	~<D©aF¿me/RªdG’.h
>

34 
	~<ÿs£¹
>

35 
	~<io¡»am
>

36 
	~<¡ršg
>

38 
usšg
 
Çme¥aû
 
	ghmdf
;

40 
	gStdD©aF¿me
<> 
	tMyD©aF¿me
;

44 
	$‹¡_g‘_»šdexed
() {

46 
¡d
::
cout
 << "\nTe¡šg g‘_»šdexedĞè..." << std::
’dl
;

48 
MyD©aF¿me
 
df
;

50 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

53 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

56 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

59 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

60 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

64 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

65 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

66 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

67 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

68 
df
.
	`lßd_cŞumn
("int_col",

69 
¡d
::
	`move
(
štvec
),

70 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

72 autØ
»suÉ1
 =

73 
df
.
g‘_»šdexed
<, , , 
¡d
::
¡ršg
>

76 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
().
	`size
() == 15);

77 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 15);

78 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 15);

79 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 15);

80 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 11);

81 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[0] == 0);

82 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[14] == 10.0);

83 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[3] == 4);

84 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[9] == 14);

85 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

86 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

88 autØ
»suÉ2
 =

89 
df
.
g‘_»šdexed
<, , , 
¡d
::
¡ršg
>("int_col", "OLD_IDX");

91 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 11);

92 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 11);

93 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 11);

94 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 11);

95 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 11);

96 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

97 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] == 2.0);

98 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

99 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[0] == 1);

100 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[10] == 9);

101 
	}
}

105 
	$‹¡_g‘_»šdexed_v›w
() {

107 
¡d
::
cout
 << "\nTe¡šg g‘_»šdexed_v›wĞè..." << std::
’dl
;

109 
MyD©aF¿me
 
df
;

111 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

114 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

117 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

120 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

121 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

125 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

126 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

127 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

128 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

129 
df
.
	`lßd_cŞumn
("int_col",

130 
¡d
::
	`move
(
štvec
),

131 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

133 autØ
»suÉ1
 =

134 
df
.
g‘_»šdexed_v›w
<, , , 
¡d
::
¡ršg
>

137 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
().
	`size
() == 15);

138 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 15);

139 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 15);

140 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 15);

141 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 11);

142 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[0] == 0);

143 
	`as£¹
(
»suÉ1
.
	`g‘_šdex
()[14] == 10.0);

144 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[3] == 4);

145 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("int_col")[9] == 14);

146 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

147 
	`as£¹
(
»suÉ1
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

149 autØ
»suÉ2
 =

150 
df
.
g‘_»šdexed_v›w
<, , , 
¡d
::
¡ršg
>

153 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
().
	`size
() == 11);

154 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ_2").
	`size
() == 11);

155 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_cŞ").
	`size
() == 11);

156 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("OLD_IDX").
	`size
() == 11);

157 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("¡r_cŞ").
	`size
() == 11);

158 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col_2")[10] == 112.0);

159 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] == 2.0);

160 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[5] == "ff");

161 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[0] == 1);

162 
	`as£¹
(
»suÉ2
.
	`g‘_šdex
()[10] == 9);

164 
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] = 1002.45;

165 
	`as£¹
(
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3] == 1002.45);

166 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[3] ==

167 
»suÉ2
.
g‘_cŞumn
<>("dbl_col")[3]);

168 
	}
}

172 
	$‹¡_»ty³_cŞumn
() {

174 
¡d
::
cout
 << "\nTe¡šg„‘y³_cŞumnĞè..." << std::
’dl
;

176 
¡d
::
veùÜ
<> 
idxvec
 =

179 
¡d
::
veùÜ
<> 
štvec
 =

181 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 =

185 
MyD©aF¿me
 
df
;

187 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

188 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
),

189 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
));

191 
df
.
»ty³_cŞumn
<, >("int_col");

192 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 15);

193 
	`as£¹
(
df
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 15);

194 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[0] == 4294967295);

195 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[1] == 2);

196 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[6] == 4294967290);

197 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[8] == 11);

198 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[0] == "11");

199 
	`as£¹
(
df
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col")[6] == "-77");

201 
df
.
»ty³_cŞumn
<
¡d
::
¡ršg
, >("str_col",

202 [](cÚ¡ 
¡d
::
¡ršg
 &
v®
) -> {

203  (
¡d
::
	`¡oi
(
v®
));

205 
	`as£¹
(
df
.
	`g‘_šdex
().
	`size
() == 15);

206 
	`as£¹
(
df
.
g‘_cŞumn
<>("št_cŞ").
	`size
() == 15);

207 
	`as£¹
(
df
.
g‘_cŞumn
<>("¡r_cŞ").
	`size
() == 15);

208 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[6] == 4294967290);

209 
	`as£¹
(
df
.
g‘_cŞumn
<>("int_col")[8] == 11);

210 
	`as£¹
(
df
.
g‘_cŞumn
<>("str_col")[0] == 11);

211 
	`as£¹
(
df
.
g‘_cŞumn
<>("str_col")[6] == -77);

212 
	}
}

216 
	$‹¡_lßd_®ign_cŞumn
() {

218 
¡d
::
cout
 << "\nTe¡šg†ßd_®ign_cŞumnĞè..." << std::
’dl
;

220 
¡d
::
veùÜ
<> 
idxvec
 =

223 
¡d
::
veùÜ
<> 
štvec
 =

225 
¡d
::
veùÜ
<> 
summ¬y_vec
 = { 100, 200, 300, 400, 500 };

227 
MyD©aF¿me
 
df
;

229 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

230 
¡d
::
	`make_·œ
("št_cŞ", 
štvec
));

231 
df
.
	`lßd_®ign_cŞumn
("summ¬y_cŞ", 
¡d
::
	`move
(
summ¬y_vec
), 5, 
Œue
);

233 
¡d
::
veùÜ
<> 
summ¬y_vec_2
 = { 102, 202, 302, 402, 502 };

235 
df
.
	`lßd_®ign_cŞumn
("summ¬y_cŞ_2", 
¡d
::
	`move
(
summ¬y_vec_2
), 5, 
çl£
);

237 
	`as£¹
(
df
.
g‘_cŞumn
<>("summ¬y_cŞ").
	`size
() == 28);

238 
	`as£¹
(
df
.
g‘_cŞumn
<>("summ¬y_cŞ_2").
	`size
() == 28);

239 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col")[0] == 100);

240 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col_2")[0]));

241 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col")[5] == 200);

242 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col")[6]));

243 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col_2")[5] == 102);

244 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col")[20] == 500);

245 
	`as£¹
(
df
.
g‘_cŞumn
<>("summary_col_2")[25] == 502);

246 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col")[27]));

247 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col")[26]));

248 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col_2")[27]));

249 
	`as£¹
(
¡d
::
	`i¢ª
(
df
.
g‘_cŞumn
<>("summary_col_2")[26]));

250 
	}
}

254 
	$‹¡_g‘_cŞumns_šfo
() {

256 
¡d
::
cout
 << "\nTe¡šg g‘_cŞumns_šfoĞè..." << std::
’dl
;

258 
MyD©aF¿me
 
df
;

260 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

263 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

266 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

269 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

270 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

274 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

275 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

276 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

277 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

278 
df
.
	`lßd_cŞumn
("int_col",

279 
¡d
::
	`move
(
štvec
),

280 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

282 autØ
»suÉ
 = 
df
.
g‘_cŞumns_šfo
<, , 
¡d
::
¡ršg
>();

283 
boŞ
 
dbl_cŞ_found
 = 
çl£
;

284 
boŞ
 
dbl_cŞ_2_found
 = 
çl£
;

285 
boŞ
 
¡r_cŞ_found
 = 
çl£
;

286 
boŞ
 
št_cŞ_found
 = 
çl£
;

288 autØ
c™”
: 
»suÉ
) {

289 ià(
¡d
::
g‘
<0>(
c™”
) == "dbl_col") {

290 
dbl_cŞ_found
 = 
Œue
;

291 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 15);

292 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
()));

294 ià(
¡d
::
g‘
<0>(
c™”
) == "dbl_col_2") {

295 
dbl_cŞ_2_found
 = 
Œue
;

296 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 15);

297 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
()));

299 ià(
¡d
::
g‘
<0>(
c™”
) == "str_col") {

300 
¡r_cŞ_found
 = 
Œue
;

301 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 15);

302 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
(¡d::
¡ršg
)));

304 ià(
¡d
::
g‘
<0>(
c™”
) == "int_col") {

305 
št_cŞ_found
 = 
Œue
;

306 
	`as£¹
(
¡d
::
g‘
<1>(
c™”
) == 11);

307 
	`as£¹
(
¡d
::
g‘
<2>(
c™”
è=ğ¡d::
	`ty³_šdex
(
	`ty³id
()));

310 
	`as£¹
(
dbl_cŞ_found
);

311 
	`as£¹
(
dbl_cŞ_2_found
);

312 
	`as£¹
(
¡r_cŞ_found
);

313 
	`as£¹
(
št_cŞ_found
);

314 
	}
}

318 
	$‹¡_C©egÜyVis™Ü
() {

320 
¡d
::
cout
 << "\nTe¡šg C©egÜyVis™Ü{ } ..." << std::
’dl
;

322 
MyD©aF¿me
 
df
;

324 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

327 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 15.0, 1.0,

329 
	`sq¹
(-1), 4.0, 14.0, 14.0, 20.0};

330 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

331 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "zz", "ww", "ee",

335 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

336 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

337 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

338 
df
.
	`lßd_cŞumn
("int_col",

339 
¡d
::
	`move
(
štvec
),

340 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

342 
C©egÜyVis™Ü
<> 
ÿt
;

343 autØ
»suÉ
 =

344 
df
.
sšgË_aù_vis™
<>("dbl_cŞ", 
ÿt
).
	`g‘_»suÉ
();

346 
	`as£¹
(
»suÉ
.
	`size
() == 15);

347 
	`as£¹
(
»suÉ
[0] == 0);

348 
	`as£¹
(
»suÉ
[1] == 1);

349 
	`as£¹
(
»suÉ
[2] == 2);

350 
	`as£¹
(
»suÉ
[3] == 1);

351 
	`as£¹
(
»suÉ
[4] == 3);

352 
	`as£¹
(
»suÉ
[8] == 1);

353 
	`as£¹
(
»suÉ
[13] == 2);

354 
	`as£¹
(
»suÉ
[12] == 2);

355 
	`as£¹
(
»suÉ
[11] == 8);

356 
	`as£¹
(
»suÉ
[10] =ğ
¡©ic_ÿ¡
<>(-1));

358 
C©egÜyVis™Ü
<
¡d
::
¡ršg
> 
ÿt2
;

359 autØ
»suÉ2
 =

360 
df
.
sšgË_aù_vis™
<
¡d
::
¡ršg
>("¡r_cŞ", 
ÿt2
).
	`g‘_»suÉ
();

362 
	`as£¹
(
»suÉ2
.
	`size
() == 15);

363 
	`as£¹
(
»suÉ2
[0] == 0);

364 
	`as£¹
(
»suÉ2
[1] == 1);

365 
	`as£¹
(
»suÉ2
[2] == 0);

366 
	`as£¹
(
»suÉ2
[13] == 3);

367 
	}
}

371 
	$‹¡_FaùÜizeVis™Ü
() {

373 
¡d
::
cout
 << "\nTe¡šg FaùÜizeVis™Ü{ } ..." << std::
’dl
;

375 
MyD©aF¿me
 
df
;

377 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

380 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 2.0, 1.0,

383 
¡d
::
veùÜ
<> 
dblvec2
 = { 100.0, 101.0, 102.0, 103.0, 104.0,

386 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

387 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "cc", "ww", "ee",

391 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

392 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

393 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec2
),

394 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

395 
df
.
	`lßd_cŞumn
("int_col",

396 
¡d
::
	`move
(
štvec
),

397 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

399 
FaùÜizeVis™Ü
<> 
	`çù
([] (cÚ¡ &
f
è-> 
boŞ
 {

400  (
f
 > 106.0 && f < 114.0);

402 
df
.
	`lßd_cŞumn
("bool_col",

403 
df
.
sšgË_aù_vis™
<>("dbl_cŞ_2", 
çù
).
	`g‘_»suÉ
());

404 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ").
	`size
() == 15);

405 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[0] =ğ
çl£
);

406 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[4] =ğ
çl£
);

407 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[6] =ğ
Œue
);

408 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[7] =ğ
Œue
);

409 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[8] =ğ
çl£
);

410 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[9] =ğ
Œue
);

411 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[11] =ğ
Œue
);

412 
	`as£¹
(
df
.
g‘_cŞumn
<
boŞ
>("boŞ_cŞ")[13] =ğ
çl£
);

413 
	}
}

417 
	$‹¡_·‰”n_m©ch
() {

419 
¡d
::
cout
 << "\nTe¡šg…©‹º_m©chĞè..." << std::
’dl
;

421 cÚ¡ 
size_t
 
™em_út
 = 8192;

422 
MyD©aF¿me
 
df
;

423 
RªdG’P¬ams
<> 
p
;

425 
p
.
m—n
 = 5.6;

426 
p
.
¡d
 = 0.5;

427 
p
.
£ed
 = 123;

428 
p
.
mš_v®ue
 = 0;

429 
p
.
max_v®ue
 = 30;

431 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1),

432 
¡d
::
	`make_·œ
("lognormal",

433 
g’_lognÜm®_di¡
<>(
™em_út
, 
p
)),

434 
¡d
::
	`make_·œ
("normal",

435 
g’_nÜm®_di¡
<>(
™em_út
, 
p
)),

436 
¡d
::
	`make_·œ
("uniform_real",

437 
g’_unifÜm_»®_di¡
<>(
™em_út
, 
p
)));

438 
p
.
m—n
 = 0;

439 
p
.
¡d
 = 1.0;

440 
p
.
mš_v®ue
 = -30;

441 
p
.
max_v®ue
 = 30;

442 
df
.
	`lßd_cŞumn
("¡d_nÜm®", 
g’_nÜm®_di¡
<>(
™em_út
, 
p
));

443 
df
.
lßd_cŞumn
<>(

445 
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1));

447 
boŞ
 
»suÉ
 =

448 
df
.
·‰”n_m©ch
<>("lognormal",

449 
·‰”n_¥ec
::
nÜm®ly_di¡ribu‹d
,

451 
	`as£¹
(
»suÉ
 =ğ
çl£
);

453 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("normal",

454 
·‰”n_¥ec
::
nÜm®ly_di¡ribu‹d
,

456 
	`as£¹
(
»suÉ
 =ğ
Œue
);

458 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

460 
·‰”n_¥ec
::
¡ªd¬d_nÜm®ly_di¡ribu‹d
,

462 
	`as£¹
(
»suÉ
 =ğ
Œue
);

464 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("lognormal",

465 
·‰”n_¥ec
::
lognÜm®ly_di¡ribu‹d
,

467 
	`as£¹
(
»suÉ
 =ğ
Œue
);

469 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("normal",

470 
·‰”n_¥ec
::
lognÜm®ly_di¡ribu‹d
,

472 
	`as£¹
(
»suÉ
 =ğ
çl£
);

474 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("uniform_real",

475 
·‰”n_¥ec
::
lognÜm®ly_di¡ribu‹d
,

477 
	`as£¹
(
»suÉ
 =ğ
çl£
);

479 
»suÉ
 = 
df
.
·‰”n_m©ch
<>("uniform_real",

480 
·‰”n_¥ec
::
nÜm®ly_di¡ribu‹d
,

482 
	`as£¹
(
»suÉ
 =ğ
çl£
);

484 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

486 
·‰”n_¥ec
::
mÚÙÚic_šü—sšg
);

487 
	`as£¹
(
»suÉ
 =ğ
Œue
);

488 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

490 
·‰”n_¥ec
::
¡riùly_mÚÙÚic_šü—sšg
);

491 
	`as£¹
(
»suÉ
 =ğ
Œue
);

493 
df
.
g‘_cŞumn
<>("increasing")[10] = 9;

495 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

497 
·‰”n_¥ec
::
mÚÙÚic_šü—sšg
);

498 
	`as£¹
(
»suÉ
 =ğ
Œue
);

499 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

501 
·‰”n_¥ec
::
¡riùly_mÚÙÚic_šü—sšg
);

502 
	`as£¹
(
»suÉ
 =ğ
çl£
);

504 
df
.
g‘_cŞumn
<>("increasing")[1000] = 988;

506 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

508 
·‰”n_¥ec
::
mÚÙÚic_šü—sšg
);

509 
	`as£¹
(
»suÉ
 =ğ
çl£
);

510 
»suÉ
 = 
df
.
·‰”n_m©ch
<>(

512 
·‰”n_¥ec
::
¡riùly_mÚÙÚic_šü—sšg
);

513 
	`as£¹
(
»suÉ
 =ğ
çl£
);

514 
	}
}

518 
	$‹¡_ClVis™Ü
() {

520 
¡d
::
cout
 << "\nTe¡šg ClVis™Ü{ } ..." << std::
’dl
;

522 
MyD©aF¿me
 
df
;

524 
¡d
::
veùÜ
<> 
idxvec
 = { 1UL, 2UL, 3UL, 10UL, 5UL,

527 
¡d
::
veùÜ
<> 
dblvec
 = { 0.0, 15.0, 14.0, 15.0, 1.0,

529 
	`sq¹
(-1), 4.0, 14.0, 14.0, 20.0};

530 
¡d
::
veùÜ
<> 
štvec
 = { 1, 2, 3, 4, 5, 8, 6, 7, 11, 14, 9 };

531 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec
 = { "zz", "bb", "zz", "ww", "ee",

535 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idxvec
),

536 
¡d
::
	`make_·œ
("dbl_cŞ", 
dblvec
),

537 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec
));

538 
df
.
	`lßd_cŞumn
("int_col",

539 
¡d
::
	`move
(
štvec
),

540 
Çn_pŞicy
::
dÚt_·d_w™h_Çns
);

542 
ClVis™Ü
<> 
	`ş
 (14, 5);

543 autØ
»suÉ
 = 
df
.
vis™
<>("dbl_cŞ", 
ş
).
	`g‘_»suÉ
();

545 
	`as£¹
(
»suÉ
 == 7);

546 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[0] == 5.0);

547 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[1] == 14.0);

548 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[2] == 14.0);

549 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[4] == 5.0);

550 
	`as£¹
(
df
.
g‘_cŞumn
<>("dbl_col")[5] == 12.0);

551 
	}
}

555 
	$‹¡_Sh¬³R©ioVis™Ü
() {

557 
¡d
::
cout
 << "\nTe¡šg Sh¬³R©ioVis™Ü{ } ..." << std::
’dl
;

559 
¡d
::
veùÜ
<> 
idx
 =

563 
¡d
::
veùÜ
<> 
d1
 =

567 
¡d
::
veùÜ
<> 
d2
 =

571 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

572 
MyD©aF¿me
 
df
;

574 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

575 
¡d
::
	`make_·œ
("as£t", 
d1
),

576 
¡d
::
	`make_·œ
("b’chm¬k", 
d2
),

577 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

579 
Sh¬³R©ioVis™Ü
<> 
sh_¿tio
;

580 cÚ¡‡utØ
»suÉ
 =

581 
df
.
sšgË_aù_vis™
<, >("asset", "benchmark",

582 
sh_¿tio
).
	`g‘_»suÉ
();

584 
	`as£¹
(
	`çbs
(
»suÉ
 - 0.425631) < 0.00001);

585 
	}
}

589 
	$‹¡_RªkVis™Ü
() {

591 
¡d
::
cout
 << "\nTe¡šg RªkVis™Ü{ } ..." << std::
’dl
;

593 
¡d
::
veùÜ
<> 
idx
 =

597 
¡d
::
veùÜ
<> 
d1
 =

600 
¡d
::
veùÜ
<> 
d2
 =

603 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

604 
MyD©aF¿me
 
df
;

606 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

607 
¡d
::
	`make_·œ
("d1_cŞ", 
d1
),

608 
¡d
::
	`make_·œ
("d2_cŞ", 
d2
),

609 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

611 
RªkVis™Ü
<> 
	`avg_¿nk_v
(
¿nk_pŞicy
::
av”age
);

612 
RªkVis™Ü
<> 
	`fœ¡_¿nk_v
(
¿nk_pŞicy
::
fœ¡
);

613 
RªkVis™Ü
<> 
	`Ï¡_¿nk_v
(
¿nk_pŞicy
::
Ï¡
);

614 
RªkVis™Ü
<> 
	`aùu®_¿nk_v
(
¿nk_pŞicy
::
aùu®
);

615 cÚ¡‡utØ
aùu®_»suÉ
 =

616 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
aùu®_¿nk_v
).
	`g‘_»suÉ
();

617 cÚ¡‡utØ
avg_»suÉ
 =

618 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
avg_¿nk_v
).
	`g‘_»suÉ
();

619 cÚ¡‡utØ
fœ¡_»suÉ
 =

620 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
fœ¡_¿nk_v
).
	`g‘_»suÉ
();

621 cÚ¡‡utØ
Ï¡_»suÉ
 =

622 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
Ï¡_¿nk_v
).
	`g‘_»suÉ
();

624 
size_t
 
i
 = 0; i < 
aùu®_»suÉ
.
	`size
(); ++i)

625 
	`as£¹
(
aùu®_»suÉ
[
i
] == (i));

626 
	`as£¹
(
aùu®_»suÉ
 =ğ
avg_»suÉ
);

627 
	`as£¹
(
aùu®_»suÉ
 =ğ
Ï¡_»suÉ
);

628 
	`as£¹
(
aùu®_»suÉ
 =ğ
fœ¡_»suÉ
);

630 cÚ¡‡utØ
aùu®_»suÉ2
 =

631 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
aùu®_¿nk_v
).
	`g‘_»suÉ
();

632 cÚ¡‡utØ
avg_»suÉ2
 =

633 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
avg_¿nk_v
).
	`g‘_»suÉ
();

634 cÚ¡‡utØ
fœ¡_»suÉ2
 =

635 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
fœ¡_¿nk_v
).
	`g‘_»suÉ
();

636 cÚ¡‡utØ
Ï¡_»suÉ2
 =

637 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
Ï¡_¿nk_v
).
	`g‘_»suÉ
();

639 
¡d
::
veùÜ
<> 
¬_equ®
 {8, 1, 2, 3, 4, 12, 5, 6, 7, 9, 0, 11, 13,

642 
	`as£¹
(
aùu®_»suÉ2
 =ğ
¬_equ®
);

643 
¬_equ®
 = 
¡d
::
veùÜ
<> {9, 1, 2, 3, 4, 13, 5, 6, 7, 9, 0, 11, 13,

645 
	`as£¹
(
avg_»suÉ2
 =ğ
¬_equ®
);

646 
¬_equ®
 = 
¡d
::
veùÜ
<> {8, 1, 2, 3, 4, 12, 5, 6, 7, 8, 0, 11, 12,

648 
	`as£¹
(
fœ¡_»suÉ2
 =ğ
¬_equ®
);

649 
¬_equ®
 = 
¡d
::
veùÜ
<> {10, 1, 2, 3, 4, 14, 5, 6, 7, 10, 0, 11, 14,

651 
	`as£¹
(
Ï¡_»suÉ2
 =ğ
¬_equ®
);

652 
	}
}

656 
	$‹¡_SigmoidVis™Ü
() {

658 
¡d
::
cout
 << "\nTe¡šg SigmoidVis™Ü{ } ..." << std::
’dl
;

660 
¡d
::
veùÜ
<> 
idx
 =

664 
¡d
::
veùÜ
<> 
d1
 =

667 
¡d
::
veùÜ
<> 
d2
 =

670 
¡d
::
veùÜ
<> 
i1
 = { 22, 23, 24, 25, 99 };

671 
MyD©aF¿me
 
df
;

673 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
idx
),

674 
¡d
::
	`make_·œ
("d1_cŞ", 
d1
),

675 
¡d
::
	`make_·œ
("d2_cŞ", 
d2
),

676 
¡d
::
	`make_·œ
("cŞ_3", 
i1
));

678 
SigmoidVis™Ü
<> 
	`sig_log
(
sigmoid_ty³
::
logi¡ic
);

679 
SigmoidVis™Ü
<> 
	`sig_®g
(
sigmoid_ty³
::
®geb¿ic
);

680 
SigmoidVis™Ü
<> 
	`sig_n
(
sigmoid_ty³
::
hy³rbŞic_n
);

681 
SigmoidVis™Ü
<> 
	`sig_©ª
(
sigmoid_ty³
::
¬c_n
);

682 
SigmoidVis™Ü
<> 
	`sig_”r
(
sigmoid_ty³
::
”rÜ_funùiÚ
);

683 
SigmoidVis™Ü
<> 
	`sig_gud
(
sigmoid_ty³
::
gud”mªnŸn
);

684 
SigmoidVis™Ü
<> 
	`sig_smo
(
sigmoid_ty³
::
smoÙh¡•
);

685 cÚ¡‡utØ
log_»suÉ
 =

686 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_log
).
	`g‘_»suÉ
();

687 cÚ¡‡utØ
®g_»suÉ
 =

688 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_®g
).
	`g‘_»suÉ
();

689 cÚ¡‡utØ
n_»suÉ
 =

690 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_n
).
	`g‘_»suÉ
();

691 cÚ¡‡utØ
©ª_»suÉ
 =

692 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_©ª
).
	`g‘_»suÉ
();

693 cÚ¡‡utØ
”r_»suÉ
 =

694 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_”r
).
	`g‘_»suÉ
();

695 cÚ¡‡utØ
gud_»suÉ
 =

696 
df
.
sšgË_aù_vis™
<>("d1_cŞ", 
sig_gud
).
	`g‘_»suÉ
();

697 cÚ¡‡utØ
smo_»suÉ
 =

698 
df
.
sšgË_aù_vis™
<>("d2_cŞ", 
sig_smo
).
	`g‘_»suÉ
();

700 
¡d
::
veùÜ
<> 
»suÉ
 {

705 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

706 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
log_»suÉ
[idx]) < 0.00001);

708 
»suÉ
 = 
¡d
::
veùÜ
<> {

713 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

714 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
®g_»suÉ
[idx]) < 0.00001);

716 
»suÉ
 = 
¡d
::
veùÜ
<> {

719 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

720 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
n_»suÉ
[idx]) < 0.00001);

722 
»suÉ
 = 
¡d
::
veùÜ
<> {

726 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

727 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
©ª_»suÉ
[idx]) < 0.00001);

729 
»suÉ
 = 
¡d
::
veùÜ
<> {

732 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

733 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
”r_»suÉ
[idx]) < 0.00001);

735 
»suÉ
 = 
¡d
::
veùÜ
<> {

739 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

740 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
gud_»suÉ
[idx]) < 0.00001);

742 
»suÉ
 = 
¡d
::
veùÜ
<> {

746 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

747 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
smo_»suÉ
[idx]) < 0.00001);

748 
	}
}

752 
	$my_max
(cÚ¡ &
d1
, cÚ¡ &
d2
, cÚ¡ &
d3
) {

754  (
¡d
::
max
<>({ 
d1
, 
d2
, 
d3
 }));

755 
	}
}

757 
	$‹¡_combše
() {

759 
¡d
::
cout
 << "\nTe¡šg combšeĞè..." << std::
’dl
;

761 
¡d
::
veùÜ
<> 
idx1
 =

765 
¡d
::
veùÜ
<> 
idx2
 =

769 
¡d
::
veùÜ
<> 
idx3
 =

773 
¡d
::
veùÜ
<> 
idx4
 =

777 
¡d
::
veùÜ
<> 
d1
 =

780 
¡d
::
veùÜ
<> 
d2
 =

783 
¡d
::
veùÜ
<> 
d3
 =

786 
¡d
::
veùÜ
<> 
d4
 =

789 
MyD©aF¿me
 
df1
;

790 
MyD©aF¿me
 
df2
;

791 
MyD©aF¿me
 
df3
;

792 
MyD©aF¿me
 
df4
;

794 
df1
.
	`lßd_d©a
(
¡d
::
	`move
(
idx1
), std::
	`make_·œ
("d1_cŞ", 
d1
));

795 
df2
.
	`lßd_d©a
(
¡d
::
	`move
(
idx2
), std::
	`make_·œ
("d1_cŞ", 
d2
));

796 
df3
.
	`lßd_d©a
(
¡d
::
	`move
(
idx3
), std::
	`make_·œ
("d1_cŞ", 
d3
));

797 
df4
.
	`lßd_d©a
(
¡d
::
	`move
(
idx4
), std::
	`make_·œ
("d1_cŞ", 
d4
));

799 
df1
.
	`lßd_cŞumn
("d2_col",

800 
¡d
::
	`move
(
df1
.
combše
<>("d1_cŞ", 
df2
, 
df3
, 
my_max
)));

802 
¡d
::
veùÜ
<> 
»suÉ
 {

806 
	`as£¹
(
df1
.
g‘_cŞumn
<>("d2_cŞ"è=ğ
»suÉ
);

807 
	}
}

811 
	$‹¡_RSIVis™Ü
() {

813 
¡d
::
cout
 << "\nTe¡šg RSIVis™Ü{ } ..." << std::
’dl
;

815 cÚ¡ 
size_t
 
™em_út
 = 32;

816 
MyD©aF¿me
 
df
;

817 
RªdG’P¬ams
<> 
p
;

819 
p
.
m—n
 = 5.6;

820 
p
.
¡d
 = 0.5;

821 
p
.
£ed
 = 123;

822 
p
.
mš_v®ue
 = 0;

823 
p
.
max_v®ue
 = 8;

825 
df
.
	`lßd_d©a
(
MyD©aF¿me
::
	`g’_£qu’û_šdex
(0, 
™em_út
, 1),

826 
¡d
::
	`make_·œ
("normal",

827 
g’_nÜm®_di¡
<>(
™em_út
, 
p
)));

829 
RSIVis™Ü
<> 
	`rsi
(
»tuº_pŞicy
::
³rûÁage
);

830 cÚ¡‡utØ
rsi_»suÉ
 =

831 
df
.
sšgË_aù_vis™
<>("nÜm®", 
rsi
).
	`g‘_»suÉ
();

832 
¡d
::
veùÜ
<> 
»suÉ
 {

837 
size_t
 
idx
 = 0; idx < 
»suÉ
.
	`size
(); ++idx)

838 
	`as£¹
(
	`çbs
(
»suÉ
[
idx
] - 
rsi_»suÉ
[idx]) < 0.0001);

839 
	}
}

843 
	$‹¡_groupby
() {

845 
¡d
::
cout
 << "\nTe¡šg groupbyĞè..." << std::
’dl
;

847 
¡d
::
veùÜ
<> 
ulgvec2
 =

852 
¡d
::
veùÜ
<> 
xulgvec2
 = 
ulgvec2
;

853 
¡d
::
veùÜ
<> 
štvec2
 =

856 
¡d
::
veùÜ
<> 
xdblvec2
 =

861 
¡d
::
veùÜ
<> 
dblvec22
 =

866 
¡d
::
veùÜ
<¡d::
¡ršg
> 
¡rvec2
 =

875 
MyD©aF¿me
 
df
;

877 
df
.
	`lßd_d©a
(
¡d
::
	`move
(
ulgvec2
),

878 
¡d
::
	`make_·œ
("xšt_cŞ", 
štvec2
),

879 
¡d
::
	`make_·œ
("dbl_cŞ", 
xdblvec2
),

880 
¡d
::
	`make_·œ
("dbl_cŞ_2", 
dblvec22
),

881 
¡d
::
	`make_·œ
("¡r_cŞ", 
¡rvec2
),

882 
¡d
::
	`make_·œ
("ul_cŞ", 
xulgvec2
));

884 autØ
»suÉ
 =

885 
df
.
groupby
<
GroupbySum
,

889 
¡d
::
¡ršg
,

890 >(
	`GroupbySum
(), 
DF_INDEX_COL_NAME
);

892 
	`as£¹
((
»suÉ
.
	`g‘_šdex
() ==

893 
¡d
::
veùÜ
<> {

897 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<>("xint_col") ==

898 
¡d
::
veùÜ
<> { 3, 45, 3, 3, 7, 84, 11, 6, 2, 8, 3, 2, 3 }));

899 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col") ==

900 
¡d
::
veùÜ
<¡d::
¡ršg
> {

907 
»suÉ
 = 
df
.
groupby
<
GroupbyMax
,

911 
¡d
::
¡ršg
,

912 >(
	`GroupbyMax
(), "xint_col");

913 
	`as£¹
((
»suÉ
.
	`g‘_šdex
() ==

914 
¡d
::
veùÜ
<> {

918 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<>("dbl_col_2") ==

919 
¡d
::
veùÜ
<> {

923 
	`as£¹
((
»suÉ
.
g‘_cŞumn
<
¡d
::
¡ršg
>("str_col") ==

924 
¡d
::
veùÜ
<¡d::
¡ršg
> {

929 
	}
}

933 
	$maš
(
¬gc
, *
¬gv
[]) {

935 
	`‹¡_g‘_»šdexed
();

936 
	`‹¡_g‘_»šdexed_v›w
();

937 
	`‹¡_»ty³_cŞumn
();

938 
	`‹¡_lßd_®ign_cŞumn
();

939 
	`‹¡_g‘_cŞumns_šfo
();

940 
	`‹¡_C©egÜyVis™Ü
();

941 
	`‹¡_FaùÜizeVis™Ü
();

942 
	`‹¡_·‰”n_m©ch
();

943 
	`‹¡_ClVis™Ü
();

944 
	`‹¡_Sh¬³R©ioVis™Ü
();

945 
	`‹¡_RªkVis™Ü
();

946 
	`‹¡_SigmoidVis™Ü
();

947 
	`‹¡_combše
();

948 
	`‹¡_RSIVis™Ü
();

949 
	`‹¡_groupby
();

952 
	}
}

	@DataFrame/original/test/date_time_tester.cc

30 
	~<D©aF¿me/Uts/D©eTime.h
>

31 
	~<D©aF¿me/Uts/FixedSizeSŒšg.h
>

33 
	~<ÿs£¹
>

34 
	~<c¡dlib
>

35 
	~<io¡»am
>

36 
	~<¡ršg
>

38 
usšg
 
Çme¥aû
 
	ghmdf
;

42 
	$maš
 (
¬gc
, *
¬gv
 []) {

44 
usšg
 
Çme¥aû
 
¡d
;

46 
SŒšg1K
 
t¡r
;

48 
D©eTime
 
now
;

49 
D©eTime
 
	`gmnow
 (
DT_TIME_ZONE
::
GMT
);

51 
cout
 << "LoÿÈTimis: " << 
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

52 << " Nªo£cÚds: " << 
now
.
	`Çno£c
 (è<< 
’dl
;

53 
cout
 << "GMT Timis: " << 
gmnow
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

54 << " Miüo£cÚds: " << 
now
.
	`miüo£c
 (è<< 
’dl
;

56 
now
 = 19721202;

57 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "12/02/1972 00:00:00.000");

58 
now
 = "19910223 16:23:45.230";

59 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/23/1991 16:23:45.230");

60 
now
 = "19910223 16:23:45.230";

61 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/23/1991 16:23:45.230");

62 
now
 = "20100207 12";

63 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/07/2010 12:00:00.000");

64 
now
 = "20100207 12:32";

65 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) == "02/07/2010 12:32:00.000");

66 
now
 = "20100207 12:32:12";

68 
Œy
 {

69 
diff
 = 
¡©ic_ÿ¡
<> (
now
.
	`diff_£cÚds
 (
gmnow
));

71 
	`as£¹
(
çl£
);

73 
	`ÿtch
 (cÚ¡ 
¡d
::
ruÁime_”rÜ
 &) {

81 
D©eTime
 
	`now
 (20181023, 10, 24, 1, 123456789);

83 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

85 
now
.
	`add_days
 (1);

86 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

88 
now
.
	`add_days
 (-1);

89 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

92 
now
.
	`add_w“kdays
 (1);

93 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

95 
now
.
	`add_w“kdays
 (-1);

96 
	`as£¹
(
now
.
	`¡ršg_fÜm©
(
DT_FORMAT
::
DT_TM2
) ==

100 
D©eTime
 
	`dt
 (20091224, 9, 30);

102 
dt
.
	`add_w“kdays
 (2);

103 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

108 
D©eTime
 
	`dt
 (20081224, 9, 30);

110 
dt
.
	`add_w“kdays
 (2);

111 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

116 
D©eTime
 
	`dt
 (20061224, 9, 30);

118 
dt
.
	`add_w“kdays
 (2);

119 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

124 
D©eTime
 
	`dt
 (20051223, 9, 30);

126 
dt
.
	`add_w“kdays
 (2);

127 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

132 
D©eTime
 
	`dt
 (20041223, 9, 30);

134 
dt
.
	`add_w“kdays
 (2);

135 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

140 
D©eTime
 
	`dt
 (20001222, 9, 30);

142 
dt
.
	`add_w“kdays
 (2);

143 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

148 
D©eTime
 
	`dt
 (19981224, 9, 30);

150 
dt
.
	`add_w“kdays
 (2);

151 
	`as£¹
(
dt
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

157 
cout
 << "\n----- Te¡šg D©eTime' GMT v LoÿÈtime\n" << 
’dl
;

159 
D©eTime
 
	`gmt_now
 (
DT_TIME_ZONE
::
GMT
);

160 
D©eTime
 
loÿl_now
;

162 
D©eTime
 
	`loÿl_®t_cÚ
 (
loÿl_now
.
	`d©e
 (),†oÿl_now.
	`hour
 (),

163 
loÿl_now
.
	`mšu‹
 (),†oÿl_now.
	`£c
 (),

164 
loÿl_now
.
	`m£c
 ());

165 
D©eTime
 
	`gmt_®t_cÚ
 (
gmt_now
.
	`d©e
 (), gmt_now.
	`hour
 (),

166 
gmt_now
.
	`mšu‹
 (), gmt_now.
	`£c
 (),

167 
gmt_now
.
	`m£c
 (), 
DT_TIME_ZONE
::
GMT
);

169 
D©eTime
 
	`loÿl_time_1970
 (19700101);

170 
D©eTime
 
	`gmt_time_1970
 (19700101, 0, 0, 0, 0, 
DT_TIME_ZONE
::
GMT
);

172 
D©eTime
 
	`loÿl_time_1989
 (19891214, 20, 15, 23, 0);

173 
D©eTime
 
	`gmt_time_1989
 (19891214, 20, 15, 23, 0, 
DT_TIME_ZONE
::
GMT
);

175 
cout
 << "GMT‚owime: " << 
gmt_now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

176 << " " << 
gmt_now
.
	`time
 (è<< 
’dl
;

177 
cout
 << "GMT ALT Constructorime: "

178 << 
gmt_®t_cÚ
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

179 << " " << 
gmt_®t_cÚ
.
	`time
 (è<< 
’dl
 <<ƒndl;

181 
cout
 << "Local‚owime: "

182 << 
loÿl_now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

183 << " " << 
loÿl_now
.
	`time
 (è<< 
’dl
;

184 
cout
 << "Local ALT Constructorime: "

185 << 
loÿl_®t_cÚ
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

186 << " " << 
loÿl_®t_cÚ
.
	`time
 (è<< 
’dl
 <<ƒndl;

188 
cout
 << "Local 1970 ALT Constructorime: "

189 << 
loÿl_time_1970
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

190 << " " << 
loÿl_time_1970
.
	`time
 (è<< 
’dl
;

191 
cout
 << "GMT 1970 ALT Constructorime: "

192 << 
gmt_time_1970
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

193 << " " << 
gmt_time_1970
.
	`time
 (è<< 
’dl
 <<ƒndl;

195 
cout
 << "Local 1989 ALT Constructorime: "

196 << 
loÿl_time_1989
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

197 << " " << 
loÿl_time_1989
.
	`time
 (è<< 
’dl
;

198 
cout
 << "GMT 1989 ALT Constructorime: "

199 << 
gmt_time_1989
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

200 << " " << 
gmt_time_1989
.
	`time
 (è<< 
’dl
 <<ƒndl;

204 
cout
 << "\n----- Te¡šg D©eTime' w“kday day m‘hods\n" << 
’dl
;

206 cÚ¡ 
D©eTime
 
	`Ãw_y—r
 (20020101);

208 
cout
 << "20020101 is‡ US holiday: "

209 << (
Ãw_y—r
.
	`is_us_busšess_day
 (è? "NO" : "YES"è<< 
’dl
;

211 cÚ¡ 
D©eTime
 
	`thªksgivšg
 (20011122);

213 
cout
 << "20011122 (Thanksgiving) is‡ US holiday: "

214 << (
thªksgivšg
.
	`is_us_busšess_day
 (è? "NO" : "YES"è<< 
’dl
;

216 
D©eTime
 
yes_ªsw”s
 [80];

217 
i
 = 0;

218 cÚ¡ 
D©eTime
 
	`hŞ01
 (19980101); 
yes_ªsw”s
 [
i
++] = 
hŞ01
;

219 cÚ¡ 
D©eTime
 
	`hŞ02
 (19980119); 
yes_ªsw”s
 [
i
++] = 
hŞ02
;

220 cÚ¡ 
D©eTime
 
	`hŞ03
 (19980216); 
yes_ªsw”s
 [
i
++] = 
hŞ03
;

221 cÚ¡ 
D©eTime
 
	`hŞ04
 (19980525); 
yes_ªsw”s
 [
i
++] = 
hŞ04
;

222 cÚ¡ 
D©eTime
 
	`hŞ05
 (19980703); 
yes_ªsw”s
 [
i
++] = 
hŞ05
;

223 cÚ¡ 
D©eTime
 
	`hŞ06
 (19980907); 
yes_ªsw”s
 [
i
++] = 
hŞ06
;

224 cÚ¡ 
D©eTime
 
	`hŞ07
 (19981126); 
yes_ªsw”s
 [
i
++] = 
hŞ07
;

225 cÚ¡ 
D©eTime
 
	`hŞ08
 (19981225); 
yes_ªsw”s
 [
i
++] = 
hŞ08
;

226 cÚ¡ 
D©eTime
 
	`hŞ09
 (19990101); 
yes_ªsw”s
 [
i
++] = 
hŞ09
;

227 cÚ¡ 
D©eTime
 
	`hŞ10
 (19990118); 
yes_ªsw”s
 [
i
++] = 
hŞ10
;

228 cÚ¡ 
D©eTime
 
	`hŞ11
 (19990215); 
yes_ªsw”s
 [
i
++] = 
hŞ11
;

229 cÚ¡ 
D©eTime
 
	`hŞ12
 (19990531); 
yes_ªsw”s
 [
i
++] = 
hŞ12
;

230 cÚ¡ 
D©eTime
 
	`hŞ13
 (19990705); 
yes_ªsw”s
 [
i
++] = 
hŞ13
;

231 cÚ¡ 
D©eTime
 
	`hŞ14
 (19990906); 
yes_ªsw”s
 [
i
++] = 
hŞ14
;

232 cÚ¡ 
D©eTime
 
	`hŞ15
 (19991125); 
yes_ªsw”s
 [
i
++] = 
hŞ15
;

233 cÚ¡ 
D©eTime
 
	`hŞ16
 (19991224); 
yes_ªsw”s
 [
i
++] = 
hŞ16
;

234 cÚ¡ 
D©eTime
 
	`hŞ17
 (19991231); 
yes_ªsw”s
 [
i
++] = 
hŞ17
;

235 cÚ¡ 
D©eTime
 
	`hŞ18
 (20000117); 
yes_ªsw”s
 [
i
++] = 
hŞ18
;

236 cÚ¡ 
D©eTime
 
	`hŞ19
 (20000221); 
yes_ªsw”s
 [
i
++] = 
hŞ19
;

237 cÚ¡ 
D©eTime
 
	`hŞ20
 (20000529); 
yes_ªsw”s
 [
i
++] = 
hŞ20
;

238 cÚ¡ 
D©eTime
 
	`hŞ21
 (20000704); 
yes_ªsw”s
 [
i
++] = 
hŞ21
;

239 cÚ¡ 
D©eTime
 
	`hŞ22
 (20000904); 
yes_ªsw”s
 [
i
++] = 
hŞ22
;

240 cÚ¡ 
D©eTime
 
	`hŞ23
 (20001123); 
yes_ªsw”s
 [
i
++] = 
hŞ23
;

241 cÚ¡ 
D©eTime
 
	`hŞ24
 (20001225); 
yes_ªsw”s
 [
i
++] = 
hŞ24
;

242 cÚ¡ 
D©eTime
 
	`hŞ25
 (20010101); 
yes_ªsw”s
 [
i
++] = 
hŞ25
;

243 cÚ¡ 
D©eTime
 
	`hŞ26
 (20010115); 
yes_ªsw”s
 [
i
++] = 
hŞ26
;

244 cÚ¡ 
D©eTime
 
	`hŞ27
 (20010219); 
yes_ªsw”s
 [
i
++] = 
hŞ27
;

245 cÚ¡ 
D©eTime
 
	`hŞ28
 (20010528); 
yes_ªsw”s
 [
i
++] = 
hŞ28
;

246 cÚ¡ 
D©eTime
 
	`hŞ29
 (20010704); 
yes_ªsw”s
 [
i
++] = 
hŞ29
;

247 cÚ¡ 
D©eTime
 
	`hŞ30
 (20010903); 
yes_ªsw”s
 [
i
++] = 
hŞ30
;

248 cÚ¡ 
D©eTime
 
	`hŞ31
 (20011122); 
yes_ªsw”s
 [
i
++] = 
hŞ31
;

249 cÚ¡ 
D©eTime
 
	`hŞ32
 (20011225); 
yes_ªsw”s
 [
i
++] = 
hŞ32
;

250 cÚ¡ 
D©eTime
 
	`hŞ33
 (20020101); 
yes_ªsw”s
 [
i
++] = 
hŞ33
;

251 cÚ¡ 
D©eTime
 
	`hŞ34
 (20020121); 
yes_ªsw”s
 [
i
++] = 
hŞ34
;

252 cÚ¡ 
D©eTime
 
	`hŞ35
 (20020218); 
yes_ªsw”s
 [
i
++] = 
hŞ35
;

253 cÚ¡ 
D©eTime
 
	`hŞ36
 (20020527); 
yes_ªsw”s
 [
i
++] = 
hŞ36
;

254 cÚ¡ 
D©eTime
 
	`hŞ37
 (20020704); 
yes_ªsw”s
 [
i
++] = 
hŞ37
;

255 cÚ¡ 
D©eTime
 
	`hŞ38
 (20020902); 
yes_ªsw”s
 [
i
++] = 
hŞ38
;

256 cÚ¡ 
D©eTime
 
	`hŞ39
 (20021128); 
yes_ªsw”s
 [
i
++] = 
hŞ39
;

257 cÚ¡ 
D©eTime
 
	`hŞ40
 (20021225); 
yes_ªsw”s
 [
i
++] = 
hŞ40
;

258 cÚ¡ 
D©eTime
 
	`hŞ41
 (20030101); 
yes_ªsw”s
 [
i
++] = 
hŞ41
;

259 cÚ¡ 
D©eTime
 
	`hŞ42
 (20030120); 
yes_ªsw”s
 [
i
++] = 
hŞ42
;

260 cÚ¡ 
D©eTime
 
	`hŞ43
 (20030217); 
yes_ªsw”s
 [
i
++] = 
hŞ43
;

261 cÚ¡ 
D©eTime
 
	`hŞ44
 (20030526); 
yes_ªsw”s
 [
i
++] = 
hŞ44
;

262 cÚ¡ 
D©eTime
 
	`hŞ45
 (20030704); 
yes_ªsw”s
 [
i
++] = 
hŞ45
;

263 cÚ¡ 
D©eTime
 
	`hŞ46
 (20030901); 
yes_ªsw”s
 [
i
++] = 
hŞ46
;

264 cÚ¡ 
D©eTime
 
	`hŞ47
 (20031127); 
yes_ªsw”s
 [
i
++] = 
hŞ47
;

265 cÚ¡ 
D©eTime
 
	`hŞ48
 (20031225); 
yes_ªsw”s
 [
i
++] = 
hŞ48
;

266 cÚ¡ 
D©eTime
 
	`hŞ49
 (20040101); 
yes_ªsw”s
 [
i
++] = 
hŞ49
;

267 cÚ¡ 
D©eTime
 
	`hŞ50
 (20040119); 
yes_ªsw”s
 [
i
++] = 
hŞ50
;

268 cÚ¡ 
D©eTime
 
	`hŞ51
 (20040216); 
yes_ªsw”s
 [
i
++] = 
hŞ51
;

269 cÚ¡ 
D©eTime
 
	`hŞ52
 (20040531); 
yes_ªsw”s
 [
i
++] = 
hŞ52
;

270 cÚ¡ 
D©eTime
 
	`hŞ53
 (20040705); 
yes_ªsw”s
 [
i
++] = 
hŞ53
;

271 cÚ¡ 
D©eTime
 
	`hŞ54
 (20040906); 
yes_ªsw”s
 [
i
++] = 
hŞ54
;

272 cÚ¡ 
D©eTime
 
	`hŞ55
 (20041125); 
yes_ªsw”s
 [
i
++] = 
hŞ55
;

273 cÚ¡ 
D©eTime
 
	`hŞ56
 (20041224); 
yes_ªsw”s
 [
i
++] = 
hŞ56
;

274 cÚ¡ 
D©eTime
 
	`hŞ57
 (20041231); 
yes_ªsw”s
 [
i
++] = 
hŞ57
;

275 cÚ¡ 
D©eTime
 
	`hŞ58
 (20050117); 
yes_ªsw”s
 [
i
++] = 
hŞ58
;

276 cÚ¡ 
D©eTime
 
	`hŞ59
 (20050221); 
yes_ªsw”s
 [
i
++] = 
hŞ59
;

277 cÚ¡ 
D©eTime
 
	`hŞ60
 (20050530); 
yes_ªsw”s
 [
i
++] = 
hŞ60
;

278 cÚ¡ 
D©eTime
 
	`hŞ61
 (20050704); 
yes_ªsw”s
 [
i
++] = 
hŞ61
;

279 cÚ¡ 
D©eTime
 
	`hŞ62
 (20050905); 
yes_ªsw”s
 [
i
++] = 
hŞ62
;

280 cÚ¡ 
D©eTime
 
	`hŞ63
 (20051124); 
yes_ªsw”s
 [
i
++] = 
hŞ63
;

281 cÚ¡ 
D©eTime
 
	`hŞ64
 (20051226); 
yes_ªsw”s
 [
i
++] = 
hŞ64
;

282 cÚ¡ 
D©eTime
 
	`hŞ65
 (20060102); 
yes_ªsw”s
 [
i
++] = 
hŞ65
;

283 cÚ¡ 
D©eTime
 
	`hŞ66
 (20060116); 
yes_ªsw”s
 [
i
++] = 
hŞ66
;

284 cÚ¡ 
D©eTime
 
	`hŞ67
 (20060220); 
yes_ªsw”s
 [
i
++] = 
hŞ67
;

285 cÚ¡ 
D©eTime
 
	`hŞ68
 (20060529); 
yes_ªsw”s
 [
i
++] = 
hŞ68
;

286 cÚ¡ 
D©eTime
 
	`hŞ69
 (20060704); 
yes_ªsw”s
 [
i
++] = 
hŞ69
;

287 cÚ¡ 
D©eTime
 
	`hŞ70
 (20060904); 
yes_ªsw”s
 [
i
++] = 
hŞ70
;

288 cÚ¡ 
D©eTime
 
	`hŞ71
 (20061123); 
yes_ªsw”s
 [
i
++] = 
hŞ71
;

289 cÚ¡ 
D©eTime
 
	`hŞ72
 (20061225); 
yes_ªsw”s
 [
i
++] = 
hŞ72
;

290 cÚ¡ 
D©eTime
 
	`hŞ73
 (20070101); 
yes_ªsw”s
 [
i
++] = 
hŞ73
;

291 cÚ¡ 
D©eTime
 
	`hŞ74
 (20070115); 
yes_ªsw”s
 [
i
++] = 
hŞ74
;

292 cÚ¡ 
D©eTime
 
	`hŞ75
 (20070219); 
yes_ªsw”s
 [
i
++] = 
hŞ75
;

293 cÚ¡ 
D©eTime
 
	`hŞ76
 (20070528); 
yes_ªsw”s
 [
i
++] = 
hŞ76
;

294 cÚ¡ 
D©eTime
 
	`hŞ77
 (20070704); 
yes_ªsw”s
 [
i
++] = 
hŞ77
;

295 cÚ¡ 
D©eTime
 
	`hŞ78
 (20070903); 
yes_ªsw”s
 [
i
++] = 
hŞ78
;

296 cÚ¡ 
D©eTime
 
	`hŞ79
 (20071122); 
yes_ªsw”s
 [
i
++] = 
hŞ79
;

297 cÚ¡ 
D©eTime
 
	`hŞ80
 (20071225); 
yes_ªsw”s
 [
i
++] = 
hŞ80
;

299 
i
 = 0; i < 80; i++) {

300 
cout
 << (
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()

301 ? (
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) +

306 
i
 = 0; i < 80; i++) {

307 
j
 = 0; j < 7; j++) {

308 
yes_ªsw”s
 [
i
].
	`add_days
 (1);

309 ià(! 
yes_ªsw”s
 [
i
].
	`is_w“k’d
 () &&

310 ! 
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()) {

311 
cout
 << 
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

312 << " may‚Ù b¨hŞiday" << 
’dl
;

315 
yes_ªsw”s
 [
i
].
	`add_days
 (-7);

316 ià(
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()) {

317 
cout
 << 
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

318 << " should b¨hŞiday" << 
’dl
;

320 
j
 = 0; j < 7; j++) {

321 
yes_ªsw”s
 [
i
].
	`add_days
 (-1);

322 ià(! 
yes_ªsw”s
 [
i
].
	`is_w“k’d
 () &&

323 ! 
yes_ªsw”s
 [
i
].
	`is_us_busšess_day
 ()) {

324 
cout
 << 
yes_ªsw”s
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

325 << " may‚Ù b¨hŞiday" << 
’dl
;

330 
i
 = 0;

332 
D©eTime
 
cŞumbus
 [10];

333 cÚ¡ 
D©eTime
 
	`cŞumbus01
 (19981012); 
cŞumbus
[
i
++] = 
cŞumbus01
;

334 cÚ¡ 
D©eTime
 
	`cŞumbus02
 (19991011); 
cŞumbus
[
i
++] = 
cŞumbus02
;

335 cÚ¡ 
D©eTime
 
	`cŞumbus03
 (20001009); 
cŞumbus
[
i
++] = 
cŞumbus03
;

336 cÚ¡ 
D©eTime
 
	`cŞumbus04
 (20011008); 
cŞumbus
[
i
++] = 
cŞumbus04
;

337 cÚ¡ 
D©eTime
 
	`cŞumbus05
 (20021014); 
cŞumbus
[
i
++] = 
cŞumbus05
;

338 cÚ¡ 
D©eTime
 
	`cŞumbus06
 (20031013); 
cŞumbus
[
i
++] = 
cŞumbus06
;

339 cÚ¡ 
D©eTime
 
	`cŞumbus07
 (20041011); 
cŞumbus
[
i
++] = 
cŞumbus07
;

340 cÚ¡ 
D©eTime
 
	`cŞumbus08
 (20051010); 
cŞumbus
[
i
++] = 
cŞumbus08
;

341 cÚ¡ 
D©eTime
 
	`cŞumbus09
 (20061009); 
cŞumbus
[
i
++] = 
cŞumbus09
;

342 cÚ¡ 
D©eTime
 
	`cŞumbus10
 (20071008); 
cŞumbus
[
i
++] = 
cŞumbus10
;

344 
i
 = 0; i < 10; i++) {

345 
cout
 << (
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()

347 : (
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) +

349 
cout
 << (
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()

351 : (
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) +

354 
i
 = 0; i < 10; i++) {

355 
j
 = 0; j < 7; j++) {

356 
cŞumbus
 [
i
].
	`add_days
 (1);

357 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

358 
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()) {

359 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

360 << " should‚Ù b¨bªk hŞiday" << 
’dl
;

362 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

363 ! 
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()) {

364 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

365 << " may‚Ù b¨hŞiday" << 
’dl
;

368 
cŞumbus
 [
i
].
	`add_days
 (-7);

369 ià(! 
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()) {

370 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

371 << " should b¨»guÏ¸hŞiday" << 
’dl
;

373 ià(! 
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()) {

374 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

375 << " should‚Ù b¨»guÏ¸hŞiday" << 
’dl
;

377 
j
 = 0; j < 7; j++) {

378 
cŞumbus
 [
i
].
	`add_days
 (-1);

379 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

380 
cŞumbus
 [
i
].
	`is_us_bªk_hŞiday
 ()) {

381 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

382 << " should‚Ù b¨bªk hŞiday" << 
’dl
;

384 ià(! 
cŞumbus
 [
i
].
	`is_w“k’d
 () &&

385 ! 
cŞumbus
 [
i
].
	`is_us_busšess_day
 ()) {

386 
cout
 << 
cŞumbus
 [
i
].
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

387 << " may‚Ù b¨hŞiday" << 
’dl
;

393 
cout
 << "\n----- Te¡šg D©eTime' difàm‘hods\n" << 
’dl
;

396 cÚ¡ 
D©eTime
 
	`dt1
 (20020101, 12, 54, 31);

397 cÚ¡ 
D©eTime
 
	`dt2
 (20020201, 3, 50, 30);

399 
cout
 << "dt1 is: " << 
dt1
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
è<< 
’dl
;

400 
cout
 << "dt2 is: " << 
dt2
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
è<< 
’dl
;

401 
cout
 << "second difference between dt1‡nd dt2: "

402 << 
dt1
.
	`diff_£cÚds
 (
dt2
è<< 
’dl
;

403 
cout
 << "minute difference between dt1‡nd dt2: "

404 << 
dt1
.
	`diff_mšu‹s
 (
dt2
è<< 
’dl
;

405 
cout
 << "hour difference between dt1‡nd dt2: "

406 << 
dt1
.
	`diff_hours
 (
dt2
è<< 
’dl
;

407 
cout
 << "day difference between dt1‡nd dt2: "

408 << 
dt1
.
	`diff_days
 (
dt2
è<< 
’dl
;

409 
cout
 << "business day difference between dt1‡nd dt2: "

410 << 
dt1
.
	`diff_w“kdays
 (
dt2
è<< 
’dl
;

411 
cout
 << "week difference between dt1‡nd dt2: "

412 << 
dt1
.
	`diff_w“ks
 (
dt2
è<< 
’dl
;

414 
size_t
 
šdex
 = 0;

415 cÚ¡ 
size_t
 
max_šdex
 = 10000;

416 
D©eTime
 
	`now_³rfÜmªû
 (19700101);

418 ++
šdex
 < 
max_šdex
) {

419 
now_³rfÜmªû
.
	`add_w“kdays
 (1);

422 
cout
 << "Aá”‡ddšg " << 
max_šdex
 << " weekdays dayso 19700101, "

424 << 
now_³rfÜmªû
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

425 << 
’dl
;

428 
cout
 << "\n----- Te¡šg D©eTime' DST v EST (Gošg FÜw¬d)\n" << 
’dl
;

431 
D©eTime
 
	`¡¬t
 (20060331);

432 
D©eTime
 
‹¡
;

433 
i
 = 0;

435 
cout
 << "\tGošg from ESTØDST\n" << 
’dl
;

436 
i
++ <= 10) {

437 
‹¡
 = 
¡¬t
;

438 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

439 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

440 
¡¬t
.
	`add_days
 (1);

445 
D©eTime
 
	`¡¬t
 (20051028);

446 
D©eTime
 
‹¡
;

447 
i
 = 0;

449 
cout
 << 
’dl
 <<ƒndl;

450 
cout
 << "\tGošg from DSTØEST\n" << 
’dl
;

451 
i
++ <= 10) {

452 
‹¡
 = 
¡¬t
;

453 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

454 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

455 
¡¬t
.
	`add_days
 (1);

460 
D©eTime
 
	`¡¬t
 (20060331);

462 
cout
 << 
’dl
 <<ƒndl;

463 
cout
 << "\tGošg from ESTØDST iÀÚshÙ\n" << 
’dl
;

465 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

466 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

467 
¡¬t
.
	`add_days
 (10);

468 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

469 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

473 
D©eTime
 
	`¡¬t
 (20051028);

475 
cout
 << 
’dl
 <<ƒndl;

476 
cout
 << "\tGošg from DSTØEST iÀÚshÙ\n" << 
’dl
;

478 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

479 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

480 
¡¬t
.
	`add_days
 (10);

481 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

482 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

487 
cout
 << "\n----- Te¡šg D©eTime' DST v EST (Gošg Backw¬d)\n" << 
’dl
;

491 
D©eTime
 
	`¡¬t
 (20060408);

492 
D©eTime
 
‹¡
;

493 
i
 = 0;

495 
cout
 << "\tGošg from ESTØDST\n" << 
’dl
;

496 
i
++ <= 10) {

497 
‹¡
 = 
¡¬t
;

498 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

499 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

500 
¡¬t
.
	`add_days
 (-1);

505 
D©eTime
 
	`¡¬t
 (20051105);

506 
D©eTime
 
‹¡
;

507 
i
 = 0;

509 
cout
 << 
’dl
 <<ƒndl;

510 
cout
 << "\tGošg from DSTØEST\n" << 
’dl
;

511 
i
++ <= 10) {

512 
‹¡
 = 
¡¬t
;

513 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

514 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

515 
¡¬t
.
	`add_days
 (-1);

520 
D©eTime
 
	`¡¬t
 (20060408);

522 
cout
 << 
’dl
 <<ƒndl;

523 
cout
 << "\tGošg from ESTØDST iÀÚshÙ\n" << 
’dl
;

525 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

526 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

527 
¡¬t
.
	`add_days
 (-10);

528 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

529 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

533 
D©eTime
 
	`¡¬t
 (20051105);

535 
cout
 << 
’dl
 <<ƒndl;

536 
cout
 << "\tGošg from DSTØEST iÀÚshÙ\n" << 
’dl
;

538 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

539 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

540 
¡¬t
.
	`add_days
 (-10);

541 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

542 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

546 
D©eTime
 
	`¡¬t
 (20090309, 16, 30);

548 
cout
 << 
’dl
 <<ƒndl;

549 
cout
 << "\tGošg from ESTØDST iÀÚshÙ (2)\n" << 
’dl
;

551 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

552 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

553 
¡¬t
.
	`add_days
 (-20);

554 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

555 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

559 
D©eTime
 
	`¡¬t
 (20081103, 16, 30);

561 
cout
 << 
’dl
 <<ƒndl;

562 
cout
 << "\tGošg from DSTØEST iÀÚshÙ (3)\n" << 
’dl
;

564 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

565 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

566 
¡¬t
.
	`add_w“kdays
 (-1);

567 
cout
 << 
¡¬t
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

568 << " --- " << 
¡¬t
.
	`time
 (è<< 
’dl
;

573 
cout
 << "\n----- Te¡šg D©eTimgošg ov” y—¸bound¬y\n" << 
’dl
;

576 
D©eTime
 
	`‹¡
 (20081225, 16, 30);

577 
i
 = 0;

579 
cout
 << 
’dl
 <<ƒndl;

580 
cout
 << "\tGošg FÜw¬d\n" << 
’dl
;

582 
i
++ <= 10) {

583 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

584 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

585 
‹¡
.
	`add_days
 (1);

592 
D©eTime
 
	`‹¡
 (20080105, 16, 30);

593 
i
 = 0;

595 
cout
 << 
’dl
 <<ƒndl;

596 
cout
 << "\tGošg Backw¬d\n" << 
’dl
;

598 
i
++ <= 10) {

599 
cout
 << 
‹¡
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
)

600 << " --- " << 
‹¡
.
	`time
 (è<< 
’dl
;

601 
‹¡
.
	`add_days
 (-1);

607 
cout
 << "\n----- Te¡šg D©eTime' timzÚchªges\n" << 
’dl
;

609 
D©eTime
 
loÿl_now
;

610 
D©eTime
 
	`gmt_now
 (
DT_TIME_ZONE
::
GMT
);

611 
D©eTime
 
	`b_aœes_now
 (
DT_TIME_ZONE
::
AM_BUENOS_AIRES
);

612 
D©eTime
 
	`‹h¿n_now
 (
DT_TIME_ZONE
::
AS_TEHRAN
);

613 
D©eTime
 
	`tokyo_now
 (
DT_TIME_ZONE
::
AS_TOKYO
);

614 
D©eTime
 
	`sydÃy_now
 (
DT_TIME_ZONE
::
AU_SYDNEY
);

615 
D©eTime
 
	`nz_now
 (
DT_TIME_ZONE
::
NZ
);

616 
D©eTime
 
	`moscow_now
 (
DT_TIME_ZONE
::
EU_MOSCOW
);

617 
D©eTime
 
	`shªg_now
 (
DT_TIME_ZONE
::
AS_SHANGHAI
);

618 
D©eTime
 
	`b”lš_now
 (
DT_TIME_ZONE
::
EU_BERLIN
);

619 
D©eTime
 
	`·ris_now
 (
DT_TIME_ZONE
::
EU_PARIS
);

620 
D©eTime
 
	`¡ock_now
 (
DT_TIME_ZONE
::
EU_STOCKHOLM
);

621 
D©eTime
 
	`ny_now
 (
DT_TIME_ZONE
::
AM_NEW_YORK
);

622 
D©eTime
 
	`Ï_now
 (
DT_TIME_ZONE
::
AM_LOS_ANGELES
);

623 
D©eTime
 
loÿl_now_2
;

625 
cout
 << "Now Loÿl: " << 
loÿl_now
 << 
’dl
;

626 
cout
 << "GMT Loÿl: " << 
gmt_now
 << 
’dl
;

627 
cout
 << "Now Bu’o Aœes: " << 
b_aœes_now
 << 
’dl
;

628 
cout
 << "Now Teh¿n: " << 
‹h¿n_now
 << 
’dl
;

629 
cout
 << "Now Tokyo: " << 
tokyo_now
 << 
’dl
;

630 
cout
 << "Now Syd’y: " << 
sydÃy_now
 << 
’dl
;

631 
cout
 << "Now New Z—Ïnd: " << 
nz_now
 << 
’dl
;

632 
cout
 << "Now Moscow: " << 
moscow_now
 << 
’dl
;

633 
cout
 << "Now Shªghai: " << 
shªg_now
 << 
’dl
;

634 
cout
 << "Now B”lš: " << 
b”lš_now
 << 
’dl
;

635 
cout
 << "Now P¬is: " << 
·ris_now
 << 
’dl
;

636 
cout
 << "Now StockhŞm: " << 
¡ock_now
 << 
’dl
;

637 
cout
 << "Now New YÜk: " << 
ny_now
 << 
’dl
;

638 
cout
 << "Now Lo Amg–es: " << 
Ï_now
 << 
’dl
;

639 
cout
 << "Now LoÿÈ(2): " << 
loÿl_now_2
 << 
’dl
;

641 
loÿl_now
.
	`£t_timezÚe
 (
DT_TIME_ZONE
::
AU_SYDNEY
);

642 
cout
 << "\nGošg from LoÿÈtØSydÃy: " << 
loÿl_now
 << 
’dl
;

644 
D©eTime
 
	`loÿl
 (20091123, 9, 38, 43, 345);

646 
cout
 << "\nLoÿÈD©e/Time: " << 
loÿl
 << 
’dl
;

647 
loÿl
.
	`£t_timezÚe
 (
DT_TIME_ZONE
::
AU_SYDNEY
);

648 
cout
 << "\nLoÿÈchªgedØSydÃy: " << 
loÿl
 << 
’dl
;

654 cÚ¡ 
D©eTime
 
	`dt1
 ("20100207 12:31");

656 ià(
dt1
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

658 
¡d
::
cout
 << "ERROR: "

659 << 
dt1
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

660 << "02/07/2010 12:31:00.000" << 
¡d
::
’dl
;

661  (
EXIT_FAILURE
);

664 cÚ¡ 
D©eTime
 
	`dt2
 ("02/08/2010 12:31:56", 
DT_DATE_STYLE
::
AME_STYLE
);

666 ià(
dt2
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

668 
¡d
::
cout
 << "ERROR: "

669 << 
dt2
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

670 << "02/08/2010 12:31:56.000" << 
¡d
::
’dl
;

671  (
EXIT_FAILURE
);

674 cÚ¡ 
D©eTime
 
	`dt3
 ("2010/02/09 12:31:56", 
DT_DATE_STYLE
::
EUR_STYLE
);

676 ià(
dt3
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

678 
¡d
::
cout
 << "ERROR: "

679 << 
dt3
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

680 << "02/09/2010 12:31:56.000" << 
¡d
::
’dl
;

681  (
EXIT_FAILURE
);

684 cÚ¡ 
D©eTime
 
	`dt4
 (" 2010/02/10 12:31:56", 
DT_DATE_STYLE
::
EUR_STYLE
);

686 ià(
dt4
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

688 
¡d
::
cout
 << "ERROR: "

689 << 
dt4
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

690 << "02/10/2010 12:31:56.000" << 
¡d
::
’dl
;

691  (
EXIT_FAILURE
);

694 cÚ¡ 
D©eTime
 
	`dt5
 (" 02/11/2010 12:31:56",

695 
DT_DATE_STYLE
::
AME_STYLE
);

697 ià(
dt5
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) !=

699 
¡d
::
cout
 << "ERROR: "

700 << 
dt5
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) << " != "

701 << "02/11/2010 12:31:56.000" << 
¡d
::
’dl
;

702  (
EXIT_FAILURE
);

705 cÚ¡ 
D©eTime
 
	`dt6
 (20190110, 13, 56, 23, 123456987);

707 ià(
dt6
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_PRECISE
) !=

709 
¡d
::
cout
 << "ERROR: "

710 << 
dt6
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_PRECISE
) << " != "

711 << "1547146583.123456987" << 
¡d
::
’dl
;

719 
D©eTime
 
	`now
 (20190530, 11, 15, 5, 123456789);

721 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

724 
now
.
	`add_mÚths
 (1);

725 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

728 
now
.
	`add_mÚths
 (-1);

729 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

732 
now
.
	`add_mÚths
 (10);

733 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

736 
now
.
	`add_mÚths
 (-10);

737 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

740 
now
.
	`add_mÚths
 (9);

741 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

748 
D©eTime
 
	`now
 (20160229, 11, 15, 5, 123456789);

750 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

753 
now
.
	`add_y—rs
 (1);

754 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

757 
now
.
	`add_y—rs
 (-1);

758 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

761 
now
.
	`add_y—rs
 (5);

762 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

765 
now
.
	`add_y—rs
 (-5);

766 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

769 
now
.
	`add_y—rs
 (9);

770 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

777 cÚ¡ 
D©eTime
 
	`dt1
 (20190522, 11, 15, 5, 123456789,

778 
DT_TIME_ZONE
::
AM_NEW_YORK
);

780 
	`as£¹
(
dt1
.
	`lÚg_time
() == 1558538105123456789);

782 cÚ¡ 
D©eTime
 
	`dt2
 (20190522, 11, 15, 5, 5,

783 
DT_TIME_ZONE
::
AM_NEW_YORK
);

785 
	`as£¹
(
dt2
.
	`lÚg_time
() == 1558538105000000005);

787 cÚ¡ 
D©eTime
 
	`dt3
 (20190522, 11, 15, 0, 0,

788 
DT_TIME_ZONE
::
AM_NEW_YORK
);

790 
	`as£¹
(
dt3
.
	`lÚg_time
() == 1558538100000000000);

791 
	`as£¹
(
dt3
.
	`time
() == 1558538100);

797 
D©eTime
 
	`now
 (20190530, 11, 15, 5, 123000000,

798 
DT_TIME_ZONE
::
AM_NEW_YORK
);

800 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

803 
now
.
	`add_Çno£cÚds
 (1000000000);

804 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

806 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306123000000);

807 
now
.
	`add_Çno£cÚds
 (-1000000000);

808 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

810 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123000000);

811 
now
.
	`add_Çno£cÚds
 (1000010000);

812 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

814 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306123010000);

815 
now
.
	`add_Çno£cÚds
 (-1000010000);

816 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

818 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123000000);

820 
now
.
	`add_Çno£cÚds
 (9999);

821 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

823 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123009999);

824 
now
.
	`add_Çno£cÚds
 (-9999);

825 
	`as£¹
(
now
.
	`¡ršg_fÜm©
 (
DT_FORMAT
::
DT_TM2
) ==

827 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305123000000);

829 
now
.
	`add_Çno£cÚds
 (-123000000);

830 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305000000000);

831 
now
.
	`add_Çno£cÚds
 (500000000);

832 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305500000000);

833 
now
.
	`add_Çno£cÚds
 (500000000);

834 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306000000000);

835 
now
.
	`add_Çno£cÚds
 (500000000);

836 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306500000000);

837 
now
.
	`add_Çno£cÚds
 (500000000);

838 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229307000000000);

840 
now
.
	`add_Çno£cÚds
 (-500000000);

841 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306500000000);

842 
now
.
	`add_Çno£cÚds
 (-500000000);

843 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229306000000000);

844 
now
.
	`add_Çno£cÚds
 (-500000000);

845 
	`as£¹
(
now
.
	`lÚg_time
() == 1559229305500000000);

848  (
EXIT_SUCCESS
);

849 
	}
}

	@DataFrame/original/test/gen_rand_tester.cc

28 
	~<D©aF¿me/RªdG’.h
>

30 
	~<ÿs£¹
>

31 
	~<io¡»am
>

33 
usšg
 
Çme¥aû
 
	ghmdf
;

37 
	$maš
(
¬gc
, *
¬gv
[]) {

40 
RªdG’P¬ams
<> 
p
;

42 
p
.
mš_v®ue
 = 0;

43 
p
.
max_v®ue
 = 1000000;

45 
g’_unifÜm_št_di¡
<>(1024, 
p
);

49 
RªdG’P¬ams
<> 
p
;

51 
p
.
mš_v®ue
 = 0;

52 
p
.
max_v®ue
 = 2.0;

53 
p
.
£ed
 = 23;

55 
g’_unifÜm_»®_di¡
<>(1024, 
p
);

59 
	`g’_b”nouÎi_di¡
(1024);

63 
RªdG’P¬ams
<> 
p
;

65 
p
.
t_di¡
 = 1000;

67 
g’_bšomŸl_di¡
<>(1024, 
p
);

71 
RªdG’P¬ams
<> 
p
;

73 
p
.
t_di¡
 = 1000;

75 
g’_Ãg©ive_bšomŸl_di¡
<>(1024, 
p
);

79 
g’_geom‘ric_di¡
<>(1024);

83 
RªdG’P¬ams
<> 
p
;

85 
p
.
m—n
 = 4.0;

87 
g’_poissÚ_di¡
<>(1024, 
p
);

91 
RªdG’P¬ams
<> 
p
;

93 
p
.
Ïmbda
 = 1.5;

95 
g’_expÚ’tŸl_di¡
<>(1024, 
p
);

99 
RªdG’P¬ams
<> 
p
;

101 
p
.
®pha
 = 1.5;

102 
p
.
b‘a
 = 1.5;

104 
g’_gamma_di¡
<>(1024, 
p
);

108 
RªdG’P¬ams
<> 
p
;

110 
p
.
®pha
 = 1.5;

111 
p
.
b‘a
 = 1.5;

113 
g’_weibuÎ_di¡
<>(1024, 
p
);

117 
RªdG’P¬ams
<> 
p
;

119 
p
.
®pha
 = 1.5;

120 
p
.
b‘a
 = 1.5;

122 
g’_exŒeme_v®ue_di¡
<>(1024, 
p
);

126 
RªdG’P¬ams
<> 
p
;

128 
p
.
m—n
 = 1.0;

129 
p
.
¡d
 = 0.005;

131 autØ
r
 = 
g’_nÜm®_di¡
<>(1024, 
p
);

133 
r
 = 
g’_nÜm®_di¡
<>(1024);

134 autØ
c™”
 : 
r
)

135 
	`as£¹
(
c™”
 == 1.0);

139 
g’_lognÜm®_di¡
<>(1024);

143 
RªdG’P¬ams
<> 
p
;

145 
p
.
n
 = 4.0;

147 
g’_chi_squ¬ed_di¡
<>(1024, 
p
);

151 
g’_ÿuchy_di¡
<>(1024);

155 
g’_fish”_f_di¡
<>(1024);

159 autØ
r
 = 
g’_¡ud’t_t_di¡
<>(1024);

161 autØ
c™”
 : 
r
)

162 
¡d
::
cout
 << 
c™”
 << ", ";

163 
¡d
::
cout
 << std::
’dl
;

167 autØ
r
 = 
g’_log_¥aû_nums
<>(1024, 3, 4, 2);

168 autØ
r2
 = 
g’_log_¥aû_nums
<>(256, 3, 4, 10);

170 
¡d
::
cout
 << '\n' << std::
’dl
;

171 autØ
c™”
 : 
r
)

172 
¡d
::
cout
 << 
c™”
 << ", ";

173 
¡d
::
cout
 << '\n' << std::
’dl
;

174 autØ
c™”
 : 
r2
)

175 
¡d
::
cout
 << 
c™”
 << ", ";

176 
¡d
::
cout
 << std::
’dl
;

180 
	}
}

	@DataFrame/original/test/vector_ptr_view_tester.cc

30 
	~<D©aF¿me/VeùÜs/VeùÜPŒV›w.h
>

32 
	~<ÿs£¹
>

33 
	~<io¡»am
>

35 
usšg
 
Çme¥aû
 
	ghmdf
;

39 
	$maš
 (
¬gCÁ
, *
¬gVùr
 []) {

41 
¡d
::
veùÜ
<> 
št_vec
 = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

42 
¡d
::
veùÜ
<> 
št_vec2
 = { 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 };

43 
VeùÜPŒV›w
<> 
	`vec_v›w
(
št_vec
);

44 cÚ¡ 
VeùÜPŒV›w
<> 
c_vec_v›w
 = 
št_vec
;

46 
	`as£¹
(
vec_v›w
.
	`size
(è=ğ
št_vec
.size());

48 
VeùÜPŒV›w
<> 
	`vec_v›w2
(
št_vec
.
	`begš
(), iÁ_vec.
	`’d
());

50 
	`as£¹
(
vec_v›w2
.
	`size
(è=ğ
vec_v›w
.size());

51 
	`as£¹
(
vec_v›w2
[2] =ğ
vec_v›w
[2]);

52 
	`as£¹
(
vec_v›w2
[9] =ğ
vec_v›w
[9]);

53 
	`as£¹
(
vec_v›w2
[2] == 3);

54 
	`as£¹
(
vec_v›w2
[9] == 10);

55 
	`as£¹
(
vec_v›w2
.
	`äÚt
() == 1);

56 
	`as£¹
(
vec_v›w
.
	`back
() == 10);

58 
¡d
::
size_t
 
couÁ”
 = 0;

60 #iâdeà
_WIN32


61 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
c™”
 = 
vec_v›w
.
	`begš
();

62 
c™”
 !ğ
vec_v›w
.
	`’d
(); ++citer)

63 
	`as£¹
(*
c™”
 =ğ++
couÁ”
);

64 
	`as£¹
(
couÁ”
 =ğ
vec_v›w
.
	`size
());

66 
¡d
::
size_t
 
i
 = 0; i < 
vec_v›w
.
	`size
(); ++i)

67 
	`as£¹
(
vec_v›w
[
i
] =ğ++
couÁ”
);

68 
	`as£¹
(
couÁ”
 =ğ
vec_v›w
.
	`size
());

71 
couÁ”
 = 0;

72 #iâdeà
_WIN32


73 
VeùÜPŒV›w
<>::
™”©Ü
 
™”
 = 
vec_v›w
.
	`begš
();

74 
™”
 !ğ
vec_v›w
.
	`’d
(); ++iter)

75 
	`as£¹
(*
™”
 =ğ++
couÁ”
);

76 
	`as£¹
(
couÁ”
 =ğ
vec_v›w
.
	`size
());

79 
couÁ”
 = 0;

80 #iâdeà
_WIN32


81 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
c™”
 = 
c_vec_v›w
.
	`begš
();

82 
c™”
 !ğ
c_vec_v›w
.
	`’d
(); ++citer)

83 
	`as£¹
(*
c™”
 =ğ++
couÁ”
);

84 
	`as£¹
(
couÁ”
 =ğ
c_vec_v›w
.
	`size
());

86 
¡d
::
size_t
 
i
 = 0; i < 
c_vec_v›w
.
	`size
(); ++i)

87 
	`as£¹
(
c_vec_v›w
[
i
] =ğ++
couÁ”
);

88 
	`as£¹
(
couÁ”
 =ğ
c_vec_v›w
.
	`size
());

91 
VeùÜPŒV›w
<> 
	`vec_v›w3
(
št_vec2
.
	`begš
(), iÁ_vec2.
	`’d
());

93 
vec_v›w3
.
	`sÜt
();

94 
couÁ”
 = 0;

95 #iâdeà
_WIN32


96 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
c™”
 = 
vec_v›w3
.
	`begš
();

97 
c™”
 !ğ
vec_v›w3
.
	`’d
(); ++citer)

98 
	`as£¹
(*
c™”
 =ğ++
couÁ”
);

99 
	`as£¹
(
couÁ”
 =ğ
vec_v›w3
.
	`size
());

101 
¡d
::
size_t
 
i
 = 0; i < 
vec_v›w3
.
	`size
(); ++i)

102 
	`as£¹
(
vec_v›w3
[
i
] =ğ++
couÁ”
);

103 
	`as£¹
(
couÁ”
 =ğ
vec_v›w3
.
	`size
());

106 
couÁ”
 = 
št_vec2
.
	`size
();

107 
¡d
::
veùÜ
<>::
cÚ¡_™”©Ü
 
c™”
 = 
št_vec2
.
	`begš
();

108 
c™”
 !ğ
št_vec2
.
	`’d
(); ++citer) {

109 
	`as£¹
(*
c™”
 =ğ
couÁ”
);

110 
couÁ”
 -= 1;

112 
	`as£¹
(
couÁ”
 == 0);

114 
vec_v›w2
.
	`push_back
(&(
št_vec
[3]));

115 
	`as£¹
(
vec_v›w2
.
	`back
() == 4);

117 
vec_v›w2
.
	`”a£
(vec_v›w2.
	`size
() - 1);

118 
	`as£¹
(
vec_v›w2
.
	`back
() == 10);

120 
vec_v›w2
.
	`š£¹
(3, &(
št_vec2
[0]));

121 
	`as£¹
(
vec_v›w2
[3] == 10);

122 
	`as£¹
(
vec_v›w2
[2] == 3);

123 
	`as£¹
(
vec_v›w2
[4] == 4);

125 
vec_v›w2
.
	`š£¹
(vec_v›w2.
	`size
(), 
št_vec2
.
	`begš
(), iÁ_vec2.
	`’d
());

126 
	`as£¹
(
vec_v›w2
.
	`size
(è=ğ
št_vec2
.size() * 2 + 1);

127 
	`as£¹
(
vec_v›w2
[3] == 10);

128 
	`as£¹
(
vec_v›w2
[2] == 3);

129 
	`as£¹
(
vec_v›w2
[4] == 4);

130 
	`as£¹
(
vec_v›w2
[20] == 1);

131 
	`as£¹
(
vec_v›w2
[19] == 2);

133 
VeùÜPŒV›w
<>::
cÚ¡_™”©Ü
 
™em
 = 
vec_v›w
.
	`begš
();

135 
	`as£¹
(*
™em
 == 1);

136 
	`as£¹
(*(
™em
++) == 1);

137 
	`as£¹
(*
™em
 == 2);

139  (
EXIT_SUCCESS
);

140 
	}
}

	@DataFrame/original/test/vectors_tester.cc

28 
	~<D©aF¿me/VeùÜs/H‘”oVeùÜ.h
>

30 
	~<ÿs£¹
>

31 
	~<io¡»am
>

32 
	~<¡ršg
>

33 
	~<ty³šfo
>

35 
usšg
 
Çme¥aû
 
	ghmdf
;

39 
	gmy_vis™Ü
 : 
H‘”oVeùÜ
::
vis™Ü_ba£
<, , 
	g¡d
::
¡ršg
> {

41 
‹m¶©e
<
şass
 
T
>

42 
İ”©Ü
(è(
T
 &
i
è{ i +ği; 
	g¡d
::
cout
 << "-- " << i << 
¡d
::
’dl
;}

47 
	gsÜt_funùÜ
 : 
H‘”oVeùÜ
::
vis™Ü_ba£
<, , 
	g¡d
::
¡ršg
> {

49 
‹m¶©e
<
şass
 
T
>

50 
boŞ
 
İ”©Ü
(è(cÚ¡ 
T
 &
lhs
, cÚ¡ 
	gT
 &
	grhs
) {

52  (
	glhs
 < 
	grhs
);

58 
	gchªge_funùÜ
 : 
H‘”oVeùÜ
::
vis™Ü_ba£
<, , 
	g¡d
::
¡ršg
> {

60 
‹m¶©e
<
ty³Çme
 
T
>

61 
İ”©Ü
(è(
T
 &
v®
) {

62 
i
 = 0; 
	gi
 < 10; ++i)

63 
	gv®
.
push_back
(

64 
ty³Çme
 
¡d
::
»move_»ã»nû
<
deşty³
(
v®
)>::
ty³
::
v®ue_ty³
());

70 
	$maš
(
¬gc
, *
¬gv
[]) {

72 
H‘”oVeùÜ
 
hv
;

73 
H‘”oVeùÜ
 
hv2
;

74 
H‘”oVeùÜ
 
hv3
;

76 cÚ¡ 
¡d
::
veùÜ
<> &
št_vec
 = 
hv
.
g‘_veùÜ
<>();

78 
hv
.
	`push_back
 (3);

79 
hv
.
em¶aû_back
<> (4);

80 
hv
.
	`push_back
 (5);

81 
hv
.
em¶aû
<> (
št_vec
.
	`begš
 (), 10);

82 
hv
.
	`push_back
 (1);

83 
hv
.
	`push_back
 (0);

85 
hv
.
	`push_back
 (4.25);

86 
hv
.
	`push_back
 (5.6845);

87 
hv
.
	`push_back
 (6.1112);

88 
hv
.
	`push_back
 (1.05);

89 
hv
.
	`push_back
 (0.456783);

90 
hv
.
	`push_back
 (0.123);

92 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("str_1"));

93 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("str_2"));

94 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("str_3"));

95 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("abc"));

96 
hv
.
	`push_back
 (
¡d
::
	`¡ršg
("fas"));

101 
H‘”oV›w
 
v
 = 
hv
.
g‘_v›w
<>();

103 
	`as£¹
(
v
.
©
<>(3) == 1.05);

105 
H‘”oV›w
 
s
 = 
hv
.
g‘_v›w
<
¡d
::
¡ršg
>(1, 3);

107 
	`as£¹
(
s
.
©
<
¡d
::
¡ršg
>(0) == "str_2");

108 
	`as£¹
(
s
.
size
<
¡d
::
¡ršg
>() == 2);

109 
	`as£¹
(
s
.
back
<
¡d
::
¡ršg
>() == "str_3");

115 
H‘”oPŒV›w
 
v
 = 
hv
.
g‘_±r_v›w
<>();

117 
	`as£¹
(
v
.
©
<>(3) == 1.05);

119 
H‘”oPŒV›w
 
s
 = 
hv
.
g‘_±r_v›w
<
¡d
::
¡ršg
>(1, 3);

121 
	`as£¹
(
s
.
©
<
¡d
::
¡ršg
>(0) == "str_2");

122 
	`as£¹
(
s
.
size
<
¡d
::
¡ršg
>() == 2);

123 
	`as£¹
(
s
.
back
<
¡d
::
¡ršg
>() == "str_3");

126 
	`as£¹
(
hv
.
size
<
¡d
::
¡ršg
>() == 5);

127 
hv
.
”a£
<
¡d
::
¡ršg
>(2);

128 
	`as£¹
(
hv
.
size
<
¡d
::
¡ršg
>() == 4);

130 
hv2
 = 
hv
;

131 
hv3
 = 
¡d
::
	`move
(
hv2
);

133 cÚ¡ 
¡d
::
veùÜ
<> &
dbl_vec
 = 
hv3
.
g‘_veùÜ
<>();

135 cÚ¡‡utØ&
™”
 : 
št_vec
)

136 
¡d
::
cout
 << 
™”
 << std::
’dl
;

138 
¡d
::
cout
 << std::
’dl
;

139 cÚ¡‡utØ&
™”
 : 
dbl_vec
)

140 
¡d
::
cout
 << 
™”
 << std::
’dl
;

142 
my_vis™Ü
 
mv
;

144 
¡d
::
cout
 << "Vis™šg ..." << std::
’dl
;

145 
hv
.
	`vis™
(
¡d
::
	`move
(
mv
));

147 
sÜt_funùÜ
 
sÜt_func
;

149 
¡d
::
cout
 << "SÜtšg ..." << std::
’dl
;

150 
hv
.
	`sÜt
(
¡d
::
	`move
(
sÜt_func
));

151 
¡d
::
cout
 << "Vis™šg ..." << std::
’dl
;

152 
hv
.
	`vis™
(
¡d
::
	`move
(
mv
));

154 
chªge_funùÜ
 
chªge_func
;

156 
¡d
::
cout
 << "Chªgšg ..." << std::
’dl
;

157 
hv
.
	`chªge
(
¡d
::
	`move
(
chªge_func
));

158 
¡d
::
cout
 << "Vis™šg ..." << std::
’dl
;

159 
hv
.
	`vis™
(
¡d
::
	`move
(
mv
));

161 
hv
.
	`»size
(100, 5);

162 
hv
.
pİ_back
<>();

163 
hv
.
em±y
<>();

164 
hv
.
©
<>(5);

165 
hv
.
back
<>();

166 
hv
.
äÚt
<>();

171 
¡d
::
veùÜ
<> 
vec
 { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

172 
VeùÜV›w
<> 
vec_v›w
;

174 
vec_v›w
 = 
vec
;

175 
	`as£¹
(
vec_v›w
.
	`size
() == 10);

176 
	`as£¹
(
vec_v›w
[0] == 1);

177 
	`as£¹
(
vec_v›w
[5] == 6);

178 
	`as£¹
(
vec_v›w
[9] == 10);

180 
vec_v›w
[5] = 100;

181 
	`as£¹
(
vec_v›w
[5] == 100);

183 
VeùÜV›w
<>::
cÚ¡_™”©Ü
 
™em
 = 
vec_v›w
.
	`begš
();

185 
	`as£¹
(*
™em
 == 1);

186 
	`as£¹
(*(
™em
++) == 1);

187 
	`as£¹
(*
™em
 == 2);

191 
	}
}

	@exp/fig10a/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"d”ef_scİe.hµ
"

7 
	~"deviû.hµ
"

8 
	~"h–³rs.hµ
"

9 
	~"mªag”.hµ
"

10 
	~"¡©s.hµ
"

12 
	~<®gÜ™hm
>

13 
	~<chrÚo
>

14 
	~<c¡dšt
>

15 
	~<c¡dlib
>

16 
	~<io¡»am
>

17 
	~<memÜy
>

18 
	~<¿ndom
>

20 
usšg
 
Çme¥aû
 
çr_memÜy
;

21 
usšg
 
Çme¥aû
 
	g¡d
;

23 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

25 
	g¡d
::
©omic_æag
 
æag
;

26 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

27 
__th»ad
 
ušt32_t
 
	g³r_cÜe_»q_idx
 = 0;

28 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
;

30 
Çme¥aû
 
	gçr_memÜy
 {

31 şas 
	cF¬MemTe¡
 {

32 
	g´iv©e
:

33 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 5000 * 
RegiÚ
::
kSize
;

34 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

35 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 100;

36 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

37 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

38 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 = 28;

39 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 = 28;

40 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËD©aSize
 = (8ULL << 30);

41 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

42 
cÚ¡ex´
 
ušt32_t
 
	gkNumI‹rsP”Scİe
 = 64;

43 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 400;

44 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’P”CÜe
 = 
kNumKVPaœs
;

45 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 650;

46 
cÚ¡ex´
 
ušt32_t
 
	gkMÚ™ÜP”I‹r
 = 262144;

47 
cÚ¡ex´
 
ušt32_t
 
	gkMšMÚ™ÜIÁ”v®Us
 = 10 * 1000 * 1000;

48 
cÚ¡ex´
 
ušt32_t
 
	gkMaxRuÂšgUs
 = 200 * 1000 * 1000;

50 
	sKey
 {

51 
	gd©a
[
kKeyL’
];

54 
	sV®ue
 {

55 
	gd©a
[
kV®ueL’
];

58 
®igÇs
(64è
	gCÁ
 {

59 
ušt64_t
 
	gc
;

62 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Key
 
®l_g’_keys
[
kNumKVPaœs
];

63 
ušt32_t
 
	g®l_unifÜm_key_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’P”CÜe
];

64 
CÁ
 
	gúts
[
kNumMutÜTh»ads
];

65 
CÁ
 
	gmiss_úts
[
kNumMutÜTh»ads
];

66 
	g¡d
::
veùÜ
<> 
mİs_vec
;

67 
	g¡d
::
veùÜ
<> 
miss_¿‹_vec
;

69 
ušt64_t
 
	g´ev_sum_úts
 = 0;

70 
ušt64_t
 
	g´ev_sum_mis£s
 = 0;

71 
ušt64_t
 
	g´ev_us
 = 0;

72 
ušt64_t
 
	gruÂšg_us
 = 0;

74 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
T
 
avg_of_Ï¡_N
(
¡d
::
veùÜ
<T> &
vec
, 
ušt32_t
 
n
) {

75 
	g¡d
::
veùÜ
<
T
> 
Ï¡_n
(

76 
vec
.
’d
(è- 
¡d
::
mš
(
¡©ic_ÿ¡
<
ušt32_t
>(vec.
size
()), 
n
), vec.end());

77  
	g¡d
::
accumuÏ‹
(
Ï¡_n
.
begš
(),†a¡_n.
’d
(), 0.0è/ 
	gÏ¡_n
.
size
();

80 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

81 *
¬¿y
) {

82 
ušt32_t
 
	gËn
 = 0;

83 
	gn
) {

84 autØ
	gdig™
 = 
n
 % 10;

85 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

86 
	gn
 = 
n
 / 10;

88 
	gËn
 < 
	gsuffix_Ën
) {

89 
	g¬¿y
[
Ën
++] = '0';

91 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

94 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

95 
´“m±_di§bË
();

96 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

97 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

98 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

99 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

100 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

104 
šlše
 
¿ndom_key
(*
d©a
, 
ušt32_t
 
tid
) {

105 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kNumMutÜTh»ads
);

106 
¿ndom_¡ršg
(
d©a
, 
kKeyL’
 - 
tid_Ën
);

107 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kKeyL’
 -id_len);

110 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

111 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

112 
	g¡d
::
¿ndom_deviû
 
rd
;

113 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

116 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

117 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

118 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

119 autØ
num_kv_·œs
 = 
kNumKVPaœs
 / 
kNumMutÜTh»ads
;

120 ià(
tid
 =ğ
kNumMutÜTh»ads
 - 1) {

121 
num_kv_·œs
 +ğ
kNumKVPaœs
 % 
kNumMutÜTh»ads
;

123 
D”efScİe
 
scİe
;

124 autØ*
th»ad_g’_keys
 =

125 &
®l_g’_keys
[
tid
 * (
kNumKVPaœs
 / 
kNumMutÜTh»ads
)];

126 
Key
 
key
;

127 
V®ue
 
v®
;

128 
ušt32_t
 
i
 = 0; i < 
num_kv_·œs
; i++) {

129 ià(
uÆik–y
(
i
 % 
kNumI‹rsP”Scİe
 == 0)) {

130 
scİe
.
»Ãw
();

132 
¿ndom_key
(
key
.
d©a
, 
tid
);

133 
¿ndom_¡ršg
(
v®
.
d©a
, 
kV®ueL’
);

134 
hİscÙch_±r
->
put
(
scİe
, 
kKeyL’
,

135 (cÚ¡ 
ušt8_t
 *)
key
.
d©a
, 
kV®ueL’
,

136 (cÚ¡ 
ušt8_t
 *)
v®
.
d©a
);

137 
th»ad_g’_keys
[
i
] = 
key
;

141 autØ&
	gth»ad
 : 
th»ads
) {

142 
th»ad
.
Još
();

144 
´“m±_di§bË
();

145 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
ušt32_t
> 
unifÜm
(0, 
kNumKVPaœs
 - 1);

146 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

147 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’P”CÜe
; i++) {

148 autØ
	gidx
 = 
unifÜm
(*
g’”©Ü
);

149 
BUG_ON
(
idx
 >ğ
kNumKVPaœs
);

150 
	g®l_unifÜm_key_šdiûs
[0][
i
] = 
idx
;

152 
ušt32_t
 
	gk
 = 1; k < 
	gh–³rs
::
kNumCPUs
; k++) {

153 
memıy
(
®l_unifÜm_key_šdiûs
[
k
],‡ll_uniform_key_indices[0],

154 (
ušt32_t
è* 
kReqSeqL’P”CÜe
);

156 
´“m±_’abË
();

159 
mÚ™Ü_³rf
() {

160 ià(!
	gæag
.
‹¡_ªd_£t
()) {

161 autØ
	gus
 = 
miüÙime
();

162 ià(
	gus
 - 
	g´ev_us
 > 
	gkMšMÚ™ÜIÁ”v®Us
) {

163 
ušt64_t
 
	gsum_úts
 = 0;

164 
ušt64_t
 
	gsum_mis£s
 = 0;

165 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

166 
	gsum_úts
 +ğ
ACCESS_ONCE
(
úts
[
i
].
c
);

167 
	gsum_mis£s
 +ğ
ACCESS_ONCE
(
miss_úts
[
i
].
c
);

169 
	gus
 = 
miüÙime
();

170 autØ
	gmİs
 = ()(
sum_úts
 - 
´ev_sum_úts
è/ (
us
 - 
´ev_us
);

171 autØ
	gmiss_¿‹
 =

172 ()(
sum_mis£s
 - 
´ev_sum_mis£s
è/ (
sum_úts
 - 
´ev_sum_úts
);

173 
	gmİs_vec
.
push_back
(
mİs
);

174 
	gmiss_¿‹_vec
.
push_back
(
miss_¿‹
);

175 
	gruÂšg_us
 +ğ(
us
 - 
´ev_us
);

176 ià(
	gruÂšg_us
 >ğ
kMaxRuÂšgUs
) {

177 
¡d
::
cout
 << "mİ ğ" << 
avg_of_Ï¡_N
(
mİs_vec
, 2) << ", "

178 << "miss_¿‹ = " << 
avg_of_Ï¡_N
(
miss_¿‹_vec
, 2)

179 << 
¡d
::
’dl
;

180 
	g¡d
::
cout
 << "DÚe. FÜûƒx™šg..." << 
¡d
::
’dl
;

181 
ex™
(0);

183 
	g´ev_us
 = 
us
;

184 
	g´ev_sum_úts
 = 
sum_úts
;

185 
	g´ev_sum_mis£s
 = 
sum_mis£s
;

187 
	gæag
.
ş—r
();

191 
b’ch_g‘
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

192 
	g´ev_us
 = 
miüÙime
();

193 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

194 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

195 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

196 
D”efScİe
 
scİe
;

197 
ušt32_t
 
út
 = 0;

199 ià(
uÆik–y
(
út
++ % 
kNumI‹rsP”Scİe
 == 0)) {

200 
scİe
.
»Ãw
();

202 
´“m±_di§bË
();

203 ià(
uÆik–y
(
út
 % 
kMÚ™ÜP”I‹r
 == 0)) {

204 
mÚ™Ü_³rf
();

206 autØ
key_idx
 =

207 
®l_unifÜm_key_šdiûs
[
g‘_cÜe_num
()][
³r_cÜe_»q_idx
++];

208 ià(
uÆik–y
(
³r_cÜe_»q_idx
 =ğ
kReqSeqL’P”CÜe
)) {

209 
³r_cÜe_»q_idx
 = 0;

211 
´“m±_’abË
();

212 autØ&
key
 = 
®l_g’_keys
[
key_idx
];

213 
ušt16_t
 
v®_Ën
;

214 
V®ue
 
v®
;

215 
boŞ
 
fÜw¬ded
 = 
çl£
;

216 
hİscÙch_±r
->
_g‘
(
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
, &
v®_Ën
,

217 (
ušt8_t
 *)
v®
.
d©a
, &
fÜw¬ded
);

218 
ACCESS_ONCE
(
úts
[
tid
].
c
)++;

219 
ACCESS_ONCE
(
miss_úts
[
tid
].
c
è+ğ
fÜw¬ded
;

220 
DONT_OPTIMIZE
(
v®
);

224 autØ&
	gth»ad
 : 
th»ads
) {

225 
th»ad
.
Još
();

229 
	gpublic
:

230 
run
(
Ãddr
 
¿ddr
) {

231 
BUG_ON
(
madvi£
(
®l_g’_keys
, ×Î_g’_keys), 
MADV_HUGEPAGE
) != 0);

232 
	gmªag”
.
»£t
(
F¬MemMªag”FaùÜy
::
bud
(

233 
kCacheSize
, 
kNumGCTh»ads
,

234 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

235 autØ
	ghİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

236 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

237 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

238 
kRemÙeHashTabËD©aSize
));

239 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

240 
´•¬e
(
hİscÙch
.
g‘
());

241 
	g¡d
::
cout
 << "G‘..." << 
¡d
::
’dl
;

242 
b’ch_g‘
(
hİscÙch
.
g‘
());

243 
	ghİscÙch
.
»£t
();

244 
	gmªag”
.
»£t
();

249 
	g¬gc
;

250 
F¬MemTe¡
 
	g‹¡
;

251 
	$my_maš
(*
¬g
) {

252 **
¬gv
 = (**)
¬g
;

253 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

254 
‹¡
.
	`run
(
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
));

255 
	}
}

257 
	$maš
(
_¬gc
, *
¬gv
[]) {

258 
»t
;

260 ià(
_¬gc
 < 3) {

261 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

262  -
EINVAL
;

265 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

266 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

267 
i
 = 2; i < 
_¬gc
; i++) {

268 
¬gv
[
i
 - 1] =‡rgv[i];

270 
¬gc
 = 
_¬gc
 - 1;

272 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
my_maš
, 
¬gv
);

273 ià(
»t
) {

274 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

275  
»t
;

279 
	}
}

	@exp/fig10b/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"d”ef_scİe.hµ
"

7 
	~"deviû.hµ
"

8 
	~"h–³rs.hµ
"

9 
	~"mªag”.hµ
"

10 
	~"¡©s.hµ
"

12 
	~<®gÜ™hm
>

13 
	~<chrÚo
>

14 
	~<c¡dšt
>

15 
	~<c¡dlib
>

16 
	~<io¡»am
>

17 
	~<memÜy
>

18 
	~<¿ndom
>

20 
usšg
 
Çme¥aû
 
çr_memÜy
;

21 
usšg
 
Çme¥aû
 
	g¡d
;

23 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

25 
	g¡d
::
©omic_æag
 
æag
;

26 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

27 
__th»ad
 
ušt32_t
 
	g³r_cÜe_»q_idx
 = 0;

28 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
;

30 
Çme¥aû
 
	gçr_memÜy
 {

31 şas 
	cF¬MemTe¡
 {

32 
	g´iv©e
:

33 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 1000 * 
RegiÚ
::
kSize
;

34 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

35 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 100;

36 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

37 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

38 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 = 28;

39 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 = 28;

40 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËD©aSize
 = (8ULL << 30);

41 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

42 
cÚ¡ex´
 
ušt32_t
 
	gkNumI‹rsP”Scİe
 = 64;

43 
cÚ¡ex´
 
ušt32_t
 
	gkMaxNumMutÜTh»ads
 = 400;

44 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 10;

45 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’P”CÜe
 = 
kNumKVPaœs
;

46 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 650;

47 
cÚ¡ex´
 
ušt32_t
 
	gkMÚ™ÜP”I‹r
 = 262144;

48 
cÚ¡ex´
 
ušt32_t
 
	gkMšMÚ™ÜIÁ”v®Us
 = 10 * 1000 * 1000;

49 
cÚ¡ex´
 
ušt32_t
 
	gkMaxRuÂšgUs
 = 200 * 1000 * 1000;

51 
	sKey
 {

52 
	gd©a
[
kKeyL’
];

55 
	sV®ue
 {

56 
	gd©a
[
kV®ueL’
];

59 
®igÇs
(64è
	gCÁ
 {

60 
ušt64_t
 
	gc
;

63 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Key
 
®l_g’_keys
[
kNumKVPaœs
];

64 
ušt32_t
 
	g®l_unifÜm_key_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’P”CÜe
];

65 
CÁ
 
	gúts
[
kMaxNumMutÜTh»ads
];

66 
	g¡d
::
veùÜ
<> 
mİs_vec
;

68 
ušt64_t
 
	g´ev_sum_úts
 = 0;

69 
ušt64_t
 
	g´ev_us
 = 0;

70 
ušt64_t
 
	gruÂšg_us
 = 0;

72 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
T
 
avg_of_Ï¡_N
(
¡d
::
veùÜ
<T> &
vec
, 
ušt32_t
 
n
) {

73 
	g¡d
::
veùÜ
<
T
> 
Ï¡_n
(

74 
vec
.
’d
(è- 
¡d
::
mš
(
¡©ic_ÿ¡
<
ušt32_t
>(vec.
size
()), 
n
), vec.end());

75  
	g¡d
::
accumuÏ‹
(
Ï¡_n
.
begš
(),†a¡_n.
’d
(), 0.0è/ 
	gÏ¡_n
.
size
();

78 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

79 *
¬¿y
) {

80 
ušt32_t
 
	gËn
 = 0;

81 
	gn
) {

82 autØ
	gdig™
 = 
n
 % 10;

83 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

84 
	gn
 = 
n
 / 10;

86 
	gËn
 < 
	gsuffix_Ën
) {

87 
	g¬¿y
[
Ën
++] = '0';

89 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

92 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

93 
´“m±_di§bË
();

94 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

95 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

96 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

97 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

98 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

102 
šlše
 
¿ndom_key
(*
d©a
, 
ušt32_t
 
tid
) {

103 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kMaxNumMutÜTh»ads
);

104 
¿ndom_¡ršg
(
d©a
, 
kKeyL’
 - 
tid_Ën
);

105 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kKeyL’
 -id_len);

108 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

109 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

110 
	g¡d
::
¿ndom_deviû
 
rd
;

111 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

114 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

115 
ušt32_t
 
	gtid
 = 0;id < 
	gkMaxNumMutÜTh»ads
;id++) {

116 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

117 autØ
num_kv_·œs
 = 
kNumKVPaœs
 / 
kMaxNumMutÜTh»ads
;

118 ià(
tid
 =ğ
kMaxNumMutÜTh»ads
 - 1) {

119 
num_kv_·œs
 +ğ
kNumKVPaœs
 % 
kMaxNumMutÜTh»ads
;

121 
D”efScİe
 
scİe
;

122 autØ*
th»ad_g’_keys
 =

123 &
®l_g’_keys
[
tid
 * (
kNumKVPaœs
 / 
kMaxNumMutÜTh»ads
)];

124 
Key
 
key
;

125 
V®ue
 
v®
;

126 
ušt32_t
 
i
 = 0; i < 
num_kv_·œs
; i++) {

127 ià(
uÆik–y
(
i
 % 
kNumI‹rsP”Scİe
 == 0)) {

128 
scİe
.
»Ãw
();

130 
¿ndom_key
(
key
.
d©a
, 
tid
);

131 
¿ndom_¡ršg
(
v®
.
d©a
, 
kV®ueL’
);

132 
hİscÙch_±r
->
put
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

133 
kV®ueL’
, (cÚ¡ 
ušt8_t
 *)
v®
.
d©a
);

134 
th»ad_g’_keys
[
i
] = 
key
;

138 autØ&
	gth»ad
 : 
th»ads
) {

139 
th»ad
.
Još
();

141 
´“m±_di§bË
();

142 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
ušt32_t
> 
unifÜm
(0, 
kNumKVPaœs
 - 1);

143 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

144 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’P”CÜe
; i++) {

145 autØ
	gidx
 = 
unifÜm
(*
g’”©Ü
);

146 
BUG_ON
(
idx
 >ğ
kNumKVPaœs
);

147 
	g®l_unifÜm_key_šdiûs
[0][
i
] = 
idx
;

149 
ušt32_t
 
	gk
 = 1; k < 
	gh–³rs
::
kNumCPUs
; k++) {

150 
memıy
(
®l_unifÜm_key_šdiûs
[
k
],‡ll_uniform_key_indices[0],

151 (
ušt32_t
è* 
kReqSeqL’P”CÜe
);

153 
´“m±_’abË
();

156 
mÚ™Ü_³rf
() {

157 ià(!
	gæag
.
‹¡_ªd_£t
()) {

158 autØ
	gus
 = 
miüÙime
();

159 ià(
	gus
 - 
	g´ev_us
 > 
	gkMšMÚ™ÜIÁ”v®Us
) {

160 
ušt64_t
 
	gsum_úts
 = 0;

161 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

162 
	gsum_úts
 +ğ
ACCESS_ONCE
(
úts
[
i
].
c
);

164 
	gus
 = 
miüÙime
();

165 autØ
	gmİs
 = ()(
sum_úts
 - 
´ev_sum_úts
è/ (
us
 - 
´ev_us
);

166 
	gmİs_vec
.
push_back
(
mİs
);

167 
	gruÂšg_us
 +ğ(
us
 - 
´ev_us
);

168 ià(
	gruÂšg_us
 >ğ
kMaxRuÂšgUs
) {

169 
¡d
::
cout
 << "mİ ğ" << 
avg_of_Ï¡_N
(
mİs_vec
, 5è<< std::
’dl
;

170 
	g¡d
::
cout
 << "DÚe. FÜûƒx™šg..." << 
¡d
::
’dl
;

171 
ex™
(0);

173 
	g´ev_us
 = 
us
;

174 
	g´ev_sum_úts
 = 
sum_úts
;

176 
	gæag
.
ş—r
();

180 
b’ch_g‘
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

181 
	g´ev_us
 = 
miüÙime
();

182 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

183 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

184 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

185 
D”efScİe
 
scİe
;

186 
ušt32_t
 
út
 = 0;

188 ià(
uÆik–y
(
út
++ % 
kNumI‹rsP”Scİe
 == 0)) {

189 
scİe
.
»Ãw
();

191 
´“m±_di§bË
();

192 ià(
uÆik–y
(
út
 % 
kMÚ™ÜP”I‹r
 == 0)) {

193 
mÚ™Ü_³rf
();

195 autØ
key_idx
 =

196 
®l_unifÜm_key_šdiûs
[
g‘_cÜe_num
()][
³r_cÜe_»q_idx
++];

197 ià(
uÆik–y
(
³r_cÜe_»q_idx
 =ğ
kReqSeqL’P”CÜe
)) {

198 
³r_cÜe_»q_idx
 = 0;

200 
´“m±_’abË
();

201 autØ&
key
 = 
®l_g’_keys
[
key_idx
];

202 
ušt16_t
 
v®_Ën
;

203 
V®ue
 
v®
;

204 
hİscÙch_±r
->
g‘
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

205 &
v®_Ën
, (
ušt8_t
 *)
v®
.
d©a
);

206 
ACCESS_ONCE
(
úts
[
tid
].
c
)++;

207 
DONT_OPTIMIZE
(
v®
);

211 autØ&
	gth»ad
 : 
th»ads
) {

212 
th»ad
.
Još
();

216 
	gpublic
:

217 
run
(
Ãddr
 
¿ddr
) {

218 
BUG_ON
(
madvi£
(
®l_g’_keys
, ×Î_g’_keys), 
MADV_HUGEPAGE
) != 0);

219 
	gmªag”
.
»£t
(
F¬MemMªag”FaùÜy
::
bud
(

220 
kCacheSize
, 
kNumGCTh»ads
,

221 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

222 autØ
	ghİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

223 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

224 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

225 
kRemÙeHashTabËD©aSize
));

226 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

227 
´•¬e
(
hİscÙch
.
g‘
());

228 
	g¡d
::
cout
 << "G‘..." << 
¡d
::
’dl
;

229 
b’ch_g‘
(
hİscÙch
.
g‘
());

230 
	ghİscÙch
.
»£t
();

231 
	gmªag”
.
»£t
();

236 
	g¬gc
;

237 
F¬MemTe¡
 
	g‹¡
;

238 
	$my_maš
(*
¬g
) {

239 **
¬gv
 = (**)
¬g
;

240 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

241 
‹¡
.
	`run
(
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
));

242 
	}
}

244 
	$maš
(
_¬gc
, *
¬gv
[]) {

245 
»t
;

247 ià(
_¬gc
 < 3) {

248 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

249  -
EINVAL
;

252 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

253 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

254 
i
 = 2; i < 
_¬gc
; i++) {

255 
¬gv
[
i
 - 1] =‡rgv[i];

257 
¬gc
 = 
_¬gc
 - 1;

259 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
my_maš
, 
¬gv
);

260 ià(
»t
) {

261 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

262  
»t
;

266 
	}
}

	@exp/fig11a/aifm/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"¢­py.h
"

7 
	~"¬¿y.hµ
"

8 
	~"d”ef_scİe.hµ
"

9 
	~"deviû.hµ
"

10 
	~"h–³rs.hµ
"

11 
	~"mªag”.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<chrÚo
>

15 
	~<fú.h
>

16 
	~<f¡»am
>

17 
	~<io¡»am
>

18 
	~<¡»ambuf
>

19 
	~<¡ršg
>

20 
	~<uni¡d.h
>

22 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 22432 * 
RegiÚ
::
kSize
;

23 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 20ULL << 30;

24 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 15;

25 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

26 
cÚ¡ex´
 
ušt64_t
 
	gkUncom´es£dFeSize
 = 1000000000;

27 
cÚ¡ex´
 
ušt64_t
 
	gkUncom´es£dFeNumBlocks
 =

28 ((
kUncom´es£dFeSize
 - 1è/ 
¢­py
::
FeBlock
::
kSize
) + 1;

29 
cÚ¡ex´
 
ušt32_t
 
	gkNumUncom´es£dFes
 = 16;

30 
cÚ¡ex´
 
boŞ
 
	gkU£TpAPI
 = 
çl£
;

32 
usšg
 
Çme¥aû
 
	g¡d
;

34 
	$®igÇs
(4096è
¢­py
::
FeBlock
 
fe_block
;

35 
¡d
::
unique_±r
<
A¼ay
<
¢­py
::
FeBlock
, 
kUncom´es£dFeNumBlocks
>>

36 
fm_¬¿y_±rs
[
kNumUncom´es£dFes
];

38 
	$wr™e_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
, cÚ¡ sŒšg &
¡r
) {

39 
¡d
::
of¡»am
 
	`fs
(
fe_·th
);

40 
fs
 << 
¡r
;

41 
fs
.
	`şo£
();

42 
	}
}

44 
	$æush_ÿche
() {

45 
ušt32_t
 
k
 = 0; k < 
kNumUncom´es£dFes
; k++) {

46 
fm_¬¿y_±rs
[
k
]->
	`di§bË_´eãtch
();

48 
ušt32_t
 
i
 = 0; i < 
kUncom´es£dFeNumBlocks
; i++) {

49 
ušt32_t
 
k
 = 0; k < 
kNumUncom´es£dFes
; k++) {

50 
fe_block
 = 
fm_¬¿y_±rs
[
k
]->
	`»ad
(
i
);

51 
	`ACCESS_ONCE
(
fe_block
.
d©a
[0]);

54 
ušt32_t
 
k
 = 0; k < 
kNumUncom´es£dFes
; k++) {

55 
fm_¬¿y_±rs
[
k
]->
	`’abË_´eãtch
();

57 
	}
}

59 
	$»ad_fes_to_fm_¬¿y
(cÚ¡ 
¡ršg
 &
š_fe_·th
) {

60 
fd
 = 
	`İ’
(
š_fe_·th
.
	`c_¡r
(), 
O_RDONLY
 | 
O_DIRECT
);

61 ià(
fd
 == -1) {

62 
h–³rs
::
	`dump_cÜe
();

65 
št64_t
 
sum
 = 0, 
cur
 = 
¢­py
::
FeBlock
::
kSize
, 
tmp
;

66 
sum
 !ğ
kUncom´es£dFeSize
) {

67 
	`BUG_ON
(
cur
 !ğ
¢­py
::
FeBlock
::
kSize
);

68 
cur
 = 0;

69 
cur
 < (
št64_t
)
¢­py
::
FeBlock
::
kSize
) {

70 
tmp
 = 
	`»ad
(
fd
, 
fe_block
.
d©a
 + 
cur
, 
¢­py
::
FeBlock
::
kSize
 - cur);

71 ià(
tmp
 <= 0) {

74 
cur
 +ğ
tmp
;

76 
ušt32_t
 
i
 = 0; i < 
kNumUncom´es£dFes
; i++) {

77 
D”efScİe
 
scİe
;

78 
fm_¬¿y_±rs
[
i
]->
	`©_mut
(
scİe
, 
sum
 / 
¢­py
::
FeBlock
::
kSize
) =

79 
fe_block
;

81 
sum
 +ğ
cur
;

82 ià((
sum
 % (1 << 20)) == 0) {

83 
û¼
 << "Hav»ad " << 
sum
 << " by‹s." << 
’dl
;

86 ià(
sum
 !ğ
kUncom´es£dFeSize
) {

87 
h–³rs
::
	`dump_cÜe
();

91 
	`æush_ÿche
();

93 
	`şo£
(
fd
);

94 
	}
}

96 
	$fm_com´ess_fes_b’ch
(cÚ¡ 
¡ršg
 &
š_fe_·th
,

97 cÚ¡ 
¡ršg
 &
out_fe_·th
) {

98 
¡ršg
 
out_¡r
;

99 
	`»ad_fes_to_fm_¬¿y
(
š_fe_·th
);

100 autØ
¡¬t
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

101 
ušt32_t
 
i
 = 0; i < 
kNumUncom´es£dFes
; i++) {

102 
¡d
::
cout
 << "Com´essšg f" << 
i
 << std::
’dl
;

103 
¢­py
::
Com´ess
<
kUncom´es£dFeNumBlocks
, 
kU£TpAPI
>(

104 
fm_¬¿y_±rs
[
i
].
	`g‘
(), 
kUncom´es£dFeSize
, &
out_¡r
);

106 autØ
’d
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

107 
cout
 << "Elapsedime in microseconds : "

108 << 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d
 - 
¡¬t
).
	`couÁ
()

109 << " Âµs" << 
’dl
;

112 
	}
}

114 
	$do_wÜk
(
Ãddr
 
¿ddr
) {

115 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

116 
kCacheSize
, 
kNumGCTh»ads
,

117 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

118 
ušt32_t
 
i
 = 0; i < 
kNumUncom´es£dFes
; i++) {

119 
fm_¬¿y_±rs
[
i
].
	`»£t
(

120 
mªag”
->
®loÿ‹_¬¿y_h—p
<
¢­py
::
FeBlock
,

121 
kUncom´es£dFeNumBlocks
>());

123 
	`fm_com´ess_fes_b’ch
("/mnt/enwik9.uncompressed",

126 
¡d
::
cout
 << "FÜûƒxi¡šg..." << std::
’dl
;

127 
	`ex™
(0);

128 
	}
}

130 
	g¬gc
;

131 
	$my_maš
(*
¬g
) {

132 **
¬gv
 = (**)
¬g
;

133 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

134 
	`do_wÜk
(
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
));

135 
	}
}

137 
	$maš
(
_¬gc
, *
¬gv
[]) {

138 
»t
;

140 ià(
_¬gc
 < 3) {

141 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

142  -
EINVAL
;

145 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

146 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

147 
i
 = 2; i < 
_¬gc
; i++) {

148 
¬gv
[
i
 - 1] =‡rgv[i];

150 
¬gc
 = 
_¬gc
 - 1;

152 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
my_maš
, 
¬gv
);

153 ià(
»t
) {

154 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

155  
»t
;

159 
	}
}

	@exp/fig11a/linux_mem/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"¢­py.h
"

7 
	~"¬¿y.hµ
"

8 
	~"d”ef_scİe.hµ
"

9 
	~"deviû.hµ
"

10 
	~"h–³rs.hµ
"

11 
	~"mªag”.hµ
"

13 
	~<fú.h
>

14 
	~<f¡»am
>

15 
	~<io¡»am
>

16 
	~<numa.h
>

17 
	~<¡»ambuf
>

18 
	~<¡ršg
>

19 
	~<uni¡d.h
>

21 
usšg
 
Çme¥aû
 
¡d
;

23 
cÚ¡ex´
 
ušt32_t
 
	gkUncom´es£dFeSize
 = 1000000000;

24 
cÚ¡ex´
 
ušt32_t
 
	gkNumUncom´es£dFes
 = 16;

25 *
	gbufãrs
[
kNumUncom´es£dFes
 - 1];

27 
¡ršg
 
	$»ad_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
) {

28 
if¡»am
 
	`fs
(
fe_·th
);

29 autØ
gu¬d
 = 
h–³rs
::
	`fš®ly
([&](è{ 
fs
.
	`şo£
(); });

30  
	`¡ršg
((
¡d
::
i¡»ambuf_™”©Ü
<>(
fs
)),

31 
¡d
::
i¡»ambuf_™”©Ü
<>());

32 
	}
}

34 
	$wr™e_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
, cÚ¡ sŒšg &
¡r
) {

35 
¡d
::
of¡»am
 
	`fs
(
fe_·th
);

36 
fs
 << 
¡r
;

37 
fs
.
	`şo£
();

38 
	}
}

40 
	$com´ess_fe
(cÚ¡ 
¡ršg
 &
š_fe_·th
, cÚ¡ sŒšg &
out_fe_·th
) {

41 
¡ršg
 
š_¡r
 = 
	`»ad_fe_to_¡ršg
(
š_fe_·th
);

42 
¡ršg
 
out_¡r
;

43 autØ
¡¬t
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

44 
¢­py
::
	`Com´ess
(
š_¡r
.
	`d©a
(), in_¡r.
	`size
(), &
out_¡r
);

45 autØ
’d
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

46 
cout
 << "Elapsedime in microseconds : "

47 << 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d
 - 
¡¬t
).
	`couÁ
()

48 << " Âµs" << 
’dl
;

49 
	`wr™e_fe_to_¡ršg
(
out_fe_·th
, 
out_¡r
);

50 
	}
}

52 
	$com´ess_fes_b’ch
(cÚ¡ 
¡ršg
 &
š_fe_·th
,

53 cÚ¡ 
¡ršg
 &
out_fe_·th
) {

54 
¡ršg
 
š_¡r
 = 
	`»ad_fe_to_¡ršg
(
š_fe_·th
);

55 
¡ršg
 
out_¡r
;

57 
ušt32_t
 
i
 = 0; i < 
kNumUncom´es£dFes
 - 1; i++) {

58 
bufãrs
[
i
] = 
	`numa_®loc_Únode
(
kUncom´es£dFeSize
, 1);

59 ià(
bufãrs
[
i
] =ğ
nuÎ±r
) {

60 
h–³rs
::
	`dump_cÜe
();

62 
	`memıy
(
bufãrs
[
i
], 
š_¡r
.
	`d©a
(), in_¡r.
	`size
());

65 autØ
¡¬t
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

66 
ušt32_t
 
i
 = 0; i < 
kNumUncom´es£dFes
; i++) {

67 
¡d
::
cout
 << "Com´essšg f" << 
i
 << std::
’dl
;

68 ià(
i
 == 0) {

69 
¢­py
::
	`Com´ess
(
š_¡r
.
	`d©a
(), in_¡r.
	`size
(), &
out_¡r
);

71 
¢­py
::
	`Com´ess
((cÚ¡ *)
bufãrs
[
i
 - 1], 
kUncom´es£dFeSize
,

72 &
out_¡r
);

75 autØ
’d
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

76 
cout
 << "Elapsedime in microseconds : "

77 << 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d
 - 
¡¬t
).
	`couÁ
()

78 << " Âµs" << 
’dl
;

80 
ušt32_t
 
i
 = 0; i < 
kNumUncom´es£dFes
 - 1; i++) {

81 
	`numa_ä“
(
bufãrs
[
i
], 
kUncom´es£dFeSize
);

85 
	}
}

87 
	$do_wÜk
(*
¬g
) {

88 
	`com´ess_fes_b’ch
("/mnt/enwik9.uncompressed",

90 
	}
}

92 
	$maš
(
¬gc
, *
¬gv
[]) {

93 
»t
;

95 ià(
¬gc
 < 2) {

96 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

97  -
EINVAL
;

100 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

101 ià(
»t
) {

102 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

103  
»t
;

107 
	}
}

	@exp/fig11a/setup/main.cpp

1 
	~"¢­py.h
"

3 
	~<fú.h
>

4 
	~<f¡»am
>

5 
	~<io¡»am
>

6 
	~<numa.h
>

7 
	~<¡»ambuf
>

8 
	~<¡ršg
>

9 
	~<uni¡d.h
>

11 
usšg
 
Çme¥aû
 
	g¡d
;

13 
¡ršg
 
	$»ad_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
) {

14 
if¡»am
 
	`fs
(
fe_·th
);

15 autØ
gu¬d
 = 
h–³rs
::
	`fš®ly
([&](è{ 
fs
.
	`şo£
(); });

16  
	`¡ršg
((
¡d
::
i¡»ambuf_™”©Ü
<>(
fs
)),

17 
¡d
::
i¡»ambuf_™”©Ü
<>());

18 
	}
}

20 
	$wr™e_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
, cÚ¡ sŒšg &
¡r
) {

21 
¡d
::
of¡»am
 
	`fs
(
fe_·th
);

22 
fs
 << 
¡r
;

23 
fs
.
	`şo£
();

24 
	}
}

26 
	$com´ess_fe
(cÚ¡ 
¡ršg
 &
š_fe_·th
, cÚ¡ sŒšg &
out_fe_·th
) {

27 
¡ršg
 
š_¡r
 = 
	`»ad_fe_to_¡ršg
(
š_fe_·th
);

28 
¡ršg
 
out_¡r
;

29 
¢­py
::
	`Com´ess
(
š_¡r
.
	`d©a
(), in_¡r.
	`size
(), &
out_¡r
);

30 
	`wr™e_fe_to_¡ršg
(
out_fe_·th
, 
out_¡r
);

31 
	}
}

33 
	$maš
(
¬gc
, *
¬gv
[]) {

34 
	`com´ess_fe
("/mnt/enwik9.uncompressed", "/mnt/enwik9.compressed");

37 
	}
}

	@exp/fig11b/aifm/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"¢­py.h
"

7 
	~"¬¿y.hµ
"

8 
	~"d”ef_scİe.hµ
"

9 
	~"deviû.hµ
"

10 
	~"h–³rs.hµ
"

11 
	~"mªag”.hµ
"

12 
	~"¡©s.hµ
"

14 
	~<®gÜ™hm
>

15 
	~<chrÚo
>

16 
	~<fú.h
>

17 
	~<f¡»am
>

18 
	~<io¡»am
>

19 
	~<¡»ambuf
>

20 
	~<¡ršg
>

21 
	~<uni¡d.h
>

23 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 512 * 
RegiÚ
::
kSize
;

24 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 20ULL << 30;

25 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 15;

26 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

27 
cÚ¡ex´
 
ušt64_t
 
	gkCom´es£dFeSize
 = 507860747;

28 
cÚ¡ex´
 
ušt64_t
 
	gkCom´es£dFeNumBlocks
 =

29 ((
kCom´es£dFeSize
 - 1è/ 
¢­py
::
FeBlock
::
kSize
) + 1;

30 
cÚ¡ex´
 
ušt32_t
 
	gkNumCom´es£dFes
 = 30;

31 
cÚ¡ex´
 
boŞ
 
	gkU£TpAPI
 = 
çl£
;

33 
usšg
 
Çme¥aû
 
	g¡d
;

35 
	$®igÇs
(4096è
¢­py
::
FeBlock
 
fe_block
;

36 
¡d
::
unique_±r
<
A¼ay
<
¢­py
::
FeBlock
, 
kCom´es£dFeNumBlocks
>>

37 
fm_¬¿y_±rs
[
kNumCom´es£dFes
];

39 
	$wr™e_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
, cÚ¡ sŒšg &
¡r
) {

40 
¡d
::
of¡»am
 
	`fs
(
fe_·th
);

41 
fs
 << 
¡r
;

42 
fs
.
	`şo£
();

43 
	}
}

45 
	$æush_ÿche
() {

46 
ušt32_t
 
k
 = 0; k < 
kNumCom´es£dFes
; k++) {

47 
fm_¬¿y_±rs
[
k
]->
	`di§bË_´eãtch
();

49 
ušt32_t
 
i
 = 0; i < 
kCom´es£dFeNumBlocks
; i++) {

50 
ušt32_t
 
k
 = 0; k < 
kNumCom´es£dFes
; k++) {

51 
fe_block
 = 
fm_¬¿y_±rs
[
k
]->
	`»ad
(
i
);

52 
	`ACCESS_ONCE
(
fe_block
.
d©a
[0]);

55 
ušt32_t
 
k
 = 0; k < 
kNumCom´es£dFes
; k++) {

56 
fm_¬¿y_±rs
[
k
]->
	`’abË_´eãtch
();

58 
	}
}

60 
	$»ad_fes_to_fm_¬¿y
(cÚ¡ 
¡ršg
 &
š_fe_·th
) {

61 
fd
 = 
	`İ’
(
š_fe_·th
.
	`c_¡r
(), 
O_RDONLY
 | 
O_DIRECT
);

62 ià(
fd
 == -1) {

63 
h–³rs
::
	`dump_cÜe
();

66 
št64_t
 
sum
 = 0, 
cur
 = 
¢­py
::
FeBlock
::
kSize
, 
tmp
;

67 
sum
 !ğ
kCom´es£dFeSize
) {

68 
	`BUG_ON
(
cur
 !ğ
¢­py
::
FeBlock
::
kSize
);

69 
cur
 = 0;

70 
cur
 < (
št64_t
)
¢­py
::
FeBlock
::
kSize
) {

71 
tmp
 = 
	`»ad
(
fd
, 
fe_block
.
d©a
 + 
cur
, 
¢­py
::
FeBlock
::
kSize
 - cur);

72 ià(
tmp
 <= 0) {

75 
cur
 +ğ
tmp
;

77 
ušt32_t
 
i
 = 0; i < 
kNumCom´es£dFes
; i++) {

78 
D”efScİe
 
scİe
;

79 
fm_¬¿y_±rs
[
i
]->
	`©_mut
(
scİe
, 
sum
 / 
¢­py
::
FeBlock
::
kSize
) =

80 
fe_block
;

82 
sum
 +ğ
cur
;

83 ià((
sum
 % (1 << 20)) == 0) {

84 
û¼
 << "Hav»ad " << 
sum
 << " by‹s." << 
’dl
;

87 ià(
sum
 !ğ
kCom´es£dFeSize
) {

88 
h–³rs
::
	`dump_cÜe
();

92 
	`æush_ÿche
();

94 
	`şo£
(
fd
);

95 
	}
}

97 
	$fm_uncom´ess_fes_b’ch
(cÚ¡ 
¡ršg
 &
š_fe_·th
,

98 cÚ¡ 
¡ršg
 &
out_fe_·th
) {

99 
¡ršg
 
out_¡r
;

100 
	`»ad_fes_to_fm_¬¿y
(
š_fe_·th
);

101 autØ
¡¬t
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

102 
ušt32_t
 
i
 = 0; i < 
kNumCom´es£dFes
; i++) {

103 
¡d
::
cout
 << "Uncom´essšg f" << 
i
 << std::
’dl
;

104 
¢­py
::
Uncom´ess
<
kCom´es£dFeNumBlocks
, 
kU£TpAPI
>(

105 
fm_¬¿y_±rs
[
i
].
	`g‘
(), 
kCom´es£dFeSize
, &
out_¡r
);

107 autØ
’d
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

108 
cout
 << "Elapsedime in microseconds : "

109 << 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d
 - 
¡¬t
).
	`couÁ
()

110 << " Âµs" << 
’dl
;

113 
	}
}

115 
	$do_wÜk
(
Ãddr
 
¿ddr
) {

116 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

117 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

118 
kCacheSize
, 
kNumGCTh»ads
,

119 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

120 
ušt32_t
 
i
 = 0; i < 
kNumCom´es£dFes
; i++) {

121 
fm_¬¿y_±rs
[
i
].
	`»£t
(

122 
mªag”
->
®loÿ‹_¬¿y_h—p
<
¢­py
::
FeBlock
,

123 
kCom´es£dFeNumBlocks
>());

126 
	`fm_uncom´ess_fes_b’ch
("/mnt/enwik9.compressed",

129 
¡d
::
cout
 << "FÜûƒxi¡šg..." << std::
’dl
;

130 
	`ex™
(0);

131 
	}
}

133 
	g¬gc
;

134 
	$my_maš
(*
¬g
) {

135 **
¬gv
 = (**)
¬g
;

136 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

137 
	`do_wÜk
(
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
));

138 
	}
}

140 
	$maš
(
_¬gc
, *
¬gv
[]) {

141 
»t
;

143 ià(
_¬gc
 < 3) {

144 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

145  -
EINVAL
;

148 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

149 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

150 
i
 = 2; i < 
_¬gc
; i++) {

151 
¬gv
[
i
 - 1] =‡rgv[i];

153 
¬gc
 = 
_¬gc
 - 1;

155 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
my_maš
, 
¬gv
);

156 ià(
»t
) {

157 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

158  
»t
;

162 
	}
}

	@exp/fig11b/linux_mem/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"¢­py.h
"

7 
	~"¬¿y.hµ
"

8 
	~"d”ef_scİe.hµ
"

9 
	~"deviû.hµ
"

10 
	~"h–³rs.hµ
"

11 
	~"mªag”.hµ
"

13 
	~<fú.h
>

14 
	~<f¡»am
>

15 
	~<io¡»am
>

16 
	~<numa.h
>

17 
	~<¡»ambuf
>

18 
	~<¡ršg
>

19 
	~<uni¡d.h
>

21 
usšg
 
Çme¥aû
 
¡d
;

23 
cÚ¡ex´
 
ušt32_t
 
	gkCom´es£dFeSize
 = 507860747;

24 
cÚ¡ex´
 
ušt32_t
 
	gkNumCom´es£dFes
 = 30;

25 *
	gbufãrs
[
kNumCom´es£dFes
 - 1];

27 
¡ršg
 
	$»ad_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
) {

28 
if¡»am
 
	`fs
(
fe_·th
);

29 autØ
gu¬d
 = 
h–³rs
::
	`fš®ly
([&](è{ 
fs
.
	`şo£
(); });

30  
	`¡ršg
((
¡d
::
i¡»ambuf_™”©Ü
<>(
fs
)),

31 
¡d
::
i¡»ambuf_™”©Ü
<>());

32 
	}
}

34 
	$wr™e_fe_to_¡ršg
(cÚ¡ 
¡ršg
 &
fe_·th
, cÚ¡ sŒšg &
¡r
) {

35 
¡d
::
of¡»am
 
	`fs
(
fe_·th
);

36 
fs
 << 
¡r
;

37 
fs
.
	`şo£
();

38 
	}
}

40 
	$uncom´ess_fes_b’ch
(cÚ¡ 
¡ršg
 &
š_fe_·th
,

41 cÚ¡ 
¡ršg
 &
out_fe_·th
) {

42 
¡ršg
 
š_¡r
 = 
	`»ad_fe_to_¡ršg
(
š_fe_·th
);

43 
¡ršg
 
out_¡r
;

45 
ušt32_t
 
i
 = 0; i < 
kNumCom´es£dFes
 - 1; i++) {

46 
bufãrs
[
i
] = 
	`numa_®loc_Únode
(
kCom´es£dFeSize
, 1);

47 ià(
bufãrs
[
i
] =ğ
nuÎ±r
) {

48 
h–³rs
::
	`dump_cÜe
();

50 
	`memıy
(
bufãrs
[
i
], 
š_¡r
.
	`d©a
(), in_¡r.
	`size
());

53 autØ
¡¬t
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

54 
ušt32_t
 
i
 = 0; i < 
kNumCom´es£dFes
; i++) {

55 
¡d
::
cout
 << "Uncom´essšg f" << 
i
 << std::
’dl
;

56 ià(
i
 == 0) {

57 
¢­py
::
	`Uncom´ess
(
š_¡r
.
	`d©a
(), in_¡r.
	`size
(), &
out_¡r
);

59 
¢­py
::
	`Uncom´ess
((cÚ¡ *)
bufãrs
[
i
 - 1], 
kCom´es£dFeSize
,

60 &
out_¡r
);

63 autØ
’d
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

64 
cout
 << "Elapsedime in microseconds : "

65 << 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d
 - 
¡¬t
).
	`couÁ
()

66 << " Âµs" << 
’dl
;

68 
ušt32_t
 
i
 = 0; i < 
kNumCom´es£dFes
 - 1; i++) {

69 
	`numa_ä“
(
bufãrs
[
i
], 
kCom´es£dFeSize
);

73 
	}
}

75 
	$do_wÜk
(*
¬g
) {

76 
	`uncom´ess_fes_b’ch
("/mnt/enwik9.compressed",

78 
	}
}

80 
	$maš
(
¬gc
, *
¬gv
[]) {

81 
»t
;

83 ià(
¬gc
 < 2) {

84 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

85  -
EINVAL
;

88 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

89 ià(
»t
) {

90 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

91  
»t
;

95 
	}
}

	@exp/fig12a/aifm/read/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

24 
usšg
 
	gD©a_t
 = 
ušt64_t
;

26 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 5ULL << 30;

27 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 5ULL << 30;

28 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1ULL << 30;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

30 
cÚ¡ex´
 
ušt64_t
 
	gkM—su»Times
 = 1 << 20;

31 
cÚ¡ex´
 
ušt64_t
 
	gkRawMemÜyAcûssCyşes
 = 170;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

33 
cÚ¡ex´
 
ušt8_t
 
	gkNumGCTh»ads
 = 21;

35 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

36 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

37 
ušt32_t
 
	gg_£ed
 = 0xDEADBEEF;

38 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
ušt32_t
 
	gx
 = 123456789, 
	gy
 = 362436069, 
	gz
 = 521288629;

43 
ušt32_t
 
	$xÜshf96
() {

44 
ušt32_t
 
t
;

45 
x
 ^= x << 16;

46 
x
 ^= x >> 5;

47 
x
 ^= x << 1;

49 
t
 = 
x
;

50 
x
 = 
y
;

51 
y
 = 
z
;

52 
z
 = 
t
 ^ 
x
 ^ 
y
;

54  
z
;

55 
	}
}

57 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

58 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

59 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

60 
	}
}

62 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

63 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

64 
	`´št_³rûÁe
(90, 
cÚš”
);

65 
	}
}

67 
	$do_wÜk
(*
¬g
) {

68 **
¬gv
 = (**)
¬g
;

69 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

70 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

71 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

72 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

73 
kCacheSize
, 
kNumGCTh»ads
,

74 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

75 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

76 
±rs
[
i
] = 
¡d
::
	`move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

79 
D”efScİe
 
scİe
;

80 
ušt64_t
 
i
 = 0; i < 
kM—su»Times
; i++) {

81 autØ
idx
 = 
	`xÜshf96
(è% 
kNumEÁr›s
;

83 
h–³rs
::
	`tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

85 autØ*
çr_mem_±r
 = &
±rs
[
idx
];

86 cÚ¡ 
D©a_t
 *
¿w_cÚ¡_±r
 = 
çr_mem_±r
->
	`d”ef
(
scİe
);

87 
	`ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

89 
h–³rs
::
	`tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

91 autØ
du¿tiÚ
 = 
h–³rs
::
	`g‘_–­£d_cyşes
(

92 
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
, 
cyşes_high_’d
, 
cyşes_low_’d
);

93 ià(
du¿tiÚ
 > 
kRawMemÜyAcûssCyşes
) {

94 
du¿tiÚs
.
	`push_back
(
du¿tiÚ
);

98 
	`´št_»suÉs
(&
du¿tiÚs
);

99 
ušt32_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

100 
±rs
[
i
].
	`ä“
();

102 
	}
}

104 
	$maš
(
_¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
_¬gc
 < 3) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

109  -
EINVAL
;

112 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

113 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

114 
i
 = 2; i < 
_¬gc
; i++) {

115 
¬gv
[
i
 - 1] =‡rgv[i];

118 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@exp/fig12a/aifm/write/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

24 
usšg
 
	gD©a_t
 = 
ušt64_t
;

26 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 5ULL << 30;

27 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 5ULL << 30;

28 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1ULL << 30;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

30 
cÚ¡ex´
 
ušt64_t
 
	gkM—su»Times
 = 1 << 20;

31 
cÚ¡ex´
 
ušt64_t
 
	gkRawMemÜyAcûssCyşes
 = 170;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

33 
cÚ¡ex´
 
ušt8_t
 
	gkNumGCTh»ads
 = 21;

35 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

36 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

37 
ušt32_t
 
	gg_£ed
 = 0xDEADBEEF;

38 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
ušt32_t
 
	gx
 = 123456789, 
	gy
 = 362436069, 
	gz
 = 521288629;

43 
ušt32_t
 
	$xÜshf96
() {

44 
ušt32_t
 
t
;

45 
x
 ^= x << 16;

46 
x
 ^= x >> 5;

47 
x
 ^= x << 1;

49 
t
 = 
x
;

50 
x
 = 
y
;

51 
y
 = 
z
;

52 
z
 = 
t
 ^ 
x
 ^ 
y
;

54  
z
;

55 
	}
}

57 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

58 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

59 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

60 
	}
}

62 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

63 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

64 
	`´št_³rûÁe
(90, 
cÚš”
);

65 
	}
}

67 
	$do_wÜk
(*
¬g
) {

68 **
¬gv
 = (**)
¬g
;

69 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

70 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

71 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

72 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

73 
kCacheSize
, 
kNumGCTh»ads
,

74 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

75 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

76 
±rs
[
i
] = 
¡d
::
	`move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

79 
D”efScİe
 
scİe
;

80 
ušt64_t
 
i
 = 0; i < 
kM—su»Times
; i++) {

81 autØ
idx
 = 
	`xÜshf96
(è% 
kNumEÁr›s
;

83 
h–³rs
::
	`tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

85 autØ*
çr_mem_±r
 = &
±rs
[
idx
];

86 
D©a_t
 *
¿w_mut_±r
 = 
çr_mem_±r
->
	`d”ef_mut
(
scİe
);

87 
	`ACCESS_ONCE
(*
¿w_mut_±r
) = 0xDEADBEEFDEADBEEFULL;

89 
h–³rs
::
	`tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

91 autØ
du¿tiÚ
 = 
h–³rs
::
	`g‘_–­£d_cyşes
(

92 
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
, 
cyşes_high_’d
, 
cyşes_low_’d
);

93 ià(
du¿tiÚ
 > 
kRawMemÜyAcûssCyşes
) {

94 
du¿tiÚs
.
	`push_back
(
du¿tiÚ
);

98 
	`´št_»suÉs
(&
du¿tiÚs
);

99 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

100 
±rs
[
i
].
	`ä“
();

102 
	}
}

104 
	$maš
(
_¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
_¬gc
 < 3) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

109  -
EINVAL
;

112 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

113 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

114 
i
 = 2; i < 
_¬gc
; i++) {

115 
¬gv
[
i
 - 1] =‡rgv[i];

118 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@exp/fig12a/linux_mem/read/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

24 
usšg
 
	gD©a_t
 = 
ušt64_t
;

26 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 5ULL << 30;

27 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 5ULL << 30;

28 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1ULL << 30;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

30 
cÚ¡ex´
 
ušt64_t
 
	gkM—su»Times
 = 1 << 20;

31 
cÚ¡ex´
 
ušt64_t
 
	gkRawMemÜyAcûssCyşes
 = 170;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

33 
cÚ¡ex´
 
ušt8_t
 
	gkNumGCTh»ads
 = 21;

35 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

36 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

37 
ušt32_t
 
	gg_£ed
 = 0xDEADBEEF;

38 
	gunique_±r
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
ušt32_t
 
	gx
 = 123456789, 
	gy
 = 362436069, 
	gz
 = 521288629;

43 
ušt32_t
 
	$xÜshf96
() {

44 
ušt32_t
 
t
;

45 
x
 ^= x << 16;

46 
x
 ^= x >> 5;

47 
x
 ^= x << 1;

49 
t
 = 
x
;

50 
x
 = 
y
;

51 
y
 = 
z
;

52 
z
 = 
t
 ^ 
x
 ^ 
y
;

54  
z
;

55 
	}
}

57 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

58 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

59 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

60 
	}
}

62 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

63 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

64 
	`´št_³rûÁe
(90, 
cÚš”
);

65 
	}
}

67 
	$do_wÜk
(*
¬g
) {

68 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

69 
±rs
[
i
].
	`»£t
(
Ãw
 
	`D©a_t
());

72 
D”efScİe
 
scİe
;

73 
ušt64_t
 
i
 = 0; i < 
kM—su»Times
; i++) {

74 autØ
idx
 = 
	`xÜshf96
(è% 
kNumEÁr›s
;

76 
h–³rs
::
	`tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

78 cÚ¡ 
D©a_t
 *
¿w_cÚ¡_±r
 = 
±rs
[
idx
].
	`g‘
();

79 
	`ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

81 
h–³rs
::
	`tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

83 autØ
du¿tiÚ
 = 
h–³rs
::
	`g‘_–­£d_cyşes
(

84 
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
, 
cyşes_high_’d
, 
cyşes_low_’d
);

85 ià(
du¿tiÚ
 > 
kRawMemÜyAcûssCyşes
) {

86 
du¿tiÚs
.
	`push_back
(
du¿tiÚ
);

90 
	`´št_»suÉs
(&
du¿tiÚs
);

91 
	}
}

93 
	$maš
(
¬gc
, *
¬gv
[]) {

94 
»t
;

96 ià(
¬gc
 < 2) {

97 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

98  -
EINVAL
;

101 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

102 ià(
»t
) {

103 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

104  
»t
;

108 
	}
}

	@exp/fig12a/linux_mem/write/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

24 
usšg
 
	gD©a_t
 = 
ušt64_t
;

26 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 5ULL << 30;

27 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 5ULL << 30;

28 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1ULL << 30;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

30 
cÚ¡ex´
 
ušt64_t
 
	gkM—su»Times
 = 1 << 20;

31 
cÚ¡ex´
 
ušt64_t
 
	gkRawMemÜyAcûssCyşes
 = 170;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

33 
cÚ¡ex´
 
ušt8_t
 
	gkNumGCTh»ads
 = 21;

35 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

36 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

37 
ušt32_t
 
	gg_£ed
 = 0xDEADBEEF;

38 
	gunique_±r
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
ušt32_t
 
	gx
 = 123456789, 
	gy
 = 362436069, 
	gz
 = 521288629;

43 
ušt32_t
 
	$xÜshf96
() {

44 
ušt32_t
 
t
;

45 
x
 ^= x << 16;

46 
x
 ^= x >> 5;

47 
x
 ^= x << 1;

49 
t
 = 
x
;

50 
x
 = 
y
;

51 
y
 = 
z
;

52 
z
 = 
t
 ^ 
x
 ^ 
y
;

54  
z
;

55 
	}
}

57 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

58 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

59 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

60 
	}
}

62 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

63 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

64 
	`´št_³rûÁe
(90, 
cÚš”
);

65 
	}
}

67 
	$do_wÜk
(*
¬g
) {

68 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

69 
±rs
[
i
].
	`»£t
(
Ãw
 
	`D©a_t
());

72 
D”efScİe
 
scİe
;

73 
ušt64_t
 
i
 = 0; i < 
kM—su»Times
; i++) {

74 autØ
idx
 = 
	`xÜshf96
(è% 
kNumEÁr›s
;

76 
h–³rs
::
	`tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

78 
D©a_t
 *
¿w_mut_±r
 = 
±rs
[
idx
].
	`g‘
();

79 
	`ACCESS_ONCE
(*
¿w_mut_±r
) = 0xDEADBEEFDEADBEEFULL;

81 
h–³rs
::
	`tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

83 autØ
du¿tiÚ
 = 
h–³rs
::
	`g‘_–­£d_cyşes
(

84 
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
, 
cyşes_high_’d
, 
cyşes_low_’d
);

85 ià(
du¿tiÚ
 > 
kRawMemÜyAcûssCyşes
) {

86 
du¿tiÚs
.
	`push_back
(
du¿tiÚ
);

90 
	`´št_»suÉs
(&
du¿tiÚs
);

91 
	}
}

93 
	$maš
(
¬gc
, *
¬gv
[]) {

94 
»t
;

96 ià(
¬gc
 < 2) {

97 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

98  -
EINVAL
;

101 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

102 ià(
»t
) {

103 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

104  
»t
;

108 
	}
}

	@exp/fig12b/4096/read_tcp/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
usšg
 
Çme¥aû
 
çr_memÜy
;

18 
usšg
 
Çme¥aû
 
	g¡d
;

20 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

21 
	#DEFINE_DATA_TYPE
(
width
) \

22 
D©a_
##
width
 { \

23 
ušt8_t
 
buf
[
width
]; \

25 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

27 
DEFINE_DATA_TYPE
(4096);

29 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

30 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

31 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

33 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

36 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

37 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

38 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

42 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

43 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

44 
	}
}

46 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

47 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

48 
	`´št_³rûÁe
(90, 
cÚš”
);

49 
	}
}

51 
Çme¥aû
 
	gçr_memÜy
 {

52 
boŞ
 
gc_ma¡”_aùive
;

53 şas 
	cF¬MemTe¡
 {

54 
	gpublic
:

55 
‹¡
(*
¬g
) {

56 **
¬gv
 = (**)
¬g
;

57 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

58 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

59 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

60 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

61 
kCacheSize
, 
kNumGCTh»ads
,

62 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

63 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

64 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

67 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

68 
D”efScİe
 
	gscİe
;

69 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

70 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

71 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

74 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

75 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

76 
mªag”
->
is_ä“_ÿche_low
()) {

77 
th»ad_y›ld
();

79 
b¬r›r
();

80 
D”efScİe
 
	gscİe
;

81 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

82 
	gSts
::
»£t_m—su»_»ad_objeù_cyşes
();

84 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

85 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

87 autØ
	g»ad_objeù_cyşes
 = 
Sts
::
g‘_–­£d_»ad_objeù_cyşes
();

88 ià(
	g»ad_objeù_cyşes
) {

89 
	gdu¿tiÚs
.
push_back
(
»ad_objeù_cyşes
);

93 
´št_»suÉs
(&
du¿tiÚs
);

94 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

95 
	g±rs
[
i
].
ä“
();

98 } 
	g‹¡
;

102 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

104 
	$maš
(
_¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
_¬gc
 < 3) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

109  -
EINVAL
;

112 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

113 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

114 
i
 = 2; i < 
_¬gc
; i++) {

115 
¬gv
[
i
 - 1] =‡rgv[i];

118 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@exp/fig12b/4096/read_total/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
usšg
 
Çme¥aû
 
çr_memÜy
;

18 
usšg
 
Çme¥aû
 
	g¡d
;

20 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

21 
	#DEFINE_DATA_TYPE
(
width
) \

22 
D©a_
##
width
 { \

23 
ušt8_t
 
buf
[
width
]; \

25 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

27 
DEFINE_DATA_TYPE
(4096);

29 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

30 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

31 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

33 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

36 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

37 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

38 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

42 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

43 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

44 
	}
}

46 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

47 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

48 
	`´št_³rûÁe
(90, 
cÚš”
);

49 
	}
}

51 
Çme¥aû
 
	gçr_memÜy
 {

52 
boŞ
 
gc_ma¡”_aùive
;

53 şas 
	cF¬MemTe¡
 {

54 
	gpublic
:

55 
‹¡
(*
¬g
) {

56 **
¬gv
 = (**)
¬g
;

57 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

58 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

59 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

60 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

61 
kCacheSize
, 
kNumGCTh»ads
,

62 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

63 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

64 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

67 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

68 
D”efScİe
 
	gscİe
;

69 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

70 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

71 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

74 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

75 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

76 
mªag”
->
is_ä“_ÿche_low
()) {

77 
th»ad_y›ld
();

79 
b¬r›r
();

80 
D”efScİe
 
	gscİe
;

81 
	gh–³rs
::
tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

83 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

84 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

85 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

87 
	gh–³rs
::
tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

88 
	gdu¿tiÚs
.
push_back
(

89 
h–³rs
::
g‘_–­£d_cyşes
(
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
,

90 
cyşes_high_’d
, 
cyşes_low_’d
));

93 
´št_»suÉs
(&
du¿tiÚs
);

94 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

95 
	g±rs
[
i
].
ä“
();

98 } 
	g‹¡
;

102 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

104 
	$maš
(
_¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
_¬gc
 < 3) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

109  -
EINVAL
;

112 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

113 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

114 
i
 = 2; i < 
_¬gc
; i++) {

115 
¬gv
[
i
 - 1] =‡rgv[i];

118 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@exp/fig12b/4096/write_tcp/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

23 
	#DEFINE_DATA_TYPE
(
width
) \

24 
D©a_
##
width
 { \

25 
ušt8_t
 
buf
[
width
]; \

27 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

29 
DEFINE_DATA_TYPE
(4096);

31 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

33 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

35 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

36 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

38 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

39 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

40 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

41 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

43 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

44 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

45 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

46 
	}
}

48 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

49 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

50 
	`´št_³rûÁe
(90, 
cÚš”
);

51 
	}
}

53 
Çme¥aû
 
	gçr_memÜy
 {

54 
boŞ
 
gc_ma¡”_aùive
;

55 şas 
	cF¬MemTe¡
 {

56 
	gpublic
:

57 
‹¡
(*
¬g
) {

58 **
¬gv
 = (**)
¬g
;

59 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

60 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

61 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

62 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

63 
kCacheSize
, 
kNumGCTh»ads
,

64 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

65 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

66 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

69 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

70 
D”efScİe
 
	gscİe
;

71 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

72 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

73 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

76 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

77 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

78 
mªag”
->
is_ä“_ÿche_low
()) {

79 
th»ad_y›ld
();

81 
b¬r›r
();

82 
D”efScİe
 
	gscİe
;

83 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

84 
	gSts
::
»£t_m—su»_»ad_objeù_cyşes
();

86 
D©a_t
 *
	g¿w_mut_±r
 = 
çr_mem_±r
->
d”ef_mut
(
scİe
);

87 
ACCESS_ONCE
(*
¿w_mut_±r
);

89 autØ
	g»ad_objeù_cyşes
 = 
Sts
::
g‘_–­£d_»ad_objeù_cyşes
();

90 ià(
	g»ad_objeù_cyşes
) {

91 
	gdu¿tiÚs
.
push_back
(
»ad_objeù_cyşes
);

95 
´št_»suÉs
(&
du¿tiÚs
);

96 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

97 
	g±rs
[
i
].
ä“
();

100 } 
	g‹¡
;

104 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

106 
	$maš
(
_¬gc
, *
¬gv
[]) {

107 
»t
;

109 ià(
_¬gc
 < 3) {

110 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

111  -
EINVAL
;

114 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

115 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

116 
i
 = 2; i < 
_¬gc
; i++) {

117 
¬gv
[
i
 - 1] =‡rgv[i];

120 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

121 ià(
»t
) {

122 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

123  
»t
;

127 
	}
}

	@exp/fig12b/4096/write_total/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

23 
	#DEFINE_DATA_TYPE
(
width
) \

24 
D©a_
##
width
 { \

25 
ušt8_t
 
buf
[
width
]; \

27 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

29 
DEFINE_DATA_TYPE
(4096);

31 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

33 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

35 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

36 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

38 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

39 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

40 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

41 
	g¡d
::
¬¿y
<
ušt64_t
, 
	gkNumEÁr›s
> 
	gdu¿tiÚs
;

43 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

44 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

45 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

46 
	}
}

48 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

49 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

50 
	`´št_³rûÁe
(90, 
cÚš”
);

51 
	}
}

53 
Çme¥aû
 
	gçr_memÜy
 {

54 
boŞ
 
gc_ma¡”_aùive
;

55 şas 
	cF¬MemTe¡
 {

56 
	gpublic
:

57 
‹¡
(*
¬g
) {

58 **
¬gv
 = (**)
¬g
;

59 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

60 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

61 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

62 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

63 
kCacheSize
, 
kNumGCTh»ads
,

64 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

65 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

66 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

69 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

70 
D”efScİe
 
	gscİe
;

71 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

72 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

73 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

76 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

77 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

78 
mªag”
->
is_ä“_ÿche_low
()) {

79 
th»ad_y›ld
();

81 
b¬r›r
();

82 
D”efScİe
 
	gscİe
;

83 
	gh–³rs
::
tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

85 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

86 
D©a_t
 *
	g¿w_mut_±r
 = 
çr_mem_±r
->
d”ef_mut
(
scİe
);

87 
ACCESS_ONCE
(*
¿w_mut_±r
);

89 
	gh–³rs
::
tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

90 
	gdu¿tiÚs
[
i
] = 
h–³rs
::
g‘_–­£d_cyşes
(

91 
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
, 
cyşes_high_’d
, 
cyşes_low_’d
);

94 
´št_»suÉs
(&
du¿tiÚs
);

95 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

96 
	g±rs
[
i
].
ä“
();

99 } 
	g‹¡
;

103 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

105 
	$maš
(
_¬gc
, *
¬gv
[]) {

106 
»t
;

108 ià(
_¬gc
 < 3) {

109 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

110  -
EINVAL
;

113 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

114 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

115 
i
 = 2; i < 
_¬gc
; i++) {

116 
¬gv
[
i
 - 1] =‡rgv[i];

119 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

120 ià(
»t
) {

121 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

122  
»t
;

126 
	}
}

	@exp/fig12b/64/read_tcp/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
usšg
 
Çme¥aû
 
çr_memÜy
;

18 
usšg
 
Çme¥aû
 
	g¡d
;

20 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

21 
	#DEFINE_DATA_TYPE
(
width
) \

22 
D©a_
##
width
 { \

23 
ušt8_t
 
buf
[
width
]; \

25 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

27 
DEFINE_DATA_TYPE
(64);

29 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

30 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

31 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

33 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

36 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

37 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

38 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

42 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

43 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

44 
	}
}

46 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

47 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

48 
	`´št_³rûÁe
(90, 
cÚš”
);

49 
	}
}

51 
Çme¥aû
 
	gçr_memÜy
 {

52 
boŞ
 
gc_ma¡”_aùive
;

53 şas 
	cF¬MemTe¡
 {

54 
	gpublic
:

55 
‹¡
(*
¬g
) {

56 **
¬gv
 = (**)
¬g
;

57 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

58 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

59 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

60 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

61 
kCacheSize
, 
kNumGCTh»ads
,

62 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

63 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

64 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

67 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

68 
D”efScİe
 
	gscİe
;

69 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

70 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

71 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

74 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

75 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

76 
mªag”
->
is_ä“_ÿche_low
()) {

77 
th»ad_y›ld
();

79 
b¬r›r
();

80 
D”efScİe
 
	gscİe
;

81 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

82 
	gSts
::
»£t_m—su»_»ad_objeù_cyşes
();

84 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

85 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

87 autØ
	g»ad_objeù_cyşes
 = 
Sts
::
g‘_–­£d_»ad_objeù_cyşes
();

88 ià(
	g»ad_objeù_cyşes
) {

89 
	gdu¿tiÚs
.
push_back
(
»ad_objeù_cyşes
);

93 
´št_»suÉs
(&
du¿tiÚs
);

94 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

95 
	g±rs
[
i
].
ä“
();

98 } 
	g‹¡
;

102 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

104 
	$maš
(
_¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
_¬gc
 < 3) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

109  -
EINVAL
;

112 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

113 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

114 
i
 = 2; i < 
_¬gc
; i++) {

115 
¬gv
[
i
 - 1] =‡rgv[i];

118 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@exp/fig12b/64/read_total/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
usšg
 
Çme¥aû
 
çr_memÜy
;

18 
usšg
 
Çme¥aû
 
	g¡d
;

20 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

21 
	#DEFINE_DATA_TYPE
(
width
) \

22 
D©a_
##
width
 { \

23 
ušt8_t
 
buf
[
width
]; \

25 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

27 
DEFINE_DATA_TYPE
(64);

29 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

30 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

31 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

33 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

36 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

37 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

38 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

39 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

41 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

42 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

43 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

44 
	}
}

46 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

47 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

48 
	`´št_³rûÁe
(90, 
cÚš”
);

49 
	}
}

51 
Çme¥aû
 
	gçr_memÜy
 {

52 
boŞ
 
gc_ma¡”_aùive
;

53 şas 
	cF¬MemTe¡
 {

54 
	gpublic
:

55 
‹¡
(*
¬g
) {

56 **
¬gv
 = (**)
¬g
;

57 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

58 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

59 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

60 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

61 
kCacheSize
, 
kNumGCTh»ads
,

62 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

63 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

64 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

67 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

68 
D”efScİe
 
	gscİe
;

69 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

70 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

71 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

74 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

75 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

76 
mªag”
->
is_ä“_ÿche_low
()) {

77 
th»ad_y›ld
();

79 
b¬r›r
();

80 
D”efScİe
 
	gscİe
;

81 
	gh–³rs
::
tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

83 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

84 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

85 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

87 
	gh–³rs
::
tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

88 
	gdu¿tiÚs
.
push_back
(

89 
h–³rs
::
g‘_–­£d_cyşes
(
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
,

90 
cyşes_high_’d
, 
cyşes_low_’d
));

93 
´št_»suÉs
(&
du¿tiÚs
);

94 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

95 
	g±rs
[
i
].
ä“
();

98 } 
	g‹¡
;

102 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

104 
	$maš
(
_¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
_¬gc
 < 3) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

109  -
EINVAL
;

112 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

113 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

114 
i
 = 2; i < 
_¬gc
; i++) {

115 
¬gv
[
i
 - 1] =‡rgv[i];

118 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@exp/fig12b/64/write_tcp/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

23 
	#DEFINE_DATA_TYPE
(
width
) \

24 
D©a_
##
width
 { \

25 
ušt8_t
 
buf
[
width
]; \

27 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

29 
DEFINE_DATA_TYPE
(64);

31 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

33 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

35 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

36 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

38 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

39 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

40 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

41 
	g¡d
::
veùÜ
<
ušt64_t
> 
du¿tiÚs
;

43 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

44 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

45 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

46 
	}
}

48 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

49 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

50 
	`´št_³rûÁe
(90, 
cÚš”
);

51 
	}
}

53 
Çme¥aû
 
	gçr_memÜy
 {

54 
boŞ
 
gc_ma¡”_aùive
;

55 şas 
	cF¬MemTe¡
 {

56 
	gpublic
:

57 
‹¡
(*
¬g
) {

58 **
¬gv
 = (**)
¬g
;

59 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

60 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

61 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

62 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

63 
kCacheSize
, 
kNumGCTh»ads
,

64 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

65 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

66 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

69 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

70 
D”efScİe
 
	gscİe
;

71 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

72 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

73 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

76 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

77 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

78 
mªag”
->
is_ä“_ÿche_low
()) {

79 
th»ad_y›ld
();

81 
b¬r›r
();

82 
D”efScİe
 
	gscİe
;

83 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

84 
	gSts
::
»£t_m—su»_»ad_objeù_cyşes
();

86 
D©a_t
 *
	g¿w_mut_±r
 = 
çr_mem_±r
->
d”ef_mut
(
scİe
);

87 
ACCESS_ONCE
(*
¿w_mut_±r
);

89 autØ
	g»ad_objeù_cyşes
 = 
Sts
::
g‘_–­£d_»ad_objeù_cyşes
();

90 ià(
	g»ad_objeù_cyşes
) {

91 
	gdu¿tiÚs
.
push_back
(
»ad_objeù_cyşes
);

95 
´št_»suÉs
(&
du¿tiÚs
);

96 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

97 
	g±rs
[
i
].
ä“
();

100 } 
	g‹¡
;

104 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

106 
	$maš
(
_¬gc
, *
¬gv
[]) {

107 
»t
;

109 ià(
_¬gc
 < 3) {

110 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

111  -
EINVAL
;

114 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

115 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

116 
i
 = 2; i < 
_¬gc
; i++) {

117 
¬gv
[
i
 - 1] =‡rgv[i];

120 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

121 ià(
»t
) {

122 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

123  
»t
;

127 
	}
}

	@exp/fig12b/64/write_total/main.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<¬¿y
>

12 
	~<c¡dšt
>

13 
	~<c¡dlib
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

17 
	~<io¡»am
>

19 
usšg
 
Çme¥aû
 
çr_memÜy
;

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

23 
	#DEFINE_DATA_TYPE
(
width
) \

24 
D©a_
##
width
 { \

25 
ušt8_t
 
buf
[
width
]; \

27 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

29 
DEFINE_DATA_TYPE
(64);

31 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256ULL << 20;

32 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 16ULL << 30;

33 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 512ULL << 20;

34 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

35 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 1;

36 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 600;

38 
	gcyşes_low_¡¬t
, 
	gcyşes_high_¡¬t
;

39 
	gcyşes_low_’d
, 
	gcyşes_high_’d
;

40 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

41 
	g¡d
::
¬¿y
<
ušt64_t
, 
	gkNumEÁr›s
> 
	gdu¿tiÚs
;

43 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_³rûÁe
(
³rûÁe
, 
T
 *
cÚš”
) {

44 autØ
idx
 = 
³rûÁe
 / 100.0 * 
cÚš”
->
	`size
();

45 
cout
 << 
³rûÁe
 << "\t" << (*
cÚš”
)[
idx
] << 
’dl
;

46 
	}
}

48 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	$´št_»suÉs
(
T
 *
cÚš”
) {

49 
	`sÜt
(
cÚš”
->
	`begš
(), cÚš”->
	`’d
());

50 
	`´št_³rûÁe
(90, 
cÚš”
);

51 
	}
}

53 
Çme¥aû
 
	gçr_memÜy
 {

54 
boŞ
 
gc_ma¡”_aùive
;

55 şas 
	cF¬MemTe¡
 {

56 
	gpublic
:

57 
‹¡
(*
¬g
) {

58 **
¬gv
 = (**)
¬g
;

59 
	g¡d
::
¡ršg
 
_addr_pÜt
(
¬gv
[1]);

60 autØ
	g¿ddr
 = 
h–³rs
::
¡r_to_Ãddr
(
_addr_pÜt
);

61 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

62 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

63 
kCacheSize
, 
kNumGCTh»ads
,

64 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

65 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

66 
	g±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

69 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

70 
D”efScİe
 
	gscİe
;

71 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

72 cÚ¡ 
D©a_t
 *
	g¿w_cÚ¡_±r
 = 
çr_mem_±r
->
d”ef
(
scİe
);

73 
ACCESS_ONCE
(*
¿w_cÚ¡_±r
);

76 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

77 
ACCESS_ONCE
(
çr_memÜy
::
gc_ma¡”_aùive
) ||

78 
mªag”
->
is_ä“_ÿche_low
()) {

79 
th»ad_y›ld
();

81 
b¬r›r
();

82 
D”efScİe
 
	gscİe
;

83 
	gh–³rs
::
tim”_¡¬t
(&
cyşes_high_¡¬t
, &
cyşes_low_¡¬t
);

85 autØ*
	gçr_mem_±r
 = &
±rs
[
i
];

86 
D©a_t
 *
	g¿w_mut_±r
 = 
çr_mem_±r
->
d”ef_mut
(
scİe
);

87 
ACCESS_ONCE
(*
¿w_mut_±r
);

89 
	gh–³rs
::
tim”_’d
(&
cyşes_high_’d
, &
cyşes_low_’d
);

90 
	gdu¿tiÚs
[
i
] = 
h–³rs
::
g‘_–­£d_cyşes
(

91 
cyşes_high_¡¬t
, 
cyşes_low_¡¬t
, 
cyşes_high_’d
, 
cyşes_low_’d
);

94 
´št_»suÉs
(&
du¿tiÚs
);

95 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

96 
	g±rs
[
i
].
ä“
();

99 } 
	g‹¡
;

103 
	$do_wÜk
(*
¬g
è{ 
çr_memÜy
::
‹¡
.
	`‹¡
×rg); 
	}
}

105 
	$maš
(
_¬gc
, *
¬gv
[]) {

106 
»t
;

108 ià(
_¬gc
 < 3) {

109 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

110  -
EINVAL
;

113 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

114 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

115 
i
 = 2; i < 
_¬gc
; i++) {

116 
¬gv
[
i
 - 1] =‡rgv[i];

119 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

120 ià(
»t
) {

121 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

122  
»t
;

126 
	}
}

	@exp/fig13/aifm/main.cpp

2 
	~<ruÁime/ruÁime.h
>

3 
	~<ruÁime/tim”.h
>

6 
	~"th»ad.h
"

8 
	~"¬¿y.hµ
"

9 
	~"d”ef_scİe.hµ
"

10 
	~"deviû.hµ
"

11 
	~"mªag”.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<chrÚo
>

15 
	~<c¡dšt
>

16 
	~<c¡dlib
>

17 
	~<io¡»am
>

18 
	~<memÜy
>

19 
	~<uni¡d.h
>

21 
usšg
 
Çme¥aû
 
çr_memÜy
;

22 
usšg
 
Çme¥aû
 
	g¡d
;

24 
	#DEFINE_DATA_TYPE
(
width
) \

25 
D©a_
##
width
 { \

26 
ušt8_t
 
buf
[
width
]; \

28 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

30 
DEFINE_DATA_TYPE
(4096);

32 #iâdeà
DELAY_NS_PER_ITER


33 
	#DELAY_NS_PER_ITER
 0

	)

36 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 512ULL << 20;

37 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 10ULL << 30;

38 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkšgS‘Size
 = 8ULL << 30;

39 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 3;

40 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkšgS‘Size
 / (
D©a_t
);

41 
cÚ¡ex´
 
ušt32_t
 
	gkCPUF»qMHz
 = 2594;

42 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 400;

44 
	g‹m¶©e
 <
št64_t
 
	gN
> 
šlše
 
	$»ad_¿w_¬¿y
(
ušt8_t
 *
±r
) {

45 
	`cÚ¡ex´
 (
N
 >= 8) {

46 
	`ACCESS_ONCE
(*((
ušt64_t
 *)
±r
));

47 
»ad_¿w_¬¿y
<
N
 - 8>(
±r
 + 8);

48 } 
	`cÚ¡ex´
 (
N
 >= 4) {

49 
	`ACCESS_ONCE
(*((
ušt32_t
 *)
±r
));

50 
»ad_¿w_¬¿y
<
N
 - 4>(
±r
 + 4);

51 } 
	`cÚ¡ex´
 (
N
 >= 2) {

52 
	`ACCESS_ONCE
(*((
ušt16_t
 *)
±r
));

53 
»ad_¿w_¬¿y
<
N
 - 2>(
±r
 + 2);

54 } 
	`cÚ¡ex´
 (
N
 == 1) {

55 
	`ACCESS_ONCE
(*((
ušt8_t
 *)
±r
));

56 
»ad_¿w_¬¿y
<
N
 - 1>(
±r
 + 1);

58 
	}
}

60 
šlše
 
»ad_¬¿y_–em’t_­i
(
A¼ay
<
D©a_t
, 
kNumEÁr›s
> *
fm_¬¿y
) {

61 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

62 
D”efScİe
 
	gscİe
;

63 autØ&
	gd©a
 = 
fm_¬¿y
->
©
(
scİe
, 
i
);

64 
ACCESS_ONCE
(
d©a
.
buf
[0]);

68 
šlše
 
	$my_d–ay_cyşes
(
št32_t
 
cyşes
) {

69 
št32_t
 
i
 = 0; i < 
cyşes
; i++) {

70 
	`asm
("nop");

72 
	}
}

74 
	$do_wÜk
(*
¬g
) {

75 **
¬gv
 = (**)
¬g
;

76 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

77 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

78 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

79 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

80 
kCacheSize
, 
kNumGCTh»ads
,

81 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

82 autØ
fm_¬¿y
 = 
¡d
::
unique_±r
<
A¼ay
<
D©a_t
, 
kNumEÁr›s
>>(

83 
mªag”
->
®loÿ‹_¬¿y_h—p
<
D©a_t
, 
kNumEÁr›s
>());

86 
	`»ad_¬¿y_–em’t_­i
(
fm_¬¿y
.
	`g‘
());

87 
	`»ad_¬¿y_–em’t_­i
(
fm_¬¿y
.
	`g‘
());

89 
¡d
::
cout
 << "d–ay = " << 
DELAY_NS_PER_ITER
 << std::
’dl
;

90 autØ
¡¬t_ts
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

91 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

92 
D”efScİe
 
scİe
;

93 autØ&
d©a
 = 
fm_¬¿y
->
	`©
(
scİe
, 
i
);

94 
»ad_¿w_¬¿y
<(
D©a_t
)>((
ušt8_t
 *)
d©a
.
buf
);

95 
	`my_d–ay_cyşes
(
DELAY_NS_PER_ITER
 / 1000.0 * 
kCPUF»qMHz
);

97 autØ
’d_ts
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

99 autØ
time_US
 =

100 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d_ts
 - 
¡¬t_ts
).
	`couÁ
();

101 
¡d
::
cout
 << 
time_US
 << std::
’dl
;

102 
	}
}

104 
	$maš
(
_¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
_¬gc
 < 3) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

109  -
EINVAL
;

112 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

113 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

114 
i
 = 2; i < 
_¬gc
; i++) {

115 
¬gv
[
i
 - 1] =‡rgv[i];

118 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
do_wÜk
, 
¬gv
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@exp/fig13/linux_mem/main.cpp

2 
	~<ruÁime/ruÁime.h
>

3 
	~<ruÁime/tim”.h
>

6 
	~"th»ad.h
"

8 
	~<®gÜ™hm
>

9 
	~<chrÚo
>

10 
	~<c¡dšt
>

11 
	~<c¡dlib
>

12 
	~<io¡»am
>

13 
	~<memÜy
>

14 
	~<uni¡d.h
>

16 
usšg
 
Çme¥aû
 
¡d
;

18 #iâdeà
DELAY_NS_PER_ITER


19 
	#DELAY_NS_PER_ITER
 0

	)

22 
cÚ¡ex´
 
ušt64_t
 
	gkEÁrySize
 = 4096;

23 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkšgS‘Size
 = 8ULL << 30;

24 
cÚ¡ex´
 
ušt32_t
 
	gkCPUF»qMHz
 = 2594;

26 
ušt8_t
 
	gbuf
[
kWÜkšgS‘Size
];

28 
	g‹m¶©e
 <
št64_t
 
	gN
> 
šlše
 
	$»ad_¿w_¬¿y
(
ušt8_t
 *
±r
) {

29 
	`cÚ¡ex´
 (
N
 >= 8) {

30 
	`ACCESS_ONCE
(*((
ušt64_t
 *)
±r
));

31 
»ad_¿w_¬¿y
<
N
 - 8>(
±r
 + 8);

32 } 
	`cÚ¡ex´
 (
N
 >= 4) {

33 
	`ACCESS_ONCE
(*((
ušt32_t
 *)
±r
));

34 
»ad_¿w_¬¿y
<
N
 - 4>(
±r
 + 4);

35 } 
	`cÚ¡ex´
 (
N
 >= 2) {

36 
	`ACCESS_ONCE
(*((
ušt16_t
 *)
±r
));

37 
»ad_¿w_¬¿y
<
N
 - 2>(
±r
 + 2);

38 } 
	`cÚ¡ex´
 (
N
 == 1) {

39 
	`ACCESS_ONCE
(*((
ušt8_t
 *)
±r
));

40 
»ad_¿w_¬¿y
<
N
 - 1>(
±r
 + 1);

42 
	}
}

44 
šlše
 
	$my_d–ay_cyşes
(
št32_t
 
cyşes
) {

45 
št32_t
 
i
 = 0; i < 
cyşes
; i++) {

46 
	`asm
("nop");

48 
	}
}

50 
	$do_wÜk
(*
¬g
) {

51 
	`mem£t
(
buf
, 0, (buf));

53 
¡d
::
cout
 << "d–ay = " << 
DELAY_NS_PER_ITER
 << std::
’dl
;

54 autØ
¡¬t_ts
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

55 
ušt64_t
 
i
 = 0; i < 
kWÜkšgS‘Size
; i +ğ
kEÁrySize
) {

56 autØ
±r
 = &
buf
[
i
];

57 
»ad_¿w_¬¿y
<
kEÁrySize
>(
±r
);

58 
	`my_d–ay_cyşes
(
DELAY_NS_PER_ITER
 / 1000.0 * 
kCPUF»qMHz
);

60 autØ
’d_ts
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

62 autØ
time_US
 =

63 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d_ts
 - 
¡¬t_ts
).
	`couÁ
();

64 
¡d
::
cout
 << 
time_US
 << std::
’dl
;

65 
	}
}

67 
	$maš
(
¬gc
, *
¬gv
[]) {

68 
»t
;

70 ià(
¬gc
 < 2) {

71 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

72  -
EINVAL
;

75 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

76 ià(
»t
) {

77 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

78  
»t
;

82 
	}
}

	@exp/fig14/main.cpp

2 
	~<ruÁime/ruÁime.h
>

3 
	~<ruÁime/tim”.h
>

5 
	~"th»ad.h
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

12 
	~<®gÜ™hm
>

13 
	~<¬¿y
>

14 
	~<chrÚo
>

15 
	~<c¡dšt
>

16 
	~<c¡dlib
>

17 
	~<ùime
>

18 
	~<io¡»am
>

19 
	~<memÜy
>

20 
	~<uni¡d.h
>

22 
usšg
 
Çme¥aû
 
çr_memÜy
;

23 
usšg
 
Çme¥aû
 
	g¡d
;

25 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

26 
	#DEFINE_DATA_TYPE
(
width
) \

27 
D©a_
##
width
 { \

28 
ušt8_t
 
buf
[
width
]; \

30 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

32 
DEFINE_DATA_TYPE
(4096);

34 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 4ULL << 30;

35 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 20ULL << 30;

36 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 4

38 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 
kNumEÁr›s
 * (
D©a_t
);

39 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 10;

40 
cÚ¡ex´
 
ušt64_t
 
	gkMutÜAcûssSizeP”Scİe
 = 4 << 20;

41 #ifdeà
STW_GC


44 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 20;

47 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 10;

49 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 200;

51 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

53 
	$æush_ÿche
() {

54 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

55 
D©a_t
 
tmp
;

56 
±rs
[
i
].
	`wr™e
(
tmp
);

58 
	}
}

60 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

61 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

62 
±rs
[
i
] = 
¡d
::
	`move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

65 
	`æush_ÿche
();

66 
	`d–ay_ms
(1000);

68 
¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

69 cÚ¡‡utØ
kNumEÁr›sP”I‹r
 = 
kMutÜAcûssSizeP”Scİe
 / (
D©a_t
);

70 cÚ¡‡utØ
kTÙ®NumEÁr›sP”I‹r
 = 
kNumEÁr›sP”I‹r
 * 
kNumMutÜTh»ads
;

71 
ušt64_t
 
k
 = 0; k + 
kTÙ®NumEÁr›sP”I‹r
 <ğ
kNumEÁr›s
;

72 
k
 +ğ
kTÙ®NumEÁr›sP”I‹r
) {

73 autØ
¡¬t
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

74 
ušt32_t
 
i
 = 0; i < 
kNumMutÜTh»ads
; i++) {

75 
th»ads
.
	`em¶aû_back
(
¹
::
	`Th»ad
([&, 
i
]() {

76 
D”efScİe
 
scİe
;

77 autØ
tid
 = 
i
;

78 
ušt32_t
 
i
 = 0; i < 
kNumEÁr›sP”I‹r
; i++) {

79 autØ*
¿w_mut_±r
 =

80 
±rs
[
k
 + 
tid
 * 
kNumEÁr›sP”I‹r
 + 
i
].
	`d”ef_mut
(
scİe
);

81 
	`DONT_OPTIMIZE
(
¿w_mut_±r
);

85 autØ&
th»ad
 : 
th»ads
) {

86 
th»ad
.
	`Još
();

88 autØ
’d
 = 
chrÚo
::
¡—dy_şock
::
	`now
();

89 
cout
 << 
chrÚo
::
du¿tiÚ_ÿ¡
<chrÚo::
miüo£cÚds
>(
’d
 - 
¡¬t
).
	`couÁ
()

90 << 
’dl
;

91 
th»ads
.
	`ş—r
();

94 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

95 
±rs
[
i
].
	`ä“
();

97 
	}
}

99 
	g¬gc
;

100 
	$_maš
(*
¬g
) {

101 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

102 **
¬gv
 = (**)
¬g
;

103 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

104 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

105 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

106 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

107 
kCacheSize
, 
kNumGCTh»ads
,

108 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

109 
	`do_wÜk
(
mªag”
.
	`g‘
());

110 
	}
}

112 
	$maš
(
_¬gc
, *
¬gv
[]) {

113 
»t
;

115 ià(
_¬gc
 < 3) {

116 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

117  -
EINVAL
;

120 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

121 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

122 
i
 = 2; i < 
_¬gc
; i++) {

123 
¬gv
[
i
 - 1] =‡rgv[i];

125 
¬gc
 = 
_¬gc
 - 1;

127 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

128 ià(
»t
) {

129 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

130  
»t
;

134 
	}
}

	@exp/fig15/main.cpp

2 
	~<ruÁime/ruÁime.h
>

3 
	~<ruÁime/tim”.h
>

5 
	~"th»ad.h
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

11 
	~"¡©s.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<¬¿y
>

15 
	~<chrÚo
>

16 
	~<c¡dšt
>

17 
	~<c¡dlib
>

18 
	~<ùime
>

19 
	~<io¡»am
>

20 
	~<memÜy
>

21 
	~<uni¡d.h
>

23 
usšg
 
Çme¥aû
 
çr_memÜy
;

24 
usšg
 
Çme¥aû
 
	g¡d
;

26 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

27 
	#DEFINE_DATA_TYPE
(
width
) \

28 
D©a_
##
width
 { \

29 
ušt8_t
 
buf
[
width
]; \

31 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

33 
DEFINE_DATA_TYPE
(4096);

35 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 1500ULL << 20;

36 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 10ULL << 30;

37 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 1

39 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 
kNumEÁr›s
 * (
D©a_t
);

40 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 100;

41 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›sP”Th»ad
 = 
kNumEÁr›s
 / 
kNumMutÜTh»ads
;

42 
cÚ¡ex´
 
ušt64_t
 
	gkAcûssSizeP”Task
 = 1 << 20;

43 
cÚ¡ex´
 
ušt64_t
 
	gkNumAcûs£dEÁr›sP”Task
 =

44 
kAcûssSizeP”Task
 / (
D©a_t
);

45 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 20;

46 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 200;

47 
cÚ¡ex´
 
ušt32_t
 
	gkM—su»Times
 = 1;

48 
cÚ¡ex´
 
ušt32_t
 
	gkD–ayMs
 = 20;

50 
	gUniquePŒ
<
	gD©a_t
> 
	g±rs
[
kNumEÁr›s
];

51 
	gUniquePŒ
<
	gD©a_t
> 
	gŒash_±rs
[
kNumEÁr›s
];

53 
	$æush_ÿche
() {

54 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

55 autØ
d©a
 = 
Œash_±rs
[
i
].
	`»ad
();

56 
	`ACCESS_ONCE
(
d©a
.
buf
[0]);

58 
	}
}

60 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

61 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

62 
±rs
[
i
] = 
¡d
::
	`move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

63 
Œash_±rs
[
i
] = 
¡d
::
	`move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

66 
	`æush_ÿche
();

67 
	`d–ay_ms
(1000);

69 
Sts
::
	`ş—r_ä“_mem_¿tio_»cÜds
();

70 
¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

71 
ušt32_t
 
t
 = 0; < 
kM—su»Times
;++) {

72 
cout
 << "M—su» " << 
t
 << "th..." << 
’dl
;

73 
ušt32_t
 
i
 = 0; i < 
kNumMutÜTh»ads
; i++) {

74 
th»ads
.
	`em¶aû_back
(
¹
::
	`Th»ad
([&, 
i
]() {

75 autØ
¡¬t_idx
 = 
kNumEÁr›sP”Th»ad
 * 
i
;

76 autØ
’d_idx
 = 
¡¬t_idx
 + 
kNumEÁr›sP”Th»ad
;

77 
ušt64_t
 
j
 = 
¡¬t_idx
; j < 
’d_idx
;

78 
j
 +ğ
kNumAcûs£dEÁr›sP”Task
) {

79 
D”efScİe
 
scİe
;

80 
ušt64_t
 
t
 = 
j
;

81 
t
 < 
¡d
::
	`mš
(
’d_idx
, 
j
 + 
kNumAcûs£dEÁr›sP”Task
);++) {

82 autØ*
¿w_±r
 = 
±rs
[
t
].
	`d”ef
(
scİe
);

83 
	`ACCESS_ONCE
(
¿w_±r
);

85 
	`d–ay_ms
(
kD–ayMs
);

89 autØ&
th»ad
 : 
th»ads
) {

90 
th»ad
.
	`Još
();

92 
th»ads
.
	`ş—r
();

93 
	`d–ay_ms
(1000);

96 
Sts
::
	`´št_ä“_mem_¿tio_»cÜds
();

97 
¡d
::
cout
 << "CËªup..." << std::
’dl
;

98 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

99 
±rs
[
i
].
	`ä“
();

100 
Œash_±rs
[
i
].
	`ä“
();

102 
	}
}

104 
	g¬gc
;

105 
	$_maš
(*
¬g
) {

106 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

107 **
¬gv
 = (**)
¬g
;

108 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

109 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

110 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

111 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

112 
kCacheSize
, 
kNumGCTh»ads
,

113 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

114 
	`do_wÜk
(
mªag”
.
	`g‘
());

115 
	}
}

117 
	$maš
(
_¬gc
, *
¬gv
[]) {

118 
»t
;

120 ià(
_¬gc
 < 3) {

121 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

122  -
EINVAL
;

125 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

126 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

127 
i
 = 2; i < 
_¬gc
; i++) {

128 
¬gv
[
i
 - 1] =‡rgv[i];

130 
¬gc
 = 
_¬gc
 - 1;

132 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

133 ià(
»t
) {

134 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

135  
»t
;

139 
	}
}

	@exp/fig6a/aifm_nt/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"¬¿y.hµ
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

11 
	~"¢­py.h
"

12 
	~"¡©s.hµ
"

13 
	~"zf.hµ
"

16 
	~"üy±İp/«s.h
"

17 
	~"üy±İp/f‹rs.h
"

18 
	~"üy±İp/modes.h
"

20 
	~<®gÜ™hm
>

21 
	~<¬¿y
>

22 
	~<©omic
>

23 
	~<chrÚo
>

24 
	~<c¡dšt
>

25 
	~<c¡dlib
>

26 
	~<c¡ršg
>

27 
	~<io¡»am
>

28 
	~<lim™s
>

29 
	~<memÜy
>

30 
	~<num”ic
>

31 
	~<¿ndom
>

32 
	~<veùÜ
>

34 
usšg
 
Çme¥aû
 
çr_memÜy
;

36 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

38 
Çme¥aû
 
	gçr_memÜy
 {

39 şas 
	cF¬MemTe¡
 {

40 
	g´iv©e
:

42 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 2048 * 
RegiÚ
::
kSize
;

43 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (17ULL << 30);

44 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

45 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 300;

48 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

49 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

50 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 = 28;

51 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 = 28;

52 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËSÏbSize
 = (4ULL << 30) * 1.05;

53 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

56 
cÚ¡ex´
 
ušt32_t
 
	gkNumA¼ayEÁr›s
 = 2 << 20;

57 
cÚ¡ex´
 
ušt32_t
 
	gkA¼ayEÁrySize
 = 8192;

60 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 6;

61 
cÚ¡ex´
 
	gkZfP¬amS
 = 0.85;

62 
cÚ¡ex´
 
ušt32_t
 
	gkNumKeysP”Reque¡
 = 32;

63 
cÚ¡ex´
 
ušt32_t
 
	gkNumReqs
 = 
kNumKVPaœs
 / 
kNumKeysP”Reque¡
;

64 
cÚ¡ex´
 
ušt32_t
 
	gkLog10NumKeysP”Reque¡
 =

65 
h–³rs
::
¡©ic_log
(10, 
kNumKeysP”Reque¡
);

66 
cÚ¡ex´
 
ušt32_t
 
	gkReqL’
 = 
kKeyL’
 - 
kLog10NumKeysP”Reque¡
;

67 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’
 = 
kNumReqs
;

70 
cÚ¡ex´
 
ušt32_t
 
	gkPrštP”I‹rs
 = 8192;

71 
cÚ¡ex´
 
ušt32_t
 
	gkMaxPrštIÁ”v®Us
 = 1000 * 1000;

72 
cÚ¡ex´
 
ušt32_t
 
	gkPrštTimes
 = 100;

73 
cÚ¡ex´
 
ušt32_t
 
	gkL©sWšSize
 = 1 << 12;

75 
	sReq
 {

76 
	gd©a
[
kReqL’
];

79 
	sKey
 {

80 
	gd©a
[
kKeyL’
];

83 
	uV®ue
 {

84 
ušt32_t
 
	gnum
;

85 
	gd©a
[
kV®ueL’
];

88 
	sA¼ayEÁry
 {

89 
ušt8_t
 
	gd©a
[
kA¼ayEÁrySize
];

92 
®igÇs
(64è
	gCÁ
 {

93 
ušt64_t
 
	gc
;

96 
usšg
 
	gAµA¼ay
 = 
A¼ay
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>;

98 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

99 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Req
 
®l_g’_»qs
[
kNumReqs
];

100 
ušt32_t
 
	g®l_zf_»q_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’
];

102 
CÁ
 
	g»q_úts
[
kNumMutÜTh»ads
];

103 
ušt32_t
 
	gÏts
[
h–³rs
::
kNumCPUs
][
kL©sWšSize
];

104 
CÁ
 
	gÏts_idx
[
h–³rs
::
kNumCPUs
];

105 
CÁ
 
	g³r_cÜe_»q_idx
[
h–³rs
::
kNumCPUs
];

107 
	g¡d
::
©omic_æag
 
æag
;

108 
ušt64_t
 
	g´št_times
 = 0;

109 
ušt64_t
 
	g´ev_sum_»qs
 = 0;

110 
ušt64_t
 
	g´ev_us
 = 0;

111 
	g¡d
::
veùÜ
<> 
mİs_»cÜds
;

113 
	gkey
[
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
];

114 
	giv
[
Cry±oPP
::
AES
::
BLOCKSIZE
];

115 
	g¡d
::
unique_±r
<
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
> 
cbcEnüy±iÚ
;

116 
	g¡d
::
unique_±r
<
Cry±oPP
::
AES
::
Enüy±iÚ
> 
«sEnüy±iÚ
;

118 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

119 *
¬¿y
) {

120 
ušt32_t
 
	gËn
 = 0;

121 
	gn
) {

122 autØ
	gdig™
 = 
n
 % 10;

123 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

124 
	gn
 = 
n
 / 10;

126 
	gËn
 < 
	gsuffix_Ën
) {

127 
	g¬¿y
[
Ën
++] = '0';

129 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

132 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

133 
BUG_ON
(
Ën
 <= 0);

134 
´“m±_di§bË
();

135 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

136 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

137 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

138 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

139 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

143 
šlše
 
¿ndom_»q
(*
d©a
, 
ušt32_t
 
tid
) {

144 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kNumMutÜTh»ads
);

145 
¿ndom_¡ršg
(
d©a
, 
kReqL’
 - 
tid_Ën
);

146 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kReqL’
 -id_len);

149 
šlše
 
ušt32_t
 
¿ndom_ušt32
() {

150 
´“m±_di§bË
();

151 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

152 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

153 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
ušt32_t
> 
di¡ributiÚ
(

154 0, 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
());

155  
di¡ributiÚ
(
g’”©Ü
);

158 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

159 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

160 
	g¡d
::
¿ndom_deviû
 
rd
;

161 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

163 
mem£t
(
Ïts_idx
, 0, (lats_idx));

164 
mem£t
(
key
, 0x00, 
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
);

165 
mem£t
(
iv
, 0x00, 
Cry±oPP
::
AES
::
BLOCKSIZE
);

166 
	g«sEnüy±iÚ
.
»£t
(

167 
Ãw
 
Cry±oPP
::
AES
::
Enüy±iÚ
(
key
, Cry±oPP::AES::
DEFAULT_KEYLENGTH
));

168 
	gcbcEnüy±iÚ
.
»£t
(

169 
Ãw
 
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
(*
«sEnüy±iÚ
, 
iv
));

170 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

171 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

172 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

173 autØ
num_»qs_³r_th»ad
 = 
kNumReqs
 / 
kNumMutÜTh»ads
;

174 autØ
»q_off£t
 = 
tid
 * 
num_»qs_³r_th»ad
;

175 autØ*
th»ad_g’_»qs
 = &
®l_g’_»qs
[
»q_off£t
];

176 
ušt32_t
 
i
 = 0; i < 
num_»qs_³r_th»ad
; i++) {

177 
Req
 
»q
;

178 
¿ndom_»q
(
»q
.
d©a
, 
tid
);

179 
Key
 
key
;

180 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

181 
ušt32_t
 
j
 = 0; j < 
kNumKeysP”Reque¡
; j++) {

182 
­³nd_ušt32_to_ch¬_¬¿y
(
j
, 
kLog10NumKeysP”Reque¡
,

183 
key
.
d©a
 + 
kReqL’
);

184 
V®ue
 
v®ue
;

185 
v®ue
.
num
 = (
j
 ? 0 : 
»q_off£t
 + 
i
);

186 
D”efScİe
 
scİe
;

187 
hİscÙch
->
put
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
, 
kV®ueL’
,

188 (
ušt8_t
 *)
v®ue
.
d©a
);

190 
th»ad_g’_»qs
[
i
] = 
»q
;

194 autØ&
	gth»ad
 : 
th»ads
) {

195 
th»ad
.
Još
();

197 
´“m±_di§bË
();

198 
	gzf_bË_di¡ributiÚ
<> 
zf
(
kNumReqs
, 
kZfP¬amS
);

199 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

200 
cÚ¡ex´
 
ušt32_t
 
	gkP”CÜeWšIÁ”v®
 = 
kReqSeqL’
 / 
h–³rs
::
kNumCPUs
;

201 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’
; i++) {

202 autØ
	g¿nd_idx
 = 
zf
(*
g’”©Ü
);

203 
ušt32_t
 
	gj
 = 0; j < 
	gh–³rs
::
kNumCPUs
; j++) {

204 
	g®l_zf_»q_šdiûs
[
j
][(
i
 + (j * 
kP”CÜeWšIÁ”v®
)è% 
kReqSeqL’
] =

205 
¿nd_idx
;

208 
´“m±_’abË
();

211 
´•¬e
(
AµA¼ay
 *
¬¿y
) {

216 
cÚsume_¬¿y_’Œy
(cÚ¡ 
A¼ayEÁry
 &
’Œy
) {

217 
	g¡d
::
¡ršg
 
ch”‹xt
;

218 
	gCry±oPP
::
SŒ—mT¿nsfÜm©iÚF‹r
 
¡fEnüy±Ü
(

219 *
cbcEnüy±iÚ
, 
Ãw
 
Cry±oPP
::
SŒšgSšk
(
ch”‹xt
));

220 
	g¡fEnüy±Ü
.
Put
((cÚ¡ *)&
’Œy
.
d©a
, (entry));

221 
	g¡fEnüy±Ü
.
Mes§geEnd
();

222 
	g¡d
::
¡ršg
 
com´es£d
;

223 
	g¢­py
::
Com´ess
(
ch”‹xt
.
c_¡r
(), ch”‹xt.
size
(), &
com´es£d
);

224 autØ
	gcom´es£d_Ën
 = 
com´es£d
.
size
();

225 
ACCESS_ONCE
(
com´es£d_Ën
);

228 
´št_³rf
() {

229 ià(!
	gæag
.
‹¡_ªd_£t
()) {

230 
´“m±_di§bË
();

231 autØ
	gus
 = 
miüÙime
();

232 
ušt64_t
 
	gsum_»qs
 = 0;

233 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

234 
	gsum_»qs
 +ğ
ACCESS_ONCE
(
»q_úts
[
i
].
c
);

236 ià(
	gus
 - 
	g´ev_us
 > 
	gkMaxPrštIÁ”v®Us
) {

237 autØ
	gmİs
 =

238 (()(
sum_»qs
 - 
´ev_sum_»qs
è/ (
us
 - 
´ev_us
)) * 1.098;

239 
	gmİs_»cÜds
.
push_back
(
mİs
);

240 
	gus
 = 
miüÙime
();

241 ià(
	g´št_times
++ >ğ
kPrštTimes
) {

242 
cÚ¡ex´
 
kR©ioCho£nRecÜds
 = 0.1;

243 
ušt32_t
 
	gnum_cho£n_»cÜds
 =

244 
mİs_»cÜds
.
size
(è* 
kR©ioCho£nRecÜds
;

245 
	gmİs_»cÜds
.
”a£
(
mİs_»cÜds
.
begš
(),

246 
mİs_»cÜds
.
’d
(è- 
num_cho£n_»cÜds
);

247 
	g¡d
::
cout
 << "mops = "

248 << 
accumuÏ‹
(
mİs_»cÜds
.
begš
(), mİs_»cÜds.
’d
(),

250 
	gmİs_»cÜds
.
size
()

251 << 
	g¡d
::
’dl
;

252 
	g¡d
::
veùÜ
<
ušt32_t
> 
®l_Ïts
;

253 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

254 autØ
	gnum_Ïts
 = 
¡d
::
mš
((
ušt64_t
)
kL©sWšSize
, 
Ïts_idx
[
i
].
c
);

255 
	g®l_Ïts
.
š£¹
(
®l_Ïts
.
’d
(), &
Ïts
[
i
][0], &Ïts[i][
num_Ïts
]);

257 
	g¡d
::
sÜt
(
®l_Ïts
.
begš
(),‡Î_Ïts.
’d
());

258 
	g¡d
::
cout
 << "90ail†at (cycles) = "

259 << 
®l_Ïts
[®l_Ïts.
size
(è* 90.0 / 100] << 
¡d
::
’dl
;

260 
ex™
(0);

262 
	g´ev_us
 = 
us
;

263 
	g´ev_sum_»qs
 = 
sum_»qs
;

265 
´“m±_’abË
();

266 
	gæag
.
ş—r
();

270 
b’ch
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
, 
AµA¼ay
 *
¬¿y
) {

271 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

272 
	g´ev_us
 = 
miüÙime
();

273 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

274 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

275 
ušt32_t
 
út
 = 0;

277 ià(
uÆik–y
(
út
++ % 
kPrštP”I‹rs
 == 0)) {

278 
´“m±_di§bË
();

279 
´št_³rf
();

280 
´“m±_’abË
();

282 
´“m±_di§bË
();

283 autØ
cÜe_num
 = 
g‘_cÜe_num
();

284 autØ
»q_idx
 =

285 
®l_zf_»q_šdiûs
[
cÜe_num
][
³r_cÜe_»q_idx
[cÜe_num].
c
];

286 ià(
uÆik–y
(++
³r_cÜe_»q_idx
[
cÜe_num
].
c
 =ğ
kReqSeqL’
)) {

287 
³r_cÜe_»q_idx
[
cÜe_num
].
c
 = 0;

289 
´“m±_’abË
();

291 autØ&
»q
 = 
®l_g’_»qs
[
»q_idx
];

292 
Key
 
key
;

293 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

294 autØ
¡¬t
 = 
rdtsc
();

295 
ušt32_t
 
¬¿y_šdex
 = 0;

297 
D”efScİe
 
scİe
;

298 
ušt32_t
 
i
 = 0; i < 
kNumKeysP”Reque¡
; i++) {

299 
­³nd_ušt32_to_ch¬_¬¿y
(
i
, 
kLog10NumKeysP”Reque¡
,

300 
key
.
d©a
 + 
kReqL’
);

301 
V®ue
 
v®ue
;

302 
ušt16_t
 
v®ue_Ën
;

303 
hİscÙch
->
g‘
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

304 &
v®ue_Ën
, (
ušt8_t
 *)
v®ue
.
d©a
);

305 
¬¿y_šdex
 +ğ
v®ue
.
num
;

309 
¬¿y_šdex
 %ğ
kNumA¼ayEÁr›s
;

310 
D”efScİe
 
scİe
;

311 cÚ¡‡utØ&
¬¿y_’Œy
 =

312 
¬¿y
->
©
< 
Œue
>(
scİe
, 
¬¿y_šdex
);

313 
´“m±_di§bË
();

314 
cÚsume_¬¿y_’Œy
(
¬¿y_’Œy
);

315 
´“m±_’abË
();

317 autØ
’d
 = 
rdtsc
();

318 
´“m±_di§bË
();

319 
cÜe_num
 = 
g‘_cÜe_num
();

320 
Ïts
[
cÜe_num
][(
Ïts_idx
[cÜe_num].
c
++è% 
kL©sWšSize
] = 
’d
 - 
¡¬t
;

321 
´“m±_’abË
();

322 
ACCESS_ONCE
(
»q_úts
[
tid
].
c
)++;

326 autØ&
	gth»ad
 : 
th»ads
) {

327 
th»ad
.
Još
();

331 
	gpublic
:

332 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

333 autØ
hİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

334 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

335 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

336 
kRemÙeHashTabËSÏbSize
));

337 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

338 
´•¬e
(
hİscÙch
.
g‘
());

339 autØ
	g¬¿y_±r
 = 
¡d
::
unique_±r
<
AµA¼ay
>(

340 
mªag”
->
®loÿ‹_¬¿y_h—p
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>());

341 
	g¬¿y_±r
->
di§bË_´eãtch
();

342 
´•¬e
(
¬¿y_±r
.
g‘
());

343 
	g¡d
::
cout
 << "B’ch..." << 
¡d
::
’dl
;

344 
b’ch
(
hİscÙch
.
g‘
(), 
¬¿y_±r
.get());

347 
run
(
Ãddr
 
¿ddr
) {

348 
BUG_ON
(
madvi£
(
®l_g’_»qs
, (
Req
è* 
kNumReqs
, 
MADV_HUGEPAGE
) != 0);

349 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

350 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

351 
kCacheSize
, 
kNumGCTh»ads
,

352 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

353 
do_wÜk
(
mªag”
.
g‘
());

358 
	g¬gc
;

359 
F¬MemTe¡
 
	g‹¡
;

360 
	$_maš
(*
¬g
) {

361 **
¬gv
 = (**)
¬g
;

362 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

363 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

364 
‹¡
.
	`run
(
¿ddr
);

365 
	}
}

367 
	$maš
(
_¬gc
, *
¬gv
[]) {

368 
»t
;

370 ià(
_¬gc
 < 3) {

371 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

372  -
EINVAL
;

375 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

376 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

377 
i
 = 2; i < 
_¬gc
; i++) {

378 
¬gv
[
i
 - 1] =‡rgv[i];

380 
¬gc
 = 
_¬gc
 - 1;

382 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

383 ià(
»t
) {

384 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

385  
»t
;

389 
	}
}

	@exp/fig6a/aifm_t/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"¬¿y.hµ
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

11 
	~"¢­py.h
"

12 
	~"¡©s.hµ
"

13 
	~"zf.hµ
"

16 
	~"üy±İp/«s.h
"

17 
	~"üy±İp/f‹rs.h
"

18 
	~"üy±İp/modes.h
"

20 
	~<®gÜ™hm
>

21 
	~<¬¿y
>

22 
	~<©omic
>

23 
	~<chrÚo
>

24 
	~<c¡dšt
>

25 
	~<c¡dlib
>

26 
	~<c¡ršg
>

27 
	~<io¡»am
>

28 
	~<lim™s
>

29 
	~<memÜy
>

30 
	~<num”ic
>

31 
	~<¿ndom
>

32 
	~<veùÜ
>

34 
usšg
 
Çme¥aû
 
çr_memÜy
;

36 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

38 
Çme¥aû
 
	gçr_memÜy
 {

39 şas 
	cF¬MemTe¡
 {

40 
	g´iv©e
:

42 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 2048 * 
RegiÚ
::
kSize
;

43 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (17ULL << 30);

44 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

45 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 300;

48 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

49 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

50 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 = 28;

51 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 = 28;

52 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËSÏbSize
 = (4ULL << 30) * 1.05;

53 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

56 
cÚ¡ex´
 
ušt32_t
 
	gkNumA¼ayEÁr›s
 = 2 << 20;

57 
cÚ¡ex´
 
ušt32_t
 
	gkA¼ayEÁrySize
 = 8192;

60 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 8;

61 
cÚ¡ex´
 
	gkZfP¬amS
 = 0.85;

62 
cÚ¡ex´
 
ušt32_t
 
	gkNumKeysP”Reque¡
 = 32;

63 
cÚ¡ex´
 
ušt32_t
 
	gkNumReqs
 = 
kNumKVPaœs
 / 
kNumKeysP”Reque¡
;

64 
cÚ¡ex´
 
ušt32_t
 
	gkLog10NumKeysP”Reque¡
 =

65 
h–³rs
::
¡©ic_log
(10, 
kNumKeysP”Reque¡
);

66 
cÚ¡ex´
 
ušt32_t
 
	gkReqL’
 = 
kKeyL’
 - 
kLog10NumKeysP”Reque¡
;

67 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’
 = 
kNumReqs
;

70 
cÚ¡ex´
 
ušt32_t
 
	gkPrštP”I‹rs
 = 8192;

71 
cÚ¡ex´
 
ušt32_t
 
	gkMaxPrštIÁ”v®Us
 = 1000 * 1000;

72 
cÚ¡ex´
 
ušt32_t
 
	gkPrštTimes
 = 100;

73 
cÚ¡ex´
 
ušt32_t
 
	gkL©sWšSize
 = 1 << 12;

75 
	sReq
 {

76 
	gd©a
[
kReqL’
];

79 
	sKey
 {

80 
	gd©a
[
kKeyL’
];

83 
	uV®ue
 {

84 
ušt32_t
 
	gnum
;

85 
	gd©a
[
kV®ueL’
];

88 
	sA¼ayEÁry
 {

89 
ušt8_t
 
	gd©a
[
kA¼ayEÁrySize
];

92 
®igÇs
(64è
	gCÁ
 {

93 
ušt64_t
 
	gc
;

96 
usšg
 
	gAµA¼ay
 = 
A¼ay
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>;

98 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

99 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Req
 
®l_g’_»qs
[
kNumReqs
];

100 
ušt32_t
 
	g®l_zf_»q_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’
];

102 
CÁ
 
	g»q_úts
[
kNumMutÜTh»ads
];

103 
ušt32_t
 
	gÏts
[
h–³rs
::
kNumCPUs
][
kL©sWšSize
];

104 
CÁ
 
	gÏts_idx
[
h–³rs
::
kNumCPUs
];

105 
CÁ
 
	g³r_cÜe_»q_idx
[
h–³rs
::
kNumCPUs
];

107 
	g¡d
::
©omic_æag
 
æag
;

108 
ušt64_t
 
	g´št_times
 = 0;

109 
ušt64_t
 
	g´ev_sum_»qs
 = 0;

110 
ušt64_t
 
	g´ev_us
 = 0;

111 
	g¡d
::
veùÜ
<> 
mİs_»cÜds
;

113 
	gkey
[
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
];

114 
	giv
[
Cry±oPP
::
AES
::
BLOCKSIZE
];

115 
	g¡d
::
unique_±r
<
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
> 
cbcEnüy±iÚ
;

116 
	g¡d
::
unique_±r
<
Cry±oPP
::
AES
::
Enüy±iÚ
> 
«sEnüy±iÚ
;

118 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

119 *
¬¿y
) {

120 
ušt32_t
 
	gËn
 = 0;

121 
	gn
) {

122 autØ
	gdig™
 = 
n
 % 10;

123 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

124 
	gn
 = 
n
 / 10;

126 
	gËn
 < 
	gsuffix_Ën
) {

127 
	g¬¿y
[
Ën
++] = '0';

129 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

132 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

133 
BUG_ON
(
Ën
 <= 0);

134 
´“m±_di§bË
();

135 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

136 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

137 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

138 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

139 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

143 
šlše
 
¿ndom_»q
(*
d©a
, 
ušt32_t
 
tid
) {

144 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kNumMutÜTh»ads
);

145 
¿ndom_¡ršg
(
d©a
, 
kReqL’
 - 
tid_Ën
);

146 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kReqL’
 -id_len);

149 
šlše
 
ušt32_t
 
¿ndom_ušt32
() {

150 
´“m±_di§bË
();

151 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

152 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

153 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
ušt32_t
> 
di¡ributiÚ
(

154 0, 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
());

155  
di¡ributiÚ
(
g’”©Ü
);

158 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

159 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

160 
	g¡d
::
¿ndom_deviû
 
rd
;

161 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

163 
mem£t
(
Ïts_idx
, 0, (lats_idx));

164 
mem£t
(
key
, 0x00, 
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
);

165 
mem£t
(
iv
, 0x00, 
Cry±oPP
::
AES
::
BLOCKSIZE
);

166 
	g«sEnüy±iÚ
.
»£t
(

167 
Ãw
 
Cry±oPP
::
AES
::
Enüy±iÚ
(
key
, Cry±oPP::AES::
DEFAULT_KEYLENGTH
));

168 
	gcbcEnüy±iÚ
.
»£t
(

169 
Ãw
 
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
(*
«sEnüy±iÚ
, 
iv
));

170 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

171 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

172 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

173 autØ
num_»qs_³r_th»ad
 = 
kNumReqs
 / 
kNumMutÜTh»ads
;

174 autØ
»q_off£t
 = 
tid
 * 
num_»qs_³r_th»ad
;

175 autØ*
th»ad_g’_»qs
 = &
®l_g’_»qs
[
»q_off£t
];

176 
ušt32_t
 
i
 = 0; i < 
num_»qs_³r_th»ad
; i++) {

177 
Req
 
»q
;

178 
¿ndom_»q
(
»q
.
d©a
, 
tid
);

179 
Key
 
key
;

180 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

181 
ušt32_t
 
j
 = 0; j < 
kNumKeysP”Reque¡
; j++) {

182 
­³nd_ušt32_to_ch¬_¬¿y
(
j
, 
kLog10NumKeysP”Reque¡
,

183 
key
.
d©a
 + 
kReqL’
);

184 
V®ue
 
v®ue
;

185 
v®ue
.
num
 = (
j
 ? 0 : 
»q_off£t
 + 
i
);

186 
D”efScİe
 
scİe
;

187 
hİscÙch
->
put
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
, 
kV®ueL’
,

188 (
ušt8_t
 *)
v®ue
.
d©a
);

190 
th»ad_g’_»qs
[
i
] = 
»q
;

194 autØ&
	gth»ad
 : 
th»ads
) {

195 
th»ad
.
Još
();

197 
´“m±_di§bË
();

198 
	gzf_bË_di¡ributiÚ
<> 
zf
(
kNumReqs
, 
kZfP¬amS
);

199 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

200 
cÚ¡ex´
 
ušt32_t
 
	gkP”CÜeWšIÁ”v®
 = 
kReqSeqL’
 / 
h–³rs
::
kNumCPUs
;

201 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’
; i++) {

202 autØ
	g¿nd_idx
 = 
zf
(*
g’”©Ü
);

203 
ušt32_t
 
	gj
 = 0; j < 
	gh–³rs
::
kNumCPUs
; j++) {

204 
	g®l_zf_»q_šdiûs
[
j
][(
i
 + (j * 
kP”CÜeWšIÁ”v®
)è% 
kReqSeqL’
] =

205 
¿nd_idx
;

208 
´“m±_’abË
();

211 
´•¬e
(
AµA¼ay
 *
¬¿y
) {

216 
cÚsume_¬¿y_’Œy
(cÚ¡ 
A¼ayEÁry
 &
’Œy
) {

217 
	g¡d
::
¡ršg
 
ch”‹xt
;

218 
	gCry±oPP
::
SŒ—mT¿nsfÜm©iÚF‹r
 
¡fEnüy±Ü
(

219 *
cbcEnüy±iÚ
, 
Ãw
 
Cry±oPP
::
SŒšgSšk
(
ch”‹xt
));

220 
	g¡fEnüy±Ü
.
Put
((cÚ¡ *)&
’Œy
.
d©a
, (entry));

221 
	g¡fEnüy±Ü
.
Mes§geEnd
();

222 
	g¡d
::
¡ršg
 
com´es£d
;

223 
	g¢­py
::
Com´ess
(
ch”‹xt
.
c_¡r
(), ch”‹xt.
size
(), &
com´es£d
);

224 autØ
	gcom´es£d_Ën
 = 
com´es£d
.
size
();

225 
ACCESS_ONCE
(
com´es£d_Ën
);

228 
´št_³rf
() {

229 ià(!
	gæag
.
‹¡_ªd_£t
()) {

230 
´“m±_di§bË
();

231 autØ
	gus
 = 
miüÙime
();

232 
ušt64_t
 
	gsum_»qs
 = 0;

233 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

234 
	gsum_»qs
 +ğ
ACCESS_ONCE
(
»q_úts
[
i
].
c
);

236 ià(
	gus
 - 
	g´ev_us
 > 
	gkMaxPrštIÁ”v®Us
) {

237 autØ
	gmİs
 =

238 (()(
sum_»qs
 - 
´ev_sum_»qs
è/ (
us
 - 
´ev_us
)) * 1.098;

239 
	gmİs_»cÜds
.
push_back
(
mİs
);

240 
	gus
 = 
miüÙime
();

241 ià(
	g´št_times
++ >ğ
kPrštTimes
) {

242 
cÚ¡ex´
 
kR©ioCho£nRecÜds
 = 0.1;

243 
ušt32_t
 
	gnum_cho£n_»cÜds
 =

244 
mİs_»cÜds
.
size
(è* 
kR©ioCho£nRecÜds
;

245 
	gmİs_»cÜds
.
”a£
(
mİs_»cÜds
.
begš
(),

246 
mİs_»cÜds
.
’d
(è- 
num_cho£n_»cÜds
);

247 
	g¡d
::
cout
 << "mops = "

248 << 
accumuÏ‹
(
mİs_»cÜds
.
begš
(), mİs_»cÜds.
’d
(),

250 
	gmİs_»cÜds
.
size
()

251 << 
	g¡d
::
’dl
;

252 
	g¡d
::
veùÜ
<
ušt32_t
> 
®l_Ïts
;

253 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

254 autØ
	gnum_Ïts
 = 
¡d
::
mš
((
ušt64_t
)
kL©sWšSize
, 
Ïts_idx
[
i
].
c
);

255 
	g®l_Ïts
.
š£¹
(
®l_Ïts
.
’d
(), &
Ïts
[
i
][0], &Ïts[i][
num_Ïts
]);

257 
	g¡d
::
sÜt
(
®l_Ïts
.
begš
(),‡Î_Ïts.
’d
());

258 
	g¡d
::
cout
 << "90ail†at (cycles) = "

259 << 
®l_Ïts
[®l_Ïts.
size
(è* 90.0 / 100] << 
¡d
::
’dl
;

260 
ex™
(0);

262 
	g´ev_us
 = 
us
;

263 
	g´ev_sum_»qs
 = 
sum_»qs
;

265 
´“m±_’abË
();

266 
	gæag
.
ş—r
();

270 
b’ch
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
, 
AµA¼ay
 *
¬¿y
) {

271 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

272 
	g´ev_us
 = 
miüÙime
();

273 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

274 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

275 
ušt32_t
 
út
 = 0;

277 ià(
uÆik–y
(
út
++ % 
kPrštP”I‹rs
 == 0)) {

278 
´“m±_di§bË
();

279 
´št_³rf
();

280 
´“m±_’abË
();

282 
´“m±_di§bË
();

283 autØ
cÜe_num
 = 
g‘_cÜe_num
();

284 autØ
»q_idx
 =

285 
®l_zf_»q_šdiûs
[
cÜe_num
][
³r_cÜe_»q_idx
[cÜe_num].
c
];

286 ià(
uÆik–y
(++
³r_cÜe_»q_idx
[
cÜe_num
].
c
 =ğ
kReqSeqL’
)) {

287 
³r_cÜe_»q_idx
[
cÜe_num
].
c
 = 0;

289 
´“m±_’abË
();

291 autØ&
»q
 = 
®l_g’_»qs
[
»q_idx
];

292 
Key
 
key
;

293 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

294 autØ
¡¬t
 = 
rdtsc
();

295 
ušt32_t
 
¬¿y_šdex
 = 0;

297 
D”efScİe
 
scİe
;

298 
ušt32_t
 
i
 = 0; i < 
kNumKeysP”Reque¡
; i++) {

299 
­³nd_ušt32_to_ch¬_¬¿y
(
i
, 
kLog10NumKeysP”Reque¡
,

300 
key
.
d©a
 + 
kReqL’
);

301 
V®ue
 
v®ue
;

302 
ušt16_t
 
v®ue_Ën
;

303 
hİscÙch
->
g‘
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

304 &
v®ue_Ën
, (
ušt8_t
 *)
v®ue
.
d©a
);

305 
¬¿y_šdex
 +ğ
v®ue
.
num
;

309 
¬¿y_šdex
 %ğ
kNumA¼ayEÁr›s
;

310 
D”efScİe
 
scİe
;

311 cÚ¡‡utØ&
¬¿y_’Œy
 =

312 
¬¿y
->
©
< 
çl£
>(
scİe
, 
¬¿y_šdex
);

313 
´“m±_di§bË
();

314 
cÚsume_¬¿y_’Œy
(
¬¿y_’Œy
);

315 
´“m±_’abË
();

317 autØ
’d
 = 
rdtsc
();

318 
´“m±_di§bË
();

319 
cÜe_num
 = 
g‘_cÜe_num
();

320 
Ïts
[
cÜe_num
][(
Ïts_idx
[cÜe_num].
c
++è% 
kL©sWšSize
] = 
’d
 - 
¡¬t
;

321 
´“m±_’abË
();

322 
ACCESS_ONCE
(
»q_úts
[
tid
].
c
)++;

326 autØ&
	gth»ad
 : 
th»ads
) {

327 
th»ad
.
Još
();

331 
	gpublic
:

332 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

333 autØ
hİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

334 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

335 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

336 
kRemÙeHashTabËSÏbSize
));

337 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

338 
´•¬e
(
hİscÙch
.
g‘
());

339 autØ
	g¬¿y_±r
 = 
¡d
::
unique_±r
<
AµA¼ay
>(

340 
mªag”
->
®loÿ‹_¬¿y_h—p
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>());

341 
	g¬¿y_±r
->
di§bË_´eãtch
();

342 
´•¬e
(
¬¿y_±r
.
g‘
());

343 
	g¡d
::
cout
 << "B’ch..." << 
¡d
::
’dl
;

344 
b’ch
(
hİscÙch
.
g‘
(), 
¬¿y_±r
.get());

347 
run
(
Ãddr
 
¿ddr
) {

348 
BUG_ON
(
madvi£
(
®l_g’_»qs
, (
Req
è* 
kNumReqs
, 
MADV_HUGEPAGE
) != 0);

349 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

350 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

351 
kCacheSize
, 
kNumGCTh»ads
,

352 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

353 
do_wÜk
(
mªag”
.
g‘
());

358 
	g¬gc
;

359 
F¬MemTe¡
 
	g‹¡
;

360 
	$_maš
(*
¬g
) {

361 **
¬gv
 = (**)
¬g
;

362 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

363 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

364 
‹¡
.
	`run
(
¿ddr
);

365 
	}
}

367 
	$maš
(
_¬gc
, *
¬gv
[]) {

368 
»t
;

370 ià(
_¬gc
 < 3) {

371 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

372  -
EINVAL
;

375 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

376 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

377 
i
 = 2; i < 
_¬gc
; i++) {

378 
¬gv
[
i
 - 1] =‡rgv[i];

380 
¬gc
 = 
_¬gc
 - 1;

382 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

383 ià(
»t
) {

384 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

385  
»t
;

389 
	}
}

	@exp/fig6a/linux_mem/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"¬¿y.hµ
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

11 
	~"¢­py.h
"

12 
	~"¡©s.hµ
"

13 
	~"zf.hµ
"

16 
	~"üy±İp/«s.h
"

17 
	~"üy±İp/f‹rs.h
"

18 
	~"üy±İp/modes.h
"

20 
	~<®gÜ™hm
>

21 
	~<¬¿y
>

22 
	~<©omic
>

23 
	~<chrÚo
>

24 
	~<c¡dšt
>

25 
	~<c¡dlib
>

26 
	~<c¡ršg
>

27 
	~<io¡»am
>

28 
	~<lim™s
>

29 
	~<memÜy
>

30 
	~<num”ic
>

31 
	~<¿ndom
>

32 
	~<veùÜ
>

34 
usšg
 
Çme¥aû
 
çr_memÜy
;

36 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

38 
Çme¥aû
 
	gçr_memÜy
 {

39 şas 
	cF¬MemTe¡
 {

40 
	g´iv©e
:

42 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 30000 * 
RegiÚ
::
kSize
;

43 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (17ULL << 30);

44 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

45 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 300;

48 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

49 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

50 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 = 28;

51 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 = 28;

52 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËSÏbSize
 = (4ULL << 30) * 1.05;

53 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

56 
cÚ¡ex´
 
ušt32_t
 
	gkNumA¼ayEÁr›s
 = 2 << 20;

57 
cÚ¡ex´
 
ušt32_t
 
	gkA¼ayEÁrySize
 = 8192;

60 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 1;

61 
cÚ¡ex´
 
	gkZfP¬amS
 = 0.85;

62 
cÚ¡ex´
 
ušt32_t
 
	gkNumKeysP”Reque¡
 = 32;

63 
cÚ¡ex´
 
ušt32_t
 
	gkNumReqs
 = 
kNumKVPaœs
 / 
kNumKeysP”Reque¡
;

64 
cÚ¡ex´
 
ušt32_t
 
	gkLog10NumKeysP”Reque¡
 =

65 
h–³rs
::
¡©ic_log
(10, 
kNumKeysP”Reque¡
);

66 
cÚ¡ex´
 
ušt32_t
 
	gkReqL’
 = 
kKeyL’
 - 
kLog10NumKeysP”Reque¡
;

67 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’
 = 
kNumReqs
;

70 
cÚ¡ex´
 
ušt32_t
 
	gkPrštP”I‹rs
 = 8192;

71 
cÚ¡ex´
 
ušt32_t
 
	gkMaxPrštIÁ”v®Us
 = 1000 * 1000;

72 
cÚ¡ex´
 
ušt32_t
 
	gkPrštTimes
 = 100;

73 
cÚ¡ex´
 
ušt32_t
 
	gkL©sWšSize
 = 1 << 12;

75 
	sReq
 {

76 
	gd©a
[
kReqL’
];

79 
	sKey
 {

80 
	gd©a
[
kKeyL’
];

83 
	uV®ue
 {

84 
ušt32_t
 
	gnum
;

85 
	gd©a
[
kV®ueL’
];

88 
	sA¼ayEÁry
 {

89 
ušt8_t
 
	gd©a
[
kA¼ayEÁrySize
];

92 
®igÇs
(64è
	gCÁ
 {

93 
ušt64_t
 
	gc
;

96 
usšg
 
	gAµA¼ay
 = 
A¼ay
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>;

98 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

99 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Req
 
®l_g’_»qs
[
kNumReqs
];

100 
ušt32_t
 
	g®l_zf_»q_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’
];

102 
CÁ
 
	g»q_úts
[
kNumMutÜTh»ads
];

103 
ušt32_t
 
	gÏts
[
h–³rs
::
kNumCPUs
][
kL©sWšSize
];

104 
CÁ
 
	gÏts_idx
[
h–³rs
::
kNumCPUs
];

105 
CÁ
 
	g³r_cÜe_»q_idx
[
h–³rs
::
kNumCPUs
];

107 
	g¡d
::
©omic_æag
 
æag
;

108 
ušt64_t
 
	g´št_times
 = 0;

109 
ušt64_t
 
	g´ev_sum_»qs
 = 0;

110 
ušt64_t
 
	g´ev_us
 = 0;

111 
	g¡d
::
veùÜ
<> 
mİs_»cÜds
;

113 
	gkey
[
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
];

114 
	giv
[
Cry±oPP
::
AES
::
BLOCKSIZE
];

115 
	g¡d
::
unique_±r
<
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
> 
cbcEnüy±iÚ
;

116 
	g¡d
::
unique_±r
<
Cry±oPP
::
AES
::
Enüy±iÚ
> 
«sEnüy±iÚ
;

118 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

119 *
¬¿y
) {

120 
ušt32_t
 
	gËn
 = 0;

121 
	gn
) {

122 autØ
	gdig™
 = 
n
 % 10;

123 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

124 
	gn
 = 
n
 / 10;

126 
	gËn
 < 
	gsuffix_Ën
) {

127 
	g¬¿y
[
Ën
++] = '0';

129 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

132 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

133 
BUG_ON
(
Ën
 <= 0);

134 
´“m±_di§bË
();

135 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

136 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

137 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

138 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

139 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

143 
šlše
 
¿ndom_»q
(*
d©a
, 
ušt32_t
 
tid
) {

144 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kNumMutÜTh»ads
);

145 
¿ndom_¡ršg
(
d©a
, 
kReqL’
 - 
tid_Ën
);

146 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kReqL’
 -id_len);

149 
šlše
 
ušt32_t
 
¿ndom_ušt32
() {

150 
´“m±_di§bË
();

151 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

152 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

153 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
ušt32_t
> 
di¡ributiÚ
(

154 0, 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
());

155  
di¡ributiÚ
(
g’”©Ü
);

158 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

159 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

160 
	g¡d
::
¿ndom_deviû
 
rd
;

161 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

163 
mem£t
(
Ïts_idx
, 0, (lats_idx));

164 
mem£t
(
key
, 0x00, 
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
);

165 
mem£t
(
iv
, 0x00, 
Cry±oPP
::
AES
::
BLOCKSIZE
);

166 
	g«sEnüy±iÚ
.
»£t
(

167 
Ãw
 
Cry±oPP
::
AES
::
Enüy±iÚ
(
key
, Cry±oPP::AES::
DEFAULT_KEYLENGTH
));

168 
	gcbcEnüy±iÚ
.
»£t
(

169 
Ãw
 
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
(*
«sEnüy±iÚ
, 
iv
));

170 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

171 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

172 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

173 autØ
num_»qs_³r_th»ad
 = 
kNumReqs
 / 
kNumMutÜTh»ads
;

174 autØ
»q_off£t
 = 
tid
 * 
num_»qs_³r_th»ad
;

175 autØ*
th»ad_g’_»qs
 = &
®l_g’_»qs
[
»q_off£t
];

176 
ušt32_t
 
i
 = 0; i < 
num_»qs_³r_th»ad
; i++) {

177 
Req
 
»q
;

178 
¿ndom_»q
(
»q
.
d©a
, 
tid
);

179 
Key
 
key
;

180 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

181 
ušt32_t
 
j
 = 0; j < 
kNumKeysP”Reque¡
; j++) {

182 
­³nd_ušt32_to_ch¬_¬¿y
(
j
, 
kLog10NumKeysP”Reque¡
,

183 
key
.
d©a
 + 
kReqL’
);

184 
V®ue
 
v®ue
;

185 
v®ue
.
num
 = (
j
 ? 0 : 
»q_off£t
 + 
i
);

186 
D”efScİe
 
scİe
;

187 
hİscÙch
->
put
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
, 
kV®ueL’
,

188 (
ušt8_t
 *)
v®ue
.
d©a
);

190 
th»ad_g’_»qs
[
i
] = 
»q
;

194 autØ&
	gth»ad
 : 
th»ads
) {

195 
th»ad
.
Još
();

197 
´“m±_di§bË
();

198 
	gzf_bË_di¡ributiÚ
<> 
zf
(
kNumReqs
, 
kZfP¬amS
);

199 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

200 
cÚ¡ex´
 
ušt32_t
 
	gkP”CÜeWšIÁ”v®
 = 
kReqSeqL’
 / 
h–³rs
::
kNumCPUs
;

201 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’
; i++) {

202 autØ
	g¿nd_idx
 = 
zf
(*
g’”©Ü
);

203 
ušt32_t
 
	gj
 = 0; j < 
	gh–³rs
::
kNumCPUs
; j++) {

204 
	g®l_zf_»q_šdiûs
[
j
][(
i
 + (j * 
kP”CÜeWšIÁ”v®
)è% 
kReqSeqL’
] =

205 
¿nd_idx
;

208 
´“m±_’abË
();

211 
´•¬e
(
AµA¼ay
 *
¬¿y
) {

216 
cÚsume_¬¿y_’Œy
(cÚ¡ 
A¼ayEÁry
 &
’Œy
) {

217 
	g¡d
::
¡ršg
 
ch”‹xt
;

218 
	gCry±oPP
::
SŒ—mT¿nsfÜm©iÚF‹r
 
¡fEnüy±Ü
(

219 *
cbcEnüy±iÚ
, 
Ãw
 
Cry±oPP
::
SŒšgSšk
(
ch”‹xt
));

220 
	g¡fEnüy±Ü
.
Put
((cÚ¡ *)&
’Œy
.
d©a
, (entry));

221 
	g¡fEnüy±Ü
.
Mes§geEnd
();

222 
	g¡d
::
¡ršg
 
com´es£d
;

223 
	g¢­py
::
Com´ess
(
ch”‹xt
.
c_¡r
(), ch”‹xt.
size
(), &
com´es£d
);

224 autØ
	gcom´es£d_Ën
 = 
com´es£d
.
size
();

225 
ACCESS_ONCE
(
com´es£d_Ën
);

228 
´št_³rf
() {

229 ià(!
	gæag
.
‹¡_ªd_£t
()) {

230 
´“m±_di§bË
();

231 autØ
	gus
 = 
miüÙime
();

232 
ušt64_t
 
	gsum_»qs
 = 0;

233 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

234 
	gsum_»qs
 +ğ
ACCESS_ONCE
(
»q_úts
[
i
].
c
);

236 ià(
	gus
 - 
	g´ev_us
 > 
	gkMaxPrštIÁ”v®Us
) {

237 autØ
	gmİs
 =

238 (()(
sum_»qs
 - 
´ev_sum_»qs
è/ (
us
 - 
´ev_us
)) * 1.098;

239 
	gmİs_»cÜds
.
push_back
(
mİs
);

240 
	gus
 = 
miüÙime
();

241 ià(
	g´št_times
++ >ğ
kPrštTimes
) {

242 
cÚ¡ex´
 
kR©ioCho£nRecÜds
 = 0.1;

243 
ušt32_t
 
	gnum_cho£n_»cÜds
 =

244 
mİs_»cÜds
.
size
(è* 
kR©ioCho£nRecÜds
;

245 
	gmİs_»cÜds
.
”a£
(
mİs_»cÜds
.
begš
(),

246 
mİs_»cÜds
.
’d
(è- 
num_cho£n_»cÜds
);

247 
	g¡d
::
cout
 << "mops = "

248 << 
accumuÏ‹
(
mİs_»cÜds
.
begš
(), mİs_»cÜds.
’d
(),

250 
	gmİs_»cÜds
.
size
()

251 << 
	g¡d
::
’dl
;

252 
	g¡d
::
veùÜ
<
ušt32_t
> 
®l_Ïts
;

253 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

254 autØ
	gnum_Ïts
 = 
¡d
::
mš
((
ušt64_t
)
kL©sWšSize
, 
Ïts_idx
[
i
].
c
);

255 
	g®l_Ïts
.
š£¹
(
®l_Ïts
.
’d
(), &
Ïts
[
i
][0], &Ïts[i][
num_Ïts
]);

257 
	g¡d
::
sÜt
(
®l_Ïts
.
begš
(),‡Î_Ïts.
’d
());

258 
	g¡d
::
cout
 << "90ail†at (cycles) = "

259 << 
®l_Ïts
[®l_Ïts.
size
(è* 90.0 / 100] << 
¡d
::
’dl
;

260 
ex™
(0);

262 
	g´ev_us
 = 
us
;

263 
	g´ev_sum_»qs
 = 
sum_»qs
;

265 
´“m±_’abË
();

266 
	gæag
.
ş—r
();

270 
b’ch
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
, 
AµA¼ay
 *
¬¿y
) {

271 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

272 
	g´ev_us
 = 
miüÙime
();

273 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

274 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

275 
ušt32_t
 
út
 = 0;

277 ià(
uÆik–y
(
út
++ % 
kPrštP”I‹rs
 == 0)) {

278 
´“m±_di§bË
();

279 
´št_³rf
();

280 
´“m±_’abË
();

282 
´“m±_di§bË
();

283 autØ
cÜe_num
 = 
g‘_cÜe_num
();

284 autØ
»q_idx
 =

285 
®l_zf_»q_šdiûs
[
cÜe_num
][
³r_cÜe_»q_idx
[cÜe_num].
c
];

286 ià(
uÆik–y
(++
³r_cÜe_»q_idx
[
cÜe_num
].
c
 =ğ
kReqSeqL’
)) {

287 
³r_cÜe_»q_idx
[
cÜe_num
].
c
 = 0;

289 
´“m±_’abË
();

291 autØ&
»q
 = 
®l_g’_»qs
[
»q_idx
];

292 
Key
 
key
;

293 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

294 autØ
¡¬t
 = 
rdtsc
();

295 
ušt32_t
 
¬¿y_šdex
 = 0;

297 
D”efScİe
 
scİe
;

298 
ušt32_t
 
i
 = 0; i < 
kNumKeysP”Reque¡
; i++) {

299 
­³nd_ušt32_to_ch¬_¬¿y
(
i
, 
kLog10NumKeysP”Reque¡
,

300 
key
.
d©a
 + 
kReqL’
);

301 
V®ue
 
v®ue
;

302 
ušt16_t
 
v®ue_Ën
;

303 
hİscÙch
->
g‘
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

304 &
v®ue_Ën
, (
ušt8_t
 *)
v®ue
.
d©a
);

305 
¬¿y_šdex
 +ğ
v®ue
.
num
;

309 
¬¿y_šdex
 %ğ
kNumA¼ayEÁr›s
;

310 
D”efScİe
 
scİe
;

311 cÚ¡‡utØ&
¬¿y_’Œy
 =

312 
¬¿y
->
©
< 
Œue
>(
scİe
, 
¬¿y_šdex
);

313 
´“m±_di§bË
();

314 
cÚsume_¬¿y_’Œy
(
¬¿y_’Œy
);

315 
´“m±_’abË
();

317 autØ
’d
 = 
rdtsc
();

318 
´“m±_di§bË
();

319 
cÜe_num
 = 
g‘_cÜe_num
();

320 
Ïts
[
cÜe_num
][(
Ïts_idx
[cÜe_num].
c
++è% 
kL©sWšSize
] = 
’d
 - 
¡¬t
;

321 
´“m±_’abË
();

322 
ACCESS_ONCE
(
»q_úts
[
tid
].
c
)++;

326 autØ&
	gth»ad
 : 
th»ads
) {

327 
th»ad
.
Još
();

331 
	gpublic
:

332 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

333 autØ
hİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

334 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

335 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

336 
kRemÙeHashTabËSÏbSize
));

337 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

338 
´•¬e
(
hİscÙch
.
g‘
());

339 autØ
	g¬¿y_±r
 = 
¡d
::
unique_±r
<
AµA¼ay
>(

340 
mªag”
->
®loÿ‹_¬¿y_h—p
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>());

341 
	g¬¿y_±r
->
di§bË_´eãtch
();

342 
´•¬e
(
¬¿y_±r
.
g‘
());

343 
	g¡d
::
cout
 << "B’ch..." << 
¡d
::
’dl
;

344 
b’ch
(
hİscÙch
.
g‘
(), 
¬¿y_±r
.get());

347 
run
(
Ãddr
 
¿ddr
) {

348 
BUG_ON
(
madvi£
(
®l_g’_»qs
, (
Req
è* 
kNumReqs
, 
MADV_HUGEPAGE
) != 0);

349 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

350 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

351 
kCacheSize
, 
kNumGCTh»ads
,

352 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

353 
do_wÜk
(
mªag”
.
g‘
());

358 
	g¬gc
;

359 
F¬MemTe¡
 
	g‹¡
;

360 
	$_maš
(*
¬g
) {

361 **
¬gv
 = (**)
¬g
;

362 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

363 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

364 
‹¡
.
	`run
(
¿ddr
);

365 
	}
}

367 
	$maš
(
_¬gc
, *
¬gv
[]) {

368 
»t
;

370 ià(
_¬gc
 < 3) {

371 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

372  -
EINVAL
;

375 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

376 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

377 
i
 = 2; i < 
_¬gc
; i++) {

378 
¬gv
[
i
 - 1] =‡rgv[i];

380 
¬gc
 = 
_¬gc
 - 1;

382 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

383 ià(
»t
) {

384 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

385  
»t
;

389 
	}
}

	@exp/fig6bc/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"¬¿y.hµ
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

11 
	~"¢­py.h
"

12 
	~"¡©s.hµ
"

13 
	~"zf.hµ
"

16 
	~"üy±İp/«s.h
"

17 
	~"üy±İp/f‹rs.h
"

18 
	~"üy±İp/modes.h
"

20 
	~<®gÜ™hm
>

21 
	~<¬¿y
>

22 
	~<©omic
>

23 
	~<chrÚo
>

24 
	~<c¡dšt
>

25 
	~<c¡dlib
>

26 
	~<c¡ršg
>

27 
	~<io¡»am
>

28 
	~<lim™s
>

29 
	~<memÜy
>

30 
	~<num”ic
>

31 
	~<¿ndom
>

32 
	~<veùÜ
>

34 
usšg
 
Çme¥aû
 
çr_memÜy
;

36 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

38 
Çme¥aû
 
	gçr_memÜy
 {

39 şas 
	cF¬MemTe¡
 {

40 
	g´iv©e
:

42 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 563 * 
RegiÚ
::
kSize
;

43 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (17ULL << 30);

44 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

45 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 300;

48 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

49 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

50 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 = 25;

51 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 = 28;

52 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËSÏbSize
 = (4ULL << 30) * 1.05;

53 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

56 
cÚ¡ex´
 
ušt32_t
 
	gkNumA¼ayEÁr›s
 = 2 << 20;

57 
cÚ¡ex´
 
ušt32_t
 
	gkA¼ayEÁrySize
 = 8192;

60 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 40;

61 
cÚ¡ex´
 
	gkZfP¬amS
 = 0.85;

62 
cÚ¡ex´
 
ušt32_t
 
	gkNumKeysP”Reque¡
 = 32;

63 
cÚ¡ex´
 
ušt32_t
 
	gkNumReqs
 = 
kNumKVPaœs
 / 
kNumKeysP”Reque¡
;

64 
cÚ¡ex´
 
ušt32_t
 
	gkLog10NumKeysP”Reque¡
 =

65 
h–³rs
::
¡©ic_log
(10, 
kNumKeysP”Reque¡
);

66 
cÚ¡ex´
 
ušt32_t
 
	gkReqL’
 = 
kKeyL’
 - 
kLog10NumKeysP”Reque¡
;

67 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’
 = 
kNumReqs
;

70 
cÚ¡ex´
 
ušt32_t
 
	gkPrštP”I‹rs
 = 8192;

71 
cÚ¡ex´
 
ušt32_t
 
	gkMaxPrštIÁ”v®Us
 = 1000 * 1000;

72 
cÚ¡ex´
 
ušt32_t
 
	gkPrštTimes
 = 100;

74 
	sReq
 {

75 
	gd©a
[
kReqL’
];

78 
	sKey
 {

79 
	gd©a
[
kKeyL’
];

82 
	uV®ue
 {

83 
ušt32_t
 
	gnum
;

84 
	gd©a
[
kV®ueL’
];

87 
	sA¼ayEÁry
 {

88 
ušt8_t
 
	gd©a
[
kA¼ayEÁrySize
];

91 
®igÇs
(64è
	gCÁ
 {

92 
ušt64_t
 
	gc
;

95 
usšg
 
	gAµA¼ay
 = 
A¼ay
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>;

97 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

98 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Req
 
®l_g’_»qs
[
kNumReqs
];

99 
ušt32_t
 
	g®l_zf_»q_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’
];

101 
CÁ
 
	g»q_úts
[
kNumMutÜTh»ads
];

102 
CÁ
 
	gloÿl_¬¿y_miss_úts
[
kNumMutÜTh»ads
];

103 
CÁ
 
	gloÿl_hashbË_miss_úts
[
kNumMutÜTh»ads
];

104 
CÁ
 
	g³r_cÜe_»q_idx
[
h–³rs
::
kNumCPUs
];

106 
	g¡d
::
©omic_æag
 
æag
;

107 
ušt64_t
 
	g´št_times
 = 0;

108 
ušt64_t
 
	g´ev_sum_»qs
 = 0;

109 
ušt64_t
 
	g´ev_sum_¬¿y_mis£s
 = 0;

110 
ušt64_t
 
	g´ev_sum_hashbË_mis£s
 = 0;

111 
ušt64_t
 
	g´ev_us
 = 0;

112 
ušt64_t
 
	gruÂšg_us
 = 0;

113 
	g¡d
::
veùÜ
<> 
mİs_»cÜds
;

114 
	g¡d
::
veùÜ
<> 
hashbË_miss_¿‹_»cÜds
;

115 
	g¡d
::
veùÜ
<> 
¬¿y_miss_¿‹_»cÜds
;

117 
	gkey
[
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
];

118 
	giv
[
Cry±oPP
::
AES
::
BLOCKSIZE
];

119 
	g¡d
::
unique_±r
<
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
> 
cbcEnüy±iÚ
;

120 
	g¡d
::
unique_±r
<
Cry±oPP
::
AES
::
Enüy±iÚ
> 
«sEnüy±iÚ
;

123 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

124 *
¬¿y
) {

125 
ušt32_t
 
	gËn
 = 0;

126 
	gn
) {

127 autØ
	gdig™
 = 
n
 % 10;

128 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

129 
	gn
 = 
n
 / 10;

131 
	gËn
 < 
	gsuffix_Ën
) {

132 
	g¬¿y
[
Ën
++] = '0';

134 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

137 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

138 
BUG_ON
(
Ën
 <= 0);

139 
´“m±_di§bË
();

140 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

141 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

142 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

143 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

144 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

148 
šlše
 
¿ndom_»q
(*
d©a
, 
ušt32_t
 
tid
) {

149 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kNumMutÜTh»ads
);

150 
¿ndom_¡ršg
(
d©a
, 
kReqL’
 - 
tid_Ën
);

151 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kReqL’
 -id_len);

154 
šlše
 
ušt32_t
 
¿ndom_ušt32
() {

155 
´“m±_di§bË
();

156 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

157 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

158 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
ušt32_t
> 
di¡ributiÚ
(

159 0, 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
());

160  
di¡ributiÚ
(
g’”©Ü
);

163 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

164 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

165 
	g¡d
::
¿ndom_deviû
 
rd
;

166 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

168 
mem£t
(
key
, 0x00, 
Cry±oPP
::
AES
::
DEFAULT_KEYLENGTH
);

169 
mem£t
(
iv
, 0x00, 
Cry±oPP
::
AES
::
BLOCKSIZE
);

170 
	g«sEnüy±iÚ
.
»£t
(

171 
Ãw
 
Cry±oPP
::
AES
::
Enüy±iÚ
(
key
, Cry±oPP::AES::
DEFAULT_KEYLENGTH
));

172 
	gcbcEnüy±iÚ
.
»£t
(

173 
Ãw
 
Cry±oPP
::
CBC_Mode_Ex‹º®Ch”
::
Enüy±iÚ
(*
«sEnüy±iÚ
, 
iv
));

174 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

175 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

176 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

177 autØ
num_»qs_³r_th»ad
 = 
kNumReqs
 / 
kNumMutÜTh»ads
;

178 autØ
»q_off£t
 = 
tid
 * 
num_»qs_³r_th»ad
;

179 autØ*
th»ad_g’_»qs
 = &
®l_g’_»qs
[
»q_off£t
];

180 
ušt32_t
 
i
 = 0; i < 
num_»qs_³r_th»ad
; i++) {

181 
Req
 
»q
;

182 
¿ndom_»q
(
»q
.
d©a
, 
tid
);

183 
Key
 
key
;

184 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

185 
ušt32_t
 
j
 = 0; j < 
kNumKeysP”Reque¡
; j++) {

186 
­³nd_ušt32_to_ch¬_¬¿y
(
j
, 
kLog10NumKeysP”Reque¡
,

187 
key
.
d©a
 + 
kReqL’
);

188 
V®ue
 
v®ue
;

189 
v®ue
.
num
 = (
j
 ? 0 : 
»q_off£t
 + 
i
);

190 
D”efScİe
 
scİe
;

191 
hİscÙch
->
put
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
, 
kV®ueL’
,

192 (
ušt8_t
 *)
v®ue
.
d©a
);

194 
th»ad_g’_»qs
[
i
] = 
»q
;

198 autØ&
	gth»ad
 : 
th»ads
) {

199 
th»ad
.
Još
();

201 
´“m±_di§bË
();

202 
	gzf_bË_di¡ributiÚ
<> 
zf
(
kNumReqs
, 
kZfP¬amS
);

203 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

204 
cÚ¡ex´
 
ušt32_t
 
	gkP”CÜeWšIÁ”v®
 = 
kReqSeqL’
 / 
h–³rs
::
kNumCPUs
;

205 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’
; i++) {

206 autØ
	g¿nd_idx
 = 
zf
(*
g’”©Ü
);

207 
ušt32_t
 
	gj
 = 0; j < 
	gh–³rs
::
kNumCPUs
; j++) {

208 
	g®l_zf_»q_šdiûs
[
j
][(
i
 + (j * 
kP”CÜeWšIÁ”v®
)è% 
kReqSeqL’
] =

209 
¿nd_idx
;

212 
´“m±_’abË
();

215 
´•¬e
(
AµA¼ay
 *
¬¿y
) {

220 
cÚsume_¬¿y_’Œy
(cÚ¡ 
A¼ayEÁry
 &
’Œy
) {

221 
	g¡d
::
¡ršg
 
ch”‹xt
;

222 
	gCry±oPP
::
SŒ—mT¿nsfÜm©iÚF‹r
 
¡fEnüy±Ü
(

223 *
cbcEnüy±iÚ
, 
Ãw
 
Cry±oPP
::
SŒšgSšk
(
ch”‹xt
));

224 
	g¡fEnüy±Ü
.
Put
((cÚ¡ *)&
’Œy
.
d©a
, (entry));

225 
	g¡fEnüy±Ü
.
Mes§geEnd
();

226 
	g¡d
::
¡ršg
 
com´es£d
;

227 
	g¢­py
::
Com´ess
(
ch”‹xt
.
c_¡r
(), ch”‹xt.
size
(), &
com´es£d
);

228 autØ
	gcom´es£d_Ën
 = 
com´es£d
.
size
();

229 
ACCESS_ONCE
(
com´es£d_Ën
);

232 
´št_³rf
() {

233 ià(!
	gæag
.
‹¡_ªd_£t
()) {

234 
´“m±_di§bË
();

235 autØ
	gus
 = 
miüÙime
();

236 
ušt64_t
 
	gsum_»qs
 = 0;

237 
ušt64_t
 
	gsum_hashbË_mis£s
 = 0;

238 
ušt64_t
 
	gsum_¬¿y_mis£s
 = 0;

239 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

240 
	gsum_»qs
 +ğ
ACCESS_ONCE
(
»q_úts
[
i
].
c
);

241 
	gsum_hashbË_mis£s
 +ğ
ACCESS_ONCE
(
loÿl_hashbË_miss_úts
[
i
].
c
);

242 
	gsum_¬¿y_mis£s
 +ğ
ACCESS_ONCE
(
loÿl_¬¿y_miss_úts
[
i
].
c
);

244 ià(
	gus
 - 
	g´ev_us
 > 
	gkMaxPrštIÁ”v®Us
) {

245 autØ
	gmİs
 =

246 (()(
sum_»qs
 - 
´ev_sum_»qs
è/ (
us
 - 
´ev_us
)) * 1.098;

247 autØ
	ghashbË_miss_¿‹
 =

248 ()(
sum_hashbË_mis£s
 - 
´ev_sum_hashbË_mis£s
) /

249 (
kNumKeysP”Reque¡
 * (
sum_»qs
 - 
´ev_sum_»qs
));

250 autØ
	g¬¿y_miss_¿‹
 =

251 ()(
sum_¬¿y_mis£s
 - 
´ev_sum_¬¿y_mis£s
) /

252 (
sum_»qs
 - 
´ev_sum_»qs
);

253 
	gmİs_»cÜds
.
push_back
(
mİs
);

254 
	ghashbË_miss_¿‹_»cÜds
.
push_back
(
hashbË_miss_¿‹
);

255 
	g¬¿y_miss_¿‹_»cÜds
.
push_back
(
¬¿y_miss_¿‹
);

256 
	gus
 = 
miüÙime
();

257 
	gruÂšg_us
 +ğ(
us
 - 
´ev_us
);

258 ià(
	g´št_times
++ >ğ
kPrštTimes
) {

259 
cÚ¡ex´
 
kR©ioCho£nRecÜds
 = 0.1;

260 
ušt32_t
 
	gnum_cho£n_»cÜds
 =

261 
mİs_»cÜds
.
size
(è* 
kR©ioCho£nRecÜds
;

262 
	gmİs_»cÜds
.
”a£
(
mİs_»cÜds
.
begš
(),

263 
mİs_»cÜds
.
’d
(è- 
num_cho£n_»cÜds
);

264 
	ghashbË_miss_¿‹_»cÜds
.
”a£
(
hashbË_miss_¿‹_»cÜds
.
begš
(),

265 
hashbË_miss_¿‹_»cÜds
.
’d
() -

266 
num_cho£n_»cÜds
);

267 
	g¬¿y_miss_¿‹_»cÜds
.
”a£
(
¬¿y_miss_¿‹_»cÜds
.
begš
(),

268 
¬¿y_miss_¿‹_»cÜds
.
’d
() -

269 
num_cho£n_»cÜds
);

270 
	g¡d
::
cout
 << "mops = "

271 << 
accumuÏ‹
(
mİs_»cÜds
.
begš
(), mİs_»cÜds.
’d
(),

273 
	gmİs_»cÜds
.
size
()

274 << 
	g¡d
::
’dl
;

275 
	g¡d
::
cout
 << "hashtable miss„ate = "

276 << 
accumuÏ‹
(
hashbË_miss_¿‹_»cÜds
.
begš
(),

277 
hashbË_miss_¿‹_»cÜds
.
’d
(), 0.0) /

278 
	ghashbË_miss_¿‹_»cÜds
.
size
()

279 << 
	g¡d
::
’dl
;

280 
	g¡d
::
cout
 << "array miss„ate = "

281 << 
accumuÏ‹
(
¬¿y_miss_¿‹_»cÜds
.
begš
(),

282 
¬¿y_miss_¿‹_»cÜds
.
’d
(), 0.0) /

283 
	g¬¿y_miss_¿‹_»cÜds
.
size
()

284 << 
	g¡d
::
’dl
;

285 
ex™
(0);

287 
	g´ev_us
 = 
us
;

288 
	g´ev_sum_»qs
 = 
sum_»qs
;

289 
	g´ev_sum_¬¿y_mis£s
 = 
sum_¬¿y_mis£s
;

290 
	g´ev_sum_hashbË_mis£s
 = 
sum_hashbË_mis£s
;

292 
´“m±_’abË
();

293 
	gæag
.
ş—r
();

297 
b’ch
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
, 
AµA¼ay
 *
¬¿y
) {

298 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

299 
	g´ev_us
 = 
miüÙime
();

300 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

301 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

302 
ušt32_t
 
út
 = 0;

304 ià(
uÆik–y
(
út
++ % 
kPrštP”I‹rs
 == 0)) {

305 
´“m±_di§bË
();

306 
´št_³rf
();

307 
´“m±_’abË
();

309 
´“m±_di§bË
();

310 autØ
cÜe_num
 = 
g‘_cÜe_num
();

311 autØ
»q_idx
 =

312 
®l_zf_»q_šdiûs
[
cÜe_num
][
³r_cÜe_»q_idx
[cÜe_num].
c
];

313 ià(
uÆik–y
(++
³r_cÜe_»q_idx
[
cÜe_num
].
c
 =ğ
kReqSeqL’
)) {

314 
³r_cÜe_»q_idx
[
cÜe_num
].
c
 = 0;

316 
´“m±_’abË
();

318 autØ&
»q
 = 
®l_g’_»qs
[
»q_idx
];

319 
Key
 
key
;

320 
memıy
(
key
.
d©a
, 
»q
.d©a, 
kReqL’
);

321 
ušt32_t
 
¬¿y_šdex
 = 0;

323 
D”efScİe
 
scİe
;

324 
ušt32_t
 
i
 = 0; i < 
kNumKeysP”Reque¡
; i++) {

325 
­³nd_ušt32_to_ch¬_¬¿y
(
i
, 
kLog10NumKeysP”Reque¡
,

326 
key
.
d©a
 + 
kReqL’
);

327 
V®ue
 
v®ue
;

328 
ušt16_t
 
v®ue_Ën
;

329 
boŞ
 
fÜw¬ded
 = 
çl£
;

330 
hİscÙch
->
_g‘
(
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

331 &
v®ue_Ën
, (
ušt8_t
 *)
v®ue
.
d©a
, &
fÜw¬ded
);

332 
ACCESS_ONCE
(
loÿl_hashbË_miss_úts
[
tid
].
c
è+ğ
fÜw¬ded
;

333 
¬¿y_šdex
 +ğ
v®ue
.
num
;

337 
¬¿y_šdex
 %ğ
kNumA¼ayEÁr›s
;

338 
D”efScİe
 
scİe
;

339 
ACCESS_ONCE
(
loÿl_¬¿y_miss_úts
[
tid
].
c
) +=

340 !
¬¿y
->
±rs_
[
¬¿y_šdex
].
m‘a
().
is_´e£Á
();

341 cÚ¡‡utØ&
¬¿y_’Œy
 =

342 
¬¿y
->
©
< 
Œue
>(
scİe
, 
¬¿y_šdex
);

343 
´“m±_di§bË
();

344 
cÚsume_¬¿y_’Œy
(
¬¿y_’Œy
);

345 
´“m±_’abË
();

347 
´“m±_di§bË
();

348 
cÜe_num
 = 
g‘_cÜe_num
();

349 
´“m±_’abË
();

350 
ACCESS_ONCE
(
»q_úts
[
tid
].
c
)++;

354 autØ&
	gth»ad
 : 
th»ads
) {

355 
th»ad
.
Još
();

359 
	gpublic
:

360 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

361 autØ
hİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

362 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

363 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

364 
kRemÙeHashTabËSÏbSize
));

365 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

366 
´•¬e
(
hİscÙch
.
g‘
());

367 autØ
	g¬¿y_±r
 = 
¡d
::
unique_±r
<
AµA¼ay
>(

368 
mªag”
->
®loÿ‹_¬¿y_h—p
<
A¼ayEÁry
, 
	gkNumA¼ayEÁr›s
>());

369 
	g¬¿y_±r
->
di§bË_´eãtch
();

370 
´•¬e
(
¬¿y_±r
.
g‘
());

371 
	g¡d
::
cout
 << "B’ch..." << 
¡d
::
’dl
;

372 
b’ch
(
hİscÙch
.
g‘
(), 
¬¿y_±r
.get());

375 
run
(
Ãddr
 
¿ddr
) {

376 
BUG_ON
(
madvi£
(
®l_g’_»qs
, (
Req
è* 
kNumReqs
, 
MADV_HUGEPAGE
) != 0);

377 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

378 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

379 
kCacheSize
, 
kNumGCTh»ads
,

380 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

381 
do_wÜk
(
mªag”
.
g‘
());

386 
	g¬gc
;

387 
F¬MemTe¡
 
	g‹¡
;

388 
	$_maš
(*
¬g
) {

389 **
¬gv
 = (**)
¬g
;

390 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

391 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

392 
‹¡
.
	`run
(
¿ddr
);

393 
	}
}

395 
	$maš
(
_¬gc
, *
¬gv
[]) {

396 
»t
;

398 ià(
_¬gc
 < 3) {

399 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

400  -
EINVAL
;

403 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

404 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

405 
i
 = 2; i < 
_¬gc
; i++) {

406 
¬gv
[
i
 - 1] =‡rgv[i];

408 
¬gc
 = 
_¬gc
 - 1;

410 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

411 ià(
»t
) {

412 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

413  
»t
;

417 
	}
}

	@exp/fig9/aifm/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"d”ef_scİe.hµ
"

7 
	~"deviû.hµ
"

8 
	~"h–³rs.hµ
"

9 
	~"mªag”.hµ
"

10 
	~"¡©s.hµ
"

11 
	~"zf.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<chrÚo
>

15 
	~<c¡dšt
>

16 
	~<c¡dlib
>

17 
	~<io¡»am
>

18 
	~<memÜy
>

19 
	~<¿ndom
>

21 
usšg
 
Çme¥aû
 
çr_memÜy
;

22 
usšg
 
Çme¥aû
 
	g¡d
;

24 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

26 
	g¡d
::
©omic_æag
 
æag
;

27 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

28 
__th»ad
 
ušt32_t
 
	g³r_cÜe_»q_idx
 = 0;

29 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
;

31 
Çme¥aû
 
	gçr_memÜy
 {

32 şas 
	cF¬MemTe¡
 {

33 
	g´iv©e
:

34 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 2048 * 
RegiÚ
::
kSize
;

35 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

36 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 100;

37 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

38 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

39 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 = 27;

40 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 = 28;

41 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËD©aSize
 = (4ULL << 30);

42 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

43 
cÚ¡ex´
 
ušt32_t
 
	gkNumI‹rsP”Scİe
 = 64;

44 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 400;

45 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’P”CÜe
 = 
kNumKVPaœs
;

46 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 650;

47 
cÚ¡ex´
 
ušt32_t
 
	gkMÚ™ÜP”I‹r
 = 262144;

48 
cÚ¡ex´
 
ušt32_t
 
	gkMšMÚ™ÜIÁ”v®Us
 = 10 * 1000 * 1000;

49 
cÚ¡ex´
 
ušt32_t
 
	gkMaxRuÂšgUs
 = 200 * 1000 * 1000;

50 
cÚ¡ex´
 
	gkZfP¬amS
 = 0;

52 
	sKey
 {

53 
	gd©a
[
kKeyL’
];

56 
	sV®ue
 {

57 
	gd©a
[
kV®ueL’
];

60 
®igÇs
(64è
	gCÁ
 {

61 
ušt64_t
 
	gc
;

64 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Key
 
®l_g’_keys
[
kNumKVPaœs
];

65 
ušt32_t
 
	g®l_zf_key_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’P”CÜe
];

66 
CÁ
 
	gúts
[
kNumMutÜTh»ads
];

67 
	g¡d
::
veùÜ
<> 
mİs_vec
;

69 
ušt64_t
 
	g´ev_sum_úts
 = 0;

70 
ušt64_t
 
	g´ev_us
 = 0;

71 
ušt64_t
 
	gruÂšg_us
 = 0;

73 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

74 *
¬¿y
) {

75 
ušt32_t
 
	gËn
 = 0;

76 
	gn
) {

77 autØ
	gdig™
 = 
n
 % 10;

78 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

79 
	gn
 = 
n
 / 10;

81 
	gËn
 < 
	gsuffix_Ën
) {

82 
	g¬¿y
[
Ën
++] = '0';

84 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

87 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

88 
´“m±_di§bË
();

89 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

90 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

91 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

92 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

93 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

97 
šlše
 
¿ndom_key
(*
d©a
, 
ušt32_t
 
tid
) {

98 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kNumMutÜTh»ads
);

99 
¿ndom_¡ršg
(
d©a
, 
kKeyL’
 - 
tid_Ën
);

100 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kKeyL’
 -id_len);

103 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

104 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

105 
	g¡d
::
¿ndom_deviû
 
rd
;

106 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

109 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

110 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

111 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

112 autØ
num_kv_·œs
 = 
kNumKVPaœs
 / 
kNumMutÜTh»ads
;

113 ià(
tid
 =ğ
kNumMutÜTh»ads
 - 1) {

114 
num_kv_·œs
 +ğ
kNumKVPaœs
 % 
kNumMutÜTh»ads
;

116 
D”efScİe
 
scİe
;

117 autØ*
th»ad_g’_keys
 =

118 &
®l_g’_keys
[
tid
 * (
kNumKVPaœs
 / 
kNumMutÜTh»ads
)];

119 
Key
 
key
;

120 
V®ue
 
v®
;

121 
ušt32_t
 
i
 = 0; i < 
num_kv_·œs
; i++) {

122 ià(
uÆik–y
(
i
 % 
kNumI‹rsP”Scİe
 == 0)) {

123 
scİe
.
»Ãw
();

125 
¿ndom_key
(
key
.
d©a
, 
tid
);

126 
¿ndom_¡ršg
(
v®
.
d©a
, 
kV®ueL’
);

127 
hİscÙch_±r
->
put
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

128 
kV®ueL’
, (cÚ¡ 
ušt8_t
 *)
v®
.
d©a
);

129 
th»ad_g’_keys
[
i
] = 
key
;

133 autØ&
	gth»ad
 : 
th»ads
) {

134 
th»ad
.
Još
();

136 
´“m±_di§bË
();

137 
	gzf_bË_di¡ributiÚ
<> 
zf
(
kNumKVPaœs
, 
kZfP¬amS
);

138 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

139 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’P”CÜe
; i++) {

140 autØ
	gidx
 = 
zf
(*
g’”©Ü
);

141 
BUG_ON
(
idx
 >ğ
kNumKVPaœs
);

142 
	g®l_zf_key_šdiûs
[0][
i
] = 
idx
;

144 
ušt32_t
 
	gk
 = 1; k < 
	gh–³rs
::
kNumCPUs
; k++) {

145 
memıy
(
®l_zf_key_šdiûs
[
k
],‡ll_zipf_key_indices[0],

146 (
ušt32_t
è* 
kReqSeqL’P”CÜe
);

148 
´“m±_’abË
();

151 
mÚ™Ü_³rf
() {

152 ià(!
	gæag
.
‹¡_ªd_£t
()) {

153 autØ
	gus
 = 
miüÙime
();

154 ià(
	gus
 - 
	g´ev_us
 > 
	gkMšMÚ™ÜIÁ”v®Us
) {

155 
ušt64_t
 
	gsum_úts
 = 0;

156 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

157 
	gsum_úts
 +ğ
ACCESS_ONCE
(
úts
[
i
].
c
);

159 
	gus
 = 
miüÙime
();

160 autØ
	gmİs
 = ()(
sum_úts
 - 
´ev_sum_úts
è/ (
us
 - 
´ev_us
);

161 
	gmİs_vec
.
push_back
(
mİs
);

162 
	gruÂšg_us
 +ğ(
us
 - 
´ev_us
);

163 ià(
	gruÂšg_us
 >ğ
kMaxRuÂšgUs
) {

164 
¡d
::
veùÜ
<> 
Ï¡_5_mİs
(

165 
mİs_vec
.
’d
(è- 
¡d
::
mš
(
¡©ic_ÿ¡
<>(mİs_vec.
size
()), 5),

166 
mİs_vec
.
’d
());

167 
	g¡d
::
cout
 << "mops = "

168 << 
¡d
::
accumuÏ‹
(
Ï¡_5_mİs
.
begš
(),†a¡_5_mİs.
’d
(),

170 
	gÏ¡_5_mİs
.
size
()

171 << 
	g¡d
::
’dl
;

172 
	g¡d
::
cout
 << "DÚe. FÜûƒx™šg..." << 
¡d
::
’dl
;

173 
ex™
(0);

175 
	g´ev_us
 = 
us
;

176 
	g´ev_sum_úts
 = 
sum_úts
;

178 
	gæag
.
ş—r
();

182 
b’ch_g‘
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

183 
	g´ev_us
 = 
miüÙime
();

184 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

185 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

186 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

187 
D”efScİe
 
scİe
;

188 
ušt32_t
 
út
 = 0;

190 ià(
uÆik–y
(
út
++ % 
kNumI‹rsP”Scİe
 == 0)) {

191 
scİe
.
»Ãw
();

193 
´“m±_di§bË
();

194 ià(
uÆik–y
(
út
 % 
kMÚ™ÜP”I‹r
 == 0)) {

195 
mÚ™Ü_³rf
();

197 autØ
key_idx
 =

198 
®l_zf_key_šdiûs
[
g‘_cÜe_num
()][
³r_cÜe_»q_idx
++];

199 ià(
uÆik–y
(
³r_cÜe_»q_idx
 =ğ
kReqSeqL’P”CÜe
)) {

200 
³r_cÜe_»q_idx
 = 0;

202 
´“m±_’abË
();

203 autØ&
key
 = 
®l_g’_keys
[
key_idx
];

204 
ušt16_t
 
v®_Ën
;

205 
V®ue
 
v®
;

206 
hİscÙch_±r
->
g‘
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

207 &
v®_Ën
, (
ušt8_t
 *)
v®
.
d©a
);

208 
ACCESS_ONCE
(
úts
[
tid
].
c
)++;

209 
DONT_OPTIMIZE
(
v®
);

213 autØ&
	gth»ad
 : 
th»ads
) {

214 
th»ad
.
Još
();

218 
	gpublic
:

219 
run
(
Ãddr
 
¿ddr
) {

220 
BUG_ON
(
madvi£
(
®l_g’_keys
, ×Î_g’_keys), 
MADV_HUGEPAGE
) != 0);

221 
	gmªag”
.
»£t
(
F¬MemMªag”FaùÜy
::
bud
(

222 
kCacheSize
, 
kNumGCTh»ads
,

223 
Ãw
 
TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

224 autØ
	ghİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

225 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

226 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

227 
kRemÙeHashTabËD©aSize
));

228 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

229 
´•¬e
(
hİscÙch
.
g‘
());

230 
	g¡d
::
cout
 << "G‘..." << 
¡d
::
’dl
;

231 
b’ch_g‘
(
hİscÙch
.
g‘
());

232 
	ghİscÙch
.
»£t
();

233 
	gmªag”
.
»£t
();

238 
	g¬gc
;

239 
F¬MemTe¡
 
	g‹¡
;

240 
	$my_maš
(*
¬g
) {

241 **
¬gv
 = (**)
¬g
;

242 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

243 
‹¡
.
	`run
(
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
));

244 
	}
}

246 
	$maš
(
_¬gc
, *
¬gv
[]) {

247 
»t
;

249 ià(
_¬gc
 < 3) {

250 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

251  -
EINVAL
;

254 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

255 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

256 
i
 = 2; i < 
_¬gc
; i++) {

257 
¬gv
[
i
 - 1] =‡rgv[i];

259 
¬gc
 = 
_¬gc
 - 1;

261 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
my_maš
, 
¬gv
);

262 ià(
»t
) {

263 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

264  
»t
;

268 
	}
}

	@exp/fig9/linux_mem/main.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"d”ef_scİe.hµ
"

7 
	~"deviû.hµ
"

8 
	~"h–³rs.hµ
"

9 
	~"mªag”.hµ
"

10 
	~"¡©s.hµ
"

11 
	~"zf.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<chrÚo
>

15 
	~<c¡dšt
>

16 
	~<c¡dlib
>

17 
	~<io¡»am
>

18 
	~<memÜy
>

19 
	~<¿ndom
>

21 
usšg
 
Çme¥aû
 
çr_memÜy
;

22 
usšg
 
Çme¥aû
 
	g¡d
;

24 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

26 
	g¡d
::
©omic_æag
 
æag
;

27 
	g¡d
::
unique_±r
<
¡d
::
mt19937
> 
g’”©Üs
[
h–³rs
::
kNumCPUs
];

28 
__th»ad
 
ušt32_t
 
	g³r_cÜe_»q_idx
 = 0;

29 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
;

31 
Çme¥aû
 
	gçr_memÜy
 {

32 şas 
	cF¬MemTe¡
 {

33 
	g´iv©e
:

34 
cÚ¡ex´
 
ušt64_t
 
kCacheSize
 = 16384 * 
RegiÚ
::
kSize
;

35 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

36 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 100;

37 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 12;

38 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 4;

39 
cÚ¡ex´
 
ušt32_t
 
	gkLoÿlHashTabËNumEÁr›sShiá
 =

41 
cÚ¡ex´
 
ušt32_t
 
	gkRemÙeHashTabËNumEÁr›sShiá
 =

43 
cÚ¡ex´
 
ušt64_t
 
	gkRemÙeHashTabËD©aSize
 = (4ULL << 30);

44 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 = 1 << 27;

45 
cÚ¡ex´
 
ušt32_t
 
	gkNumI‹rsP”Scİe
 = 64;

46 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜTh»ads
 = 400;

47 
cÚ¡ex´
 
ušt32_t
 
	gkReqSeqL’P”CÜe
 = 
kNumKVPaœs
;

48 
cÚ¡ex´
 
ušt32_t
 
	gkMÚ™ÜP”I‹r
 = 262144;

49 
cÚ¡ex´
 
ušt32_t
 
	gkMšMÚ™ÜIÁ”v®Us
 = 10 * 1000 * 1000;

50 
cÚ¡ex´
 
ušt32_t
 
	gkMaxRuÂšgUs
 = 200 * 1000 * 1000;

51 
cÚ¡ex´
 
	gkZfP¬amS
 = 0;

53 
	sKey
 {

54 
	gd©a
[
kKeyL’
];

57 
	sV®ue
 {

58 
	gd©a
[
kV®ueL’
];

61 
®igÇs
(64è
	gCÁ
 {

62 
ušt64_t
 
	gc
;

65 
®igÇs
(
h–³rs
::
kHug•ageSize
è
Key
 
®l_g’_keys
[
kNumKVPaœs
];

66 
ušt32_t
 
	g®l_zf_key_šdiûs
[
h–³rs
::
kNumCPUs
][
kReqSeqL’P”CÜe
];

67 
CÁ
 
	gúts
[
kNumMutÜTh»ads
];

68 
	g¡d
::
veùÜ
<> 
mİs_vec
;

70 
ušt64_t
 
	g´ev_sum_úts
 = 0;

71 
ušt64_t
 
	g´ev_us
 = 0;

72 
ušt64_t
 
	gruÂšg_us
 = 0;

74 
šlše
 
­³nd_ušt32_to_ch¬_¬¿y
(
ušt32_t
 
n
, ušt32_ˆ
suffix_Ën
,

75 *
¬¿y
) {

76 
ušt32_t
 
	gËn
 = 0;

77 
	gn
) {

78 autØ
	gdig™
 = 
n
 % 10;

79 
	g¬¿y
[
Ën
++] = 
dig™
 + '0';

80 
	gn
 = 
n
 / 10;

82 
	gËn
 < 
	gsuffix_Ën
) {

83 
	g¬¿y
[
Ën
++] = '0';

85 
	g¡d
::
»v”£
(
¬¿y
,‡¼ay + 
suffix_Ën
);

88 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

89 
´“m±_di§bË
();

90 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

91 autØ&
	gg’”©Ü
 = *
g’”©Üs
[
g‘_cÜe_num
()];

92 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

93 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

94 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

98 
šlše
 
¿ndom_key
(*
d©a
, 
ušt32_t
 
tid
) {

99 autØ
	gtid_Ën
 = 
h–³rs
::
¡©ic_log
(10, 
kNumMutÜTh»ads
);

100 
¿ndom_¡ršg
(
d©a
, 
kKeyL’
 - 
tid_Ën
);

101 
­³nd_ušt32_to_ch¬_¬¿y
(
tid
, 
tid_Ën
, 
d©a
 + 
kKeyL’
 -id_len);

104 
´•¬e
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

105 
ušt32_t
 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

106 
	g¡d
::
¿ndom_deviû
 
rd
;

107 
	gg’”©Üs
[
i
].
»£t
(
Ãw
 
¡d
::
mt19937
(
rd
()));

110 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

111 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

112 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

113 autØ
num_kv_·œs
 = 
kNumKVPaœs
 / 
kNumMutÜTh»ads
;

114 ià(
tid
 =ğ
kNumMutÜTh»ads
 - 1) {

115 
num_kv_·œs
 +ğ
kNumKVPaœs
 % 
kNumMutÜTh»ads
;

117 
D”efScİe
 
scİe
;

118 autØ*
th»ad_g’_keys
 =

119 &
®l_g’_keys
[
tid
 * (
kNumKVPaœs
 / 
kNumMutÜTh»ads
)];

120 
Key
 
key
;

121 
V®ue
 
v®
;

122 
ušt32_t
 
i
 = 0; i < 
num_kv_·œs
; i++) {

123 ià(
uÆik–y
(
i
 % 
kNumI‹rsP”Scİe
 == 0)) {

124 
scİe
.
»Ãw
();

126 
¿ndom_key
(
key
.
d©a
, 
tid
);

127 
¿ndom_¡ršg
(
v®
.
d©a
, 
kV®ueL’
);

128 
hİscÙch_±r
->
put
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

129 
kV®ueL’
, (cÚ¡ 
ušt8_t
 *)
v®
.
d©a
);

130 
th»ad_g’_keys
[
i
] = 
key
;

134 autØ&
	gth»ad
 : 
th»ads
) {

135 
th»ad
.
Još
();

137 
´“m±_di§bË
();

138 
	gzf_bË_di¡ributiÚ
<> 
zf
(
kNumKVPaœs
, 
kZfP¬amS
);

139 autØ&
	gg’”©Ü
 = 
g’”©Üs
[
g‘_cÜe_num
()];

140 
ušt32_t
 
	gi
 = 0; i < 
	gkReqSeqL’P”CÜe
; i++) {

141 autØ
	gidx
 = 
zf
(*
g’”©Ü
);

142 
BUG_ON
(
idx
 >ğ
kNumKVPaœs
);

143 
	g®l_zf_key_šdiûs
[0][
i
] = 
idx
;

145 
ušt32_t
 
	gk
 = 1; k < 
	gh–³rs
::
kNumCPUs
; k++) {

146 
memıy
(
®l_zf_key_šdiûs
[
k
],‡ll_zipf_key_indices[0],

147 (
ušt32_t
è* 
kReqSeqL’P”CÜe
);

149 
´“m±_’abË
();

152 
mÚ™Ü_³rf
() {

153 ià(!
	gæag
.
‹¡_ªd_£t
()) {

154 autØ
	gus
 = 
miüÙime
();

155 ià(
	gus
 - 
	g´ev_us
 > 
	gkMšMÚ™ÜIÁ”v®Us
) {

156 
ušt64_t
 
	gsum_úts
 = 0;

157 
ušt32_t
 
	gi
 = 0; i < 
	gkNumMutÜTh»ads
; i++) {

158 
	gsum_úts
 +ğ
ACCESS_ONCE
(
úts
[
i
].
c
);

160 
	gus
 = 
miüÙime
();

161 autØ
	gmİs
 = ()(
sum_úts
 - 
´ev_sum_úts
è/ (
us
 - 
´ev_us
);

162 
	gmİs_vec
.
push_back
(
mİs
);

163 
	gruÂšg_us
 +ğ(
us
 - 
´ev_us
);

164 ià(
	gruÂšg_us
 >ğ
kMaxRuÂšgUs
) {

165 
¡d
::
veùÜ
<> 
Ï¡_5_mİs
(

166 
mİs_vec
.
’d
(è- 
¡d
::
mš
(
¡©ic_ÿ¡
<>(mİs_vec.
size
()), 5),

167 
mİs_vec
.
’d
());

168 
	g¡d
::
cout
 << "mops = "

169 << 
¡d
::
accumuÏ‹
(
Ï¡_5_mİs
.
begš
(),†a¡_5_mİs.
’d
(),

171 
	gÏ¡_5_mİs
.
size
()

172 << 
	g¡d
::
’dl
;

173 
	g¡d
::
cout
 << "DÚe. FÜûƒx™šg..." << 
¡d
::
’dl
;

174 
ex™
(0);

176 
	g´ev_us
 = 
us
;

177 
	g´ev_sum_úts
 = 
sum_úts
;

179 
	gæag
.
ş—r
();

183 
b’ch_g‘
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch_±r
) {

184 
	g´ev_us
 = 
miüÙime
();

185 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

186 
ušt32_t
 
	gtid
 = 0;id < 
	gkNumMutÜTh»ads
;id++) {

187 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

188 
D”efScİe
 
scİe
;

189 
ušt32_t
 
út
 = 0;

191 ià(
uÆik–y
(
út
++ % 
kNumI‹rsP”Scİe
 == 0)) {

192 
scİe
.
»Ãw
();

194 
´“m±_di§bË
();

195 ià(
uÆik–y
(
út
 % 
kMÚ™ÜP”I‹r
 == 0)) {

196 
mÚ™Ü_³rf
();

198 autØ
key_idx
 =

199 
®l_zf_key_šdiûs
[
g‘_cÜe_num
()][
³r_cÜe_»q_idx
++];

200 ià(
uÆik–y
(
³r_cÜe_»q_idx
 =ğ
kReqSeqL’P”CÜe
)) {

201 
³r_cÜe_»q_idx
 = 0;

203 
´“m±_’abË
();

204 autØ&
key
 = 
®l_g’_keys
[
key_idx
];

205 
ušt16_t
 
v®_Ën
;

206 
V®ue
 
v®
;

207 
hİscÙch_±r
->
g‘
(
scİe
, 
kKeyL’
, (cÚ¡ 
ušt8_t
 *)
key
.
d©a
,

208 &
v®_Ën
, (
ušt8_t
 *)
v®
.
d©a
);

209 
ACCESS_ONCE
(
úts
[
tid
].
c
)++;

210 
DONT_OPTIMIZE
(
v®
);

214 autØ&
	gth»ad
 : 
th»ads
) {

215 
th»ad
.
Još
();

219 
	gpublic
:

220 
run
() {

221 
mªag”
.
»£t
(
F¬MemMªag”FaùÜy
::
bud
(
kCacheSize
, 
kNumGCTh»ads
,

222 
Ãw
 
FakeDeviû
(
kF¬MemSize
)));

223 autØ
	ghİscÙch
 = 
¡d
::
unique_±r
<
G’”icCÚcu¼’tHİscÙch
>(

224 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

225 
kLoÿlHashTabËNumEÁr›sShiá
, 
kRemÙeHashTabËNumEÁr›sShiá
,

226 
kRemÙeHashTabËD©aSize
));

227 
	g¡d
::
cout
 << "P»·»..." << 
¡d
::
’dl
;

228 
´•¬e
(
hİscÙch
.
g‘
());

229 
	g¡d
::
cout
 << "G‘..." << 
¡d
::
’dl
;

230 
b’ch_g‘
(
hİscÙch
.
g‘
());

231 
	ghİscÙch
.
»£t
();

232 
	gmªag”
.
»£t
();

237 
F¬MemTe¡
 
	g‹¡
;

238 
	$my_maš
(*
¬gv
) {

239 
‹¡
.
	`run
();

240 
	}
}

242 
	$maš
(
¬gc
, *
¬gv
[]) {

243 
»t
;

245 ià(
¬gc
 < 2) {

246 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

247  -
EINVAL
;

250 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
my_maš
, 
NULL
);

251 ià(
»t
) {

252 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

253  
»t
;

257 
	}
}

	@inc/aggregator.hpp

1 #´agm¨
Úû


3 
	~"d”ef_scİe.hµ
"

5 
	~<®gÜ™hm
>

6 
	~<lim™s
>

7 
	~<ty³_Œa™s
>

9 
Çme¥aû
 
	gçr_memÜy
 {

11 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cAgg»g©Ü
 {

12 
	gpublic
:

13 
vœtu®
 
add
(
D”efScİe
 *
scİe
, 
T
 
t
) = 0;

14 
vœtu®
 
T
 
agg»g©e
() = 0;

17 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gAgg»g©ÜMax
 : 
public
 
Agg»g©Ü
<
T
> {

18 
´iv©e
:

19 
T
 
tmp_
 = 
¡d
::
num”ic_lim™s
<T>::
mš
();

21 
	gpublic
:

22 
add
(
D”efScİe
 *
scİe
, 
T
 
t
);

23 
T
 
agg»g©e
();

26 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gAgg»g©ÜMš
 : 
public
 
Agg»g©Ü
<
T
> {

27 
´iv©e
:

28 
T
 
tmp_
 = 
¡d
::
num”ic_lim™s
<T>::
max
();

30 
	gpublic
:

31 
add
(
D”efScİe
 *
scİe
, 
T
 
t
);

32 
T
 
agg»g©e
();

35 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gAgg»g©ÜMedŸn
 : 
public
 
Agg»g©Ü
<
T
> {

36 
´iv©e
:

37 
¡d
::
veùÜ
<
T
> 
vec_
;

39 
	gpublic
:

40 
add
(
D”efScİe
 *
scİe
, 
T
 
t
);

41 
T
 
agg»g©e
();

44 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gD©aF¿meVeùÜ
;

45 
şass
 
	gF¬MemMªag”
;

47 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gAgg»g©ÜMedŸnLim™edMem
 : 
public
 
Agg»g©Ü
<
T
> {

48 
´iv©e
:

49 
D©aF¿meVeùÜ
<
T
> 
vec_
;

51 
	gpublic
:

52 
Agg»g©ÜMedŸnLim™edMem
(
F¬MemMªag”
 *
mªag”
);

53 
add
(
D”efScİe
 *
scİe
, 
T
 
t
);

54 
T
 
agg»g©e
();

57 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cAgg»g©ÜFaùÜy
 {

58 
	gpublic
:

59 
Agg»g©Ü
<
T
> *
bud
(
ušt8_t
 
İcode
, 
boŞ
 
lim™ed_mem
,

60 
F¬MemMªag”
 *
mªag”
);

65 
	~"š‹º®/agg»g©Ü.p
"

	@inc/array.hpp

1 #´agm¨
Úû


3 
	~"d”ef_scİe.hµ
"

4 
	~"poš‹r.hµ
"

5 
	~"´eãtch”.hµ
"

7 
	~<c¡dšt
>

8 
	~<lim™s
>

9 
	~<memÜy
>

10 
	~<tu¶e
>

11 
	~<ut™y
>

13 
Çme¥aû
 
	gçr_memÜy
 {

15 
şass
 
	gF¬MemMªag”
;

17 şas 
	cG’”icA¼ay
 {

18 
	g´Ùeùed
:

19 
usšg
 
Index_t
 = 
ušt64_t
;

20 
usšg
 
	gP©‹º_t
 = 
št64_t
;

22 
P©‹º_t
 
šduû_â
(
Index_t
 
idx_0
, Index_ˆ
idx_1
);

23 
Index_t
 
šãr_â
(Index_ˆ
idx
, 
P©‹º_t
 
¡ride
);

24 
G’”icUniquePŒ
 *
m­pšg_â
(
ušt8_t
 *&
¡©e
, 
Index_t
 
idx
);

25 
	g¡d
::
unique_±r
<
G’”icUniquePŒ
[]> 
±rs_
;

26 
ušt64_t
 
	gkNumI‹ms_
;

27 
ušt32_t
 
	gkI‹mSize_
;

28 
boŞ
 
	gdyÇmic_´eãtch_’abËd_
 = 
Œue
;

29 
cÚ¡ex´
 autØ
	gkInduûFn
 = [](
Index_t
 
idx_0
,

30 
Index_t
 
	gidx_1
è-> 
	gP©‹º_t
 {

31  
	gG’”icA¼ay
::
šduû_â
(
idx_0
, 
idx_1
);

33 
cÚ¡ex´
 autØ
	gkInãrFn
 = [](
Index_t
 
idx
,

34 
P©‹º_t
 
	g¡ride
è-> 
	gIndex_t
 {

35  
šãr_â
(
idx
, 
¡ride
);

37 
cÚ¡ex´
 autØ
	gkM­pšgFn
 = [](
ušt8_t
 *&
¡©e
,

38 
Index_t
 
	gidx
è-> 
	gG’”icUniquePŒ
 * {

39  
m­pšg_â
(
¡©e
, 
idx
);

41 
	gP»ãtch”
<
deşty³
(
kInduûFn
), deşty³(
kInãrFn
), deşty³(
kM­pšgFn
)>

42 
	g´eãtch”_
;

44 
G’”icA¼ay
(
F¬MemMªag”
 *
mªag”
, 
ušt32_t
 
™em_size
, 
ušt64_t
 
num_™ems
);

45 ~
G’”icA¼ay
();

46 
NOT_COPYABLE
(
G’”icA¼ay
);

47 
NOT_MOVEABLE
(
G’”icA¼ay
);

49 
	gpublic
:

50 
di§bË_´eãtch
();

51 
’abË_´eãtch
();

52 
¡©ic_´eãtch
(
Index_t
 
¡¬t
, Index_ˆ
¡•
, 
ušt32_t
 
num
);

53 
G’”icUniquePŒ
 *
©
(
boŞ
 
Á
, 
Index_t
 
idx
);

56 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gušt64_t
... 
	gDims
> cÏs 
	cA¼ay
 : 
public
 
G’”icA¼ay
 {

57 
´iv©e
:

58 
usšg
 
num_dim_t
 = 
ušt8_t
;

59 
¡©ic_as£¹
(
¡d
::
num”ic_lim™s
<
num_dim_t
>::
max
(è>ğ...(
Dims
));

61 
ä›nd
 
şass
 
	gF¬MemMªag”
;

62 
ä›nd
 
şass
 
	gF¬MemTe¡
;

64 
A¼ay
(
F¬MemMªag”
 *
mªag”
);

65 
NOT_COPYABLE
(
A¼ay
);

66 
NOT_MOVEABLE
(
A¼ay
);

68 
	g‹m¶©e
 <autØ
	gDimIdx
> 
cÚ¡ex´
 
ušt64_t
 
g‘_dim_size
();

70 
cÚ¡ex´
 
ušt64_t
 
_size
(ušt64_ˆ
N
è{  
	gN
; }

72 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

73 
cÚ¡ex´
 
ušt64_t
 
_size
(ušt64_ˆ
N
, 
Args
... 
»¡_dims
) {

74  
N
 * 
_size
(
»¡_dims
...);

77 
	gpublic
:

78 
cÚ¡ex´
 
ušt64_t
 
kSize
 = 
_size
(
Dims
...);

80 
	g‹m¶©e
 <autØ
	gDimIdx
, 
	gty³Çme
... 
	gIndiûs
>

81 
cÚ¡ex´
 
št64_t
 
_g‘_æ©_idx
(
Indiûs
... 
šdiûs
);

82 
	g‹m¶©e
 <
	gty³Çme
... 
	gIndiûs
>

83 
cÚ¡ex´
 
št64_t
 
g‘_æ©_idx
(
Indiûs
... 
šdiûs
);

84 
	g‹m¶©e
 <
	gty³Çme
... 
	gIndiûs
> 
check_šdiûs
(
Indiûs
... 
šdiûs
);

85 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
	gty³Çme
... 
	gIndiûs
>

86 cÚ¡ 
	gT
 &
©
(cÚ¡ 
D”efScİe
 &
scİe
, 
Indiûs
... 
šdiûs
è
	gnÛxû±
;

87 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
	gty³Çme
... 
	gIndiûs
>

88 cÚ¡ 
	gT
 &
©_§ã
(cÚ¡ 
D”efScİe
 &
scİe
, 
Indiûs
... 
šdiûs
);

89 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
	gty³Çme
... 
	gIndiûs
> 
T
 
»ad
(
Indiûs
... 
šdiûs
);

90 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
	gty³Çme
... 
	gIndiûs
>

91 
T
 
»ad_§ã
(
Indiûs
... 
šdiûs
);

92 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
	gty³Çme
... 
	gIndiûs
>

93 
	gT
 &
©_mut
(cÚ¡ 
D”efScİe
 &
scİe
, 
Indiûs
... 
šdiûs
è
	gnÛxû±
;

94 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
	gty³Çme
... 
	gIndiûs
>

95 
	gT
 &
©_mut_§ã
(cÚ¡ 
D”efScİe
 &
scİe
, 
Indiûs
... 
šdiûs
);

96 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
ty³Çme
 
	gU
, 
	gty³Çme
... 
	gIndiûs
>

97 
wr™e
(
U
 &&
u
, 
Indiûs
... 
šdiûs
);

98 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
ty³Çme
 
	gU
, 
	gty³Çme
... 
	gIndiûs
>

99 
wr™e_§ã
(
U
 &&
u
, 
Indiûs
... 
šdiûs
);

100 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgsS¹
,y³Çme... 
	gArgsS‹p
>

101 
¡©ic_´eãtch
(
¡d
::
tu¶e
<
ArgsS¹
...> 
¡¬t
,

102 
¡d
::
tu¶e
<
ArgsS‹p
...> 
¡•
, 
ušt32_t
 
num
);

107 
	~"š‹º®/¬¿y.p
"

	@inc/cb.hpp

1 #´agm¨
Úû


3 
	~"h–³rs.hµ
"

4 
	~"sync.h
"

6 
	~<c¡dšt
>

7 
	~<funùiÚ®
>

8 
	~<memÜy
>

9 
	~<İtiÚ®
>

10 
	~<ty³_Œa™s
>

12 
Çme¥aû
 
	gçr_memÜy
 {

14 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
boŞ
 
	gSync
, 
ušt64_t
 
	gC­ac™y
 = 0> cÏs 
	cCœcuÏrBufãr
 {

15 
´iv©e
:

16 
usšg
 
FixedA¼ay
 = 
T
[
C­ac™y
 + 1];

17 
cÚ¡ex´
 
boŞ
 
	gkIsDyÇmic
 = (
C­ac™y
 == 0);

19 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
kIsDyÇmic
, std::
unique_±r
<
T
[]>, 
	gFixedA¼ay
>::
ty³


20 
™ems_
;

21 
ušt32_t
 
	gh—d_
 = 0;

22 
ušt32_t
 
	g_
 = 0;

23 
ušt32_t
 
	gÿ·c™y_
 = 
C­ac™y
 + 1;

24 
	g¹
::
Spš
 
¥š_
;

26 
	gpublic
:

27 
CœcuÏrBufãr
();

28 
	g‹m¶©e
 <
boŞ
 
	gB
 = 
kIsDyÇmic
, 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if_t
<
B
, >>

29 
CœcuÏrBufãr
(
ušt32_t
 
size
);

30 
	gCœcuÏrBufãr
<
	gT
, 
	gSync
, 
	gC­ac™y
> &

31 
	gİ”©Ü
=(
CœcuÏrBufãr
<
T
, 
	gSync
, 
	gC­ac™y
> &&
	gÙh”
);

32 
CœcuÏrBufãr
(CœcuÏrBufãr<
T
, 
Sync
, 
C­ac™y
> &&
Ùh”
);

33 
ušt32_t
 
ÿ·c™y
() const;

34 
ušt32_t
 
size
() const;

35 
	g‹m¶©e
 <
ty³Çme
 
	gD
> 
boŞ
 
push_äÚt
(
D
 &&
d
);

36 
	g‹m¶©e
 <
ty³Çme
 
	gD
> 
boŞ
 
push_back
(
D
 &&
d
);

37 
	g‹m¶©e
 <
ty³Çme
 
	gD
> 
	g¡d
::
İtiÚ®
<
T
> 
push_back_ov”ride
(
D
 &&
d
);

38 
	g‹m¶©e
 <
ty³Çme
 
	gD
> 
boŞ
 
pİ_äÚt
(
D
 *
d
);

39 
boŞ
 
wÜk_¡—l
(
CœcuÏrBufãr
<
T
, 
Sync
, 
C­ac™y
> *
cb
);

40 
ş—r
();

41 
fÜ_—ch
(cÚ¡ 
¡d
::
funùiÚ
<(
T
)> &
f
);

45 
	~"š‹º®/cb.p
"

	@inc/concurrent_hopscotch.hpp

1 #´agm¨
Úû


3 
	~"sync.h
"

5 
	~"cb.hµ
"

6 
	~"d”ef_scİe.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"poš‹r.hµ
"

10 
	~<c¡dšt
>

11 
	~<memÜy
>

12 
	~<İtiÚ®
>

14 
Çme¥aû
 
	gçr_memÜy
 {

16 şas 
	cG’”icCÚcu¼’tHİscÙch
 {

17 
	g´iv©e
:

18 
	sBuck‘EÁry
 {

19 
cÚ¡ex´
 
ušt64_t
 
kBusyPŒ
 = 
F¬MemPŒM‘a
::
kNuÎ
 + 1;

21 
ušt32_t
 
	gb™m­
;

22 
	g¹
::
Spš
 
¥š
;

23 
ušt64_t
 
	gtime¡amp
;

24 
G’”icUniquePŒ
 
	g±r
;

26 
Buck‘EÁry
();

28 
¡©ic_as£¹
((
Buck‘EÁry
) == 24);

30 #´agm¨
·ck
(
push
, 1)

31 
	sEvacNÙif›rM‘a
 {

32 
ušt64_t
 
	gªchÜ_addr
 : 48;

33 
ušt8_t
 
	goff£t
;

35 #´agm¨
·ck
(
pİ
)

36 
¡©ic_as£¹
((
EvacNÙif›rM‘a
) == 7);

38 
cÚ¡ex´
 
ušt32_t
 
	gkNeighbÜhood
 = 32;

39 
cÚ¡ex´
 
ušt32_t
 
	gkMaxR‘r›s
 = 2;

40 
cÚ¡ex´
 
ušt32_t
 
	gkEvacNÙif›rSshSize
 = 1024;

42 cÚ¡ 
ušt32_t
 
	gkHashMask_
;

43 cÚ¡ 
ušt32_t
 
	gkNumEÁr›s_
;

44 
	g¡d
::
unique_±r
<
ušt8_t
> 
buck‘s_mem_
;

45 
Buck‘EÁry
 *
	gbuck‘s_
;

46 
ušt8_t
 
	gds_id_
;

47 
	gCœcuÏrBufãr
<
	gEvacNÙif›rM‘a
, 
	gŒue
, 
	gkEvacNÙif›rSshSize
>

48 
	gevac_nÙif›r_¡ash_
;

50 
ä›nd
 
şass
 
	gF¬MemTe¡
;

51 
ä›nd
 
şass
 
	gF¬MemMªag”
;

52 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gV
> 
ä›nd
 
şass
 
	gCÚcu¼’tHİscÙch
;

54 
G’”icCÚcu¼’tHİscÙch
(
ušt8_t
 
ds_id
, 
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

55 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
,

56 
ušt64_t
 
»mÙe_d©a_size
);

57 
NOT_COPYABLE
(
G’”icCÚcu¼’tHİscÙch
);

58 
NOT_MOVEABLE
(
G’”icCÚcu¼’tHİscÙch
);

59 
boŞ
 
__g‘
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 *
v®_Ën
,

60 
ušt8_t
 *
v®
);

61 
fÜw¬d_g‘
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 *
v®_Ën
,

62 
ušt8_t
 *
v®
);

63 
_g‘
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 *
v®_Ën
,

64 
ušt8_t
 *
v®
, 
boŞ
 *
fÜw¬ded
);

65 
boŞ
 
_put
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 
v®_Ën
,

66 cÚ¡ 
ušt8_t
 *
v®
, 
boŞ
 
sw­_š
);

67 
boŞ
 
_»move
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
);

68 
´oûss_evac_nÙif›r_¡ash
();

69 
do_evac_nÙif›r
(
EvacNÙif›rM‘a
 
m‘a
);

70 
evac_nÙif›r
(
Objeù
 
objeù
);

72 
	gpublic
:

73 
cÚ¡ex´
 
ušt32_t
 
kM‘ad©aSize
 = (
EvacNÙif›rM‘a
);

75 ~
G’”icCÚcu¼’tHİscÙch
();

76 
g‘
(cÚ¡ 
D”efScİe
 &
scİe
, 
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
,

77 
ušt16_t
 *
v®_Ën
, 
ušt8_t
 *
v®
);

78 
g‘_
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 *
v®_Ën
,

79 
ušt8_t
 *
v®
);

80 
boŞ
 
put
(cÚ¡ 
D”efScİe
 &
scİe
, 
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
,

81 
ušt16_t
 
v®_Ën
, cÚ¡ 
ušt8_t
 *
v®
);

82 
boŞ
 
put_
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 
v®_Ën
,

83 cÚ¡ 
ušt8_t
 *
v®
);

84 
boŞ
 
»move
(cÚ¡ 
D”efScİe
 &
scİe
, 
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
);

85 
boŞ
 
»move_
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
);

88 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gV
>

89 şas 
	cCÚcu¼’tHİscÙch
 : 
public
 
G’”icCÚcu¼’tHİscÙch
 {

90 
´iv©e
:

91 
Cach–šeAligÃd
(
št64_t
è
³r_cÜe_size_
[
h–³rs
::
kNumCPUs
];

92 
ä›nd
 
şass
 
	gF¬MemTe¡
;

93 
ä›nd
 
şass
 
	gF¬MemMªag”
;

95 
	g¡d
::
İtiÚ®
<
V
> 
_fšd
(cÚ¡ 
K
 &
key
);

96 
_š£¹
(cÚ¡ 
K
 &
key
, cÚ¡ 
V
 &
v®ue
);

97 
boŞ
 
_”a£
(cÚ¡ 
K
 &
key
);

98 
CÚcu¼’tHİscÙch
(
ušt8_t
 
ds_id
, 
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

99 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
,

100 
ušt64_t
 
»mÙe_d©a_size
);

101 
NOT_COPYABLE
(
CÚcu¼’tHİscÙch
);

102 
NOT_MOVEABLE
(
CÚcu¼’tHİscÙch
);

104 
	gpublic
:

105 
boŞ
 
em±y
() const;

106 
ušt64_t
 
size
() const;

107 
	g¡d
::
İtiÚ®
<
V
> 
fšd
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
K
 &
key
);

108 
	g¡d
::
İtiÚ®
<
V
> 
fšd_
(cÚ¡ 
K
 &
key
);

109 
š£¹
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
K
 &
key
, cÚ¡ 
V
 &
v®ue
);

110 
š£¹_
(cÚ¡ 
K
 &
key
, cÚ¡ 
V
 &
v®ue
);

111 
boŞ
 
”a£
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
K
 &
key
);

112 
boŞ
 
”a£_
(cÚ¡ 
K
 &
key
);

117 
	~"š‹º®/cÚcu¼’t_hİscÙch.p
"

	@inc/dataframe_vector.hpp

1 #´agm¨
Úû


3 
	~"d©aäame_veùÜ.hµ
"

4 
	~"d”ef_scİe.hµ
"

5 
	~"deviû.hµ
"

6 
	~"h–³rs.hµ
"

7 
	~"š‹º®/d©aäame_ty³s.hµ
"

8 
	~"poš‹r.hµ
"

9 
	~"´eãtch”.hµ
"

10 
	~"»ad”_wr™”_lock.hµ
"

12 
	~<c¡dšt
>

13 
	~<memÜy
>

14 
	~<İtiÚ®
>

15 
	~<ty³_Œa™s
>

16 
	~<veùÜ
>

18 #ifdeà
DISABLE_OFFLOAD_UNIQUE


19 
	#DISABLE_OFFLOAD_UNIQUE
 1

	)

21 
	#DISABLE_OFFLOAD_UNIQUE
 0

	)

24 #ifdeà
DISABLE_OFFLOAD_COPY_DATA_BY_IDX


25 
	#DISABLE_OFFLOAD_COPY_DATA_BY_IDX
 1

	)

27 
	#DISABLE_OFFLOAD_COPY_DATA_BY_IDX
 0

	)

30 #ifdeà
DISABLE_OFFLOAD_SHUFFLE_DATA_BY_IDX


31 
	#DISABLE_OFFLOAD_SHUFFLE_DATA_BY_IDX
 1

	)

33 
	#DISABLE_OFFLOAD_SHUFFLE_DATA_BY_IDX
 0

	)

36 #ifdeà
DISABLE_OFFLOAD_ASSIGN


37 
	#DISABLE_OFFLOAD_ASSIGN
 1

	)

39 
	#DISABLE_OFFLOAD_ASSIGN
 0

	)

42 #ifdeà
DISABLE_OFFLOAD_AGGREGATE


43 
	#DISABLE_OFFLOAD_AGGREGATE
 1

	)

45 
	#DISABLE_OFFLOAD_AGGREGATE
 0

	)

48 
	#DISABLE_OFFLOAD
 \

49 (
DISABLE_OFFLOAD_UNIQUE
 & 
DISABLE_OFFLOAD_COPY_DATA_BY_IDX
 & \

50 
DISABLE_OFFLOAD_SHUFFLE_DATA_BY_IDX
 & 
DISABLE_OFFLOAD_ASSIGN
 & \

51 
DISABLE_OFFLOAD_AGGREGATE
)

	)

53 
Çme¥aû
 
	gçr_memÜy
 {

55 
şass
 
	gF¬MemMªag”
;

57 şas 
	cG’”icD©aF¿meVeùÜ
 {

58 
	g´iv©e
:

59 
	eOpCode
 {

60 
Re£rve
 = 0,

61 
	gUnique
,

62 
	gCİyD©aByIdx
,

63 
	gShufæeD©aByIdx
,

64 
	gAssign
,

65 
	gAgg»g©eMax
,

66 
	gAgg»g©eMš
,

67 
	gAgg»g©eMedŸn


70 
ušt32_t
 
	gchunk_size_
;

71 
ušt32_t
 
	gchunk_num_’Œ›s_
;

72 
F¬MemDeviû
 *
	gdeviû_
;

73 
ušt8_t
 
	gds_id_
;

74 
ušt64_t
 
	gsize_
 = 0;

75 
ušt64_t
 
	g»mÙe_vec_ÿ·c™y_
 = 0;

76 
R—d”Wr™”Lock
 
	glock_
;

77 
	g¡d
::
veùÜ
<
G’”icUniquePŒ
> 
chunk_±rs_
;

78 
boŞ
 
	gmoved_
 = 
çl£
;

79 
boŞ
 
	gdœty_
 = 
çl£
;

80 
ušt64_t
 
	gÏ¡_idx_
 = 
¡d
::
num”ic_lim™s
<ušt64_t>::
max
();

81 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
ä›nd
 
şass
 
	gD©aF¿meVeùÜ
;

82 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
ä›nd
 
şass
 
	gS”v”D©aF¿meVeùÜ
;

84 
ex·nd
(
ušt64_t
 
num
);

85 
ex·nd_no_®loc
(
ušt64_t
 
num
);

86 
»£rve_»mÙe
(
ušt64_t
 
num
);

87 
ş—nup
();

89 
	gpublic
:

90 
G’”icD©aF¿meVeùÜ
(cÚ¡ 
ušt32_t
 
chunk_size
, ušt32_ˆ
chunk_num_’Œ›s
,

91 
ušt8_t
 
ds_id
, ušt8_ˆ
dt_id
);

92 
NOT_COPYABLE
(
G’”icD©aF¿meVeùÜ
);

93 
G’”icD©aF¿meVeùÜ
(G’”icD©aF¿meVeùÜ &&
Ùh”
);

94 
	gG’”icD©aF¿meVeùÜ
 &
	gİ”©Ü
=(
G’”icD©aF¿meVeùÜ
 &&
Ùh”
);

95 ~
G’”icD©aF¿meVeùÜ
();

97 
boŞ
 
em±y
() const;

98 
ušt64_t
 
size
() const;

99 
ş—r
();

100 
æush
();

103 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cD©aF¿meVeùÜ
 : 
public
 
G’”icD©aF¿meVeùÜ
 {

104 
´iv©e
:

105 
¡©ic_as£¹
(
is_basic_d©aäame_ty³s
<
T
>());

106 
usšg
 
	gIndex_t
 = 
ušt64_t
;

107 
usšg
 
	gP©‹º_t
 = 
št64_t
;

109 
cÚ¡ex´
 
ušt32_t
 
	gkP»ã¼edChunkSize
 = 4096;

110 
cÚ¡ex´
 
ušt32_t
 
	gkR—lChunkNumEÁr›s
 =

111 
¡d
::
max
(
¡©ic_ÿ¡
<
ušt32_t
>(1),

112 
h–³rs
::
round_up_pow”_of_two
(
kP»ã¼edChunkSize
 / (
T
)));

113 
cÚ¡ex´
 
ušt32_t
 
	gkR—lChunkSize
 = (
T
è* 
kR—lChunkNumEÁr›s
;

114 
cÚ¡ex´
 
ušt32_t
 
	gkSizeP”Ex·nsiÚ
 = 4 << 20;

115 
cÚ¡ex´
 
ušt32_t
 
	gkNumEÁr›sP”Ex·nsiÚ
 =

116 (
kSizeP”Ex·nsiÚ
 - 1è/ (
T
) + 1;

117 
cÚ¡ex´
 
ušt64_t
 
	gkNumEËm’tsP”Scİe
 = 1024;

119 
P©‹º_t
 
šduû_â
(
Index_t
 
idx_0
, Index_ˆ
idx_1
);

120 
Index_t
 
šãr_â
(Index_ˆ
idx
, 
P©‹º_t
 
¡ride
);

121 
G’”icUniquePŒ
 *
m­pšg_â
(
ušt8_t
 *&
¡©e
, 
Index_t
 
idx
);

122 
cÚ¡ex´
 autØ
	gkInduûFn
 = [](
Index_t
 
idx_0
,

123 
Index_t
 
	gidx_1
è-> 
	gP©‹º_t
 {

124  
šduû_â
(
idx_0
, 
idx_1
);

126 
cÚ¡ex´
 autØ
	gkInãrFn
 = [](
Index_t
 
idx
,

127 
P©‹º_t
 
	g¡ride
è-> 
	gIndex_t
 {

128  
šãr_â
(
idx
, 
¡ride
);

130 
cÚ¡ex´
 autØ
	gkM­pšgFn
 = [](
ušt8_t
 *&
¡©e
,

131 
Index_t
 
	gidx
è-> 
	gG’”icUniquePŒ
 * {

132  
m­pšg_â
(
¡©e
, 
idx
);

134 
	g¡d
::
unique_±r
<

135 
P»ãtch”
<
deşty³
(
kInduûFn
), deşty³(
kInãrFn
), deşty³(
kM­pšgFn
)>>

136 
	g´eãtch”_
;

137 
boŞ
 
	gdyÇmic_´eãtch_’abËd_
 = 
Œue
;

139 
ä›nd
 
şass
 
	gF¬MemTe¡
;

140 
	g‹m¶©e
 <
ty³Çme
 
	gU
> 
ä›nd
 
şass
 
	gS”v”D©aF¿meVeùÜ
;

144 şas 
	cI‹¿tÜ
 {

145 
	g´iv©e
:

146 
D©aF¿meVeùÜ
 *
d©aäame_vec_
;

147 
ušt64_t
 
	gchunk_idx_
;

148 
ušt64_t
 
	gchunk_off£t_
;

149 
ä›nd
 
şass
 
	gD©aF¿meVeùÜ
;

151 
I‹¿tÜ
(
D©aF¿meVeùÜ
<
T
> *
d©aäame_vec
, 
ušt64_t
 
chunk_idx
,

152 
ušt64_t
 
chunk_off£t
);

153 
ušt64_t
 
g‘_idx
() const;

155 
	gpublic
:

156 
usšg
 
difã»nû_ty³
 = 
št64_t
;

157 
usšg
 
	gv®ue_ty³
 = 
T
;

158 
usšg
 
	gpoš‹r
 = cÚ¡ 
T
 *;

159 
usšg
 
	g»ã»nû
 = cÚ¡ 
T
 &;

160 
usšg
 
	g™”©Ü_ÿ‹gÜy
 = 
¡d
::
¿ndom_acûss_™”©Ü_g
;

162 
	gI‹¿tÜ
 &
	gİ”©Ü
++();

163 
I‹¿tÜ
 
	gİ”©Ü
++();

164 
	gI‹¿tÜ
 &
	gİ”©Ü
+=(
difã»nû_ty³
 
dis
);

165 
I‹¿tÜ
 
	gİ”©Ü
+(
difã»nû_ty³
 
	gdis
) const;

166 
	gI‹¿tÜ
 &
	gİ”©Ü
--();

167 
I‹¿tÜ
 
	gİ”©Ü
--();

168 
difã»nû_ty³
 
	gİ”©Ü
-(cÚ¡ 
	gI‹¿tÜ
 &
	gÙh”
) const;

169 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
I‹¿tÜ
 &
Ùh”
) const;

170 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
I‹¿tÜ
 &
Ùh”
) const;

171 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gI‹¿tÜ
 &
	gÙh”
) const;

172 
boŞ
 
	gİ”©Ü
<=(cÚ¡ 
I‹¿tÜ
 &
Ùh”
) const;

173 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gI‹¿tÜ
 &
	gÙh”
) const;

174 
boŞ
 
	gİ”©Ü
>=(cÚ¡ 
I‹¿tÜ
 &
Ùh”
) const;

175 
T
 
	gİ”©Ü
*() const;

181 
	g‹m¶©e
 <
boŞ
 
	gMut
> cÏs 
	cFa¡I‹¿tÜ
 {

182 
	g´iv©e
:

183 
D”efScİe
 *
scİe_
;

184 
G’”icUniquePŒ
 *
	gchunk_±r_
;

185 
D©aF¿meVeùÜ
 *
	gd©aäame_vec_
;

186 
	g¡d
::
cÚd™iÚ®
<
Mut
, 
	gT
 *, cÚ¡ T *>::
ty³
 
d©a_±r_
;

187 
	g¡d
::
cÚd™iÚ®
<
Mut
, 
	gT
 *, cÚ¡ T *>::
ty³
 
d©a_±r_begš_
;

188 
	g¡d
::
cÚd™iÚ®
<
Mut
, 
	gT
 *, cÚ¡ T *>::
ty³
 
d©a_±r_’d_
;

189 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
>

190 
Fa¡I‹¿tÜ
(
D”efScİe
 &
scİe
,

191 
¡d
::
cÚd™iÚ®
<
Mut
, 
D©aF¿meVeùÜ
 *,

192 cÚ¡ 
D©aF¿meVeùÜ
 *>::
ty³
 
d©aäame_vec
,

193 
ušt64_t
 
idx
);

194 
ä›nd
 
şass
 
	gD©aF¿meVeùÜ
;

196 
ušt64_t
 
g‘_idx
() const;

197 
	g‹m¶©e
 <
boŞ
 
	gNt
> 
upd©e_Ú_Ãw_chunk
();

199 
	gpublic
:

200 
usšg
 
difã»nû_ty³
 = 
št64_t
;

202 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
Fa¡I‹¿tÜ
<
Mut
> &
İ”©Ü
++();

203 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
Fa¡I‹¿tÜ
<
Mut
> 
İ”©Ü
++();

204 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
Fa¡I‹¿tÜ
<
Mut
> &
İ”©Ü
--();

205 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
Fa¡I‹¿tÜ
<
Mut
> 
İ”©Ü
--();

206 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
>

207 
Fa¡I‹¿tÜ
<
Mut
> &
İ”©Ü
+=(
difã»nû_ty³
 
dis
);

208 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
>

209 
Fa¡I‹¿tÜ
<
Mut
> 
İ”©Ü
+(
difã»nû_ty³
 
dis
) const;

210 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Fa¡I‹¿tÜ
 &
Ùh”
) const;

211 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Fa¡I‹¿tÜ
 &
Ùh”
) const;

212 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gFa¡I‹¿tÜ
 &
	gÙh”
) const;

213 
boŞ
 
	gİ”©Ü
<=(cÚ¡ 
Fa¡I‹¿tÜ
 &
Ùh”
) const;

214 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gFa¡I‹¿tÜ
 &
	gÙh”
) const;

215 
boŞ
 
	gİ”©Ü
>=(cÚ¡ 
Fa¡I‹¿tÜ
 &
Ùh”
) const;

217 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
»Ãw
(
D”efScİe
 &
scİe
);

218 
	g¡d
::
cÚd™iÚ®
<
Mut
, 
	gT
 &, cÚ¡ T &>::
ty³
 
İ”©Ü
*() const;

219 
	g¡d
::
cÚd™iÚ®
<
Mut
, 
	gT
 *, cÚ¡ T *>::
ty³
 
İ”©Ü
->() const;

222 
	g¡d
::
·œ
<
ušt64_t
, 
	gušt64_t
> 
g‘_chunk_¡©s
(ušt64_ˆ
šdex
);

223 
ex·nd
(
ušt64_t
 
num
);

224 
ex·nd_no_®loc
(
ušt64_t
 
num
);

225 
´eãtch_»cÜd
(
boŞ
 
Á
, 
Index_t
 
idx
);

226 
	gD©aF¿meVeùÜ
 &
lock
();

227 
	g‹m¶©e
 <
boŞ
 
	gAsûndšg
 = 
Œue
>

228 
_g‘_sÜ‹d_šdiûs_couÁšg_sÜt
(

229 
D©aF¿meVeùÜ
<> *
šdiûs
);

230 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

231 
	gD©aF¿meVeùÜ
<
	gT
> 
agg»g©e_loÿÎy
(
F¬MemMªag”
 *
mªag”
, cÚ¡ 
U
 &
key_vec
,

232 
OpCode
 
İcode
);

233 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

234 
	gD©aF¿meVeùÜ
<
	gT
> 
agg»g©e_»mÙ–y
(
F¬MemMªag”
 *
mªag”
,

235 cÚ¡ 
U
 &
key_vec
, 
OpCode
 
İcode
);

236 
	gD©aF¿meVeùÜ
<
	gT
> 
g‘_cŞ_unique_v®ues_loÿÎy
(
F¬MemMªag”
 *
mªag”
);

237 
	gD©aF¿meVeùÜ
<
	gT
> 
g‘_cŞ_unique_v®ues_»mÙ–y
(
F¬MemMªag”
 *
mªag”
);

238 
	gD©aF¿meVeùÜ
<
	gT
>

239 
cİy_d©a_by_idx_loÿÎy
(
F¬MemMªag”
 *
mªag”
,

240 
D©aF¿meVeùÜ
<> &
idx_vec
);

241 
	gD©aF¿meVeùÜ
<
	gT
>

242 
cİy_d©a_by_idx_»mÙ–y
(
F¬MemMªag”
 *
mªag”
,

243 
D©aF¿meVeùÜ
<> &
idx_vec
);

244 
	gD©aF¿meVeùÜ
<
	gT
>

245 
shufæe_d©a_by_idx_loÿÎy
(
F¬MemMªag”
 *
mªag”
,

246 
D©aF¿meVeùÜ
<> &
idx_vec
);

247 
	gD©aF¿meVeùÜ
<
	gT
>

248 
shufæe_d©a_by_idx_»mÙ–y
(
F¬MemMªag”
 *
mªag”
,

249 
D©aF¿meVeùÜ
<> &
idx_vec
);

250 
assign_loÿÎy
(cÚ¡ 
I‹¿tÜ
 &
begš
, cÚ¡ I‹¿tÜ &
’d
);

251 
assign_»mÙ–y
(cÚ¡ 
I‹¿tÜ
 &
begš
, cÚ¡ I‹¿tÜ &
’d
);

252 
T
 
_Áh_–em’t
(
ušt64_t
 
begš
, ušt64_ˆ
Ën
, ušt64_ˆ
n
);

254 
	gpublic
:

255 
usšg
 
v®ue_ty³
 = 
T
;

257 
D©aF¿meVeùÜ
(
F¬MemMªag”
 *
mªag”
);

260 
D©aF¿meVeùÜ
(cÚ¡ D©aF¿meVeùÜ &
Ùh”
);

261 
	gD©aF¿meVeùÜ
 &
	gİ”©Ü
=(cÚ¡ 
D©aF¿meVeùÜ
 &
Ùh”
);

262 
D©aF¿meVeùÜ
(D©aF¿meVeùÜ &&
Ùh”
);

263 
	gD©aF¿meVeùÜ
 &
	gİ”©Ü
=(
D©aF¿meVeùÜ
 &&
Ùh”
);

264 ~
D©aF¿meVeùÜ
();

266 
ušt64_t
 
ÿ·c™y
() const;

267 
	g‹m¶©e
 <
ty³Çme
 
	gU
, 
boŞ
 
	gNt
 = 
çl£
>

268 
push_back
(cÚ¡ 
D”efScİe
 &
scİe
, 
U
 &&
u
);

269 
pİ_back
(cÚ¡ 
D”efScİe
 &
scİe
);

270 
»£rve
(
ušt64_t
 
couÁ
);

271 
»size
(
ušt64_t
 
couÁ
);

272 
	gT
 &
äÚt_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

273 cÚ¡ 
	gT
 &
äÚt
(cÚ¡ 
D”efScİe
 &
scİe
);

274 
	gT
 &
back_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

275 cÚ¡ 
	gT
 &
back
(cÚ¡ 
D”efScİe
 &
scİe
);

276 
	g‹m¶©e
 <
boŞ
 
	gP»ãtch
 = 
Œue
, boŞ 
	gNt
 = 
çl£
>

277 
T
 &
©_mut
(cÚ¡ 
D”efScİe
 &
scİe
, 
ušt64_t
 
šdex
);

278 
	g‹m¶©e
 <
boŞ
 
	gP»ãtch
 = 
Œue
, boŞ 
	gNt
 = 
çl£
>

279 cÚ¡ 
T
 &
©
(cÚ¡ 
D”efScİe
 &
scİe
, 
ušt64_t
 
šdex
);

280 
T
 
Áh_–em’t
(
ušt64_t
 
šdex
);

281 
I‹¿tÜ
 
begš
();

282 
I‹¿tÜ
 
’d
();

283 cÚ¡ 
I‹¿tÜ
 
cbegš
() const;

284 cÚ¡ 
I‹¿tÜ
 
ûnd
() const;

285 
	gFa¡I‹¿tÜ
< 
	gŒue
> 
fbegš
(
D”efScİe
 &
scİe
);

286 
	gFa¡I‹¿tÜ
< 
	gŒue
> 
ãnd
(
D”efScİe
 &
scİe
);

287 
	gFa¡I‹¿tÜ
< 
	gçl£
> 
cfbegš
(
D”efScİe
 &
scİe
) const;

288 
	gFa¡I‹¿tÜ
< 
	gçl£
> 
cãnd
(
D”efScİe
 &
scİe
) const;

290 
	gD©aF¿meVeùÜ
<
	gT
> 
g‘_cŞ_unique_v®ues
(
F¬MemMªag”
 *
mªag”
);

291 
	gD©aF¿meVeùÜ
<
	gT
>

292 
cİy_d©a_by_idx
(
F¬MemMªag”
 *
mªag”
,

293 
D©aF¿meVeùÜ
<> &
idx_vec
);

294 
	gD©aF¿meVeùÜ
<
	gT
>

295 
shufæe_d©a_by_idx
(
F¬MemMªag”
 *
mªag”
,

296 
D©aF¿meVeùÜ
<> &
idx_vec
);

297 
assign
(cÚ¡ 
I‹¿tÜ
 &
begš
, cÚ¡ I‹¿tÜ &
’d
);

298 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

299 
	gD©aF¿meVeùÜ
<
	gT
> 
agg»g©e_mš
(
F¬MemMªag”
 *
mªag”
, cÚ¡ 
U
 &
key_vec
);

300 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

301 
	gD©aF¿meVeùÜ
<
	gT
> 
agg»g©e_max
(
F¬MemMªag”
 *
mªag”
, cÚ¡ 
U
 &
key_vec
);

302 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

303 
	gD©aF¿meVeùÜ
<
	gT
> 
agg»g©e_medŸn
(
F¬MemMªag”
 *
mªag”
, cÚ¡ 
U
 &
key_vec
);

304 
di§bË_´eãtch
();

305 
’abË_´eãtch
();

306 
¡©ic_´eãtch
(
Index_t
 
¡¬t
, Index_ˆ
¡•
, 
ušt32_t
 
num
);

307 
	g‹m¶©e
 <
boŞ
 
	gAsûndšg
 = 
Œue
>

308 
D©aF¿meVeùÜ
<>

309 
g‘_sÜ‹d_šdiûs
(
F¬MemMªag”
 *
mªag”
, 
boŞ
 
®»ady_sÜ‹d_asc
);

314 
	~"š‹º®/d©aäame_veùÜ.p
"

	@inc/deref_scope.hpp

1 #´agm¨
Úû


4 
	~<ruÁime/th»ad.h
>

7 
	~"h–³rs.hµ
"

9 
Çme¥aû
 
çr_memÜy
 {

11 
	eStus
 { 
OutofScİe
 = 0, 
InScİeV0
, 
InScİeV1
, 
GC
 };

12 
¡©ic_as£¹
(
GC
 =ğ
GC_STATUS
);

15 
boŞ
 
®mo¡_em±y
;

16 
boŞ
 
gc_ma¡”_aùive
;

17 
Stus
 
ex³ùed_¡©us
;

19 şas 
	cD”efScİe
 {

20 
	g´iv©e
:

21 
NOT_COPYABLE
(
D”efScİe
);

22 
NOT_MOVEABLE
(
D”efScİe
);

23 
mutÜ_wa™_fÜ_gc_ÿche
();

24 
št32_t
 
g‘_num_th»ads
(
Stus
 
¡©us
);

25 
boŞ
 
is_¡©us_ex³ùed
();

27 
ä›nd
 
şass
 
	gF¬MemMªag”
;

28 
ä›nd
 
şass
 
	gG’”icCÚcu¼’tHİscÙch
;

30 
	gpublic
:

31 
D”efScİe
();

32 ~
D”efScİe
();

33 
’‹r
();

34 
ex™
();

35 
»Ãw
();

36 
boŞ
 
is_š_d”ef_scİe
();

37 
Stus
 
æ_¡©us
(Stu 
¡©us
);

42 
	~"š‹º®/d”ef_scİe.p
"

	@inc/device.hpp

1 #´agm¨
Úû


4 
	~<ruÁime/tı.h
>

7 
	~"h–³rs.hµ
"

8 
	~"£rv”.hµ
"

9 
	~"sh¬ed_poŞ.hµ
"

11 
Çme¥aû
 
çr_memÜy
 {

13 şas 
	cF¬MemDeviû
 {

14 
public
:

15 
ušt64_t
 
çr_mem_size_
;

16 
ušt32_t
 
´eãtch_wš_size_
;

18 
F¬MemDeviû
(
ušt64_t
 
çr_mem_size
, 
ušt32_t
 
´eãtch_wš_size
);

19 
vœtu®
 ~
F¬MemDeviû
() {}

20 
ušt64_t
 
g‘_çr_mem_size
(ècÚ¡ {  
çr_mem_size_
; }

21 
ušt32_t
 
g‘_´eãtch_wš_size
(ècÚ¡ {  
´eãtch_wš_size_
; }

22 
vœtu®
 
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

23 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 *
d©a_Ën
,

24 
ušt8_t
 *
d©a_buf
) = 0;

25 
vœtu®
 
wr™e_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

26 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 
d©a_Ën
,

27 cÚ¡ 
ušt8_t
 *
d©a_buf
) = 0;

28 
vœtu®
 
boŞ
 
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
,

29 cÚ¡ 
ušt8_t
 *
obj_id
) = 0;

30 
vœtu®
 
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, ušt8_ˆ
·¿m_Ën
,

31 
ušt8_t
 *
·¿ms
) = 0;

32 
vœtu®
 
de¡ruù
(
ušt8_t
 
ds_id
) = 0;

33 
vœtu®
 
compu‹
(
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
, 
ušt16_t
 
šput_Ën
,

34 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

35 
ušt8_t
 *
ouut_buf
) = 0;

38 şas 
	cFakeDeviû
 : 
public
 
F¬MemDeviû
 {

39 
´iv©e
:

40 
cÚ¡ex´
 
ušt32_t
 
kP»ãtchWšSize
 = 1 << 20;

41 
S”v”
 
£rv”_
;

43 
public
:

44 
FakeDeviû
(
ušt64_t
 
çr_mem_size
);

45 ~
FakeDeviû
();

46 
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

47 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
);

48 
wr™e_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

49 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
);

50 
boŞ
 
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

51 
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, ušt8_ˆ
·¿m_Ën
,

52 
ušt8_t
 *
·¿ms
);

53 
de¡ruù
(
ušt8_t
 
ds_id
);

54 
compu‹
(
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
, 
ušt16_t
 
šput_Ën
,

55 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

56 
ušt8_t
 *
ouut_buf
);

59 şas 
	cTCPDeviû
 : 
public
 
F¬MemDeviû
 {

60 
´iv©e
:

61 
cÚ¡ex´
 
ušt32_t
 
kP»ãtchWšSize
 = 1 << 20;

63 
tıcÚn_t
 *
»mÙe_ma¡”_
;

64 
Sh¬edPoŞ
<
tıcÚn_t
 *> 
sh¬ed_poŞ_
;

66 
_»ad_objeù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

67 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 *
d©a_Ën
,

68 
ušt8_t
 *
d©a_buf
);

69 
_wr™e_objeù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

70 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 
d©a_Ën
,

71 cÚ¡ 
ušt8_t
 *
d©a_buf
);

72 
boŞ
 
_»move_objeù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt64_t
 
ds_id
,

73 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

74 
_cÚ¡ruù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
,

75 
ušt8_t
 
·¿m_Ën
, ušt8_ˆ*
·¿ms
);

76 
_de¡ruù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
);

77 
_compu‹
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
,

78 
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
,

79 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

81 
public
:

94 
cÚ¡ex´
 
ušt32_t
 
kOpcodeSize
 = 1;

95 
cÚ¡ex´
 
ušt32_t
 
kPÜtSize
 = 2;

96 
cÚ¡ex´
 
ušt32_t
 
kL¬geD©aSize
 = 512;

97 
cÚ¡ex´
 
ušt32_t
 
kMaxCompu‹D©aL’
 = 65535;

99 
cÚ¡ex´
 
ušt8_t
 
kOpIn™
 = 0;

100 
cÚ¡ex´
 
ušt8_t
 
kOpShutdown
 = 1;

101 
cÚ¡ex´
 
ušt8_t
 
kOpR—dObjeù
 = 2;

102 
cÚ¡ex´
 
ušt8_t
 
kOpWr™eObjeù
 = 3;

103 
cÚ¡ex´
 
ušt8_t
 
kOpRemoveObjeù
 = 4;

104 
cÚ¡ex´
 
ušt8_t
 
kOpCÚ¡ruù
 = 5;

105 
cÚ¡ex´
 
ušt8_t
 
kOpDecÚ¡ruù
 = 6;

106 
cÚ¡ex´
 
ušt8_t
 
kOpCompu‹
 = 7;

108 
TCPDeviû
(
Ãddr
 
¿ddr
, 
ušt32_t
 
num_cÚÃùiÚs
, 
ušt64_t
 
çr_mem_size
);

109 ~
TCPDeviû
();

110 
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

111 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
);

112 
wr™e_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

113 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
);

114 
boŞ
 
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

115 
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, ušt8_ˆ
·¿m_Ën
,

116 
ušt8_t
 *
·¿ms
);

117 
de¡ruù
(
ušt8_t
 
ds_id
);

118 
compu‹
(
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
, 
ušt16_t
 
šput_Ën
,

119 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

120 
ušt8_t
 *
ouut_buf
);

	@inc/hash.hpp

1 #´agm¨
Úû


3 
Çme¥aû
 
	gçr_memÜy
 {

4 
ušt32_t
 
hash_32
(cÚ¡ *
key
, 
Ën
);

7 
	~"š‹º®/hash.p
"

	@inc/helpers.hpp

1 #´agm¨
Úû


4 
	~<Ãt/.h
>

5 
	~<ruÁime/tı.h
>

8 
	~<¡ršg
>

10 
	#NOT_COPYABLE
(
Ty³Name
) \

11 
	`Ty³Name
(
Ty³Name
 cÚ¡ &èğ
d–‘e
; \

12 
Ty³Name
 &
İ”©Ü
=(Ty³NamcÚ¡ &èğ
d–‘e
;

	)

14 
	#NOT_MOVEABLE
(
Ty³Name
) \

15 
	`Ty³Name
(
Ty³Name
 &&èğ
d–‘e
; \

16 
Ty³Name
 &
İ”©Ü
=(Ty³Nam&&èğ
d–‘e
;

	)

18 
	#ABS
(
x
è((xè> 0 ? (xè: -(x))

	)

19 
	#DONT_OPTIMIZE
(
v¬
è
__asm__
 
	`__vŞ©e__
("" ::"m"(v¬));

	)

21 #ifdeà
DEBUG


22 
	#FORCE_INLINE
 
šlše


	)

24 
	#FORCE_INLINE
 
šlše
 
	`__©Œibu‹__
((
®ways_šlše
))

	)

27 
	#LOG_PRINTF
(...) \

29 
	`´“m±_di§bË
(); \

30 
	`årštf
(
¡d”r
, 
__VA_ARGS__
); \

31 
	`´“m±_’abË
(); \

32 }

	)

34 #ifdeà
DEBUG


35 
	#LOG_PRINTF_DBG
(...è
	`LOG_PRINTF
(
__VA_ARGS__
)

	)

37 
	#LOG_PRINTF_DBG
(...)

	)

40 
	#TEST_ASSERT
(
x
) \

41 ià(!(
x
)) { \

42 
¡d
::
cout
 << "As£¹ fau» oÀlš" << 
__LINE__
 << std::
’dl
; \

43 
	`ex™
(-1); \

44 }

	)

46 
	#FOR_ALL_SOCKET0_CORES
(
cÜe_id
) \

47 
ušt32_t
 
cÜe_id
 = 0; cÜe_id < 
h–³rs
::
kNumCPUs
; cÜe_id++)

	)

49 
	#Cach–šeAligÃd
(
ty³
) \

50 
	`®igÇs
(64è
Cach–šeAligÃd_
##
ty³
 { \

51 
ty³
 
d©a
; \

52 }

	)

54 
Çme¥aû
 
	gh–³rs
 {

56 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
cÚû±
 
	gAddabË
 = 
»quœes
(
T
 
x
) { x + x; };

57 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
cÚû±
 
	gDividabËByIÁ
 = 
»quœes
(
T
 
x
) { x / 2; };

58 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

59 
	gFunùiÚT¿™s
 : 
public
 
FunùiÚT¿™s
<
deşty³
(&
T
::
İ”©Ü
())> {};

60 
	g‹m¶©e
 <
ty³Çme
 
	gCÏssTy³
,y³Çm
	gR‘uºTy³
, 
	gty³Çme
... 
	gArgs
>

61 
	gFunùiÚT¿™s
<
R‘uºTy³
 (
CÏssTy³
::*)(
Args
...) const>;

63 
cÚ¡ex´
 
ušt8_t
 
	gkPageShiá
 = 12;

64 
cÚ¡ex´
 
ušt32_t
 
	gkPageSize
 = (1 << 
kPageShiá
);

65 
cÚ¡ex´
 
ušt8_t
 
	gkHug•ageShiá
 = 21;

66 
cÚ¡ex´
 
ušt32_t
 
	gkHug•ageSize
 = (1 << 
kHug•ageShiá
);

67 
cÚ¡ex´
 
ušt8_t
 
	gkNumCPUs
 = 20;

68 
cÚ¡ex´
 
ušt8_t
 
	gkNumSock‘1CPUs
 = 24;

70 
ušt64_t
 
round_to_hug•age_size
(ušt64_ˆ
size
);

71 *
®loÿ‹_hug•age
(
ušt64_t
 
size
);

72 
g‘_num_cÜes
();

73 
tim”_¡¬t
(*
cyşes_high_¡¬t
,

74 *
cyşes_low_¡¬t
);

75 
tim”_’d
(*
cyşes_high_’d
, *
cyşes_low_’d
);

76 
ušt64_t
 
g‘_–­£d_cyşes
(
cyşes_high_¡¬t
,

77 
cyşes_low_¡¬t
,

78 
cyşes_high_’d
,

79 
cyşes_low_’d
);

80 
	g‹m¶©e
 <
size_t
 
	gn
> 
sm®l_memıy
(*
_de¡
, cÚ¡ *
_¤c
);

81 
	g‹m¶©e
 <
size_t
 
	gn
> 
sm®l_mem£t
(*
_de¡
, 
ušt8_t
 
d©a
);

82 
	g‹m¶©e
 <
	gI
, 
	gşass
... 
	gTs
>

83 
cÚ¡ex´
 
deşty³
×utoè
v¬Ÿdic_g‘
(
Ts
 &&... 
ts
);

84 
	g‹m¶©e
 <
ty³Çme
 
	gF
> 
execu‹_uÁ
(
F
 &&
f
, 
ušt64_t
 
Ï‹ncy_us
);

85 
	g‹m¶©e
 <
şass
 
	gF
> autØ
fš®ly
(
F
 
f
è
nÛxû±
ÒÛxû±(F(
¡d
::
move
(f))));

86 
dump_cÜe
();

87 *
memıy_”msb
(*
d¡
, cÚ¡ *
¤c
, 
size_t
 
n
);

88 
chrÚo_to_time¡amp
(cÚ¡‡utØ&

);

89 
ušt32_t
 
b¤_32
(ušt32_ˆ
a
);

90 
ušt64_t
 
b¤_64
(ušt64_ˆ
a
);

91 
cÚ¡ex´
 
ušt32_t
 
round_up_pow”_of_two
(ušt32_ˆ
a
);

92 
ušt32_t
 
bsf_32
(ušt32_ˆ
a
);

93 
ušt64_t
 
bsf_64
(ušt64_ˆ
a
);

94 
Ãddr
 
¡r_to_Ãddr
(
¡d
::
¡ršg
 
_addr_pÜt
);

95 
tı_»ad_uÁ
(
tıcÚn_t
 *
c
, *
buf
, 
size_t
 
ex³ù
);

96 
tı_wr™e_uÁ
(
tıcÚn_t
 *
c
, cÚ¡ *
buf
, 
size_t
 
ex³ù
);

97 
tı_wr™e2_uÁ
(
tıcÚn_t
 *
c
, cÚ¡ *
buf_0
, 
size_t
 
ex³ù_0
,

98 cÚ¡ *
buf_1
, 
size_t
 
ex³ù_1
);

99 
cÚ¡ex´
 
size_t
 
¡©ic_log
(
ušt64_t
 
b
, ušt64_ˆ
n
);

100 
ušt32_t
 
®ign_to
(ušt32_ˆ
n
, ušt32_ˆ
çùÜ
);

101 
ušt64_t
 
®ign_to
(ušt64_ˆ
n
, ušt64_ˆ
çùÜ
);

102 
b»akpošt
();

105 
	~"š‹º®/h–³rs.p
"

	@inc/internal/MurmurHash3.h

5 #iâdeà
_MURMURHASH3_H_


6 
	#_MURMURHASH3_H_


	)

13 #ià
defšed
(
_MSC_VER
) && (_MSC_VER < 1600)

15 
	tušt8_t
;

16 
	tušt32_t
;

17 
	t__št64
 
	tušt64_t
;

23 
	~<¡dšt.h
>

29 
MurmurHash3_x86_32
 ( cÚ¡ * 
key
, 
Ën
, 
ušt32_t
 
£ed
, * 
out
 );

31 
MurmurHash3_x86_128
 ( cÚ¡ * 
key
, 
Ën
, 
ušt32_t
 
£ed
, * 
out
 );

33 
MurmurHash3_x64_128
 ( cÚ¡ * 
key
, 
Ën
, 
ušt32_t
 
£ed
, * 
out
 );

	@inc/internal/dataframe_types.hpp

1 #´agm¨
Úû


3 
	~"../D©aF¿me/AIFM/šşude/sim¶e_time.hµ
"

4 
	~"h–³rs.hµ
"

6 
	~<c¡dšt
>

7 
	~<ty³_Œa™s
>

9 
Çme¥aû
 
	gçr_memÜy
 {

11 
	eD©aF¿meTy³ID
 {

12 
	gCh¬
 = 0,

13 
	gShÜt
,

14 
	gIÁ
,

15 
	gUnsigÃdIÁ
,

16 
	gLÚg
,

17 
	gUnsigÃdLÚg
,

18 
	gLÚgLÚg
,

19 
	gUnsigÃdLÚgLÚg
,

20 
	gFlßt
,

21 
	gDoubË
,

22 
	gTime


25 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
FORCE_INLINE
 
cÚ¡ex´
 
št8_t
 
g‘_d©aäame_ty³_id
() {

26 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

27  
D©aF¿meTy³ID
::
Ch¬
;

29 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

30  
D©aF¿meTy³ID
::
ShÜt
;

32 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

33  
D©aF¿meTy³ID
::
IÁ
;

35 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

36  
D©aF¿meTy³ID
::
UnsigÃdIÁ
;

38 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

39  
D©aF¿meTy³ID
::
LÚg
;

41 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

42  
D©aF¿meTy³ID
::
UnsigÃdLÚg
;

44 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

45  
D©aF¿meTy³ID
::
LÚgLÚg
;

47 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

48  
D©aF¿meTy³ID
::
UnsigÃdLÚgLÚg
;

50 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

51  
D©aF¿meTy³ID
::
Flßt
;

53 ià(
	g¡d
::
is_§me
<
T
, >::
v®ue
) {

54  
D©aF¿meTy³ID
::
DoubË
;

56 ià(
	g¡d
::
is_§me
<
T
, 
	gSim¶eTime
>::
v®ue
) {

57  
D©aF¿meTy³ID
::
Time
;

62 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
FORCE_INLINE
 
cÚ¡ex´
 
boŞ
 
is_basic_d©aäame_ty³s
() {

63  
	gg‘_d©aäame_ty³_id
<
	gT
>() != -1;

	@inc/internal/ds_info.hpp

1 #´agm¨
Úû


3 
	~<c¡dšt
>

5 
Çme¥aû
 
	gçr_memÜy
 {

8 
cÚ¡ex´
 
ušt8_t
 
	gkMaxNumDSIDs
 = 255;

9 
cÚ¡ex´
 
ušt8_t
 
	gkMaxNumDSTy³s
 = 255;

12 
cÚ¡ex´
 
ušt8_t
 
	gkVªÏPŒDSTy³
 = 0;

13 
cÚ¡ex´
 
ušt8_t
 
	gkVªÏPŒDSID
 = 0;

14 
cÚ¡ex´
 
ušt32_t
 
	gkVªÏPŒObjeùIDSize
 =

15 (
ušt64_t
);

18 
cÚ¡ex´
 
ušt8_t
 
	gkHashTabËDSTy³
 = 1;

21 
cÚ¡ex´
 
ušt8_t
 
	gkD©aF¿meVeùÜDSTy³
 = 2;

	@inc/list.hpp

1 #´agm¨
Úû


3 
	~"d”ef_scİe.hµ
"

4 
	~"loÿl_li¡.hµ
"

5 
	~"poš‹r.hµ
"

7 
	~<ÿs£¹
>

8 
	~<c¡dšt
>

10 
Çme¥aû
 
	gçr_memÜy
 {

12 şas 
	cG’”icLi¡
 {

13 
	g´iv©e
:

14 
	sChunkLi¡D©a
 {

15 
ušt64_t
 
m‘a
;

16 
ušt8_t
 
	gd©a
[0];

19 #´agm¨
·ck
(
push
, 1)

20 
	sChunkNodePŒ
 {

21 
ušt8_t
 
	gidx
;

22 
ušt16_t
 
	gaddr_off£t
;

24 
ChunkNodePŒ
();

25 
ChunkNodePŒ
(cÚ¡ ChunkNodePŒ &
o
);

26 
cÚ¡ex´
 
ChunkNodePŒ
(
ušt8_t
 
_idx
, 
ušt16_t
 
_addr_off£t
);

27 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
ChunkNodePŒ
 &
o
) const;

28 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
ChunkNodePŒ
 &
o
) const;

30 #´agm¨
·ck
(
pİ
)

32 
	sChunkLi¡S‹
 {

33 
ušt64_t
 
	gli¡_d©a_±r_addr
 : 48;

34 
ušt16_t
 
	gkChunkLi¡NodeSize
 : 16;

37 
	gG’”icLoÿlLi¡Node
<
	gChunkNodePŒ
> &

38 
d”ef_node_±r
(
ChunkNodePŒ
 
±r
, 
ChunkLi¡S‹
 
¡©e
);

39 
ChunkNodePŒ
 
®loÿ‹_node
(
ChunkLi¡S‹
 
¡©e
);

40 
ä“_node
(
ChunkNodePŒ
 
±r
, 
ChunkLi¡S‹
 
¡©e
);

42 
cÚ¡ex´
 autØ
	gkD”efNodePŒFn
 =

43 [](
ChunkNodePŒ
 
±r
,

44 
ChunkLi¡S‹
 
	g¡©e
è-> 
	gG’”icLoÿlLi¡Node
<
	gChunkNodePŒ
> & {

45  
d”ef_node_±r
(
±r
, 
¡©e
);

47 
cÚ¡ex´
 autØ
	gkAÎoÿ‹NodeFn
 =

48 [](
ChunkLi¡S‹
 
¡©e
è-> 
ChunkNodePŒ
 {  
®loÿ‹_node
(state); };

49 
cÚ¡ex´
 autØ
	gkF»eNodeFn
 =

50 [](
ChunkNodePŒ
 
±r
, 
ChunkLi¡S‹
 
	g¡©e
è{ 
ä“_node
ÕŒ, 
¡©e
); };

51 
usšg
 
	gChunkLi¡
 =

52 
G’”icLoÿlLi¡
<
ChunkNodePŒ
, 
deşty³
(
kD”efNodePŒFn
),

53 
deşty³
(
kAÎoÿ‹NodeFn
), deşty³(
kF»eNodeFn
)>;

55 #´agm¨
·ck
(
push
, 1)

56 
	sLoÿlNode
 {

57 
G’”icUniquePŒ
 
	g±r
;

58 
ChunkLi¡
 
	gchunk_li¡
;

59 
ušt8_t
 
	gút
 = 0;

60 
boŞ
 
	gsw­pšg_š
 = 
çl£
;

61 
ušt8_t
 
	g·ddšgs
[6];

63 
boŞ
 
is_šv®id
() const;

65 #´agm¨
·ck
(
pİ
)

67 
¡©ic_as£¹
((
LoÿlNode
) == 32);

69 
	g‹m¶©e
 <
boŞ
 
	gRev”£
> cÏs 
	cG’”icI‹¿tÜIm¶
 {

70 
	g´iv©e
:

71 
ušt8_t
 *
š£¹
(cÚ¡ 
D”efScİe
 &
scİe
);

72 
G’”icI‹¿tÜIm¶
 
”a£
(cÚ¡ 
D”efScİe
 &
scİe
, 
ušt8_t
 **
d©a_±r
);

74 
	gLoÿlLi¡
<
	gLoÿlNode
>::
I‹¿tÜIm¶
<
Rev”£
> 
loÿl_™”_
;

75 
	gChunkLi¡
::
‹m¶©e
 
I‹¿tÜIm¶
<
Rev”£
> 
chunk_™”_
;

76 
G’”icLi¡
 *
	gli¡_
;

77 
ä›nd
 
şass
 
	gG’”icLi¡
;

79 
	gpublic
:

80 
G’”icI‹¿tÜIm¶
(

81 cÚ¡ 
D”efScİe
 &
scİe
,

82 cÚ¡ 
LoÿlLi¡
<
LoÿlNode
>::
I‹¿tÜIm¶
<
Rev”£
> &
loÿl_™”
,

83 
G’”icLi¡
 *
li¡
);

84 
G’”icI‹¿tÜIm¶
(cÚ¡ G’”icI‹¿tÜIm¶<
Rev”£
> &
o
);

85 
	gG’”icI‹¿tÜIm¶
 &
	gİ”©Ü
=(cÚ¡ 
G’”icI‹¿tÜIm¶
<
Rev”£
> &
o
);

86 
šc
(cÚ¡ 
D”efScİe
 &
scİe
);

87 
dec
(cÚ¡ 
D”efScİe
 &
scİe
);

88 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
G’”icI‹¿tÜIm¶
 &
o
);

89 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
G’”icI‹¿tÜIm¶
 &
o
);

90 cÚ¡ 
ušt8_t
 *
d”ef
(cÚ¡ 
D”efScİe
 &
scİe
);

91 
ušt8_t
 *
d”ef_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

94 
usšg
 
	gG’”icI‹¿tÜ
 = 
G’”icI‹¿tÜIm¶
< 
çl£
>;

95 
usšg
 
	gRev”£G’”icI‹¿tÜ
 = 
G’”icI‹¿tÜIm¶
< 
Œue
>;

97 
cÚ¡ex´
 
ušt16_t
 
	gkMšNumNodesP”Chunk
 = 8;

98 
cÚ¡ex´
 
ušt16_t
 
	gkMaxNumNodesP”Chunk
 = 64;

99 
cÚ¡ex´
 
ušt16_t
 
	gkInv®idCÁ
 = 
kMaxNumNodesP”Chunk
 + 1;

100 
cÚ¡ex´
 
ušt16_t
 
	gkDeçuÉChunkSize
 = 4096;

101 
cÚ¡ex´
 
	gkM”geTh»shR©io
 = 0.75;

103 cÚ¡ 
ušt16_t
 
	gkI‹mSize_
;

104 cÚ¡ 
ušt16_t
 
	gkNumNodesP”Chunk_
;

105 cÚ¡ 
ušt16_t
 
	gkChunkLi¡NodeSize_
;

106 cÚ¡ 
ušt16_t
 
	gkChunkSize_
;

107 cÚ¡ 
ušt64_t
 
	gkIn™M‘a_
;

108 cÚ¡ 
ušt16_t
 
	gkM”geTh»sh_
;

109 cÚ¡ 
ušt32_t
 
	gkP»ãtchNumNodes_
;

110 
	gLoÿlLi¡
<
	gLoÿlNode
> 
	gloÿl_li¡_
;

111 
ušt64_t
 
	gsize_
 = 0;

112 
boŞ
 
	g’abË_m”ge_
;

113 
boŞ
 
	gcu¡omized_¥l™_
;

114 
boŞ
 
	g’abË_´eãtch_
 = 
çl£
;

115 
boŞ
 
	g´eãtch_»v”£d_
 = 
Œue
;

116 
	gLoÿlLi¡
<
	gLoÿlNode
>::
I‹¿tÜ
 
´eãtch_™”_
;

118 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
ä›nd
 
şass
 
	gLi¡
;

119 
ä›nd
 
şass
 
	gF¬MemTe¡
;

121 
G’”icLi¡
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
ušt16_t
 
kI‹mSize
,

122 cÚ¡ 
ušt16_t
 
kNumNodesP”Chunk
, 
boŞ
 
’abË_m”ge
,

123 
boŞ
 
cu¡omized_¥l™
 = 
çl£
);

124 
š™_loÿl_node
(cÚ¡ 
D”efScİe
 &
scİe
, 
LoÿlNode
 *
loÿl_node
);

125 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

126 
	gLoÿlLi¡
<
	gLoÿlNode
>::
I‹¿tÜIm¶
<
Rev”£
>

127 
add_loÿl_li¡_node
(cÚ¡ 
D”efScİe
 &
scİe
,

128 cÚ¡ 
LoÿlLi¡
<
LoÿlNode
>::
I‹¿tÜIm¶
<
Rev”£
> &
™”
);

129 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

130 
	gG’”icLi¡
::
G’”icI‹¿tÜIm¶
<
Rev”£
>

131 
»move_loÿl_li¡_node
(cÚ¡ 
D”efScİe
 &
scİe
,

132 cÚ¡ 
G’”icI‹¿tÜIm¶
<
Rev”£
> &
™”
);

133 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

134 
	gG’”icI‹¿tÜIm¶
<
	gRev”£
>

135 
¥l™_loÿl_li¡_node
(cÚ¡ 
D”efScİe
 &
scİe
,

136 cÚ¡ 
G’”icI‹¿tÜIm¶
<
Rev”£
> &
™”
);

137 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

138 
m”ge_loÿl_li¡_node
(

139 cÚ¡ 
D”efScİe
 &
scİe
,

140 cÚ¡ 
LoÿlLi¡
<
LoÿlNode
>::
I‹¿tÜIm¶
<
Rev”£
> &
loÿl_™”
,

141 cÚ¡ 
LoÿlLi¡
<
LoÿlNode
>::
I‹¿tÜIm¶
<
Rev”£
> &
Ãxt_loÿl_™”
);

143 
	g‹m¶©e
 <
boŞ
 
	gMut
>

144 
upd©e_chunk_li¡_addr
(cÚ¡ 
D”efScİe
 &
scİe
,

145 
LoÿlNode
 *
loÿl_node
);

147 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

149 
´eãtch_fsm
(cÚ¡ 
LoÿlLi¡
<
LoÿlNode
>::
I‹¿tÜIm¶
<
Rev”£
> &
loÿl_™”
);

150 
´eãtch_Úû
();

151 
do_´eãtch
(
LoÿlNode
 *
loÿl_node
);

153 
	gpublic
:

154 
G’”icI‹¿tÜ
 
begš
(cÚ¡ 
D”efScİe
 &
scİe
) const;

155 
G’”icI‹¿tÜ
 
’d
(cÚ¡ 
D”efScİe
 &
scİe
) const;

156 
Rev”£G’”icI‹¿tÜ
 
rbegš
(cÚ¡ 
D”efScİe
 &
scİe
) const;

157 
Rev”£G’”icI‹¿tÜ
 
»nd
(cÚ¡ 
D”efScİe
 &
scİe
) const;

158 cÚ¡ 
ušt8_t
 *
cäÚt
(cÚ¡ 
D”efScİe
 &
scİe
) const;

159 cÚ¡ 
ušt8_t
 *
cback
(cÚ¡ 
D”efScİe
 &
scİe
) const;

160 
ušt8_t
 *
äÚt
(cÚ¡ 
D”efScİe
 &
scİe
) const;

161 
ušt8_t
 *
back
(cÚ¡ 
D”efScİe
 &
scİe
) const;

162 
ušt64_t
 
size
() const;

163 
boŞ
 
em±y
() const;

164 
ušt8_t
 *
Ãw_äÚt
(cÚ¡ 
D”efScİe
 &
scİe
);

165 
ušt8_t
 *
pİ_äÚt
(cÚ¡ 
D”efScİe
 &
scİe
);

166 
ušt8_t
 *
Ãw_back
(cÚ¡ 
D”efScİe
 &
scİe
);

167 
ušt8_t
 *
pİ_back
(cÚ¡ 
D”efScİe
 &
scİe
);

168 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

169 
ušt8_t
 *
š£¹
(cÚ¡ 
D”efScİe
 &
scİe
, 
G’”icI‹¿tÜIm¶
<
Rev”£
> *
™”
);

170 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

171 
	gG’”icI‹¿tÜIm¶
<
	gRev”£
> 
”a£
(cÚ¡ 
D”efScİe
 &
scİe
,

172 cÚ¡ 
G’”icI‹¿tÜIm¶
<
Rev”£
> &
™”
,

173 
ušt8_t
 **
d©a_±r
);

176 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cLi¡
 : 
public
 
G’”icLi¡
 {

177 
´iv©e
:

178 
cÚ¡ex´
 
ušt16_t
 
kNumNodesP”Chunk
 =

179 
¡d
::
max
(
¡©ic_ÿ¡
<
ušt16_t
>(
kMšNumNodesP”Chunk
),

180 
¡d
::
mš
(
¡©ic_ÿ¡
<
ušt16_t
>(
kMaxNumNodesP”Chunk
),

181 
¡©ic_ÿ¡
<
ušt16_t
>(

182 (
kDeçuÉChunkSize
 - (
ChunkLi¡D©a
) -

183 (
ChunkLi¡
::
Li¡D©a
)) /

184 ((
T
è+ (
ChunkLi¡
::
Node
)))));

186 
¡©ic_as£¹
(
kNumNodesP”Chunk
 <ğ8 * (
ChunkLi¡D©a
::
m‘a
));

188 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

189 
şass
 
	gI‹¿tÜIm¶
 : 
public
 
G’”icI‹¿tÜIm¶
<
Rev”£
> {

190 
´iv©e
:

191 
I‹¿tÜIm¶
(cÚ¡ 
G’”icI‹¿tÜIm¶
<
Rev”£
> &
g’”ic_™”
);

192 
ä›nd
 
şass
 
	gLi¡
;

194 
	gpublic
:

195 
I‹¿tÜIm¶
(cÚ¡ I‹¿tÜIm¶ &
o
);

196 
	gI‹¿tÜIm¶
 &
	gİ”©Ü
=(cÚ¡ 
I‹¿tÜIm¶
 &
o
);

197 cÚ¡ 
	gT
 &
d”ef
(cÚ¡ 
D”efScİe
 &
scİe
);

198 
	gT
 &
d”ef_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

201 
usšg
 
	gI‹¿tÜ
 = 
I‹¿tÜIm¶
< 
çl£
>;

202 
usšg
 
	gRev”£I‹¿tÜ
 = 
I‹¿tÜIm¶
< 
Œue
>;

204 
Li¡
(cÚ¡ 
D”efScİe
 &
scİe
, 
boŞ
 
’abË_m”ge
,

205 
boŞ
 
cu¡omized_¥l™
 = 
çl£
);

207 
	g‹m¶©e
 <
ty³Çme
 
	gD
> 
ä›nd
 
şass
 
	gQueue
;

208 
	g‹m¶©e
 <
ty³Çme
 
	gD
> 
ä›nd
 
şass
 
	gSck
;

209 
ä›nd
 
şass
 
	gF¬MemMªag”
;

210 
ä›nd
 
şass
 
	gF¬MemTe¡
;

212 
	gpublic
:

213 ~
Li¡
();

214 
I‹¿tÜ
 
begš
(cÚ¡ 
D”efScİe
 &
scİe
) const;

215 
I‹¿tÜ
 
’d
(cÚ¡ 
D”efScİe
 &
scİe
) const;

216 
Rev”£I‹¿tÜ
 
rbegš
(cÚ¡ 
D”efScİe
 &
scİe
) const;

217 
Rev”£I‹¿tÜ
 
»nd
(cÚ¡ 
D”efScİe
 &
scİe
) const;

218 cÚ¡ 
	gT
 &
cäÚt
(cÚ¡ 
D”efScİe
 &
scİe
) const;

219 cÚ¡ 
	gT
 &
cback
(cÚ¡ 
D”efScİe
 &
scİe
) const;

220 
	gT
 &
äÚt
(cÚ¡ 
D”efScİe
 &
scİe
) const;

221 
	gT
 &
back
(cÚ¡ 
D”efScİe
 &
scİe
) const;

222 
push_äÚt
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
T
 &
d©a
);

223 
push_back
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
T
 &
d©a
);

224 
pİ_äÚt
(cÚ¡ 
D”efScİe
 &
scİe
);

225 
pİ_back
(cÚ¡ 
D”efScİe
 &
scİe
);

226 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

227 
š£¹
(cÚ¡ 
D”efScİe
 &
scİe
, 
I‹¿tÜIm¶
<
Rev”£
> *
™”
,

228 cÚ¡ 
T
 &
d©a
);

229 
	g‹m¶©e
 <
boŞ
 
	gRev”£
>

230 
	gI‹¿tÜIm¶
<
	gRev”£
> 
”a£
(cÚ¡ 
D”efScİe
 &
scİe
,

231 cÚ¡ 
I‹¿tÜIm¶
<
Rev”£
> &
™”
);

236 
	~"š‹º®/li¡.p
"

	@inc/local_concurrent_hopscotch.hpp

1 #´agm¨
Úû


3 
	~"sync.h
"

5 
	~"h–³rs.hµ
"

6 
	~"¦ab.hµ
"

8 
	~<c¡dšt
>

9 
	~<memÜy
>

10 
	~<İtiÚ®
>

12 
Çme¥aû
 
	gçr_memÜy
 {

14 şas 
	cLoÿlG’”icCÚcu¼’tHİscÙch
 {

15 
	g´iv©e
:

16 #´agm¨
·ck
(
push
, 1)

17 
	sKVD©aH—d”
 {

18 
ušt8_t
 
	gkey_Ën
;

19 
ušt16_t
 
	gv®_Ën
;

21 #´agm¨
·ck
(
pİ
)

22 
¡©ic_as£¹
((
KVD©aH—d”
) == 3);

24 #´agm¨
·ck
(
push
, 1)

25 
	sBuck‘EÁry
 {

26 
cÚ¡ex´
 
ušt64_t
 
	gkBusyPŒ
 = 0x1;

28 
ušt32_t
 
	gb™m­
;

29 
	g¹
::
Spš
 
¥š
;

30 
ušt64_t
 
	gtime¡amp
;

31 
KVD©aH—d”
 *
	g±r
;

33 
Buck‘EÁry
();

35 #´agm¨
·ck
(
pİ
)

36 
¡©ic_as£¹
((
Buck‘EÁry
) == 24);

38 
cÚ¡ex´
 
ušt32_t
 
	gkNeighbÜhood
 = 32;

39 
cÚ¡ex´
 
ušt32_t
 
	gkMaxR‘r›s
 = 2;

41 cÚ¡ 
ušt32_t
 
	gkHashMask_
;

42 cÚ¡ 
ušt32_t
 
	gkNumEÁr›s_
;

43 
	g¡d
::
unique_±r
<
ušt8_t
> 
buck‘s_mem_
;

44 
ušt64_t
 
	g¦ab_ba£_addr_
;

45 
SÏb
 
	g¦ab_
;

46 
Buck‘EÁry
 *
	gbuck‘s_
;

47 
ä›nd
 
şass
 
	gF¬MemTe¡
;

49 
do_»move
(
Buck‘EÁry
 *
buck‘
, Buck‘EÁry *
’Œy
);

51 
	gpublic
:

52 
LoÿlG’”icCÚcu¼’tHİscÙch
(
ušt32_t
 
num_’Œ›s_shiá
,

53 
ušt64_t
 
d©a_size
);

54 ~
LoÿlG’”icCÚcu¼’tHİscÙch
();

55 
g‘
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 *
v®_Ën
, ušt8_ˆ*
v®
,

56 
boŞ
 
»move
 = 
çl£
);

57 
boŞ
 
put
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
, 
ušt16_t
 
v®_Ën
,

58 cÚ¡ 
ušt8_t
 *
v®
);

59 
boŞ
 
»move
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
);

62 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gV
>

63 şas 
	cLoÿlCÚcu¼’tHİscÙch
 : 
public
 
LoÿlG’”icCÚcu¼’tHİscÙch
 {

64 
´iv©e
:

65 
cÚ¡ex´
 
ušt64_t
 
kKVD©aSize
 =

66 (
K
è+ (
V
è+ (
KVD©aH—d”
);

67 
Cach–šeAligÃd
(
št64_t
è
	g³r_cÜe_size_
[
h–³rs
::
kNumCPUs
];

69 
	gpublic
:

70 
LoÿlCÚcu¼’tHİscÙch
(
ušt32_t
 
šdex_num_kv
, 
ušt64_t
 
d©a_num_kv
);

71 
boŞ
 
em±y
() const;

72 
ušt64_t
 
size
() const;

73 
	g¡d
::
İtiÚ®
<
V
> 
fšd
(cÚ¡ 
K
 &
key
);

74 
š£¹
(cÚ¡ 
K
 &
key
, cÚ¡ 
V
 &
v®
);

75 
boŞ
 
”a£
(cÚ¡ 
K
 &
key
);

80 
	~"š‹º®/loÿl_cÚcu¼’t_hİscÙch.p
"

	@inc/local_list.hpp

1 #´agm¨
Úû


4 
	~<ruÁime/´“m±.h
>

7 
	~"h–³rs.hµ
"

9 
	~<memÜy
>

10 
	~<¡ack
>

11 
	~<ty³_Œa™s
>

12 
	~<veùÜ
>

14 
Çme¥aû
 
çr_memÜy
 {

16 
‹m¶©e
 <
ty³Çme
 
T
> 
şass
 
LoÿlLi¡
;

18 
‹m¶©e
 <
ty³Çme
 
NodePŒ
> 
	sG’”icLoÿlLi¡Node
 {

19 
NodePŒ
 
Ãxt
;

20 
NodePŒ
 
´ev
;

21 
ušt8_t
 
d©a
[0];

24 #´agm¨
·ck
(
push
, 1)

25 
‹m¶©e
 <
ty³Çme
 
NodePŒ
> 
	sG’”icLoÿlLi¡D©a
 {

26 
G’”icLoÿlLi¡Node
<
NodePŒ
> 
h—d
;

27 
G’”icLoÿlLi¡Node
<
NodePŒ
> 

;

28 
NodePŒ
 
h—d_±r
;

29 
NodePŒ
 
_±r
;

30 
ušt8_t
 
d©a
[0];

32 #´agm¨
·ck
(
pİ
)

34 
‹m¶©e
 <
ty³Çme
 
NodePŒ
,y³Çm
D”efFn
,y³Çm
AÎoÿ‹Fn
,

35 
ty³Çme
 
F»eFn
>

36 şas 
	cG’”icLoÿlLi¡
 {

37 
´iv©e
:

38 
usšg
 
Node
 = 
G’”icLoÿlLi¡Node
<
NodePŒ
>;

39 
usšg
 
Li¡D©a
 = 
G’”icLoÿlLi¡D©a
<
NodePŒ
>;

40 
usšg
 
D”efFnT¿™s
 = 
h–³rs
::
FunùiÚT¿™s
<
D”efFn
>;

41 
usšg
 
AÎoÿ‹FnT¿™s
 = 
h–³rs
::
FunùiÚT¿™s
<
AÎoÿ‹Fn
>;

42 
usšg
 
F»eFnT¿™s
 = 
h–³rs
::
FunùiÚT¿™s
<
F»eFn
>;

43 
usšg
 
FnS‹Ty³
 = 
ty³Çme
 
D”efFnT¿™s
::
‹m¶©e
 
Arg
<1>::
Ty³
;

44 
cÚ¡ex´
 
boŞ
 
kFnHasS‹
 = (
D”efFnT¿™s
::
Ar™y
 == 2);

45 
usšg
 
S‹Ty³
 =

46 
¡d
::
cÚd™iÚ®
<
kFnHasS‹
, 
FnS‹Ty³
, 
ušt8_t
[0]>::
ty³
;

49 
¡©ic_as£¹
(
D”efFnT¿™s
::
Ar™y
 == 1 || DerefFnTraits::Arity == 2);

50 
¡©ic_as£¹
(
¡d
::
is_§me
<

51 
NodePŒ
, 
ty³Çme
 
D”efFnT¿™s
::
‹m¶©e
 
Arg
<0>::
Ty³
>::
v®ue
);

52 
¡©ic_as£¹
(

53 
¡d
::
is_§me
<
FnS‹Ty³
,

54 
ty³Çme
 
D”efFnT¿™s
::
‹m¶©e
 
Arg
<1>::
Ty³
>::
v®ue
);

55 
¡©ic_as£¹
(

56 
¡d
::
is_§me
<
Node
 &, 
ty³Çme
 
D”efFnT¿™s
::
ResuÉTy³
>::
v®ue
);

59 
¡©ic_as£¹
(
AÎoÿ‹FnT¿™s
::
Ar™y
 + 1 =ğ
D”efFnT¿™s
::Arity);

60 
¡©ic_as£¹
(

61 
¡d
::
is_§me
<
FnS‹Ty³
,

62 
ty³Çme
 
AÎoÿ‹FnT¿™s
::
‹m¶©e
 
Arg
<0>::
Ty³
>::
v®ue
);

63 
¡©ic_as£¹
(

64 
¡d
::
is_§me
<
NodePŒ
, 
ty³Çme
 
AÎoÿ‹FnT¿™s
::
ResuÉTy³
>::
v®ue
);

67 
¡©ic_as£¹
(
¡©ic_ÿ¡
<>(
F»eFnT¿™s
::
Ar™y
è=ğ
D”efFnT¿™s
::Arity);

68 
¡©ic_as£¹
(
¡d
::
is_§me
<

69 
NodePŒ
, 
ty³Çme
 
F»eFnT¿™s
::
‹m¶©e
 
Arg
<0>::
Ty³
>::
v®ue
);

70 
¡©ic_as£¹
(

71 
¡d
::
is_§me
<
FnS‹Ty³
,

72 
ty³Çme
 
F»eFnT¿™s
::
‹m¶©e
 
Arg
<1>::
Ty³
>::
v®ue
);

73 
¡©ic_as£¹
(
¡d
::
is_§me
<, 
ty³Çme
 
F»eFnT¿™s
::
ResuÉTy³
>::
v®ue
);

75 
‹m¶©e
 <
boŞ
 
Rev”£
> cÏs 
	cI‹¿tÜIm¶
 {

76 
´iv©e
:

77 
NodePŒ
 
±r_
;

78 
S‹Ty³
 
¡©e_
;

80 
ä›nd
 
şass
 
G’”icLoÿlLi¡
;

81 
ä›nd
 
şass
 
G’”icLi¡
;

82 
‹m¶©e
 <
ty³Çme
 
T
> 
ä›nd
 
şass
 
LoÿlLi¡
;

84 
Node
 &
d”ef
(
NodePŒ
 
±r
) const;

85 
ušt8_t
 *
š£¹
();

86 
I‹¿tÜIm¶
<
Rev”£
> 
”a£
(
ušt8_t
 **
d©a_±r
);

87 
NodePŒ
 
®loÿ‹
();

88 
ä“
(
NodePŒ
 
node_±r
);

90 
public
:

91 
I‹¿tÜIm¶
();

92 
I‹¿tÜIm¶
(
NodePŒ
 
±r
, 
S‹Ty³
 
¡©e
);

93 
‹m¶©e
 <
boŞ
 
ORev”£
> 
I‹¿tÜIm¶
(cÚ¡ I‹¿tÜIm¶<ORev”£> &
o
);

94 
‹m¶©e
 <
boŞ
 
ORev”£
>

95 
I‹¿tÜIm¶
 &
İ”©Ü
=(cÚ¡ I‹¿tÜIm¶<
ORev”£
> &
o
);

96 
I‹¿tÜIm¶
 &
İ”©Ü
++();

97 
I‹¿tÜIm¶
 
İ”©Ü
++();

98 
I‹¿tÜIm¶
 &
İ”©Ü
--();

99 
I‹¿tÜIm¶
 
İ”©Ü
--();

100 
boŞ
 
İ”©Ü
==(cÚ¡ 
I‹¿tÜIm¶
 &
o
) const;

101 
boŞ
 
İ”©Ü
!=(cÚ¡ 
I‹¿tÜIm¶
 &
o
) const;

102 
ušt8_t
 *
İ”©Ü
*() const;

105 
usšg
 
I‹¿tÜ
 = 
I‹¿tÜIm¶
< 
çl£
>;

106 
usšg
 
Rev”£I‹¿tÜ
 = 
I‹¿tÜIm¶
< 
Œue
>;

108 
G’”icLoÿlLi¡
();

110 
Li¡D©a
 *
li¡_d©a_
;

111 
S‹Ty³
 
¡©e_
;

112 
ä›nd
 
şass
 
G’”icLi¡
;

113 
‹m¶©e
 <
ty³Çme
 
T
> 
ä›nd
 
şass
 
LoÿlLi¡
;

114 
‹m¶©e
 <
ty³Çme
 
T
> 
ä›nd
 
şass
 
Li¡
;

116 
public
:

117 
G’”icLoÿlLi¡
(
Li¡D©a
 *
li¡_d©a
);

118 
G’”icLoÿlLi¡
(
Li¡D©a
 *
li¡_d©a
, 
S‹Ty³
 
¡©e
);

119 
š™
(
NodePŒ
 
h—d_±r
, NodePŒ 
_±r
);

120 
£t_li¡_d©a
(
Li¡D©a
 *
li¡_d©a
);

121 
I‹¿tÜ
 
begš
() const;

122 
I‹¿tÜ
 
’d
() const;

123 
Rev”£I‹¿tÜ
 
rbegš
() const;

124 
Rev”£I‹¿tÜ
 
»nd
() const;

125 
‹m¶©e
 <
boŞ
 
Rev”£
> 
ušt8_t
 *
š£¹
(cÚ¡ 
I‹¿tÜIm¶
<Rev”£> &
™”
);

126 
‹m¶©e
 <
boŞ
 
Rev”£
>

127 
I‹¿tÜIm¶
<
Rev”£
> 
”a£
(cÚ¡ I‹¿tÜIm¶<Rev”£> &
™”
,

128 
ušt8_t
 **
d©a_±r
);

131 
‹m¶©e
 <
ty³Çme
 
T
> cÏs 
	cLoÿlLi¡
 {

132 
´iv©e
:

133 
usšg
 
NodePŒ
 = 
ušt8_t
 *;

134 
usšg
 
NodePoŞ
 = 
¡d
::
¡ack
<
NodePŒ
, std::
veùÜ
<NodePtr>>;

135 
usšg
 
AutoNodeCËª”
 = 
¡d
::
veùÜ
<¡d::
unique_±r
<
ušt8_t
>>;

137 
cÚ¡ex´
 
ušt32_t
 
kR•ËnishNumNodes
 = 8192;

139 
G’”icLoÿlLi¡Node
<
NodePŒ
> &
d”ef_node_±r
(NodePŒ 
±r
,

140 
NodePoŞ
 *
node_poŞ
);

141 
NodePŒ
 
®loÿ‹_node
(
NodePoŞ
 *
node_poŞ
);

142 
ä“_node
(
NodePŒ
 
±r
, 
NodePoŞ
 *
node_poŞ
);

144 
cÚ¡ex´
 autØ
kD”efNodePŒFn
 =

145 [](
NodePŒ
 
±r
, 
NodePoŞ
 *
node_poŞ
è-> 
G’”icLoÿlLi¡Node
<NodePtr> & {

146  
d”ef_node_±r
(
±r
, 
node_poŞ
);

148 
cÚ¡ex´
 autØ
kAÎoÿ‹NodeFn
 = [](
NodePoŞ
 *
node_poŞ
è-> 
NodePŒ
 {

149  
®loÿ‹_node
(
node_poŞ
);

151 
cÚ¡ex´
 autØ
kF»eNodeFn
 = [](
NodePŒ
 
±r
, 
NodePoŞ
 *
node_poŞ
) {

152  
ä“_node
(
±r
, 
node_poŞ
);

154 
usšg
 
TG’”icLoÿlLi¡
 =

155 
G’”icLoÿlLi¡
<
NodePŒ
, 
deşty³
(
kD”efNodePŒFn
),

156 
deşty³
(
kAÎoÿ‹NodeFn
), deşty³(
kF»eNodeFn
)>;

158 
‹m¶©e
 <
boŞ
 
Rev”£
> cÏs 
	cI‹¿tÜIm¶
 {

159 
´iv©e
:

160 
TG’”icLoÿlLi¡
::
‹m¶©e
 
I‹¿tÜIm¶
<
Rev”£
> 
g’”ic_™”_
;

161 
ä›nd
 
şass
 
LoÿlLi¡
;

163 
public
:

164 
I‹¿tÜIm¶
();

165 
‹m¶©e
 <
boŞ
 
ORev”£
>

166 
I‹¿tÜIm¶
(

167 
TG’”icLoÿlLi¡
::
‹m¶©e
 
I‹¿tÜIm¶
<
ORev”£
> 
g’”ic_™”
);

168 
‹m¶©e
 <
boŞ
 
ORev”£
> 
I‹¿tÜIm¶
(cÚ¡ I‹¿tÜIm¶<ORev”£> &
o
);

169 
‹m¶©e
 <
boŞ
 
ORev”£
>

170 
I‹¿tÜIm¶
 &
İ”©Ü
=(cÚ¡ I‹¿tÜIm¶<
ORev”£
> &
o
);

171 
I‹¿tÜIm¶
 &
İ”©Ü
++();

172 
I‹¿tÜIm¶
 
İ”©Ü
++();

173 
I‹¿tÜIm¶
 &
İ”©Ü
--();

174 
I‹¿tÜIm¶
 
İ”©Ü
--();

175 
boŞ
 
İ”©Ü
==(cÚ¡ 
I‹¿tÜIm¶
 &
o
) const;

176 
boŞ
 
İ”©Ü
!=(cÚ¡ 
I‹¿tÜIm¶
 &
o
) const;

177 
T
 &
İ”©Ü
*() const;

178 
T
 *
İ”©Ü
->() const;

181 
usšg
 
I‹¿tÜ
 = 
I‹¿tÜIm¶
< 
çl£
>;

182 
usšg
 
Rev”£I‹¿tÜ
 = 
I‹¿tÜIm¶
< 
Œue
>;

184 
NodePoŞ
 
node_poŞ_
;

185 
AutoNodeCËª”
 
auto_ş—Ãr_
;

186 
TG’”icLoÿlLi¡
::
Li¡D©a
 
li¡_d©a_
;

187 
TG’”icLoÿlLi¡
 
g’”ic_loÿl_li¡_
;

188 
ušt64_t
 
size_
 = 0;

189 
ä›nd
 
şass
 
G’”icLi¡
;

191 
public
:

192 ~
LoÿlLi¡
();

193 
LoÿlLi¡
();

194 
I‹¿tÜ
 
begš
() const;

195 
I‹¿tÜ
 
’d
() const;

196 
Rev”£I‹¿tÜ
 
rbegš
() const;

197 
Rev”£I‹¿tÜ
 
»nd
() const;

198 
T
 &
äÚt
() const;

199 
T
 &
back
() const;

200 
ušt64_t
 
size
() const;

201 
boŞ
 
em±y
() const;

202 
push_äÚt
(cÚ¡ 
T
 &
d©a
);

203 
pİ_äÚt
();

204 
push_back
(cÚ¡ 
T
 &
d©a
);

205 
pİ_back
();

206 
‹m¶©e
 <
boŞ
 
Rev”£
>

207 
š£¹
(cÚ¡ 
I‹¿tÜIm¶
<
Rev”£
> &
™”
, cÚ¡ 
T
 &
d©a
);

208 
‹m¶©e
 <
boŞ
 
Rev”£
>

209 
I‹¿tÜIm¶
<
Rev”£
> 
”a£
(cÚ¡ I‹¿tÜIm¶<Rev”£> &
™”
);

214 
	~"š‹º®/loÿl_li¡.p
"

	@inc/local_skiplist.hpp

1 #´agm¨
Úû


3 
	~"sync.h
"

5 
	~"h–³rs.hµ
"

6 
	~"¦ab.hµ
"

8 
	~<c¡dšt
>

9 
	~<funùiÚ®
>

10 
	~<lim™s
>

11 
	~<¿ndom
>

13 
Çme¥aû
 
	gçr_memÜy
 {

15 şas 
	cG’”icLoÿlSkli¡
 {

16 
	g´Ùeùed
:

17 #´agm¨
·ck
(
push
, 1)

18 
	sEÁry
 {

19 
usšg
 
	gWidth
 = 
ušt32_t
;

21 
Width
 
	gwidth
;

22 
EÁry
 *
	gup
;

23 
EÁry
 *
	gdown
;

24 
EÁry
 *
	gËá
;

25 
EÁry
 *
	gright
;

26 *
	gkey
;

27 
	g¹
::
Spš
 
lock
;

29 #´agm¨
·ck
(
pİ
)

31 
cÚ¡ex´
 
ušt32_t
 
	gkProbInv
 = 4;

32 
cÚ¡ex´
 
ušt64_t
 
	gkMaxEÁr›s
 =

33 
¡d
::
num”ic_lim™s
<
EÁry
::
Width
>::
max
();

34 
cÚ¡ex´
 
ušt64_t
 
	gkMaxLev–s
 =

35 
h–³rs
::
¡©ic_log
(
kProbInv
, 
kMaxEÁr›s
);

37 
ušt32_t
 
	g™em_size_
;

38 *
	gÃg©ive_šfš™e_
;

39 *
	gpos™ive_šfš™e_
;

40 
SÏb
 
	g¦ab_
;

41 
	g¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü_
;

42 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ_
{0, 
	gkProbInv
};

43 
EÁry
 *
	gh—d_
;

44 
EÁry
 *
	g_
;

45 
ušt32_t
 
	gËv–s_
 = 0;

46 
	g¡d
::
funùiÚ
<
boŞ
(cÚ¡ *, cÚ¡ *)> 
	gis_equ®_
;

47 
	g¡d
::
funùiÚ
<
boŞ
(cÚ¡ *, cÚ¡ *)> 
	gis_sm®Ër_
;

48 
	g¡d
::
funùiÚ
<
boŞ
(cÚ¡ *, cÚ¡ *)> 
	gis_g»©”_
;

50 
G’”icLoÿlSkli¡
(
ušt32_t
 
™em_size
, 
ušt64_t
 
d©a_size
);

51 
EÁry
 *
_fšd_şo£¡
(cÚ¡ *
key
, EÁry **
Ëv–_Œaûs
 = 
nuÎ±r
);

52 
boŞ
 
should_bubbË_up
();

53 
bubbË_up
(
EÁry
 *
down_±r
, EÁry **
Ëv–_Œaûs
);

54 
´uÃ_em±y_Ëv–
(
EÁry
 *
Ëá_boud¬y
, EÁry *
right_bound¬y
);

55 
boŞ
 
š£¹
(cÚ¡ *
key
);

56 
boŞ
 
exi¡
(cÚ¡ *
key
);

57 
boŞ
 
»move
(cÚ¡ *
key
);

60 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cLoÿlSkli¡
 : 
public
 
G’”icLoÿlSkli¡
 {

61 
public
:

62 
LoÿlSkli¡
(
ušt64_t
 
d©a_size
);

63 ~
LoÿlSkli¡
();

64 
boŞ
 
š£¹
(cÚ¡ 
T
 &
key
);

65 
boŞ
 
exi¡
(cÚ¡ 
T
 &
key
);

66 
boŞ
 
»move
(cÚ¡ 
T
 &
key
);

67 
ušt32_t
 
¿nk
(cÚ¡ 
T
 &
key
);

68 
T
 
£Ëù
(
ušt32_t
 
¿nk
);

73 
	~"š‹º®/loÿl_skli¡.p
"

	@inc/manager.hpp

1 #´agm¨
Úû


3 
	~"sync.h
"

5 
	~"¬¿y.hµ
"

6 
	~"cb.hµ
"

7 
	~"cÚcu¼’t_hİscÙch.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"š‹º®/ds_šfo.hµ
"

11 
	~"li¡.hµ
"

12 
	~"obj_lock”.hµ
"

13 
	~"·¿Î–.hµ
"

14 
	~"poš‹r.hµ
"

15 
	~"queue.hµ
"

16 
	~"»giÚ.hµ
"

17 
	~"¡ack.hµ
"

19 
	~<©omic
>

20 
	~<funùiÚ®
>

21 
	~<memÜy
>

22 
	~<İtiÚ®
>

23 
	~<queue
>

24 
	~<ut™y
>

25 
	~<veùÜ
>

27 
Çme¥aû
 
	gçr_memÜy
 {

29 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gD©aF¿meVeùÜ
;

32 
usšg
 
	gGCTask
 = 
¡d
::
·œ
<
ušt64_t
, 
	gušt64_t
>;

34 
şass
 
	gGCP¬®Ëliz”
 : 
public
 
P¬®Ëliz”
<
GCTask
> {

35 
public
:

36 
¡d
::
veùÜ
<
RegiÚ
> *
äom_»giÚs_
;

37 
GCP¬®Ëliz”
(
ušt32_t
 
num_¦aves
, ušt32_ˆ
sk_queues_d•th
,

38 
¡d
::
veùÜ
<
RegiÚ
> *
äom_»giÚs
);

39 
ma¡”_â
();

42 şas 
	cGCP¬®ËlM¬k”
 : 
public
 
GCP¬®Ëliz”
 {

43 
¦ave_â
(
ušt32_t
 
tid
);

45 
	gpublic
:

46 
GCP¬®ËlM¬k”
(
ušt32_t
 
num_¦aves
, ušt32_ˆ
sk_queues_d•th
,

47 
¡d
::
veùÜ
<
RegiÚ
> *
äom_»giÚs
);

50 şas 
	cGCP¬®ËlWr™eBack”
 : 
public
 
GCP¬®Ëliz”
 {

51 
¦ave_â
(
ušt32_t
 
tid
);

53 
	gpublic
:

54 
GCP¬®ËlWr™eBack”
(
ušt32_t
 
num_¦aves
, ušt32_ˆ
sk_queues_d•th
,

55 
¡d
::
veùÜ
<
RegiÚ
> *
äom_»giÚs
);

58 şas 
	cF¬MemMªag”
 {

59 
	g´iv©e
:

60 
cÚ¡ex´
 
kF»eCacheAlmo¡Em±yTh»sh
 = 0.03;

61 
cÚ¡ex´
 
	gkF»eCacheLowTh»sh
 = 0.12;

62 
cÚ¡ex´
 
	gkF»eCacheHighTh»sh
 = 0.22;

63 
cÚ¡ex´
 
ušt8_t
 
	gkGCSÏveTh»adTaskQueueD•th
 = 8;

64 
cÚ¡ex´
 
ušt32_t
 
	gkMaxNumRegiÚsP”GCRound
 = 128;

65 
cÚ¡ex´
 
	gkMaxR©ioRegiÚsP”GCRound
 = 0.1;

66 
cÚ¡ex´
 
	gkMšR©ioRegiÚsP”GCRound
 = 0.03;

68 şas 
	cRegiÚMªag”
 {

69 
	g´iv©e
:

70 
cÚ¡ex´
 
kPickRegiÚMaxR‘ryTimes
 = 3;

72 
	g¡d
::
unique_±r
<
ušt8_t
> 
loÿl_ÿche_±r_
;

73 
	gCœcuÏrBufãr
<
	gRegiÚ
, 
	gçl£
> 
	gä“_»giÚs_
;

74 
	gCœcuÏrBufãr
<
	gRegiÚ
, 
	gçl£
> 
	gu£d_»giÚs_
;

75 
	gCœcuÏrBufãr
<
	gRegiÚ
, 
	gçl£
> 
	gÁ_u£d_»giÚs_
;

76 
	g¹
::
Spš
 
»giÚ_¥š_
;

77 
RegiÚ
 
	gcÜe_loÿl_ä“_»giÚs_
[
h–³rs
::
kNumCPUs
];

78 
RegiÚ
 
	gcÜe_loÿl_ä“_Á_»giÚs_
[
h–³rs
::
kNumCPUs
];

79 
ä›nd
 
şass
 
	gF¬MemTe¡
;

81 
	gpublic
:

82 
RegiÚMªag”
(
ušt64_t
 
size
, 
boŞ
 
is_loÿl
);

83 
push_ä“_»giÚ
(
RegiÚ
 &
»giÚ
);

84 
	g¡d
::
İtiÚ®
<
RegiÚ
> 
pİ_u£d_»giÚ
();

85 
boŞ
 
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(boŞ 
Á
, 
RegiÚ
 *
fuÎ_»giÚ
);

86 
	gRegiÚ
 &
cÜe_loÿl_ä“_»giÚ
(
boŞ
 
Á
);

87 
g‘_ä“_»giÚ_¿tio
() const;

88 
ušt32_t
 
g‘_num_»giÚs
() const;

91 
RegiÚMªag”
 
	gÿche_»giÚ_mªag”_
;

92 
RegiÚMªag”
 
	gçr_mem_»giÚ_mªag”_
;

93 
	g¡d
::
©omic
<
ušt32_t
> 
³ndšg_gcs_
{0};

94 
boŞ
 
	ggc_ma¡”_¥awÃd_
;

95 
	g¡d
::
unique_±r
<
F¬MemDeviû
> 
deviû_±r_
;

96 
	g¹
::
CÚdV¬
 
mutÜ_ÿche_cÚdv¬_
;

97 
	g¹
::
CÚdV¬
 
mutÜ_çr_mem_cÚdv¬_
;

98 
	g¹
::
Spš
 
gc_lock_
;

99 
GCP¬®ËlM¬k”
 
	g·¿Î–_m¬k”_
;

100 
GCP¬®ËlWr™eBack”
 
	g·¿Î–_wr™e_back”_
;

101 
	g¡d
::
veùÜ
<
RegiÚ
> 
äom_»giÚs_
{
kMaxNumRegiÚsP”GCRound
};

102 
	gksched_fd_
;

103 
	g¡d
::
queue
<
ušt8_t
> 
avaabË_ds_ids_
;

104 
ObjLock”
 
	gobj_lock”_
;

106 
ä›nd
 
şass
 
	gF¬MemTe¡
;

107 
ä›nd
 
şass
 
	gF¬MemMªag”FaùÜy
;

108 
ä›nd
 
şass
 
	gG’”icF¬MemPŒ
;

109 
ä›nd
 
şass
 
	gF¬MemPŒM‘a
;

110 
ä›nd
 
şass
 
	gG’”icA¼ay
;

111 
ä›nd
 
şass
 
	gGCP¬®ËlWr™eBack”
;

112 
ä›nd
 
şass
 
	gD”efScİe
;

113 
ä›nd
 
şass
 
	gG’”icD©aF¿meVeùÜ
;

114 
ä›nd
 
şass
 
	gG’”icCÚcu¼’tHİscÙch
;

115 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
ä›nd
 
şass
 
	gD©aF¿meVeùÜ
;

117 
F¬MemMªag”
(
ušt64_t
 
ÿche_size
, ušt64_ˆ
çr_mem_size
,

118 
ušt32_t
 
num_gc_th»ads
, 
F¬MemDeviû
 *
deviû
);

119 
boŞ
 
is_ä“_ÿche_®mo¡_em±y
() const;

120 
boŞ
 
is_ä“_ÿche_low
() const;

121 
boŞ
 
is_ä“_ÿche_high
() const;

122 
	g¡d
::
İtiÚ®
<
RegiÚ
> 
pİ_ÿche_u£d_»giÚ
();

123 
push_ÿche_ä“_»giÚ
(
RegiÚ
 &
»giÚ
);

124 
sw­_š
(
boŞ
 
Á
, 
G’”icF¬MemPŒ
 *
±r
);

125 
sw­_out
(
G’”icF¬MemPŒ
 *
±r
, 
Objeù
 
obj
);

126 
Ïunch_gc_ma¡”
();

127 
gc_ÿche
();

128 
gc_çr_mem
();

129 
ušt64_t
 
®loÿ‹_loÿl_objeù
(
boŞ
 
Á
, 
ušt16_t
 
objeù_size
);

130 
	g¡d
::
İtiÚ®
<
ušt64_t
> 
®loÿ‹_loÿl_objeù_nb
(
boŞ
 
Á
,

131 
ušt16_t
 
objeù_size
);

132 
ušt64_t
 
®loÿ‹_»mÙe_objeù
(
boŞ
 
Á
, 
ušt16_t
 
objeù_size
);

133 
mutÜ_wa™_fÜ_gc_çr_mem
();

134 
pick_äom_»giÚs
();

135 
m¬k_fm_±rs
×utØ*
´“m±_gu¬d
);

136 
wa™_mutÜs_ob£rv©iÚ
();

137 
wr™e_back_»giÚs
();

138 
gc_check
();

139 
¡¬t_´iÜ™izšg
(
Stus
 
¡©us
);

140 
¡İ_´iÜ™izšg
();

141 
ušt8_t
 
®loÿ‹_ds_id
();

142 
ä“_ds_id
(
ušt8_t
 
ds_id
);

144 
	gpublic
:

145 
usšg
 
Wr™eObjeùFn
 = 
¡d
::
funùiÚ
<(
ušt32_t
 
d©a_Ën
)>;

146 
usšg
 
	gEvacNÙif›r
 = 
¡d
::
funùiÚ
<
boŞ
(
Objeù
, 
Wr™eObjeùFn
)>;

147 
usšg
 
	gCİyNÙif›r
 = 
¡d
::
funùiÚ
<(
Objeù
 
de¡
, Objeù 
	g¤c
)>;

149 
ušt32_t
 
	gnum_gc_th»ads_
;

150 
EvacNÙif›r
 
	gevac_nÙif›rs_
[
kMaxNumDSIDs
];

151 
CİyNÙif›r
 
	gcİy_nÙif›rs_
[
kMaxNumDSIDs
];

153 ~
F¬MemMªag”
();

154 
F¬MemDeviû
 *
g‘_deviû
(ècÚ¡ {  
	gdeviû_±r_
.
g‘
(); }

155 
g‘_ä“_mem_¿tio
() const;

156 
boŞ
 
®loÿ‹_g’”ic_unique_±r_nb
(

157 
G’”icUniquePŒ
 *
±r
, 
ušt8_t
 
ds_id
, 
ušt16_t
 
™em_size
,

158 
¡d
::
İtiÚ®
<
ušt8_t
> 
İtiÚ®_id_Ën
 = {},

159 
¡d
::
İtiÚ®
<cÚ¡ 
ušt8_t
 *> 
İtiÚ®_id
 = {});

160 
G’”icUniquePŒ


161 
®loÿ‹_g’”ic_unique_±r
(
ušt8_t
 
ds_id
, 
ušt16_t
 
™em_size
,

162 
¡d
::
İtiÚ®
<
ušt8_t
> 
İtiÚ®_id_Ën
 = {},

163 
¡d
::
İtiÚ®
<cÚ¡ 
ušt8_t
 *> 
İtiÚ®_id
 = {});

164 
boŞ
 
»®loÿ‹_g’”ic_unique_±r_nb
(cÚ¡ 
D”efScİe
 &
scİe
,

165 
G’”icUniquePŒ
 *
±r
,

166 
ušt16_t
 
Ãw_™em_size
,

167 cÚ¡ 
ušt8_t
 *
d©a_buf
);

168 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

169 
	gUniquePŒ
<
	gT
> 
®loÿ‹_unique_±r
(
ušt8_t
 
ds_id
 = 
kVªÏPŒDSID
);

170 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

171 
	gSh¬edPŒ
<
	gT
> 
®loÿ‹_sh¬ed_±r
(
ušt8_t
 
ds_id
 = 
kVªÏPŒDSID
);

172 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gušt64_t
... 
	gDims
> 
	gA¼ay
<T, Dims...> 
®loÿ‹_¬¿y
();

173 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gušt64_t
... 
	gDims
>

174 
	gA¼ay
<
	gT
, 
	gDims
...> *
®loÿ‹_¬¿y_h—p
();

175 
G’”icCÚcu¼’tHİscÙch


176 
®loÿ‹_cÚcu¼’t_hİscÙch
(
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

177 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
,

178 
ušt64_t
 
»mÙe_d©a_size
);

179 
G’”icCÚcu¼’tHİscÙch
 *

180 
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

181 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
,

182 
ušt64_t
 
»mÙe_d©a_size
);

183 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gV
>

184 
	gCÚcu¼’tHİscÙch
<
	gK
, 
	gV
>

185 
®loÿ‹_cÚcu¼’t_hİscÙch
(
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

186 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
,

187 
ušt64_t
 
»mÙe_d©a_size
);

188 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gV
>

189 
	gCÚcu¼’tHİscÙch
<
	gK
, 
	gV
> *

190 
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

191 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
,

192 
ušt64_t
 
»mÙe_d©a_size
);

193 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gD©aF¿meVeùÜ
<T> 
®loÿ‹_d©aäame_veùÜ
();

194 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gD©aF¿meVeùÜ
<T> *
®loÿ‹_d©aäame_veùÜ_h—p
();

195 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

196 
	gLi¡
<
	gT
> 
®loÿ‹_li¡
(cÚ¡ 
D”efScİe
 &
scİe
, 
boŞ
 
’abË_m”ge
 = 
çl£
);

197 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gQueue
<T> 
®loÿ‹_queue
(cÚ¡ 
D”efScİe
 &
scİe
);

198 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gSck
<T> 
®loÿ‹_¡ack
(cÚ¡ 
D”efScİe
 &
scİe
);

199 
»gi¡”_ev®_nÙif›r
(
ušt8_t
 
ds_id
, 
EvacNÙif›r
 
nÙif›r
);

200 
»gi¡”_cİy_nÙif›r
(
ušt8_t
 
ds_id
, 
CİyNÙif›r
 
nÙif›r
);

201 
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

202 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
);

203 
boŞ
 
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

204 
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, 
ušt32_t
 
·¿m_Ën
,

205 
ušt8_t
 *
·¿ms
);

206 
de¡ruù
(
ušt8_t
 
ds_id
);

207 
mutÜ_wa™_fÜ_gc_ÿche
();

208 
lock_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

209 
uÆock_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

212 şas 
	cF¬MemMªag”FaùÜy
 {

213 
	g´iv©e
:

214 
cÚ¡ex´
 
ušt32_t
 
kDeçuÉNumGCTh»ads
 = 10;

216 
F¬MemMªag”
 *
	g±r_
;

217 
ä›nd
 
şass
 
	gF¬MemMªag”
;

219 
	gpublic
:

220 
F¬MemMªag”
 *
bud
(
ušt64_t
 
ÿche_size
,

221 
¡d
::
İtiÚ®
<
ušt32_t
> 
İtiÚ®_num_gc_th»ads
,

222 
F¬MemDeviû
 *
deviû
);

223 
F¬MemMªag”
 *
g‘
();

228 
	~"š‹º®/mªag”.p
"

	@inc/obj_locker.hpp

1 #´agm¨
Úû


3 
	~"sync.h
"

5 
	~<memÜy
>

6 
	~<İtiÚ®
>

7 
	~<m­
>

9 
Çme¥aû
 
	gçr_memÜy
 {

11 
	sLockEÁry
 {

12 
	g¡d
::
unique_±r
<
¹
::
CÚdV¬
> 
cÚd
;

14 
LockEÁry
() {}

17 şas 
	cObjLock”
 {

18 
	g´iv©e
:

19 
cÚ¡ex´
 
ušt32_t
 
kNumM­s
 = 1024;

21 
	g¡d
::
m­
<
ušt64_t
, 
	gLockEÁry
> 
	gm­s_
[
kNumM­s
];

22 
	g¹
::
Spš
 
¥šs_
[
kNumM­s
];

24 
	gpublic
:

25 
ObjLock”
();

26 
ušt32_t
 
hash_func
(
ušt64_t
 
obj_id
);

27 
boŞ
 
Œy_š£¹
(
ušt64_t
 
obj_id
);

28 
»move
(
ušt64_t
 
obj_id
);

	@inc/object.hpp

1 #´agm¨
Úû


3 
	~<lim™s
>

5 
Çme¥aû
 
	gçr_memÜy
 {

8 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gUniquePŒ
;

10 şas 
	cObjeù
 {

26 
	g´iv©e
:

27 
cÚ¡ex´
 
ušt32_t
 
kPŒAddrPos
 = 0;

28 
cÚ¡ex´
 
ušt32_t
 
	gkPŒAddrSize
 = 6;

29 
cÚ¡ex´
 
ušt32_t
 
	gkD©aL’Pos
 = 6;

30 
cÚ¡ex´
 
ušt32_t
 
	gkDSIDPos
 = 8;

31 
cÚ¡ex´
 
ušt32_t
 
	gkIDL’Pos
 = 9;

33 
ušt64_t
 
	gaddr_
;

35 
	gpublic
:

36 
cÚ¡ex´
 
ušt32_t
 
kDSIDSize
 = 1;

37 
cÚ¡ex´
 
ušt32_t
 
	gkIDL’Size
 = 1;

38 
cÚ¡ex´
 
ušt32_t
 
	gkD©aL’Size
 = 2;

39 
cÚ¡ex´
 
ušt32_t
 
	gkH—d”Size
 =

40 
kPŒAddrSize
 + 
kD©aL’Size
 + 
kDSIDSize
 + 
kIDL’Size
;

41 
cÚ¡ex´
 
ušt16_t
 
	gkMaxObjeùSize
 =

42 
¡d
::
num”ic_lim™s
<
ušt16_t
>::
max
();

43 
cÚ¡ex´
 
ušt16_t
 
	gkMaxObjeùIDSize
 = (1 << (8 * 
kIDL’Size
)) - 1;

44 
cÚ¡ex´
 
ušt16_t
 
	gkMaxObjeùD©aSize
 =

45 
kMaxObjeùSize
 - 
kH—d”Size
 - 
kMaxObjeùIDSize
;

47 
Objeù
();

49 
Objeù
(
ušt64_t
 
addr
);

52 
Objeù
(
ušt64_t
 
addr
, 
ušt8_t
 
ds_id
, 
ušt16_t
 
d©a_Ën
, ušt8_ˆ
id_Ën
,

53 cÚ¡ 
ušt8_t
 *
id
);

54 
š™
(
ušt8_t
 
ds_id
, 
ušt16_t
 
d©a_Ën
, ušt8_ˆ
id_Ën
,

55 cÚ¡ 
ušt8_t
 *
id
);

56 
ušt64_t
 
g‘_addr
() const;

57 
ušt16_t
 
g‘_d©a_Ën
() const;

58 
ušt8_t
 
g‘_obj_id_Ën
() const;

59 
£t_±r_addr
(
ušt64_t
 
add»ss
);

60 cÚ¡ 
ušt8_t
 *
g‘_obj_id
() const;

61 
ušt64_t
 
g‘_±r_addr
() const;

62 
ušt64_t
 
g‘_d©a_addr
() const;

63 
£t_ds_id
(
ušt8_t
 
ds_id
);

64 
ušt8_t
 
g‘_ds_id
() const;

65 
£t_d©a_Ën
(
ušt16_t
 
d©a_Ën
);

66 
£t_obj_id
(cÚ¡ 
ušt8_t
 *
id
, ušt8_ˆ
id_Ën
);

67 
£t_obj_id_Ën
(
ušt8_t
 
id_Ën
);

68 
ušt16_t
 
size
() const;

69 
boŞ
 
is_ä“d
() const;

70 
ä“
();

75 
	~"š‹º®/objeù.p
"

	@inc/parallel.hpp

1 #´agm¨
Úû


3 
	~"th»ad.h
"

5 
	~"cb.hµ
"

7 
	~<©omic
>

8 
	~<c¡dšt
>

9 
	~<memÜy
>

10 
	~<veùÜ
>

12 
Çme¥aû
 
	gçr_memÜy
 {

14 
	g‹m¶©e
 <
ty³Çme
 
	gTask
> cÏs 
	cP¬®Ëliz”
 {

15 
	g´iv©e
:

16 
¡d
::
©omic
<
boŞ
> 
ma¡”_dÚe_
{
çl£
};

17 
	g¡d
::
©omic
<
boŞ
> 
ma¡”_up_
{
çl£
};

18 
	g¡d
::
unique_±r
<
¡d
::unique_±r<
CœcuÏrBufãr
<
Task
, 
	gŒue
>>[]> 
	gsk_queues_
;

19 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads_
;

20 
ušt32_t
 
	g’queue_th»ad_id_
 = 0;

21 
ušt32_t
 
	gnum_¦aves_
;

23 
	gpublic
:

24 
NOT_COPYABLE
(
P¬®Ëliz”
);

25 
NOT_MOVEABLE
(
P¬®Ëliz”
);

27 
P¬®Ëliz”
(
ušt32_t
 
num_¦aves
, ušt32_ˆ
sk_queues_d•th
);

28 
vœtu®
 
ma¡”_â
() = 0;

29 
vœtu®
 
¦ave_â
(
ušt32_t
 
tid
) = 0;

30 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
ma¡”_’queue_sk
(
T
 &&
sk
);

31 
boŞ
 
¦ave_dequeue_sk
(
ušt32_t
 
tid
, 
Task
 *
sk
);

32 
boŞ
 
¦ave_ÿn_ex™
(
ušt32_t
 
tid
);

33 
¥awn
(
Stus
 *
¦aves_¡©us
);

34 
execu‹
();

39 
	~"š‹º®/·¿Î–.p
"

	@inc/pointer.hpp

1 #´agm¨
Úû


3 
	~"d”ef_scİe.hµ
"

4 
	~"objeù.hµ
"

6 
Çme¥aû
 
	gçr_memÜy
 {

24 şas 
	cF¬MemPŒM‘a
 {

25 
	g´iv©e
:

26 
cÚ¡ex´
 
ušt32_t
 
kSize
 = 8;

27 
cÚ¡ex´
 
ušt32_t
 
	gkEvacu©iÚPos
 = 2;

28 
cÚ¡ex´
 
ušt32_t
 
	gkObjeùIDB™Pos
 = 26;

29 
cÚ¡ex´
 
ušt32_t
 
	gkObjeùIDB™Size
 = 38;

30 
cÚ¡ex´
 
ušt32_t
 
	gkObjeùD©aAddrPos
 = 2;

31 
cÚ¡ex´
 
ušt32_t
 
	gkObjeùD©aAddrSize
 = 6;

32 
cÚ¡ex´
 
ušt32_t
 
	gkDœtyCË¬
 = 0x400U;

33 
cÚ¡ex´
 
ušt32_t
 
	gkP»£ÁCË¬
 = 0x100U;

34 
cÚ¡ex´
 
ušt32_t
 
	gkHÙCË¬
 = 0x80U;

35 
cÚ¡ex´
 
ušt32_t
 
	gkEvacu©iÚS‘
 = 0x10000U;

36 
cÚ¡ex´
 
ušt32_t
 
	gkObjIDL’PosShiá
 = 9;

37 
cÚ¡ex´
 
ušt32_t
 
	gkObjeùD©aAddrB™Pos
 = 17;

38 
cÚ¡ex´
 
ušt32_t
 
	gkObjeùSizeB™Pos
 = 10;

39 
cÚ¡ex´
 
ušt32_t
 
	gkHÙPos
 = 0;

40 
cÚ¡ex´
 
ušt32_t
 
	gkP»£ÁPos
 = 1;

41 
cÚ¡ex´
 
ušt32_t
 
	gkHÙTh»sh
 = 2;

42 
cÚ¡ex´
 
ušt32_t
 
	gkDSIDPos
 = 0;

43 
cÚ¡ex´
 
ušt32_t
 
	gkSh¬edB™Pos
 = 9;

45 
ušt8_t
 
	gm‘ad©a_
[
kSize
];

46 
ä›nd
 
şass
 
	gF¬MemMªag”
;

47 
ä›nd
 
şass
 
	gG’”icF¬MemPŒ
;

49 
F¬MemPŒM‘a
();

50 
š™
(
boŞ
 
sh¬ed
, 
ušt64_t
 
objeù_addr
);

52 
	gpublic
:

53 
cÚ¡ex´
 
ušt64_t
 
kNuÎ
 = 
kP»£ÁCË¬
;

54 
cÚ¡ex´
 
ušt64_t
 
	gkNuÎMask
 =

55 ((~
¡©ic_ÿ¡
<
ušt64_t
>(0)è<< (8 * 
kP»£ÁPos
));

57 
F¬MemPŒM‘a
(cÚ¡ F¬MemPŒM‘¨&
Ùh”
);

58 
F¬MemPŒM‘a
(
boŞ
 
sh¬ed
, 
ušt64_t
 
objeù_addr
);

59 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
F¬MemPŒM‘a
 &
Ùh”
) const;

60 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
F¬MemPŒM‘a
 &
Ùh”
) const;

61 
boŞ
 
is_dœty
() const;

62 
£t_dœty
();

63 
ş—r_dœty
();

64 
boŞ
 
is_hÙ
() const;

65 
boŞ
 
is_Á
() const;

66 
ş—r_hÙ
();

67 
£t_hÙ
();

68 
boŞ
 
is_´e£Á
() const;

69 
£t_´e£Á
(
ušt64_t
 
objeù_addr
);

70 
£t_evacu©iÚ
();

71 
boŞ
 
is_evacu©iÚ
() const;

72 
boŞ
 
is_sh¬ed
() const;

73 
£t_sh¬ed
();

74 
ušt64_t
 
g‘_objeù_id
() const;

75 
ušt64_t
 
g‘_objeù_d©a_addr
() const;

76 
£t_objeù_d©a_addr
(
ušt64_t
 
Ãw_loÿl_objeù_addr
);

77 
ušt64_t
 
g‘_objeù_addr
() const;

78 
ušt16_t
 
g‘_objeù_size
() const;

79 
Objeù
 
objeù
();

80 
ušt8_t
 
g‘_ds_id
() const;

81 
boŞ
 
is_nuÎ
() const;

82 
nuÎify
();

83 
ušt64_t
 
to_ušt64_t
() const;

84 
äom_ušt64_t
(
ušt64_t
 
v®
);

85 
mutÜ_cİy
(
ušt64_t
 
Ãw_loÿl_objeù_addr
);

86 
gc_cİy
(
ušt64_t
 
Ãw_loÿl_objeù_addr
);

87 
gc_wb
(
ušt8_t
 
ds_id
, 
ušt16_t
 
objeù_size
, 
ušt64_t
 
obj_id
);

88 
F¬MemPŒM‘a
 *
äom_objeù
(cÚ¡ 
Objeù
 &
objeù
);

91 şas 
	cG’”icF¬MemPŒ
 {

92 
	g´iv©e
:

93 
F¬MemPŒM‘a
 
m‘a_
;

95 
	g´Ùeùed
:

96 
ä›nd
 
şass
 
G’”icD©aF¿meVeùÜ
;

97 
ä›nd
 
şass
 
	gG’”icCÚcu¼’tHİscÙch
;

98 
ä›nd
 
şass
 
	gF¬MemMªag”
;

99 
ä›nd
 
şass
 
	gGCP¬®ËlM¬k”
;

101 
G’”icF¬MemPŒ
();

102 
G’”icF¬MemPŒ
(
boŞ
 
sh¬ed
, 
ušt64_t
 
objeù_addr
);

103 
š™
(
boŞ
 
sh¬ed
, 
ušt64_t
 
objeù_addr
);

104 
Objeù
 
objeù
();

105 
	gF¬MemPŒM‘a
 &
m‘a
();

106 cÚ¡ 
	gF¬MemPŒM‘a
 &
m‘a
() const;

107 
boŞ
 
mutÜ_mig¿‹_objeù
();

108 
	g‹m¶©e
 <
boŞ
 
	gSh¬ed
>‡utØ
pš
(**
pšÃd_¿w_±r
 = 
nuÎ±r
);

109 
	g‹m¶©e
 <
boŞ
 
	gMut
, boŞ 
	gNt
, boŞ 
	gSh¬ed
> *
_d”ef
();

110 
_æush
(
boŞ
 
obj_locked
);

112 
	gpublic
:

113 
nuÎify
();

114 
boŞ
 
is_nuÎ
() const;

115 
sw­_š
(
boŞ
 
Á
);

116 
æush
();

117 
move
(
G’”icF¬MemPŒ
 &
Ùh”
, 
ušt64_t
 
»£t_v®ue
);

120 şas 
	cG’”icUniquePŒ
 : 
public
 
G’”icF¬MemPŒ
 {

121 
´Ùeùed
:

122 
ä›nd
 
şass
 
F¬MemTe¡
;

123 
ä›nd
 
şass
 
	gF¬MemMªag”
;

124 
	g‹m¶©e
 <
ty³Çme
 
	gInduûFn
,y³Çm
	gInãrFn
,y³Çm
	gM­pšgFn
>

125 
ä›nd
 
şass
 
	gP»ãtch”
;

127 
š™
(
ušt64_t
 
objeù_addr
);

128 
_ä“
();

129 
evacu©e
();

131 
	gpublic
:

132 
G’”icUniquePŒ
();

133 ~
G’”icUniquePŒ
();

134 
G’”icUniquePŒ
(
ušt64_t
 
objeù_addr
);

135 
G’”icUniquePŒ
(G’”icUniquePŒ &&
Ùh”
);

136 
	gG’”icUniquePŒ
 &
	gİ”©Ü
=(
G’”icUniquePŒ
 &&
Ùh”
);

137 
NOT_COPYABLE
(
G’”icUniquePŒ
);

138 
	g‹m¶©e
 <
boŞ
 
	gMut
, boŞ 
	gNt
> *
_d”ef
();

139 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> cÚ¡ *
d”ef
(cÚ¡ 
D”efScİe
 &
scİe
);

140 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> *
d”ef_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

141 
ä“
(
boŞ
 
¿û
 = 
çl£
);

144 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cUniquePŒ
 : 
public
 
G’”icUniquePŒ
 {

145 
´iv©e
:

146 
ä›nd
 
şass
 
F¬MemMªag”
;

147 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gušt64_t
... 
	gDims
> 
ä›nd
 
şass
 
	gA¼ay
;

149 
UniquePŒ
(
ušt64_t
 
loÿl_objeù_addr
);

151 
	gpublic
:

152 
UniquePŒ
();

153 ~
UniquePŒ
();

154 
UniquePŒ
(UniquePŒ &&
Ùh”
);

155 
	gUniquePŒ
 &
	gİ”©Ü
=(
UniquePŒ
 &&
Ùh”
);

156 
NOT_COPYABLE
(
UniquePŒ
);

157 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> cÚ¡ 
T
 *
d”ef
(cÚ¡ 
D”efScİe
 &
scİe
);

158 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
T
 *
d”ef_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

159 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
T
 
»ad
();

160 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
ty³Çme
 
	gU
> 
wr™e
(
U
 &&
u
);

161 
ä“
();

164 şas 
	cG’”icSh¬edPŒ
 : 
public
 
G’”icF¬MemPŒ
 {

165 
´Ùeùed
:

166 
cÚ¡ex´
 
ušt32_t
 
kTaPos
 = 63;

167 
G’”icSh¬edPŒ
 *
	gÃxt_±r_
;

168 
ä›nd
 
şass
 
	gF¬MemTe¡
;

169 
ä›nd
 
şass
 
	gF¬MemMªag”
;

170 
ä›nd
 
şass
 
	gG’”icF¬MemPŒ
;

171 
ä›nd
 
şass
 
	gGCP¬®ËlM¬k”
;

173 
š™
(
ušt64_t
 
objeù_addr
);

174 
G’”icSh¬edPŒ
 *
g‘_Ãxt_±r
();

175 
£t_Ãxt_±r
(
G’”icSh¬edPŒ
 *);

176 
Œav”£
×utØ
f
);

177 
_ä“
();

179 
	gpublic
:

180 ~
G’”icSh¬edPŒ
();

181 
G’”icSh¬edPŒ
(
ušt64_t
 
objeù_addr
);

182 
G’”icSh¬edPŒ
(cÚ¡ G’”icSh¬edPŒ &
Ùh”
);

183 
	gG’”icSh¬edPŒ
 &
	gİ”©Ü
=(cÚ¡ 
G’”icSh¬edPŒ
 &
Ùh”
);

184 
G’”icSh¬edPŒ
(G’”icSh¬edPŒ &&
Ùh”
);

185 
	gG’”icSh¬edPŒ
 &
	gİ”©Ü
=(
G’”icSh¬edPŒ
 &&
Ùh”
);

186 
	g‹m¶©e
 <
boŞ
 
	gMut
, boŞ 
	gNt
> *
_d”ef
();

187 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> cÚ¡ *
d”ef
(cÚ¡ 
D”efScİe
 &
scİe
);

188 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> *
d”ef_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

189 
ä“
();

192 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cSh¬edPŒ
 : 
public
 
G’”icSh¬edPŒ
 {

193 
´iv©e
:

194 
ä›nd
 
şass
 
F¬MemMªag”
;

196 
Sh¬edPŒ
(
ušt64_t
 
loÿl_objeù_addr
);

198 
	gpublic
:

199 
Sh¬edPŒ
();

200 ~
Sh¬edPŒ
();

201 
Sh¬edPŒ
(cÚ¡ Sh¬edPŒ &
Ùh”
);

202 
	gSh¬edPŒ
 &
	gİ”©Ü
=(cÚ¡ 
Sh¬edPŒ
 &
Ùh”
);

203 
Sh¬edPŒ
(Sh¬edPŒ &&
Ùh”
);

204 
	gSh¬edPŒ
 &
	gİ”©Ü
=(
Sh¬edPŒ
 &&
±h”
);

205 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> cÚ¡ 
T
 *
d”ef
(cÚ¡ 
D”efScİe
 &
scİe
);

206 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
T
 *
d”ef_mut
(cÚ¡ 
D”efScİe
 &
scİe
);

207 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
> 
T
 
»ad
();

208 
	g‹m¶©e
 <
boŞ
 
	gNt
 = 
çl£
, 
ty³Çme
 
	gU
> 
wr™e
(
U
 &&
u
);

209 
ä“
();

214 
	~"š‹º®/poš‹r.p
"

	@inc/prefetcher.hpp

1 #´agm¨
Úû


3 
	~"sync.h
"

4 
	~"th»ad.h
"

6 
	~"h–³rs.hµ
"

7 
	~"poš‹r.hµ
"

9 
	~<funùiÚ®
>

10 
	~<ty³_Œa™s
>

12 
Çme¥aû
 
	gçr_memÜy
 {

14 
şass
 
	gF¬MemDeviû
;

16 
	g‹m¶©e
 <
ty³Çme
 
	gInduûFn
,y³Çm
	gInãrFn
,y³Çm
	gM­pšgFn
>

17 şas 
	cP»ãtch”
 {

18 
	g´iv©e
:

19 
usšg
 
InduûFnT¿™s
 = 
h–³rs
::
FunùiÚT¿™s
<
InduûFn
>;

20 
usšg
 
	gInãrFnT¿™s
 = 
h–³rs
::
FunùiÚT¿™s
<
InãrFn
>;

21 
usšg
 
	gM­pšgFnT¿™s
 = 
h–³rs
::
FunùiÚT¿™s
<
M­pšgFn
>;

23 
usšg
 
	gIndex_t
 = 
ty³Çme
 
InduûFnT¿™s
::
‹m¶©e
 
Arg
<0>::
Ty³
;

24 
usšg
 
	gP©‹º_t
 = 
ty³Çme
 
InduûFnT¿™s
::
ResuÉTy³
;

27 
¡©ic_as£¹
(
InduûFnT¿™s
::
Ar™y
 == 2);

28 
¡©ic_as£¹
(

29 
¡d
::
is_§me
<
Index_t
,

30 
ty³Çme
 
InduûFnT¿™s
::
‹m¶©e
 
Arg
<1>::
Ty³
>::
v®ue
);

33 
¡©ic_as£¹
(
InãrFnT¿™s
::
Ar™y
 == 2);

34 
¡©ic_as£¹
(
¡d
::
is_§me
<

35 
Index_t
, 
ty³Çme
 
InãrFnT¿™s
::
‹m¶©e
 
Arg
<0>::
Ty³
>::
v®ue
);

36 
¡©ic_as£¹
(

37 
¡d
::
is_§me
<
P©‹º_t
,

38 
ty³Çme
 
InãrFnT¿™s
::
‹m¶©e
 
Arg
<1>::
Ty³
>::
v®ue
);

39 
¡©ic_as£¹
(

40 
¡d
::
is_§me
<
Index_t
, 
ty³Çme
 
InãrFnT¿™s
::
ResuÉTy³
>::
v®ue
);

43 
¡©ic_as£¹
(
M­pšgFnT¿™s
::
Ar™y
 == 2);

44 
¡©ic_as£¹
(

45 
¡d
::
is_§me
<
ušt8_t
 *&,

46 
ty³Çme
 
M­pšgFnT¿™s
::
‹m¶©e
 
Arg
<0>::
Ty³
>::
v®ue
);

47 
¡©ic_as£¹
(

48 
¡d
::
is_§me
<
Index_t
,

49 
ty³Çme
 
M­pšgFnT¿™s
::
‹m¶©e
 
Arg
<1>::
Ty³
>::
v®ue
);

50 
¡©ic_as£¹
(
¡d
::
is_§me
<
G’”icUniquePŒ
 *,

51 
ty³Çme
 
M­pšgFnT¿™s
::
ResuÉTy³
>::
v®ue
);

53 
	sT¿û
 {

54 
ušt64_t
 
	gcouÁ”
;

55 
ušt64_t
 
	gidx
;

56 
boŞ
 
	gÁ
;

59 
	sSÏveStus
 {

60 
G’”icUniquePŒ
 *
	gsk
;

61 
boŞ
 
	gis_ex™ed
;

62 
	g¹
::
CÚdV¬
 
cv
;

65 
cÚ¡ex´
 
ušt32_t
 
	gkIdxT¿ûsSize
 = 256;

66 
cÚ¡ex´
 
ušt32_t
 
	gkH™TimesTh»sh
 = 8;

67 
cÚ¡ex´
 
ušt32_t
 
	gkG’TasksBur¡Size
 = 8;

68 
cÚ¡ex´
 
ušt32_t
 
	gkMaxSÏveWa™Us
 = 5;

69 
cÚ¡ex´
 
ušt32_t
 
	gkMaxNumP»ãtchSÏveTh»ads
 = 16;

71 cÚ¡ 
ušt32_t
 
	gkP»ãtchWšSize_
;

72 
ušt8_t
 *
	g¡©e_
;

73 
P©‹º_t
 
	g·‰”n_
;

74 
ušt32_t
 
	gobjeù_d©a_size_
;

75 
Index_t
 
	gÏ¡_idx_
;

76 
ušt64_t
 
	gh™_times_
 = 0;

77 
ušt32_t
 
	gnum_objs_to_´eãtch
 = 0;

78 
Index_t
 
	gÃxt_´eãtch_idx_
;

79 
boŞ
 
	gÁ_
 = 
çl£
;

80 
T¿û
 
	gŒaûs_
[
kIdxT¿ûsSize
];

81 
ušt32_t
 
	gŒaûs_h—d_
 = 0;

82 
ušt32_t
 
	gŒaûs__
 = 0;

83 
ušt64_t
 
	gŒaûs_couÁ”_
 = 0;

84 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
´eãtch_th»ads_
;

85 
Cach–šeAligÃd
(
SÏveStus
è
	g¦ave_¡©us_
[
kMaxNumP»ãtchSÏveTh»ads
];

86 
	g¹
::
CÚdV¬
 
cv_´eãtch_ma¡”_
;

87 
boŞ
 
	gma¡”_ex™ed
 = 
çl£
;

88 
boŞ
 
	gex™_
 = 
çl£
;

90 
g’”©e_´eãtch_sks
();

91 
´eãtch_ma¡”_â
();

92 
´eãtch_¦ave_â
(
ušt32_t
 
tid
);

94 
	gpublic
:

95 
P»ãtch”
(
F¬MemDeviû
 *
deviû
, 
ušt8_t
 *
¡©e
, 
ušt32_t
 
objeù_d©a_size
);

96 ~
P»ãtch”
();

97 
NOT_COPYABLE
(
P»ãtch”
);

98 
NOT_MOVEABLE
(
P»ãtch”
);

99 
add_Œaû
(
boŞ
 
Á
, 
Index_t
 
idx
);

100 
¡©ic_´eãtch
(
Index_t
 
¡¬t_idx
, 
P©‹º_t
 
·‰”n
, 
ušt32_t
 
num
);

101 
upd©e_¡©e
(
ušt8_t
 *
¡©e
);

105 
	~"š‹º®/´eãtch”.p
"

	@inc/queue.hpp

1 #´agm¨
Úû


3 
	~"li¡.hµ
"

5 
Çme¥aû
 
	gçr_memÜy
 {

6 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cQueue
 {

7 
	g´iv©e
:

8 
Queue
(cÚ¡ 
D”efScİe
 &
scİe
);

10 
	gLi¡
<
	gT
> 
	gli¡_
;

11 
ä›nd
 
şass
 
	gF¬MemMªag”
;

13 
	gpublic
:

14 
boŞ
 
em±y
() const;

15 
ušt64_t
 
size
() const;

16 cÚ¡ 
	gT
 &
cäÚt
(cÚ¡ 
D”efScİe
 &
scİe
) const;

17 cÚ¡ 
	gT
 &
cback
(cÚ¡ 
D”efScİe
 &
scİe
) const;

18 
	gT
 &
äÚt
(cÚ¡ 
D”efScİe
 &
scİe
) const;

19 
	gT
 &
back
(cÚ¡ 
D”efScİe
 &
scİe
) const;

20 
push
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
T
 &
d©a
);

21 
pİ
(cÚ¡ 
D”efScİe
 &
scİe
);

26 
	~"š‹º®/queue.p
"

	@inc/reader_writer_lock.hpp

1 #´agm¨
Úû


3 
	~"h–³rs.hµ
"

5 
Çme¥aû
 
	gçr_memÜy
 {

7 
şass
 
	gR—d”Wr™”Lock
;

9 şas 
	cR—d”Lock
 {

10 
	g´iv©e
:

11 
R—d”Wr™”Lock
 &
lock_
;

12 
R—d”Lock
(
R—d”Wr™”Lock
 &
lock
);

13 
ä›nd
 
şass
 
	gR—d”Wr™”Lock
;

15 
	gpublic
:

16 ~
R—d”Lock
();

17 
NOT_COPYABLE
(
R—d”Lock
);

18 
NOT_MOVEABLE
(
R—d”Lock
);

21 şas 
	cWr™”Lock
 {

22 
	g´iv©e
:

23 
R—d”Wr™”Lock
 &
lock_
;

24 
Wr™”Lock
(
R—d”Wr™”Lock
 &
lock
);

25 
ä›nd
 
şass
 
	gR—d”Wr™”Lock
;

27 
	gpublic
:

28 ~
Wr™”Lock
();

29 
NOT_COPYABLE
(
Wr™”Lock
);

30 
NOT_MOVEABLE
(
Wr™”Lock
);

33 şas 
	cWr™”LockNp
 {

34 
	g´iv©e
:

35 
R—d”Wr™”Lock
 &
lock_
;

36 
Wr™”LockNp
(
R—d”Wr™”Lock
 &
lock
);

37 
ä›nd
 
şass
 
	gR—d”Wr™”Lock
;

39 
	gpublic
:

40 ~
Wr™”LockNp
();

41 
NOT_COPYABLE
(
Wr™”LockNp
);

42 
NOT_MOVEABLE
(
Wr™”LockNp
);

46 şas 
	cR—d”Wr™”Lock
 {

47 
	g´iv©e
:

48 
boŞ
 
wr™”_locked_
 = 
çl£
;

49 
Cach–šeAligÃd
(
št32_t
è
	g»ad”_úts_
[
h–³rs
::
kNumCPUs
];

51 
	gpublic
:

52 
R—d”Wr™”Lock
();

53 
NOT_COPYABLE
(
R—d”Wr™”Lock
);

54 
NOT_MOVEABLE
(
R—d”Wr™”Lock
);

55 
lock_»ad”
();

56 
lock_wr™”
();

57 
lock_wr™”_Å
();

58 
uÆock_»ad”
();

59 
uÆock_wr™”
();

60 
uÆock_wr™”_Å
();

61 
R—d”Lock
 
g‘_»ad”_lock
();

62 
Wr™”Lock
 
g‘_wr™”_lock
();

63 
Wr™”LockNp
 
g‘_wr™”_lock_Å
();

68 
	~"š‹º®/»ad”_wr™”_lock.p
"

	@inc/region.hpp

1 #´agm¨
Úû


3 
	~"h–³rs.hµ
"

5 
	~<c¡dšt
>

6 
	~<İtiÚ®
>

8 
Çme¥aû
 
	gçr_memÜy
 {

10 şas 
	cRegiÚ
 {

17 
	gpublic
:

18 
cÚ¡ex´
 
ušt32_t
 
kRefCÁPos
 = 0;

19 
cÚ¡ex´
 
ušt32_t
 
	gkRefCÁSize
 = 4;

20 
cÚ¡ex´
 
ušt32_t
 
	gkNtPos
 = 4;

21 
cÚ¡ex´
 
ušt32_t
 
	gkNtSize
 = 1;

22 
cÚ¡ex´
 
ušt64_t
 
	gkShiá
 = 20;

23 
cÚ¡ex´
 
ušt64_t
 
	gkSize
 = (1 << 
kShiá
);

24 
cÚ¡ex´
 
ušt8_t
 
	gkGCP¬®Ëlism
 = 2;

25 
cÚ¡ex´
 
št32_t
 
	gkInv®idIdx
 = -1;

26 
cÚ¡ex´
 
ušt32_t
 
	gkH—d”Size
 = 6;

27 
cÚ¡ex´
 
ušt32_t
 
	gkObjeùPos
 = 
kH—d”Size
;

29 
¡©ic_as£¹
(
kSize
 <ğ
h–³rs
::
kHug•ageSize
);

30 
¡©ic_as£¹
(
h–³rs
::
kHug•ageSize
 % 
kSize
 == 0);

32 
	g´iv©e
:

33 
ušt32_t
 
fœ¡_ä“_by‹_idx_
 = 
kObjeùPos
;

34 
ušt8_t
 *
	gbuf_±r_
 = 
nuÎ±r
;

35 
št32_t
 
	g»giÚ_idx_
 = 
kInv®idIdx
;

36 
ušt8_t
 
	gnum_bound¬›s_
 = 0;

37 
ušt32_t
 
	ggc_bound¬›s_
[
kGCP¬®Ëlism
];

39 
upd©e_bound¬›s
(
boŞ
 
fÜû
);

41 
	gpublic
:

42 
RegiÚ
();

43 
RegiÚ
(
ušt32_t
 
idx
, 
boŞ
 
is_loÿl
, boŞ 
Á
, 
ušt8_t
 *
buf_±r
);

44 
NOT_COPYABLE
(
RegiÚ
);

45 
RegiÚ
(RegiÚ &&
Ùh”
);

46 
	gRegiÚ
 &
	gİ”©Ü
=(
RegiÚ
 &&
Ùh”
);

47 ~
RegiÚ
();

48 
	g¡d
::
İtiÚ®
<
ušt64_t
> 
®loÿ‹_objeù
(
ušt16_t
 
objeù_size
);

49 
boŞ
 
is_šv®id
() const;

50 
šv®id©e
();

51 
»£t
();

52 
boŞ
 
is_loÿl
() const;

53 
boŞ
 
is_Á
() const;

54 
£t_Á
();

55 
ş—r_Á
();

56 
ušt32_t
 
g‘_»f_út
() const;

57 
ş—r_»f_út
();

58 
boŞ
 
is_gÿbË
() const;

59 
ušt8_t
 
g‘_num_bound¬›s
() const;

60 
	g¡d
::
·œ
<
ušt64_t
, 
	gušt64_t
> 
g‘_bound¬y
(
ušt8_t
 
idx
) const;

61 
©omic_šc_»f_út
(
št32_t
 
d–
);

62 
boŞ
 
is_Á
(
ušt64_t
 
buf_±r_addr
);

63 
©omic_šc_»f_út
(
ušt64_t
 
objeù_addr
, 
št32_t
 
d–
);

68 
	~"š‹º®/»giÚ.p
"

	@inc/server.hpp

1 #´agm¨
Úû


3 
	~"š‹º®/ds_šfo.hµ
"

4 
	~"£rv”_ds.hµ
"

6 
	~<funùiÚ®
>

7 
	~<memÜy
>

9 
Çme¥aû
 
	gçr_memÜy
 {

10 şas 
	cS”v”
 {

11 
	g´iv©e
:

12 
S”v”DSFaùÜy
 *
»gi¡”ed_£rv”_ds_çùÜys_
[
kMaxNumDSTy³s
];

13 
	g¡d
::
unique_±r
<
S”v”DS
> 
£rv”_ds_±rs_
[
kMaxNumDSIDs
];

15 
	gpublic
:

16 
S”v”
();

17 
»gi¡”_ds
(
ušt8_t
 
ds_ty³
, 
S”v”DSFaùÜy
 *
çùÜy
);

18 
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, ušt8_ˆ
·¿m_Ën
,

19 
ušt8_t
 *
·¿ms
);

20 
de¡ruù
(
ušt8_t
 
ds_id
);

21 
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

22 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
);

23 
wr™e_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

24 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
);

25 
boŞ
 
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

26 
compu‹
(
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
, 
ušt16_t
 
šput_Ën
,

27 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

28 
ušt8_t
 *
ouut_buf
);

29 
S”v”DS
 *
g‘_£rv”_ds
(
ušt8_t
 
ds_id
);

	@inc/server_dataframe_vector.hpp

1 #´agm¨
Úû


3 
	~"h–³rs.hµ
"

4 
	~"»ad”_wr™”_lock.hµ
"

5 
	~"£rv”.hµ
"

7 
	~<®gÜ™hm
>

8 
	~<c¡ršg
>

9 
	~<memÜy
>

10 
	~<ut™y
>

11 
	~<veùÜ
>

13 
Çme¥aû
 
	gçr_memÜy
 {

15 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cS”v”D©aF¿meVeùÜ
 : 
public
 
S”v”DS
 {

16 
´iv©e
:

17 
R—d”Wr™”Lock
 
lock_
;

18 
ä›nd
 
şass
 
	gS”v”D©aF¿meVeùÜFaùÜy
;

20 
compu‹_»£rve
(
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
,

21 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

22 
compu‹_unique
(
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
,

23 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

24 
compu‹_cİy_d©a_by_idx
(
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
,

25 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

26 
compu‹_shufæe_d©a_by_idx
(
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
,

27 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

28 
compu‹_assign
(
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
,

29 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

30 
compu‹_agg»g©e
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
,

31 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

32 
ušt8_t
 *
ouut_buf
);

33 
	g‹m¶©e
 <
ty³Çme
 
	gKey_t
>

34 
	g¡d
::
·œ
<
ušt64_t
, 
	gušt64_t
>

35 
_compu‹_agg»g©e
(
ušt8_t
 
İcode
, ušt8_ˆ
»suÉ_ds
, ušt8_ˆ
key_ds
,

36 
ušt64_t
 
size
);

37 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

38 
_compu‹_unique
(
ušt64_t
 
vec_size
, 
¡d
::
veùÜ
<
U
> &
unique_vec
);

40 
	gpublic
:

41 
¡d
::
veùÜ
<
T
> 
vec_
;

43 
S”v”D©aF¿meVeùÜ
();

44 ~
S”v”D©aF¿meVeùÜ
();

45 
»ad_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

46 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
);

47 
wr™e_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

48 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
);

49 
boŞ
 
»move_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

50 
compu‹
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
, cÚ¡ ušt8_ˆ*
šput_buf
,

51 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

54 şas 
	cS”v”D©aF¿meVeùÜFaùÜy
 : 
public
 
S”v”DSFaùÜy
 {

55 
public
:

56 
S”v”DS
 *
bud
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
);

	@inc/server_ds.hpp

1 #´agm¨
Úû


3 
	~<c¡dšt
>

5 şas 
	cS”v”DS
 {

6 
	mpublic
:

7 
vœtu®
 ~
	$S”v”DS
() {}

8 
vœtu®
 
	`»ad_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

9 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
) = 0;

10 
vœtu®
 
	`wr™e_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

11 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
) = 0;

12 
vœtu®
 
boŞ
 
	`»move_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
) = 0;

13 
vœtu®
 
	`compu‹
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
,

14 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

15 
ušt8_t
 *
ouut_buf
) = 0;

16 
	}
};

18 şas 
	cS”v”DSFaùÜy
 {

19 
	mpublic
:

20 
vœtu®
 
S”v”DS
 *
bud
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
) = 0;

	@inc/server_hashtable.hpp

1 #´agm¨
Úû


3 
	~"loÿl_cÚcu¼’t_hİscÙch.hµ
"

4 
	~"£rv”.hµ
"

6 
	~<c¡ršg
>

7 
	~<memÜy
>

9 
Çme¥aû
 
	gçr_memÜy
 {

10 şas 
	cS”v”HashTabË
 : 
public
 
S”v”DS
 {

11 
´iv©e
:

12 
¡d
::
unique_±r
<
LoÿlG’”icCÚcu¼’tHİscÙch
> 
loÿl_hİscÙch_
;

13 
ä›nd
 
şass
 
	gS”v”HashTabËFaùÜy
;

15 
	gpublic
:

16 
S”v”HashTabË
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
);

17 ~
S”v”HashTabË
();

18 
»ad_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

19 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
);

20 
wr™e_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

21 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
);

22 
boŞ
 
»move_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

23 
compu‹
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
, cÚ¡ ušt8_ˆ*
šput_buf
,

24 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

27 şas 
	cS”v”HashTabËFaùÜy
 : 
public
 
S”v”DSFaùÜy
 {

28 
public
:

29 
S”v”DS
 *
bud
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
);

	@inc/server_ptr.hpp

1 #´agm¨
Úû


3 
	~"£rv”_ds.hµ
"

5 
	~<memÜy
>

7 
Çme¥aû
 
	gçr_memÜy
 {

8 şas 
	cS”v”PŒ
 : 
public
 
S”v”DS
 {

9 
´iv©e
:

10 
¡d
::
unique_±r
<
ušt8_t
> 
buf_
;

11 
ä›nd
 
şass
 
	gS”v”PŒFaùÜy
;

13 
	gpublic
:

14 
S”v”PŒ
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
);

15 ~
S”v”PŒ
();

16 
»ad_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

17 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
);

18 
wr™e_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

19 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
);

20 
boŞ
 
»move_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
);

21 
compu‹
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
, cÚ¡ ušt8_ˆ*
šput_buf
,

22 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
);

25 şas 
	cS”v”PŒFaùÜy
 : 
public
 
S”v”DSFaùÜy
 {

26 
public
:

27 
S”v”DS
 *
bud
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
);

	@inc/shared_pool.hpp

1 #´agm¨
Úû


3 
	~"sync.h
"

5 
	~"cb.hµ
"

6 
	~"h–³rs.hµ
"

8 
	~<funùiÚ®
>

10 
Çme¥aû
 
	gçr_memÜy
 {

11 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cSh¬edPoŞ
 {

12 
	g´iv©e
:

13 
cÚ¡ex´
 
ušt32_t
 
kNumCachedI‹msP”CPU
 = 8;

15 
®igÇs
(64è
	gCœcuÏrBufãr
<
	gT
, 
	gçl£
,

16 
	gkNumCachedI‹msP”CPU
> 
	gÿche_
[
h–³rs
::
kNumCPUs
];

17 
	gCœcuÏrBufãr
<
	gT
, 
	gçl£
> 
	gglob®_poŞ_
;

18 
	g¹
::
Spš
 
glob®_¥š_
;

20 
	gpublic
:

21 
Sh¬edPoŞ
(
ušt32_t
 
ÿ·c™y
);

22 
push
(
T
 
™em
);

23 
T
 
pİ
();

24 
fÜ_—ch
(cÚ¡ 
¡d
::
funùiÚ
<(
T
)> &
f
);

28 
	~"š‹º®/sh¬ed_poŞ.p
"

	@inc/slab.hpp

1 #´agm¨
Úû


3 
	~"h–³rs.hµ
"

4 
	~"sync.h
"

6 
	~<memÜy
>

7 
	~<veùÜ
>

9 
Çme¥aû
 
	gçr_memÜy
 {

11 şas 
	cSÏb
 {

12 
	gpublic
:

13 
cÚ¡ex´
 
ušt8_t
 
kNumSÏbCÏs£s
 = 7;

14 
cÚ¡ex´
 
ušt32_t
 
	gkMšSÏbCÏssShiá
 = 5;

15 
cÚ¡ex´
 
ušt32_t
 
	gkMšSÏbCÏssSize
 = (1 << 
kMšSÏbCÏssShiá
);

16 
cÚ¡ex´
 
ušt32_t
 
	gkMaxSÏbCÏssSize
 =

17 (
kMšSÏbCÏssSize
 << (
kNumSÏbCÏs£s
 - 1));

18 
cÚ¡ex´
 
ušt32_t
 
	gkR•ËnishChunkSize
 = 512;

20 
	g´iv©e
:

21 
¡d
::
unique_±r
<
ušt8_t
> 
ba£_
;

22 
ušt64_t
 
	gËn_
;

23 
ušt8_t
 *
	gcur_
;

24 
	g¹
::
Spš
 
¥š_
;

25 
	g¡d
::
veùÜ
<
ušt8_t
 *> 
¦abs_
[
h–³rs
::
kNumCPUs
][
kNumSÏbCÏs£s
];

26 
ä›nd
 
şass
 
	gF¬MemTe¡
;

28 
ušt32_t
 
g‘_¦ab_idx
(ušt32_ˆ
size
);

29 
ušt32_t
 
g‘_¦ab_size
(ušt32_ˆ
idx
);

30 
»¶’ish
(
ušt32_t
 
¦ab_idx
);

32 
	gpublic
:

33 
SÏb
(
ušt8_t
 *
ba£
, 
ušt64_t
 
Ën
);

34 ~
SÏb
();

35 
ušt8_t
 *
®loÿ‹
(
ušt32_t
 
size
);

36 
ä“
(
ušt8_t
 *
±r
, 
ušt32_t
 
size
);

41 
	~"š‹º®/¦ab.p
"

	@inc/stack.hpp

1 #´agm¨
Úû


3 
	~"li¡.hµ
"

5 
Çme¥aû
 
	gçr_memÜy
 {

6 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cSck
 {

7 
	g´iv©e
:

8 
Sck
(cÚ¡ 
D”efScİe
 &
scİe
);

10 
	gLi¡
<
	gT
> 
	gli¡_
;

11 
ä›nd
 
şass
 
	gF¬MemMªag”
;

13 
	gpublic
:

14 
boŞ
 
em±y
() const;

15 
ušt64_t
 
size
() const;

16 cÚ¡ 
	gT
 &
ùİ
(cÚ¡ 
D”efScİe
 &
scİe
) const;

17 
	gT
 &
tİ
(cÚ¡ 
D”efScİe
 &
scİe
) const;

18 
push
(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
T
 &
d©a
);

19 
pİ
(cÚ¡ 
D”efScİe
 &
scİe
);

24 
	~"š‹º®/¡ack.p
"

	@inc/stats.hpp

1 #´agm¨
Úû


4 
	~<ruÁime/ruÁime.h
>

7 
	~"h–³rs.hµ
"

9 
	~<c¡dšt
>

10 
	~<veùÜ
>

12 
Çme¥aû
 
çr_memÜy
 {

14 
®igÇs
(64è
Cach–še
 {

15 
ušt8_t
 
d©a
[64];

18 şas 
	cSts
 {

19 
´iv©e
:

20 
boŞ
 
’abË_sw­_
;

21 #ifdeà
MONITOR_FREE_MEM_RATIO


22 
¡d
::
veùÜ
<¡d::
·œ
<
ušt64_t
, >>

23 
ä“_mem_¿tio_»cÜds_
[
h–³rs
::
kNumCPUs
];

26 #ifdeà
MONITOR_READ_OBJECT_CYCLES


27 
»ad_objeù_cyşes_high_¡¬t_
;

28 
»ad_objeù_cyşes_low_¡¬t_
;

29 
»ad_objeù_cyşes_high_’d_
;

30 
»ad_objeù_cyşes_low_’d_
;

33 #ifdeà
MONITOR_WRITE_OBJECT_CYCLES


34 
wr™e_objeù_cyşes_high_¡¬t_
;

35 
wr™e_objeù_cyşes_low_¡¬t_
;

36 
wr™e_objeù_cyşes_high_’d_
;

37 
wr™e_objeù_cyşes_low_’d_
;

40 
_add_ä“_mem_¿tio_»cÜd
();

42 
public
:

43 
	#ADD_STAT
(
ty³
, 
x
, 
’abË_æag
) \

44 
´iv©e
: \

45 
ty³
 
x
##
_
; \

47 
public
: \

48 
FORCE_INLINE
 
šc_
##
	`x
(
ty³
 
num
) { \

49 ià(
’abË_æag
) { \

50 
	`ACCESS_ONCE
(
x
##
_
è+ğ
num
; \

53 
FORCE_INLINE
 
ty³
 
g‘_
##
	`x
(è{  
	`ACCESS_ONCE
(
x
##
_
); }

	)

55 
	#ADD_PER_CORE_STAT
(
ty³
, 
x
, 
’abË_æag
) \

56 
´iv©e
: \

57 
Cach–še
 
x
##
_
[
h–³rs
::
kNumCPUs
]; \

59 
public
: \

60 
FORCE_INLINE
 
šc_
##
	`x
(
ty³
 
num
) { \

61 ià(
’abË_æag
) { \

62 
	`´“m±_di§bË
(); \

63 
	`ACCESS_ONCE
(*((
ty³
 *)(
x
##
_
 + 
	`g‘_cÜe_num
()))è+ğ
num
; \

64 
	`´“m±_’abË
(); \

67 
FORCE_INLINE
 
ty³
 
g‘_
##
	`x
() { \

68 
ty³
 
sum
 = 0; \

69 
	`FOR_ALL_SOCKET0_CORES
(
i
è{ 
sum
 +ğ
	`ACCESS_ONCE
(*((
ty³
 *)(
x
##
_
 + i))); } \

70  
sum
; \

71 }

	)

73 
’abË_sw­
();

74 
di§bË_sw­
();

75 
ş—r_ä“_mem_¿tio_»cÜds
();

76 
´št_ä“_mem_¿tio_»cÜds
();

77 
ušt64_t
 
g‘_scheduË_us
();

78 
ušt64_t
 
g‘_soáœq_us
();

79 
ušt64_t
 
g‘_gc_us
();

80 
ušt64_t
 
g‘_tı_rw_by‹s
();

81 
add_ä“_mem_¿tio_»cÜd
();

82 
¡¬t_m—su»_»ad_objeù_cyşes
();

83 
fšish_m—su»_»ad_objeù_cyşes
();

84 
»£t_m—su»_»ad_objeù_cyşes
();

85 
ušt64_t
 
g‘_–­£d_»ad_objeù_cyşes
();

86 
¡¬t_m—su»_wr™e_objeù_cyşes
();

87 
fšish_m—su»_wr™e_objeù_cyşes
();

88 
»£t_m—su»_wr™e_objeù_cyşes
();

89 
ušt64_t
 
g‘_–­£d_wr™e_objeù_cyşes
();

93 
	~"š‹º®/¡©s.p
"

	@inc/zipf.hpp

1 #´agm¨
Úû


3 
	~<lim™s
>

4 
	~<¿ndom
>

5 
	~<veùÜ
>

7 
Çme¥aû
 
	gçr_memÜy
 {

19 
	g‹m¶©e
 <
şass
 
	gIÁTy³
 = , cÏs 
	gR—lTy³
 = >

20 şas 
	czf_bË_di¡ributiÚ
 {

21 
public
:

22 
IÁTy³
 
	t»suÉ_ty³
;

24 
¡©ic_as£¹
(
¡d
::
num”ic_lim™s
<
IÁTy³
>::
is_š‹g”
, "");

25 
¡©ic_as£¹
(!
¡d
::
num”ic_lim™s
<
R—lTy³
>::
is_š‹g”
, "");

34 
zf_bË_di¡ributiÚ
(cÚ¡ 
IÁTy³
 
n
, cÚ¡ 
R—lTy³
 
q
 = 1.0);

35 
»£t
();

36 
IÁTy³
 
İ”©Ü
()(
	g¡d
::
mt19937
 &
ºg
);

38 
R—lTy³
 
s
() const;

40 
»suÉ_ty³
 
mš
() const;

42 
»suÉ_ty³
 
max
() const;

44 
	g´iv©e
:

45 
¡d
::
veùÜ
<
R—lTy³
> 
pdf_
;

46 
IÁTy³
 
	gn_
;

47 
R—lTy³
 
	gq_
;

48 
	g¡d
::
disü‘e_di¡ributiÚ
<
IÁTy³
> 
di¡_
;

51 
IÁTy³
 
š™
(cÚ¡ IÁTy³ 
n
, cÚ¡ 
R—lTy³
 
q
);

55 
	~"š‹º®/zf.p
"

	@snappy/build/CMakeFiles/3.18.4/CompilerIdC/CMakeCCompilerId.c

1 #ifdeà
__ılu¥lus


5 #ià
defšed
(
__18CXX
)

6 
	#ID_VOID_MAIN


	)

8 #ià
defšed
(
__CLASSIC_C__
)

10 cÚ¡

	)

11 vŞ©e

	)

18 #ià
defšed
(
__INTEL_COMPILER
è|| defšed(
__ICC
)

19 
	#COMPILER_ID
 "IÁ–"

	)

20 #ià
defšed
(
_MSC_VER
)

21 
	#SIMULATE_ID
 "MSVC"

	)

23 #ià
defšed
(
__GNUC__
)

24 
	#SIMULATE_ID
 "GNU"

	)

27 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__INTEL_COMPILER
/100)

	)

28 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__INTEL_COMPILER
/10 % 10)

	)

29 #ià
defšed
(
__INTEL_COMPILER_UPDATE
)

30 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__INTEL_COMPILER_UPDATE
)

	)

32 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__INTEL_COMPILER
 % 10)

	)

34 #ià
defšed
(
__INTEL_COMPILER_BUILD_DATE
)

36 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__INTEL_COMPILER_BUILD_DATE
)

	)

38 #ià
defšed
(
_MSC_VER
)

40 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

41 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

43 #ià
defšed
(
__GNUC__
)

44 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
__GNUC__
)

	)

45 #–ià
defšed
(
__GNUG__
)

46 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
__GNUG__
)

	)

48 #ià
defšed
(
__GNUC_MINOR__
)

49 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
__GNUC_MINOR__
)

	)

51 #ià
defšed
(
__GNUC_PATCHLEVEL__
)

52 
	#SIMULATE_VERSION_PATCH
 
	`DEC
(
__GNUC_PATCHLEVEL__
)

	)

55 #–ià
defšed
(
__PATHCC__
)

56 
	#COMPILER_ID
 "P©hSÿË"

	)

57 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__PATHCC__
)

	)

58 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__PATHCC_MINOR__
)

	)

59 #ià
defšed
(
__PATHCC_PATCHLEVEL__
)

60 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__PATHCC_PATCHLEVEL__
)

	)

63 #–ià
defšed
(
__BORLANDC__
è&& defšed(
__CODEGEARC_VERSION__
)

64 
	#COMPILER_ID
 "Emb¬ÿd”o"

	)

65 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__CODEGEARC_VERSION__
>>24 & 0x00FF)

	)

66 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__CODEGEARC_VERSION__
>>16 & 0x00FF)

	)

67 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__CODEGEARC_VERSION__
 & 0xFFFF)

	)

69 #–ià
defšed
(
__BORLANDC__
)

70 
	#COMPILER_ID
 "BÜÏnd"

	)

72 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__BORLANDC__
>>8)

	)

73 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__BORLANDC__
 & 0xFF)

	)

75 #–ià
defšed
(
__WATCOMC__
) && __WATCOMC__ < 1200

76 
	#COMPILER_ID
 "W©com"

	)

78 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__WATCOMC__
 / 100)

	)

79 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__WATCOMC__
 / 10è% 10)

	)

80 #ià(
__WATCOMC__
 % 10) > 0

81 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__WATCOMC__
 % 10)

	)

84 #–ià
defšed
(
__WATCOMC__
)

85 
	#COMPILER_ID
 "O³nW©com"

	)

87 
	#COMPILER_VERSION_MAJOR
 
	`DEC
((
__WATCOMC__
 - 1100è/ 100)

	)

88 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__WATCOMC__
 / 10è% 10)

	)

89 #ià(
__WATCOMC__
 % 10) > 0

90 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__WATCOMC__
 % 10)

	)

93 #–ià
defšed
(
__SUNPRO_C
)

94 
	#COMPILER_ID
 "SunPro"

	)

95 #ià
__SUNPRO_C
 >= 0x5100

97 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__SUNPRO_C
>>12)

	)

98 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__SUNPRO_C
>>4 & 0xFF)

	)

99 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__SUNPRO_C
 & 0xF)

	)

102 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__SUNPRO_C
>>8)

	)

103 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__SUNPRO_C
>>4 & 0xF)

	)

104 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__SUNPRO_C
 & 0xF)

	)

107 #–ià
defšed
(
__HP_cc
)

108 
	#COMPILER_ID
 "HP"

	)

110 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__HP_cc
/10000)

	)

111 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__HP_cc
/100 % 100)

	)

112 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__HP_cc
 % 100)

	)

114 #–ià
defšed
(
__DECC
)

115 
	#COMPILER_ID
 "Com·q"

	)

117 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__DECC_VER
/10000000)

	)

118 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__DECC_VER
/100000 % 100)

	)

119 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__DECC_VER
 % 10000)

	)

121 #–ià
defšed
(
__IBMC__
è&& defšed(
__COMPILER_VER__
)

122 
	#COMPILER_ID
 "zOS"

	)

124 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMC__
/100)

	)

125 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMC__
/10 % 10)

	)

126 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMC__
 % 10)

	)

128 #–ià
defšed
(
__ibmxl__
è&& defšed(
__şªg__
)

129 
	#COMPILER_ID
 "XLCÏng"

	)

130 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ibmxl_v”siÚ__
)

	)

131 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ibmxl_»Ëa£__
)

	)

132 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ibmxl_modifiÿtiÚ__
)

	)

133 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__ibmxl_±f_fix_Ëv–__
)

	)

136 #–ià
defšed
(
__IBMC__
è&& !defšed(
__COMPILER_VER__
) && __IBMC__ >= 800

137 
	#COMPILER_ID
 "XL"

	)

139 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMC__
/100)

	)

140 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMC__
/10 % 10)

	)

141 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMC__
 % 10)

	)

143 #–ià
defšed
(
__IBMC__
è&& !defšed(
__COMPILER_VER__
) && __IBMC__ < 800

144 
	#COMPILER_ID
 "Visu®Age"

	)

146 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMC__
/100)

	)

147 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMC__
/10 % 10)

	)

148 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMC__
 % 10)

	)

150 #–ià
defšed
(
__PGI
)

151 
	#COMPILER_ID
 "PGI"

	)

152 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__PGIC__
)

	)

153 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__PGIC_MINOR__
)

	)

154 #ià
defšed
(
__PGIC_PATCHLEVEL__
)

155 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__PGIC_PATCHLEVEL__
)

	)

158 #–ià
defšed
(
_CRAYC
)

159 
	#COMPILER_ID
 "C¿y"

	)

160 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_RELEASE_MAJOR
)

	)

161 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_RELEASE_MINOR
)

	)

163 #–ià
defšed
(
__TI_COMPILER_VERSION__
)

164 
	#COMPILER_ID
 "TI"

	)

166 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__TI_COMPILER_VERSION__
/1000000)

	)

167 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__TI_COMPILER_VERSION__
/1000 % 1000)

	)

168 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__TI_COMPILER_VERSION__
 % 1000)

	)

170 #–ià
defšed
(
__FUJITSU
è|| defšed(
__FCC_VERSION
è|| defšed(
__fcc_v”siÚ
)

171 
	#COMPILER_ID
 "Fuj™su"

	)

173 #–ià
defšed
(
__ghs__
)

174 
	#COMPILER_ID
 "GHS"

	)

176 #ifdeà
__GHS_VERSION_NUMBER


177 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__GHS_VERSION_NUMBER
 / 100)

	)

178 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__GHS_VERSION_NUMBER
 / 10 % 10)

	)

179 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__GHS_VERSION_NUMBER
 % 10)

	)

182 #–ià
defšed
(
__TINYC__
)

183 
	#COMPILER_ID
 "TšyCC"

	)

185 #–ià
defšed
(
__BCC__
)

186 
	#COMPILER_ID
 "Bruû"

	)

188 #–ià
defšed
(
__SCO_VERSION__
)

189 
	#COMPILER_ID
 "SCO"

	)

191 #–ià
defšed
(
__ARMCC_VERSION
è&& !defšed(
__şªg__
)

192 
	#COMPILER_ID
 "ARMCC"

	)

193 #ià
__ARMCC_VERSION
 >= 1000000

195 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCC_VERSION
/1000000)

	)

196 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCC_VERSION
/10000 % 100)

	)

197 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCC_VERSION
 % 10000)

	)

200 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCC_VERSION
/100000)

	)

201 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCC_VERSION
/10000 % 10)

	)

202 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCC_VERSION
 % 10000)

	)

206 #–ià
defšed
(
__şªg__
è&& defšed(
__­¶e_bud_v”siÚ__
)

207 
	#COMPILER_ID
 "AµËCÏng"

	)

208 #ià
defšed
(
_MSC_VER
)

209 
	#SIMULATE_ID
 "MSVC"

	)

211 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__şªg_majÜ__
)

	)

212 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__şªg_mšÜ__
)

	)

213 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__şªg_·tchËv–__
)

	)

214 #ià
defšed
(
_MSC_VER
)

216 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

217 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

219 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__­¶e_bud_v”siÚ__
)

	)

221 #–ià
defšed
(
__şªg__
è&& defšed(
__ARMCOMPILER_VERSION
)

222 
	#COMPILER_ID
 "ARMCÏng"

	)

223 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCOMPILER_VERSION
/1000000)

	)

224 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCOMPILER_VERSION
/10000 % 100)

	)

225 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCOMPILER_VERSION
 % 10000)

	)

226 
	#COMPILER_VERSION_INTERNAL
 
	`DEC
(
__ARMCOMPILER_VERSION
)

	)

228 #–ià
defšed
(
__şªg__
)

229 
	#COMPILER_ID
 "CÏng"

	)

230 #ià
defšed
(
_MSC_VER
)

231 
	#SIMULATE_ID
 "MSVC"

	)

233 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__şªg_majÜ__
)

	)

234 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__şªg_mšÜ__
)

	)

235 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__şªg_·tchËv–__
)

	)

236 #ià
defšed
(
_MSC_VER
)

238 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

239 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

242 #–ià
defšed
(
__GNUC__
)

243 
	#COMPILER_ID
 "GNU"

	)

244 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__GNUC__
)

	)

245 #ià
defšed
(
__GNUC_MINOR__
)

246 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__GNUC_MINOR__
)

	)

248 #ià
defšed
(
__GNUC_PATCHLEVEL__
)

249 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__GNUC_PATCHLEVEL__
)

	)

252 #–ià
defšed
(
_MSC_VER
)

253 
	#COMPILER_ID
 "MSVC"

	)

255 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

256 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

257 #ià
defšed
(
_MSC_FULL_VER
)

258 #ià
_MSC_VER
 >= 1400

260 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_MSC_FULL_VER
 % 100000)

	)

263 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_MSC_FULL_VER
 % 10000)

	)

266 #ià
defšed
(
_MSC_BUILD
)

267 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
_MSC_BUILD
)

	)

270 #–ià
defšed
(
__VISUALDSPVERSION__
è|| defšed(
__ADSPBLACKFIN__
è|| defšed(
__ADSPTS__
è|| defšed(
__ADSP21000__
)

271 
	#COMPILER_ID
 "ADSP"

	)

272 #ià
defšed
(
__VISUALDSPVERSION__
)

274 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__VISUALDSPVERSION__
>>24)

	)

275 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__VISUALDSPVERSION__
>>16 & 0xFF)

	)

276 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__VISUALDSPVERSION__
>>8 & 0xFF)

	)

279 #–ià
defšed
(
__IAR_SYSTEMS_ICC__
è|| defšed(
__IAR_SYSTEMS_ICC
)

280 
	#COMPILER_ID
 "IAR"

	)

281 #ià
defšed
(
__VER__
è&& defšed(
__ICCARM__
)

282 
	#COMPILER_VERSION_MAJOR
 
	`DEC
((
__VER__
è/ 1000000)

	)

283 
	#COMPILER_VERSION_MINOR
 
	`DEC
(((
__VER__
è/ 1000è% 1000)

	)

284 
	#COMPILER_VERSION_PATCH
 
	`DEC
((
__VER__
è% 1000)

	)

285 
	#COMPILER_VERSION_INTERNAL
 
	`DEC
(
__IAR_SYSTEMS_ICC__
)

	)

286 #–ià
defšed
(
__VER__
è&& (defšed(
__ICCAVR__
è|| defšed(
__ICCRX__
è|| defšed(
__ICCRH850__
è|| defšed(
__ICCRL78__
è|| defšed(
__ICC430__
è|| defšed(
__ICCRISCV__
è|| defšed(
__ICCV850__
è|| defšed(
__ICC8051__
))

287 
	#COMPILER_VERSION_MAJOR
 
	`DEC
((
__VER__
è/ 100)

	)

288 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__VER__
è- (((__VER__è/ 100)*100))

	)

289 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__SUBVERSION__
)

	)

290 
	#COMPILER_VERSION_INTERNAL
 
	`DEC
(
__IAR_SYSTEMS_ICC__
)

	)

293 #–ià
defšed
(
__SDCC_VERSION_MAJOR
è|| defšed(
SDCC
)

294 
	#COMPILER_ID
 "SDCC"

	)

295 #ià
defšed
(
__SDCC_VERSION_MAJOR
)

296 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__SDCC_VERSION_MAJOR
)

	)

297 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__SDCC_VERSION_MINOR
)

	)

298 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__SDCC_VERSION_PATCH
)

	)

301 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
SDCC
/100)

	)

302 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
SDCC
/10 % 10)

	)

303 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
SDCC
 % 10)

	)

310 #–ià
defšed
(
__hpux
è|| defšed(
__hpua
)

311 
	#COMPILER_ID
 "HP"

	)

314 
	#COMPILER_ID
 ""

	)

321 cÚ¡* 
	gšfo_comp”
 = "INFO" ":" "comp”[" 
COMPILER_ID
 "]";

322 #ifdeà
SIMULATE_ID


323 cÚ¡* 
	gšfo_simuÏ‹
 = "INFO" ":" "simuÏ‹[" 
SIMULATE_ID
 "]";

326 #ifdeà
__QNXNTO__


327 cÚ¡* 
	gqnxÁo
 = "INFO" ":" "qnxnto[]";

330 #ià
defšed
(
__CRAYXE
è|| defšed(
__CRAYXC
)

331 cÚ¡ *
	gšfo_üay
 = "INFO" ":" "compiler_wrapper[CrayPrgEnv]";

334 
	#STRINGIFY_HELPER
(
X
è#X

	)

335 
	#STRINGIFY
(
X
è
	`STRINGIFY_HELPER
(X)

	)

338 #ià
defšed
(
__lšux
è|| defšed(
__lšux__
è|| defšed(
lšux
)

339 
	#PLATFORM_ID
 "Lšux"

	)

341 #–ià
defšed
(
__CYGWIN__
)

342 
	#PLATFORM_ID
 "Cygwš"

	)

344 #–ià
defšed
(
__MINGW32__
)

345 
	#PLATFORM_ID
 "MšGW"

	)

347 #–ià
defšed
(
__APPLE__
)

348 
	#PLATFORM_ID
 "D¬wš"

	)

350 #–ià
defšed
(
_WIN32
è|| defšed(
__WIN32__
è|| defšed(
WIN32
)

351 
	#PLATFORM_ID
 "Wšdows"

	)

353 #–ià
defšed
(
__F»eBSD__
è|| defšed(
__F»eBSD
)

354 
	#PLATFORM_ID
 "F»eBSD"

	)

356 #–ià
defšed
(
__N‘BSD__
è|| defšed(
__N‘BSD
)

357 
	#PLATFORM_ID
 "N‘BSD"

	)

359 #–ià
defšed
(
__O³nBSD__
è|| defšed(
__OPENBSD
)

360 
	#PLATFORM_ID
 "O³nBSD"

	)

362 #–ià
defšed
(
__sun
è|| defšed(
sun
)

363 
	#PLATFORM_ID
 "SunOS"

	)

365 #–ià
defšed
(
_AIX
è|| defšed(
__AIX
è|| defšed(
__AIX__
è|| defšed(
__aix
è|| defšed(
__aix__
)

366 
	#PLATFORM_ID
 "AIX"

	)

368 #–ià
defšed
(
__hpux
è|| defšed(
__hpux__
)

369 
	#PLATFORM_ID
 "HP-UX"

	)

371 #–ià
defšed
(
__HAIKU__
)

372 
	#PLATFORM_ID
 "Haiku"

	)

374 #–ià
defšed
(
__BeOS
è|| defšed(
__BEOS__
è|| defšed(
_BEOS
)

375 
	#PLATFORM_ID
 "BeOS"

	)

377 #–ià
defšed
(
__QNX__
è|| defšed(
__QNXNTO__
)

378 
	#PLATFORM_ID
 "QNX"

	)

380 #–ià
defšed
(
__Œu64
è|| defšed(
_Œu64
è|| defšed(
__TRU64__
)

381 
	#PLATFORM_ID
 "Tru64"

	)

383 #–ià
defšed
(
__riscos
è|| defšed(
__riscos__
)

384 
	#PLATFORM_ID
 "RISCos"

	)

386 #–ià
defšed
(
__sšix
è|| defšed(
__sšix__
è|| defšed(
__SINIX__
)

387 
	#PLATFORM_ID
 "SINIX"

	)

389 #–ià
defšed
(
__UNIX_SV__
)

390 
	#PLATFORM_ID
 "UNIX_SV"

	)

392 #–ià
defšed
(
__bsdos__
)

393 
	#PLATFORM_ID
 "BSDOS"

	)

395 #–ià
defšed
(
_MPRAS
è|| defšed(
MPRAS
)

396 
	#PLATFORM_ID
 "MP-RAS"

	)

398 #–ià
defšed
(
__osf
è|| defšed(
__osf__
)

399 
	#PLATFORM_ID
 "OSF1"

	)

401 #–ià
defšed
(
_SCO_SV
è|| defšed(
SCO_SV
è|| defšed(
sco_sv
)

402 
	#PLATFORM_ID
 "SCO_SV"

	)

404 #–ià
defšed
(
__uÉrix
è|| defšed(
__uÉrix__
è|| defšed(
_ULTRIX
)

405 
	#PLATFORM_ID
 "ULTRIX"

	)

407 #–ià
defšed
(
__XENIX__
è|| defšed(
_XENIX
è|| defšed(
XENIX
)

408 
	#PLATFORM_ID
 "X’ix"

	)

410 #–ià
defšed
(
__WATCOMC__
)

411 #ià
defšed
(
__LINUX__
)

412 
	#PLATFORM_ID
 "Lšux"

	)

414 #–ià
defšed
(
__DOS__
)

415 
	#PLATFORM_ID
 "DOS"

	)

417 #–ià
defšed
(
__OS2__
)

418 
	#PLATFORM_ID
 "OS2"

	)

420 #–ià
defšed
(
__WINDOWS__
)

421 
	#PLATFORM_ID
 "Wšdows3x"

	)

423 #–ià
defšed
(
__VXWORKS__
)

424 
	#PLATFORM_ID
 "VxWÜks"

	)

427 
	#PLATFORM_ID


	)

430 #–ià
defšed
(
__INTEGRITY
)

431 #ià
defšed
(
INT_178B
)

432 
	#PLATFORM_ID
 "IÁegr™y178"

	)

435 
	#PLATFORM_ID
 "IÁegr™y"

	)

439 
	#PLATFORM_ID


	)

448 #ià
defšed
(
_WIN32
è&& defšed(
_MSC_VER
)

449 #ià
defšed
(
_M_IA64
)

450 
	#ARCHITECTURE_ID
 "IA64"

	)

452 #–ià
defšed
(
_M_X64
è|| defšed(
_M_AMD64
)

453 
	#ARCHITECTURE_ID
 "x64"

	)

455 #–ià
defšed
(
_M_IX86
)

456 
	#ARCHITECTURE_ID
 "X86"

	)

458 #–ià
defšed
(
_M_ARM64
)

459 
	#ARCHITECTURE_ID
 "ARM64"

	)

461 #–ià
defšed
(
_M_ARM
)

462 #ià
_M_ARM
 == 4

463 
	#ARCHITECTURE_ID
 "ARMV4I"

	)

464 #–ià
_M_ARM
 == 5

465 
	#ARCHITECTURE_ID
 "ARMV5I"

	)

467 
	#ARCHITECTURE_ID
 "ARMV" 
	`STRINGIFY
(
_M_ARM
)

	)

470 #–ià
defšed
(
_M_MIPS
)

471 
	#ARCHITECTURE_ID
 "MIPS"

	)

473 #–ià
defšed
(
_M_SH
)

474 
	#ARCHITECTURE_ID
 "SHx"

	)

477 
	#ARCHITECTURE_ID
 ""

	)

480 #–ià
defšed
(
__WATCOMC__
)

481 #ià
defšed
(
_M_I86
)

482 
	#ARCHITECTURE_ID
 "I86"

	)

484 #–ià
defšed
(
_M_IX86
)

485 
	#ARCHITECTURE_ID
 "X86"

	)

488 
	#ARCHITECTURE_ID
 ""

	)

491 #–ià
defšed
(
__IAR_SYSTEMS_ICC__
è|| defšed(
__IAR_SYSTEMS_ICC
)

492 #ià
defšed
(
__ICCARM__
)

493 
	#ARCHITECTURE_ID
 "ARM"

	)

495 #–ià
defšed
(
__ICCRX__
)

496 
	#ARCHITECTURE_ID
 "RX"

	)

498 #–ià
defšed
(
__ICCRH850__
)

499 
	#ARCHITECTURE_ID
 "RH850"

	)

501 #–ià
defšed
(
__ICCRL78__
)

502 
	#ARCHITECTURE_ID
 "RL78"

	)

504 #–ià
defšed
(
__ICCRISCV__
)

505 
	#ARCHITECTURE_ID
 "RISCV"

	)

507 #–ià
defšed
(
__ICCAVR__
)

508 
	#ARCHITECTURE_ID
 "AVR"

	)

510 #–ià
defšed
(
__ICC430__
)

511 
	#ARCHITECTURE_ID
 "MSP430"

	)

513 #–ià
defšed
(
__ICCV850__
)

514 
	#ARCHITECTURE_ID
 "V850"

	)

516 #–ià
defšed
(
__ICC8051__
)

517 
	#ARCHITECTURE_ID
 "8051"

	)

520 
	#ARCHITECTURE_ID
 ""

	)

523 #–ià
defšed
(
__ghs__
)

524 #ià
defšed
(
__PPC64__
)

525 
	#ARCHITECTURE_ID
 "PPC64"

	)

527 #–ià
defšed
(
__µc__
)

528 
	#ARCHITECTURE_ID
 "PPC"

	)

530 #–ià
defšed
(
__ARM__
)

531 
	#ARCHITECTURE_ID
 "ARM"

	)

533 #–ià
defšed
(
__x86_64__
)

534 
	#ARCHITECTURE_ID
 "x64"

	)

536 #–ià
defšed
(
__i386__
)

537 
	#ARCHITECTURE_ID
 "X86"

	)

540 
	#ARCHITECTURE_ID
 ""

	)

543 
	#ARCHITECTURE_ID


	)

547 
	#DEC
(
n
) \

548 ('0' + (((
n
) / 10000000)%10)), \

549 ('0' + (((
n
) / 1000000)%10)), \

550 ('0' + (((
n
) / 100000)%10)), \

551 ('0' + (((
n
) / 10000)%10)), \

552 ('0' + (((
n
) / 1000)%10)), \

553 ('0' + (((
n
) / 100)%10)), \

554 ('0' + (((
n
) / 10)%10)), \

555 ('0' + ((
n
è% 10))

	)

558 
	#HEX
(
n
) \

559 ('0' + ((
n
)>>28 & 0xF)), \

560 ('0' + ((
n
)>>24 & 0xF)), \

561 ('0' + ((
n
)>>20 & 0xF)), \

562 ('0' + ((
n
)>>16 & 0xF)), \

563 ('0' + ((
n
)>>12 & 0xF)), \

564 ('0' + ((
n
)>>8 & 0xF)), \

565 ('0' + ((
n
)>>4 & 0xF)), \

566 ('0' + ((
n
è& 0xF))

	)

569 #ifdeà
COMPILER_VERSION_MAJOR


570 cÚ¡ 
	gšfo_v”siÚ
[] = {

573 
COMPILER_VERSION_MAJOR
,

574 #ifdeà
COMPILER_VERSION_MINOR


575 '.', 
COMPILER_VERSION_MINOR
,

576 #ifdeà
COMPILER_VERSION_PATCH


577 '.', 
COMPILER_VERSION_PATCH
,

578 #ifdeà
COMPILER_VERSION_TWEAK


579 '.', 
COMPILER_VERSION_TWEAK
,

587 #ifdeà
COMPILER_VERSION_INTERNAL


588 cÚ¡ 
	gšfo_v”siÚ_š‹º®
[] = {

592 
COMPILER_VERSION_INTERNAL
,']','\0'};

596 #ifdeà
SIMULATE_VERSION_MAJOR


597 cÚ¡ 
	gšfo_simuÏ‹_v”siÚ
[] = {

600 
SIMULATE_VERSION_MAJOR
,

601 #ifdeà
SIMULATE_VERSION_MINOR


602 '.', 
SIMULATE_VERSION_MINOR
,

603 #ifdeà
SIMULATE_VERSION_PATCH


604 '.', 
SIMULATE_VERSION_PATCH
,

605 #ifdeà
SIMULATE_VERSION_TWEAK


606 '.', 
SIMULATE_VERSION_TWEAK
,

617 cÚ¡* 
	gšfo_¶©fÜm
 = "INFO" ":" "¶©fÜm[" 
PLATFORM_ID
 "]";

618 cÚ¡* 
	gšfo_¬ch
 = "INFO" ":" "¬ch[" 
ARCHITECTURE_ID
 "]";

623 #ià!
defšed
(
__STDC__
)

624 #ià(
defšed
(
_MSC_VER
è&& !defšed(
__şªg__
)) \

625 || (
defšed
(
__ibmxl__
è|| 
	$defšed
(
__IBMC__
))

626 
	#C_DIALECT
 "90"

	)

628 
	#C_DIALECT


	)

630 #–ià
__STDC_VERSION__
 >= 201000L

631 
	#C_DIALECT
 "11"

	)

632 #–ià
__STDC_VERSION__
 >= 199901L

633 
	#C_DIALECT
 "99"

	)

635 
	#C_DIALECT
 "90"

	)

637 cÚ¡ * 
šfo_Ïnguage_dŸËù_deçuÉ
 =

638 "INFO" ":" "dŸËù_deçuÉ[" 
C_DIALECT
 "]";

642 #ifdeà
ID_VOID_MAIN


643 
	$maš
(è{
	}
}

645 #ià
defšed
(
__CLASSIC_C__
)

646 
	$maš
(
¬gc
, 
¬gv
) argc; *argv[];

648 
	$maš
(
¬gc
, * 
¬gv
[])

651 
»quœe
 = 0;

652 
»quœe
 +ğ
šfo_comp”
[
¬gc
];

653 
»quœe
 +ğ
šfo_¶©fÜm
[
¬gc
];

654 
»quœe
 +ğ
šfo_¬ch
[
¬gc
];

655 #ifdeà
COMPILER_VERSION_MAJOR


656 
»quœe
 +ğ
šfo_v”siÚ
[
¬gc
];

658 #ifdeà
COMPILER_VERSION_INTERNAL


659 
»quœe
 +ğ
šfo_v”siÚ_š‹º®
[
¬gc
];

661 #ifdeà
SIMULATE_ID


662 
»quœe
 +ğ
šfo_simuÏ‹
[
¬gc
];

664 #ifdeà
SIMULATE_VERSION_MAJOR


665 
»quœe
 +ğ
šfo_simuÏ‹_v”siÚ
[
¬gc
];

667 #ià
	`defšed
(
__CRAYXE
è|| defšed(
__CRAYXC
)

668 
»quœe
 +ğ
šfo_üay
[
¬gc
];

670 
»quœe
 +ğ
šfo_Ïnguage_dŸËù_deçuÉ
[
¬gc
];

671 ()
¬gv
;

672  
»quœe
;

673 
	}
}

	@snappy/build/CMakeFiles/3.18.4/CompilerIdCXX/CMakeCXXCompilerId.cpp

4 #iâdeà
__ılu¥lus


12 #ià
defšed
(
__COMO__
)

13 
	#COMPILER_ID
 "Com—u"

	)

15 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__COMO_VERSION__
 / 100)

	)

16 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__COMO_VERSION__
 % 100)

	)

18 #–ià
defšed
(
__INTEL_COMPILER
è|| defšed(
__ICC
)

19 
	#COMPILER_ID
 "IÁ–"

	)

20 #ià
defšed
(
_MSC_VER
)

21 
	#SIMULATE_ID
 "MSVC"

	)

23 #ià
defšed
(
__GNUC__
)

24 
	#SIMULATE_ID
 "GNU"

	)

27 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__INTEL_COMPILER
/100)

	)

28 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__INTEL_COMPILER
/10 % 10)

	)

29 #ià
defšed
(
__INTEL_COMPILER_UPDATE
)

30 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__INTEL_COMPILER_UPDATE
)

	)

32 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__INTEL_COMPILER
 % 10)

	)

34 #ià
defšed
(
__INTEL_COMPILER_BUILD_DATE
)

36 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__INTEL_COMPILER_BUILD_DATE
)

	)

38 #ià
defšed
(
_MSC_VER
)

40 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

41 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

43 #ià
defšed
(
__GNUC__
)

44 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
__GNUC__
)

	)

45 #–ià
defšed
(
__GNUG__
)

46 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
__GNUG__
)

	)

48 #ià
defšed
(
__GNUC_MINOR__
)

49 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
__GNUC_MINOR__
)

	)

51 #ià
defšed
(
__GNUC_PATCHLEVEL__
)

52 
	#SIMULATE_VERSION_PATCH
 
	`DEC
(
__GNUC_PATCHLEVEL__
)

	)

55 #–ià
defšed
(
__PATHCC__
)

56 
	#COMPILER_ID
 "P©hSÿË"

	)

57 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__PATHCC__
)

	)

58 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__PATHCC_MINOR__
)

	)

59 #ià
defšed
(
__PATHCC_PATCHLEVEL__
)

60 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__PATHCC_PATCHLEVEL__
)

	)

63 #–ià
defšed
(
__BORLANDC__
è&& defšed(
__CODEGEARC_VERSION__
)

64 
	#COMPILER_ID
 "Emb¬ÿd”o"

	)

65 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__CODEGEARC_VERSION__
>>24 & 0x00FF)

	)

66 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__CODEGEARC_VERSION__
>>16 & 0x00FF)

	)

67 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__CODEGEARC_VERSION__
 & 0xFFFF)

	)

69 #–ià
defšed
(
__BORLANDC__
)

70 
	#COMPILER_ID
 "BÜÏnd"

	)

72 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__BORLANDC__
>>8)

	)

73 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__BORLANDC__
 & 0xFF)

	)

75 #–ià
defšed
(
__WATCOMC__
) && __WATCOMC__ < 1200

76 
	#COMPILER_ID
 "W©com"

	)

78 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__WATCOMC__
 / 100)

	)

79 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__WATCOMC__
 / 10è% 10)

	)

80 #ià(
__WATCOMC__
 % 10) > 0

81 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__WATCOMC__
 % 10)

	)

84 #–ià
defšed
(
__WATCOMC__
)

85 
	#COMPILER_ID
 "O³nW©com"

	)

87 
	#COMPILER_VERSION_MAJOR
 
	`DEC
((
__WATCOMC__
 - 1100è/ 100)

	)

88 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__WATCOMC__
 / 10è% 10)

	)

89 #ià(
__WATCOMC__
 % 10) > 0

90 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__WATCOMC__
 % 10)

	)

93 #–ià
defšed
(
__SUNPRO_CC
)

94 
	#COMPILER_ID
 "SunPro"

	)

95 #ià
__SUNPRO_CC
 >= 0x5100

97 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__SUNPRO_CC
>>12)

	)

98 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__SUNPRO_CC
>>4 & 0xFF)

	)

99 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__SUNPRO_CC
 & 0xF)

	)

102 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__SUNPRO_CC
>>8)

	)

103 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__SUNPRO_CC
>>4 & 0xF)

	)

104 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__SUNPRO_CC
 & 0xF)

	)

107 #–ià
defšed
(
__HP_aCC
)

108 
	#COMPILER_ID
 "HP"

	)

110 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__HP_aCC
/10000)

	)

111 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__HP_aCC
/100 % 100)

	)

112 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__HP_aCC
 % 100)

	)

114 #–ià
defšed
(
__DECCXX
)

115 
	#COMPILER_ID
 "Com·q"

	)

117 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__DECCXX_VER
/10000000)

	)

118 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__DECCXX_VER
/100000 % 100)

	)

119 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__DECCXX_VER
 % 10000)

	)

121 #–ià
defšed
(
__IBMCPP__
è&& defšed(
__COMPILER_VER__
)

122 
	#COMPILER_ID
 "zOS"

	)

124 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMCPP__
/100)

	)

125 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMCPP__
/10 % 10)

	)

126 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMCPP__
 % 10)

	)

128 #–ià
defšed
(
__ibmxl__
è&& defšed(
__şªg__
)

129 
	#COMPILER_ID
 "XLCÏng"

	)

130 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ibmxl_v”siÚ__
)

	)

131 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ibmxl_»Ëa£__
)

	)

132 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ibmxl_modifiÿtiÚ__
)

	)

133 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__ibmxl_±f_fix_Ëv–__
)

	)

136 #–ià
defšed
(
__IBMCPP__
è&& !defšed(
__COMPILER_VER__
) && __IBMCPP__ >= 800

137 
	#COMPILER_ID
 "XL"

	)

139 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMCPP__
/100)

	)

140 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMCPP__
/10 % 10)

	)

141 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMCPP__
 % 10)

	)

143 #–ià
defšed
(
__IBMCPP__
è&& !defšed(
__COMPILER_VER__
) && __IBMCPP__ < 800

144 
	#COMPILER_ID
 "Visu®Age"

	)

146 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMCPP__
/100)

	)

147 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMCPP__
/10 % 10)

	)

148 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMCPP__
 % 10)

	)

150 #–ià
defšed
(
__PGI
)

151 
	#COMPILER_ID
 "PGI"

	)

152 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__PGIC__
)

	)

153 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__PGIC_MINOR__
)

	)

154 #ià
defšed
(
__PGIC_PATCHLEVEL__
)

155 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__PGIC_PATCHLEVEL__
)

	)

158 #–ià
defšed
(
_CRAYC
)

159 
	#COMPILER_ID
 "C¿y"

	)

160 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_RELEASE_MAJOR
)

	)

161 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_RELEASE_MINOR
)

	)

163 #–ià
defšed
(
__TI_COMPILER_VERSION__
)

164 
	#COMPILER_ID
 "TI"

	)

166 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__TI_COMPILER_VERSION__
/1000000)

	)

167 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__TI_COMPILER_VERSION__
/1000 % 1000)

	)

168 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__TI_COMPILER_VERSION__
 % 1000)

	)

170 #–ià
defšed
(
__FUJITSU
è|| defšed(
__FCC_VERSION
è|| defšed(
__fcc_v”siÚ
)

171 
	#COMPILER_ID
 "Fuj™su"

	)

173 #–ià
defšed
(
__ghs__
)

174 
	#COMPILER_ID
 "GHS"

	)

176 #ifdeà
__GHS_VERSION_NUMBER


177 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__GHS_VERSION_NUMBER
 / 100)

	)

178 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__GHS_VERSION_NUMBER
 / 10 % 10)

	)

179 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__GHS_VERSION_NUMBER
 % 10)

	)

182 #–ià
defšed
(
__SCO_VERSION__
)

183 
	#COMPILER_ID
 "SCO"

	)

185 #–ià
defšed
(
__ARMCC_VERSION
è&& !defšed(
__şªg__
)

186 
	#COMPILER_ID
 "ARMCC"

	)

187 #ià
__ARMCC_VERSION
 >= 1000000

189 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCC_VERSION
/1000000)

	)

190 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCC_VERSION
/10000 % 100)

	)

191 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCC_VERSION
 % 10000)

	)

194 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCC_VERSION
/100000)

	)

195 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCC_VERSION
/10000 % 10)

	)

196 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCC_VERSION
 % 10000)

	)

200 #–ià
defšed
(
__şªg__
è&& defšed(
__­¶e_bud_v”siÚ__
)

201 
	#COMPILER_ID
 "AµËCÏng"

	)

202 #ià
defšed
(
_MSC_VER
)

203 
	#SIMULATE_ID
 "MSVC"

	)

205 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__şªg_majÜ__
)

	)

206 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__şªg_mšÜ__
)

	)

207 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__şªg_·tchËv–__
)

	)

208 #ià
defšed
(
_MSC_VER
)

210 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

211 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

213 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__­¶e_bud_v”siÚ__
)

	)

215 #–ià
defšed
(
__şªg__
è&& defšed(
__ARMCOMPILER_VERSION
)

216 
	#COMPILER_ID
 "ARMCÏng"

	)

217 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCOMPILER_VERSION
/1000000)

	)

218 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCOMPILER_VERSION
/10000 % 100)

	)

219 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCOMPILER_VERSION
 % 10000)

	)

220 
	#COMPILER_VERSION_INTERNAL
 
	`DEC
(
__ARMCOMPILER_VERSION
)

	)

222 #–ià
defšed
(
__şªg__
)

223 
	#COMPILER_ID
 "CÏng"

	)

224 #ià
defšed
(
_MSC_VER
)

225 
	#SIMULATE_ID
 "MSVC"

	)

227 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__şªg_majÜ__
)

	)

228 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__şªg_mšÜ__
)

	)

229 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__şªg_·tchËv–__
)

	)

230 #ià
defšed
(
_MSC_VER
)

232 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

233 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

236 #–ià
defšed
(
__GNUC__
è|| defšed(
__GNUG__
)

237 
	#COMPILER_ID
 "GNU"

	)

238 #ià
defšed
(
__GNUC__
)

239 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__GNUC__
)

	)

241 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__GNUG__
)

	)

243 #ià
defšed
(
__GNUC_MINOR__
)

244 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__GNUC_MINOR__
)

	)

246 #ià
defšed
(
__GNUC_PATCHLEVEL__
)

247 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__GNUC_PATCHLEVEL__
)

	)

250 #–ià
defšed
(
_MSC_VER
)

251 
	#COMPILER_ID
 "MSVC"

	)

253 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

254 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

255 #ià
defšed
(
_MSC_FULL_VER
)

256 #ià
_MSC_VER
 >= 1400

258 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_MSC_FULL_VER
 % 100000)

	)

261 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_MSC_FULL_VER
 % 10000)

	)

264 #ià
defšed
(
_MSC_BUILD
)

265 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
_MSC_BUILD
)

	)

268 #–ià
defšed
(
__VISUALDSPVERSION__
è|| defšed(
__ADSPBLACKFIN__
è|| defšed(
__ADSPTS__
è|| defšed(
__ADSP21000__
)

269 
	#COMPILER_ID
 "ADSP"

	)

270 #ià
defšed
(
__VISUALDSPVERSION__
)

272 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__VISUALDSPVERSION__
>>24)

	)

273 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__VISUALDSPVERSION__
>>16 & 0xFF)

	)

274 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__VISUALDSPVERSION__
>>8 & 0xFF)

	)

277 #–ià
defšed
(
__IAR_SYSTEMS_ICC__
è|| defšed(
__IAR_SYSTEMS_ICC
)

278 
	#COMPILER_ID
 "IAR"

	)

279 #ià
defšed
(
__VER__
è&& defšed(
__ICCARM__
)

280 
	#COMPILER_VERSION_MAJOR
 
	`DEC
((
__VER__
è/ 1000000)

	)

281 
	#COMPILER_VERSION_MINOR
 
	`DEC
(((
__VER__
è/ 1000è% 1000)

	)

282 
	#COMPILER_VERSION_PATCH
 
	`DEC
((
__VER__
è% 1000)

	)

283 
	#COMPILER_VERSION_INTERNAL
 
	`DEC
(
__IAR_SYSTEMS_ICC__
)

	)

284 #–ià
defšed
(
__VER__
è&& (defšed(
__ICCAVR__
è|| defšed(
__ICCRX__
è|| defšed(
__ICCRH850__
è|| defšed(
__ICCRL78__
è|| defšed(
__ICC430__
è|| defšed(
__ICCRISCV__
è|| defšed(
__ICCV850__
è|| defšed(
__ICC8051__
))

285 
	#COMPILER_VERSION_MAJOR
 
	`DEC
((
__VER__
è/ 100)

	)

286 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__VER__
è- (((__VER__è/ 100)*100))

	)

287 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__SUBVERSION__
)

	)

288 
	#COMPILER_VERSION_INTERNAL
 
	`DEC
(
__IAR_SYSTEMS_ICC__
)

	)

295 #–ià
defšed
(
__hpux
è|| defšed(
__hpua
)

296 
	#COMPILER_ID
 "HP"

	)

299 
	#COMPILER_ID
 ""

	)

306 cÚ¡* 
	gšfo_comp”
 = "INFO" ":" "comp”[" 
COMPILER_ID
 "]";

307 #ifdeà
SIMULATE_ID


308 cÚ¡* 
	gšfo_simuÏ‹
 = "INFO" ":" "simuÏ‹[" 
SIMULATE_ID
 "]";

311 #ifdeà
__QNXNTO__


312 cÚ¡* 
	gqnxÁo
 = "INFO" ":" "qnxnto[]";

315 #ià
defšed
(
__CRAYXE
è|| defšed(
__CRAYXC
)

316 cÚ¡ *
	gšfo_üay
 = "INFO" ":" "compiler_wrapper[CrayPrgEnv]";

319 
	#STRINGIFY_HELPER
(
X
è#X

	)

320 
	#STRINGIFY
(
X
è
	`STRINGIFY_HELPER
(X)

	)

323 #ià
defšed
(
__lšux
è|| defšed(
__lšux__
è|| defšed(
lšux
)

324 
	#PLATFORM_ID
 "Lšux"

	)

326 #–ià
defšed
(
__CYGWIN__
)

327 
	#PLATFORM_ID
 "Cygwš"

	)

329 #–ià
defšed
(
__MINGW32__
)

330 
	#PLATFORM_ID
 "MšGW"

	)

332 #–ià
defšed
(
__APPLE__
)

333 
	#PLATFORM_ID
 "D¬wš"

	)

335 #–ià
defšed
(
_WIN32
è|| defšed(
__WIN32__
è|| defšed(
WIN32
)

336 
	#PLATFORM_ID
 "Wšdows"

	)

338 #–ià
defšed
(
__F»eBSD__
è|| defšed(
__F»eBSD
)

339 
	#PLATFORM_ID
 "F»eBSD"

	)

341 #–ià
defšed
(
__N‘BSD__
è|| defšed(
__N‘BSD
)

342 
	#PLATFORM_ID
 "N‘BSD"

	)

344 #–ià
defšed
(
__O³nBSD__
è|| defšed(
__OPENBSD
)

345 
	#PLATFORM_ID
 "O³nBSD"

	)

347 #–ià
defšed
(
__sun
è|| defšed(
sun
)

348 
	#PLATFORM_ID
 "SunOS"

	)

350 #–ià
defšed
(
_AIX
è|| defšed(
__AIX
è|| defšed(
__AIX__
è|| defšed(
__aix
è|| defšed(
__aix__
)

351 
	#PLATFORM_ID
 "AIX"

	)

353 #–ià
defšed
(
__hpux
è|| defšed(
__hpux__
)

354 
	#PLATFORM_ID
 "HP-UX"

	)

356 #–ià
defšed
(
__HAIKU__
)

357 
	#PLATFORM_ID
 "Haiku"

	)

359 #–ià
defšed
(
__BeOS
è|| defšed(
__BEOS__
è|| defšed(
_BEOS
)

360 
	#PLATFORM_ID
 "BeOS"

	)

362 #–ià
defšed
(
__QNX__
è|| defšed(
__QNXNTO__
)

363 
	#PLATFORM_ID
 "QNX"

	)

365 #–ià
defšed
(
__Œu64
è|| defšed(
_Œu64
è|| defšed(
__TRU64__
)

366 
	#PLATFORM_ID
 "Tru64"

	)

368 #–ià
defšed
(
__riscos
è|| defšed(
__riscos__
)

369 
	#PLATFORM_ID
 "RISCos"

	)

371 #–ià
defšed
(
__sšix
è|| defšed(
__sšix__
è|| defšed(
__SINIX__
)

372 
	#PLATFORM_ID
 "SINIX"

	)

374 #–ià
defšed
(
__UNIX_SV__
)

375 
	#PLATFORM_ID
 "UNIX_SV"

	)

377 #–ià
defšed
(
__bsdos__
)

378 
	#PLATFORM_ID
 "BSDOS"

	)

380 #–ià
defšed
(
_MPRAS
è|| defšed(
MPRAS
)

381 
	#PLATFORM_ID
 "MP-RAS"

	)

383 #–ià
defšed
(
__osf
è|| defšed(
__osf__
)

384 
	#PLATFORM_ID
 "OSF1"

	)

386 #–ià
defšed
(
_SCO_SV
è|| defšed(
SCO_SV
è|| defšed(
sco_sv
)

387 
	#PLATFORM_ID
 "SCO_SV"

	)

389 #–ià
defšed
(
__uÉrix
è|| defšed(
__uÉrix__
è|| defšed(
_ULTRIX
)

390 
	#PLATFORM_ID
 "ULTRIX"

	)

392 #–ià
defšed
(
__XENIX__
è|| defšed(
_XENIX
è|| defšed(
XENIX
)

393 
	#PLATFORM_ID
 "X’ix"

	)

395 #–ià
defšed
(
__WATCOMC__
)

396 #ià
defšed
(
__LINUX__
)

397 
	#PLATFORM_ID
 "Lšux"

	)

399 #–ià
defšed
(
__DOS__
)

400 
	#PLATFORM_ID
 "DOS"

	)

402 #–ià
defšed
(
__OS2__
)

403 
	#PLATFORM_ID
 "OS2"

	)

405 #–ià
defšed
(
__WINDOWS__
)

406 
	#PLATFORM_ID
 "Wšdows3x"

	)

408 #–ià
defšed
(
__VXWORKS__
)

409 
	#PLATFORM_ID
 "VxWÜks"

	)

412 
	#PLATFORM_ID


	)

415 #–ià
defšed
(
__INTEGRITY
)

416 #ià
defšed
(
INT_178B
)

417 
	#PLATFORM_ID
 "IÁegr™y178"

	)

420 
	#PLATFORM_ID
 "IÁegr™y"

	)

424 
	#PLATFORM_ID


	)

433 #ià
defšed
(
_WIN32
è&& defšed(
_MSC_VER
)

434 #ià
defšed
(
_M_IA64
)

435 
	#ARCHITECTURE_ID
 "IA64"

	)

437 #–ià
defšed
(
_M_X64
è|| defšed(
_M_AMD64
)

438 
	#ARCHITECTURE_ID
 "x64"

	)

440 #–ià
defšed
(
_M_IX86
)

441 
	#ARCHITECTURE_ID
 "X86"

	)

443 #–ià
defšed
(
_M_ARM64
)

444 
	#ARCHITECTURE_ID
 "ARM64"

	)

446 #–ià
defšed
(
_M_ARM
)

447 #ià
_M_ARM
 == 4

448 
	#ARCHITECTURE_ID
 "ARMV4I"

	)

449 #–ià
_M_ARM
 == 5

450 
	#ARCHITECTURE_ID
 "ARMV5I"

	)

452 
	#ARCHITECTURE_ID
 "ARMV" 
	`STRINGIFY
(
_M_ARM
)

	)

455 #–ià
defšed
(
_M_MIPS
)

456 
	#ARCHITECTURE_ID
 "MIPS"

	)

458 #–ià
defšed
(
_M_SH
)

459 
	#ARCHITECTURE_ID
 "SHx"

	)

462 
	#ARCHITECTURE_ID
 ""

	)

465 #–ià
defšed
(
__WATCOMC__
)

466 #ià
defšed
(
_M_I86
)

467 
	#ARCHITECTURE_ID
 "I86"

	)

469 #–ià
defšed
(
_M_IX86
)

470 
	#ARCHITECTURE_ID
 "X86"

	)

473 
	#ARCHITECTURE_ID
 ""

	)

476 #–ià
defšed
(
__IAR_SYSTEMS_ICC__
è|| defšed(
__IAR_SYSTEMS_ICC
)

477 #ià
defšed
(
__ICCARM__
)

478 
	#ARCHITECTURE_ID
 "ARM"

	)

480 #–ià
defšed
(
__ICCRX__
)

481 
	#ARCHITECTURE_ID
 "RX"

	)

483 #–ià
defšed
(
__ICCRH850__
)

484 
	#ARCHITECTURE_ID
 "RH850"

	)

486 #–ià
defšed
(
__ICCRL78__
)

487 
	#ARCHITECTURE_ID
 "RL78"

	)

489 #–ià
defšed
(
__ICCRISCV__
)

490 
	#ARCHITECTURE_ID
 "RISCV"

	)

492 #–ià
defšed
(
__ICCAVR__
)

493 
	#ARCHITECTURE_ID
 "AVR"

	)

495 #–ià
defšed
(
__ICC430__
)

496 
	#ARCHITECTURE_ID
 "MSP430"

	)

498 #–ià
defšed
(
__ICCV850__
)

499 
	#ARCHITECTURE_ID
 "V850"

	)

501 #–ià
defšed
(
__ICC8051__
)

502 
	#ARCHITECTURE_ID
 "8051"

	)

505 
	#ARCHITECTURE_ID
 ""

	)

508 #–ià
defšed
(
__ghs__
)

509 #ià
defšed
(
__PPC64__
)

510 
	#ARCHITECTURE_ID
 "PPC64"

	)

512 #–ià
defšed
(
__µc__
)

513 
	#ARCHITECTURE_ID
 "PPC"

	)

515 #–ià
defšed
(
__ARM__
)

516 
	#ARCHITECTURE_ID
 "ARM"

	)

518 #–ià
defšed
(
__x86_64__
)

519 
	#ARCHITECTURE_ID
 "x64"

	)

521 #–ià
defšed
(
__i386__
)

522 
	#ARCHITECTURE_ID
 "X86"

	)

525 
	#ARCHITECTURE_ID
 ""

	)

528 
	#ARCHITECTURE_ID


	)

532 
	#DEC
(
n
) \

533 ('0' + (((
n
) / 10000000)%10)), \

534 ('0' + (((
n
) / 1000000)%10)), \

535 ('0' + (((
n
) / 100000)%10)), \

536 ('0' + (((
n
) / 10000)%10)), \

537 ('0' + (((
n
) / 1000)%10)), \

538 ('0' + (((
n
) / 100)%10)), \

539 ('0' + (((
n
) / 10)%10)), \

540 ('0' + ((
n
è% 10))

	)

543 
	#HEX
(
n
) \

544 ('0' + ((
n
)>>28 & 0xF)), \

545 ('0' + ((
n
)>>24 & 0xF)), \

546 ('0' + ((
n
)>>20 & 0xF)), \

547 ('0' + ((
n
)>>16 & 0xF)), \

548 ('0' + ((
n
)>>12 & 0xF)), \

549 ('0' + ((
n
)>>8 & 0xF)), \

550 ('0' + ((
n
)>>4 & 0xF)), \

551 ('0' + ((
n
è& 0xF))

	)

554 #ifdeà
COMPILER_VERSION_MAJOR


555 cÚ¡ 
	gšfo_v”siÚ
[] = {

558 
COMPILER_VERSION_MAJOR
,

559 #ifdeà
COMPILER_VERSION_MINOR


560 '.', 
COMPILER_VERSION_MINOR
,

561 #ifdeà
COMPILER_VERSION_PATCH


562 '.', 
COMPILER_VERSION_PATCH
,

563 #ifdeà
COMPILER_VERSION_TWEAK


564 '.', 
COMPILER_VERSION_TWEAK
,

572 #ifdeà
COMPILER_VERSION_INTERNAL


573 cÚ¡ 
	gšfo_v”siÚ_š‹º®
[] = {

577 
COMPILER_VERSION_INTERNAL
,']','\0'};

581 #ifdeà
SIMULATE_VERSION_MAJOR


582 cÚ¡ 
	gšfo_simuÏ‹_v”siÚ
[] = {

585 
SIMULATE_VERSION_MAJOR
,

586 #ifdeà
SIMULATE_VERSION_MINOR


587 '.', 
SIMULATE_VERSION_MINOR
,

588 #ifdeà
SIMULATE_VERSION_PATCH


589 '.', 
SIMULATE_VERSION_PATCH
,

590 #ifdeà
SIMULATE_VERSION_TWEAK


591 '.', 
SIMULATE_VERSION_TWEAK
,

602 cÚ¡* 
	gšfo_¶©fÜm
 = "INFO" ":" "¶©fÜm[" 
PLATFORM_ID
 "]";

603 cÚ¡* 
	gšfo_¬ch
 = "INFO" ":" "¬ch[" 
ARCHITECTURE_ID
 "]";

608 #ià
defšed
(
__INTEL_COMPILER
è&& defšed(
_MSVC_LANG
) && _MSVC_LANG < 201403L

609 #ià
defšed
(
__INTEL_CXX11_MODE__
)

610 #ià
defšed
(
__ıp_agg»g©e_nsdmi
)

611 
	#CXX_STD
 201402L

	)

613 
	#CXX_STD
 201103L

	)

616 
	#CXX_STD
 199711L

	)

618 #–ià
defšed
(
_MSC_VER
è&& defšed(
_MSVC_LANG
)

619 
	#CXX_STD
 
_MSVC_LANG


	)

621 
	#CXX_STD
 
__ılu¥lus


	)

624 cÚ¡ * 
	gšfo_Ïnguage_dŸËù_deçuÉ
 = "INFO" ":" "dialect_default["

625 #ià
CXX_STD
 > 201703L

627 #–ià
CXX_STD
 >= 201703L

629 #–ià
CXX_STD
 >= 201402L

631 #–ià
CXX_STD
 >= 201103L

640 
	$maš
(
¬gc
, * 
¬gv
[])

642 
»quœe
 = 0;

643 
»quœe
 +ğ
šfo_comp”
[
¬gc
];

644 
»quœe
 +ğ
šfo_¶©fÜm
[
¬gc
];

645 #ifdeà
COMPILER_VERSION_MAJOR


646 
»quœe
 +ğ
šfo_v”siÚ
[
¬gc
];

648 #ifdeà
COMPILER_VERSION_INTERNAL


649 
»quœe
 +ğ
šfo_v”siÚ_š‹º®
[
¬gc
];

651 #ifdeà
SIMULATE_ID


652 
»quœe
 +ğ
šfo_simuÏ‹
[
¬gc
];

654 #ifdeà
SIMULATE_VERSION_MAJOR


655 
»quœe
 +ğ
šfo_simuÏ‹_v”siÚ
[
¬gc
];

657 #ià
	`defšed
(
__CRAYXE
è|| defšed(
__CRAYXC
)

658 
»quœe
 +ğ
šfo_üay
[
¬gc
];

660 
»quœe
 +ğ
šfo_Ïnguage_dŸËù_deçuÉ
[
¬gc
];

661 ()
¬gv
;

662  
»quœe
;

663 
	}
}

	@snappy/build/CMakeFiles/CheckTypeSize/CMAKE_SIZEOF_UNSIGNED_SHORT.c

1 
	~<sys/ty³s.h
>

2 
	~<¡dšt.h
>

3 
	~<¡ddef.h
>

6 #undeà
KEY


7 #ià
defšed
(
__i386
)

8 
	#KEY
 '_','_','i','3','8','6'

	)

9 #–ià
defšed
(
__x86_64
)

10 
	#KEY
 '_','_','x','8','6','_','6','4'

	)

11 #–ià
defšed
(
__PPC64__
)

12 
	#KEY
 '_','_','P','P','C','6','4','_','_'

	)

13 #–ià
defšed
(
__µc64__
)

14 
	#KEY
 '_','_','p','p','c','6','4','_','_'

	)

15 #–ià
defšed
(
__PPC__
)

16 
	#KEY
 '_','_','P','P','C','_','_'

	)

17 #–ià
defšed
(
__µc__
)

18 
	#KEY
 '_','_','p','p','c','_','_'

	)

19 #–ià
defšed
(
__¯rch64__
)

20 
	#KEY
 '_','_','a','a','r','c','h','6','4','_','_'

	)

21 #–ià
defšed
(
__ARM_ARCH_7A__
)

22 
	#KEY
 '_','_','A','R','M','_','A','R','C','H','_','7','A','_','_'

	)

23 #–ià
defšed
(
__ARM_ARCH_7S__
)

24 
	#KEY
 '_','_','A','R','M','_','A','R','C','H','_','7','S','_','_'

	)

27 
	#SIZE
 (())

	)

28 
	gšfo_size
[] = {'I', 'N', 'F', 'O', ':', 's','i','z','e','[',

29 ('0' + ((
SIZE
 / 10000)%10)),

30 ('0' + ((
SIZE
 / 1000)%10)),

31 ('0' + ((
SIZE
 / 100)%10)),

32 ('0' + ((
SIZE
 / 10)%10)),

33 ('0' + (
SIZE
 % 10)),

35 #ifdeà
KEY


36 ' ','k','e','y','[', 
KEY
, ']',

40 #ifdeà
__CLASSIC_C__


41 
	$maš
(
¬gc
, 
¬gv
) argc; *argv[];

43 
	$maš
(
¬gc
, *
¬gv
[])

46 
»quœe
 = 0;

47 
»quœe
 +ğ
šfo_size
[
¬gc
];

48 ()
¬gv
;

49  
»quœe
;

50 
	}
}

	@snappy/build/config.h

1 #iâdeà
THIRD_PARTY_SNAPPY_OPENSOURCE_CMAKE_CONFIG_H_


2 
	#THIRD_PARTY_SNAPPY_OPENSOURCE_CMAKE_CONFIG_H_


	)

11 
	#HAVE_BYTESWAP_H
 1

	)

14 
	#HAVE_FUNC_MMAP
 1

	)

17 
	#HAVE_FUNC_SYSCONF
 1

	)

35 
	#HAVE_SYS_MMAN_H
 1

	)

38 
	#HAVE_SYS_RESOURCE_H
 1

	)

41 
	#HAVE_SYS_TIME_H
 1

	)

44 
	#HAVE_SYS_UIO_H
 1

	)

47 
	#HAVE_UNISTD_H
 1

	)

53 
	#SNAPPY_HAVE_SSSE3
 0

	)

56 
	#SNAPPY_HAVE_BMI2
 0

	)

	@snappy/build/snappy-stubs-public.h

35 #iâdeà
THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_STUBS_PUBLIC_H_


36 
	#THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_STUBS_PUBLIC_H_


	)

38 
	~<c¡ddef
>

39 
	~<c¡dšt
>

40 
	~<¡ršg
>

43 
	~<sys/uio.h
>

46 
	#SNAPPY_MAJOR
 1

	)

47 
	#SNAPPY_MINOR
 1

	)

48 
	#SNAPPY_PATCHLEVEL
 8

	)

49 
	#SNAPPY_VERSION
 \

50 ((
SNAPPY_MAJOR
 << 16è| (
SNAPPY_MINOR
 << 8è| 
SNAPPY_PATCHLEVEL
)

	)

52 
Çme¥aû
 
	g¢­py
 {

54 
usšg
 
	gšt8
 = 
¡d
::
št8_t
;

55 
usšg
 
	gušt8
 = 
¡d
::
ušt8_t
;

56 
usšg
 
	gšt16
 = 
¡d
::
št16_t
;

57 
usšg
 
	gušt16
 = 
¡d
::
ušt16_t
;

58 
usšg
 
	gšt32
 = 
¡d
::
št32_t
;

59 
usšg
 
	gušt32
 = 
¡d
::
ušt32_t
;

60 
usšg
 
	gšt64
 = 
¡d
::
št64_t
;

61 
usšg
 
	gušt64
 = 
¡d
::
ušt64_t
;

66 
	siovec
 {

67 * 
	giov_ba£
;

68 
size_t
 
	giov_Ën
;

	@snappy/snappy-c.cc

29 
	~"¢­py.h
"

30 
	~"¢­py-c.h
"

34 
¢­py_¡©us
 
¢­py_com´ess
(cÚ¡ * 
šput
,

35 
size_t
 
šput_Ëngth
,

36 * 
com´es£d
,

37 
size_t
 *
com´es£d_Ëngth
) {

38 ià(*
com´es£d_Ëngth
 < 
¢­py_max_com´es£d_Ëngth
(
šput_Ëngth
)) {

39  
SNAPPY_BUFFER_TOO_SMALL
;

41 
¢­py
::
RawCom´ess
(
šput
, 
šput_Ëngth
, 
com´es£d
, 
com´es£d_Ëngth
);

42  
SNAPPY_OK
;

45 
¢­py_¡©us
 
¢­py_uncom´ess
(cÚ¡ * 
com´es£d
,

46 
size_t
 
com´es£d_Ëngth
,

47 * 
uncom´es£d
,

48 
size_t
* 
uncom´es£d_Ëngth
) {

49 
size_t
 
»®_uncom´es£d_Ëngth
;

50 ià(!
¢­py
::
G‘Uncom´es£dL’gth
(
com´es£d
,

51 
com´es£d_Ëngth
,

52 &
»®_uncom´es£d_Ëngth
)) {

53  
SNAPPY_INVALID_INPUT
;

55 ià(*
uncom´es£d_Ëngth
 < 
»®_uncom´es£d_Ëngth
) {

56  
SNAPPY_BUFFER_TOO_SMALL
;

58 ià(!
¢­py
::
RawUncom´ess
(
com´es£d
, 
com´es£d_Ëngth
, 
uncom´es£d
)) {

59  
SNAPPY_INVALID_INPUT
;

61 *
uncom´es£d_Ëngth
 = 
»®_uncom´es£d_Ëngth
;

62  
SNAPPY_OK
;

65 
size_t
 
¢­py_max_com´es£d_Ëngth
(size_ˆ
sourû_Ëngth
) {

66  
¢­py
::
MaxCom´es£dL’gth
(
sourû_Ëngth
);

69 
¢­py_¡©us
 
¢­py_uncom´es£d_Ëngth
(cÚ¡ *
com´es£d
,

70 
size_t
 
com´es£d_Ëngth
,

71 
size_t
 *
»suÉ
) {

72 ià(
¢­py
::
G‘Uncom´es£dL’gth
(
com´es£d
,

73 
com´es£d_Ëngth
,

74 
»suÉ
)) {

75  
SNAPPY_OK
;

77  
SNAPPY_INVALID_INPUT
;

81 
¢­py_¡©us
 
¢­py_v®id©e_com´es£d_bufãr
(cÚ¡ *
com´es£d
,

82 
size_t
 
com´es£d_Ëngth
) {

83 ià(
¢­py
::
IsV®idCom´es£dBufãr
(
com´es£d
, 
com´es£d_Ëngth
)) {

84  
SNAPPY_OK
;

86  
SNAPPY_INVALID_INPUT
;

	@snappy/snappy-c.h

33 #iâdeà
THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_C_H_


34 
	#THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_C_H_


	)

36 #ifdeà
__ılu¥lus


40 
	~<¡ddef.h
>

47 
SNAPPY_OK
 = 0,

48 
SNAPPY_INVALID_INPUT
 = 1,

49 
SNAPPY_BUFFER_TOO_SMALL
 = 2

50 } 
	t¢­py_¡©us
;

71 
¢­py_¡©us
 
¢­py_com´ess
(cÚ¡ * 
šput
,

72 
size_t
 
šput_Ëngth
,

73 * 
com´es£d
,

74 
size_t
* 
com´es£d_Ëngth
);

103 
¢­py_¡©us
 
¢­py_uncom´ess
(cÚ¡ * 
com´es£d
,

104 
size_t
 
com´es£d_Ëngth
,

105 * 
uncom´es£d
,

106 
size_t
* 
uncom´es£d_Ëngth
);

112 
size_t
 
¢­py_max_com´es£d_Ëngth
(size_ˆ
sourû_Ëngth
);

120 
¢­py_¡©us
 
¢­py_uncom´es£d_Ëngth
(cÚ¡ * 
com´es£d
,

121 
size_t
 
com´es£d_Ëngth
,

122 
size_t
* 
»suÉ
);

131 
¢­py_¡©us
 
¢­py_v®id©e_com´es£d_bufãr
(cÚ¡ * 
com´es£d
,

132 
size_t
 
com´es£d_Ëngth
);

134 #ifdeà
__ılu¥lus


	@snappy/snappy-internal.h

31 #iâdeà
THIRD_PARTY_SNAPPY_SNAPPY_INTERNAL_H_


32 
	#THIRD_PARTY_SNAPPY_SNAPPY_INTERNAL_H_


	)

34 
	~"¢­py-¡ubs-š‹º®.h
"

36 
Çme¥aû
 
	g¢­py
 {

37 
Çme¥aû
 
	gš‹º®
 {

41 şas 
	cWÜkšgMemÜy
 {

42 
	gpublic
:

43 
ex¶ic™
 
WÜkšgMemÜy
(
size_t
 
šput_size
);

44 ~
WÜkšgMemÜy
();

49 
ušt16
* 
G‘HashTabË
(
size_t
 
äagm’t_size
, * 
bË_size
) const;

50 * 
G‘Sü©chIÅut
(ècÚ¡ {  
	gšput_
; }

51 * 
G‘Sü©chOuut
(ècÚ¡ {  
	gouut_
; }

53 
	g´iv©e
:

54 * 
mem_
;

55 
size_t
 
	gsize_
;

56 
ušt16
* 
	gbË_
;

57 * 
	gšput_
;

58 * 
	gouut_
;

61 
WÜkšgMemÜy
(const WorkingMemory&);

62 
	gİ”©Ü
=(cÚ¡ 
WÜkšgMemÜy
&);

76 * 
Com´essF¿gm’t
(cÚ¡ * 
šput
,

77 
size_t
 
šput_Ëngth
,

78 * 
İ
,

79 
ušt16
* 
bË
,

80 cÚ¡ 
bË_size
);

93 #ià!
defšed
(
SNAPPY_IS_BIG_ENDIAN
) && \

94 (
defšed
(
ARCH_K8
è|| defšed(
ARCH_PPC
è|| defšed(
ARCH_ARM
))

95 
šlše
 
	g¡d
::
·œ
<
size_t
, 
	gboŞ
> 
FšdM©chL’gth
(cÚ¡ * 
s1
,

96 cÚ¡ * 
s2
,

97 cÚ¡ * 
s2_lim™
) {

98 
as£¹
(
s2_lim™
 >ğ
s2
);

99 
size_t
 
	gm©ched
 = 0;

106 ià(
SNAPPY_PREDICT_TRUE
(
s2
 <ğ
s2_lim™
 - 8)) {

107 
ušt64
 
a1
 = 
UNALIGNED_LOAD64
(
s1
);

108 
ušt64
 
	ga2
 = 
UNALIGNED_LOAD64
(
s2
);

109 ià(
	ga1
 !ğ
a2
) {

110  
¡d
::
·œ
<
size_t
, 
boŞ
>(
B™s
::
FšdLSBS‘NÚZ”o64
(
a1
 ^ 
a2
) >> 3,

111 
Œue
);

113 
	gm©ched
 = 8;

114 
	gs2
 += 8;

122 
SNAPPY_PREDICT_TRUE
(
s2
 <ğ
s2_lim™
 - 8)) {

123 ià(
UNALIGNED_LOAD64
(
s2
è=ğUNALIGNED_LOAD64(
s1
 + 
m©ched
)) {

124 
s2
 += 8;

125 
	gm©ched
 += 8;

127 
ušt64
 
	gx
 = 
UNALIGNED_LOAD64
(
s2
è^ UNALIGNED_LOAD64(
s1
 + 
m©ched
);

128 
	gm©chšg_b™s
 = 
B™s
::
FšdLSBS‘NÚZ”o64
(
x
);

129 
	gm©ched
 +ğ
m©chšg_b™s
 >> 3;

130 
as£¹
(
m©ched
 >= 8);

131  
	g¡d
::
·œ
<
size_t
, 
	gboŞ
>(
	gm©ched
, 
	gçl£
);

134 
SNAPPY_PREDICT_TRUE
(
s2
 < 
s2_lim™
)) {

135 ià(
	gs1
[
m©ched
] =ğ*
s2
) {

136 ++
s2
;

137 ++
	gm©ched
;

139  
	g¡d
::
·œ
<
size_t
, 
	gboŞ
>(
	gm©ched
, matched < 8);

142  
	g¡d
::
·œ
<
size_t
, 
	gboŞ
>(
	gm©ched
, matched < 8);

145 
šlše
 
	g¡d
::
·œ
<
size_t
, 
	gboŞ
> 
FšdM©chL’gth
(cÚ¡ * 
s1
,

146 cÚ¡ * 
s2
,

147 cÚ¡ * 
s2_lim™
) {

149 
as£¹
(
s2_lim™
 >ğ
s2
);

150 
	gm©ched
 = 0;

152 
	gs2
 <ğ
s2_lim™
 - 4 &&

153 
UNALIGNED_LOAD32
(
s2
è=ğUNALIGNED_LOAD32(
s1
 + 
m©ched
)) {

154 
s2
 += 4;

155 
	gm©ched
 += 4;

157 ià(
	gL™eEndŸn
::
IsL™eEndŸn
(è&& 
s2
 <ğ
s2_lim™
 - 4) {

158 
ušt32
 
x
 = 
UNALIGNED_LOAD32
(
s2
è^ UNALIGNED_LOAD32(
s1
 + 
m©ched
);

159 
	gm©chšg_b™s
 = 
B™s
::
FšdLSBS‘NÚZ”o
(
x
);

160 
	gm©ched
 +ğ
m©chšg_b™s
 >> 3;

162 (
	gs2
 < 
	gs2_lim™
è&& (
	gs1
[
m©ched
] =ğ*
s2
)) {

163 ++
s2
;

164 ++
	gm©ched
;

167  
	g¡d
::
·œ
<
size_t
, 
	gboŞ
>(
	gm©ched
, matched < 8);

175 
	gLITERAL
 = 0,

176 
	gCOPY_1_BYTE_OFFSET
 = 1,

177 
	gCOPY_2_BYTE_OFFSET
 = 2,

178 
	gCOPY_4_BYTE_OFFSET
 = 3

180 cÚ¡ 
	gkMaximumTagL’gth
 = 5;

193 cÚ¡ 
ušt16
 
	gch¬_bË
[256] = {

	@snappy/snappy-sinksource.cc

29 
	~<¡ršg.h
>

31 
	~"¢­py-sšksourû.h
"

33 
Çme¥aû
 
	g¢­py
 {

35 
	gSourû
::~
Sourû
() { }

37 
Sšk
::~Sink() { }

39 * 
Sšk
::
G‘Aµ’dBufãr
(
size_t
 
Ëngth
, * 
sü©ch
) {

40  
	gsü©ch
;

43 * 
	gSšk
::
G‘Aµ’dBufãrV¬ŸbË
(

44 
size_t
 
mš_size
, size_ˆ
desœed_size_hšt
, * 
sü©ch
,

45 
size_t
 
sü©ch_size
, size_t* 
®loÿ‹d_size
) {

46 *
	g®loÿ‹d_size
 = 
sü©ch_size
;

47  
	gsü©ch
;

50 
	gSšk
::
Aµ’dAndTakeOwÃrsh
(

51 * 
by‹s
, 
size_t
 
n
,

52 (*
d–‘”
)(*, cÚ¡ *, 
size_t
),

53 *
d–‘”_¬g
) {

54 
Aµ’d
(
by‹s
, 
n
);

55 (*
	gd–‘”
)(
	gd–‘”_¬g
, 
	gby‹s
, 
	gn
);

58 
	gBy‹A¼aySourû
::~
By‹A¼aySourû
() { }

60 
size_t
 
By‹A¼aySourû
::
AvaabË
(ècÚ¡ {  
Ëá_
; }

62 cÚ¡ * 
	gBy‹A¼aySourû
::
P“k
(
size_t
* 
Ën
) {

63 *
Ën
 = 
Ëá_
;

64  
	g±r_
;

67 
	gBy‹A¼aySourû
::
Sk
(
size_t
 
n
) {

68 
Ëá_
 -ğ
n
;

69 
	g±r_
 +ğ
n
;

72 
	gBy‹A¼aySourû
::
Re£t
() {

73 
±r_
 = 
Üig_±r_
;

74 
	gËá_
 = 
Üig_Ëá_
;

78 
	gUncheckedBy‹A¼aySšk
::~
UncheckedBy‹A¼aySšk
() { }

80 
UncheckedBy‹A¼aySšk
::
Aµ’d
(cÚ¡ * 
d©a
, 
size_t
 
n
) {

82 ià(
	gd©a
 !ğ
de¡_
) {

83 
memıy
(
de¡_
, 
d©a
, 
n
);

85 
	gde¡_
 +ğ
n
;

88 * 
	gUncheckedBy‹A¼aySšk
::
G‘Aµ’dBufãr
(
size_t
 
Ën
, * 
sü©ch
) {

89  
	gde¡_
;

92 
	gUncheckedBy‹A¼aySšk
::
Aµ’dAndTakeOwÃrsh
(

93 * 
d©a
, 
size_t
 
n
,

94 (*
d–‘”
)(*, cÚ¡ *, 
size_t
),

95 *
d–‘”_¬g
) {

96 ià(
	gd©a
 !ğ
de¡_
) {

97 
memıy
(
de¡_
, 
d©a
, 
n
);

98 (*
	gd–‘”
)(
	gd–‘”_¬g
, 
	gd©a
, 
	gn
);

100 
	gde¡_
 +ğ
n
;

103 * 
	gUncheckedBy‹A¼aySšk
::
G‘Aµ’dBufãrV¬ŸbË
(

104 
size_t
 
mš_size
, size_ˆ
desœed_size_hšt
, * 
sü©ch
,

105 
size_t
 
sü©ch_size
, size_t* 
®loÿ‹d_size
) {

106 *
	g®loÿ‹d_size
 = 
desœed_size_hšt
;

107  
	gde¡_
;

	@snappy/snappy-sinksource.h

29 #iâdeà
THIRD_PARTY_SNAPPY_SNAPPY_SINKSOURCE_H_


30 
	#THIRD_PARTY_SNAPPY_SNAPPY_SINKSOURCE_H_


	)

32 
	~"¬¿y.hµ
"

33 
	~"d”ef_scİe.hµ
"

35 
	~<c¡dšt
>

36 
	~<memÜy
>

37 
	~<¡ddef.h
>

39 
usšg
 
Çme¥aû
 
	gçr_memÜy
;

41 
Çme¥aû
 
	g¢­py
 {

44 şas 
	cSšk
 {

45 
	gpublic
:

46 
Sšk
() {}

47 
vœtu®
 ~
Sšk
();

50 
vœtu®
 
Aµ’d
(cÚ¡ *
by‹s
, 
size_t
 
n
) = 0;

67 
vœtu®
 *
G‘Aµ’dBufãr
(
size_t
 
Ëngth
, *
sü©ch
);

80 
vœtu®
 
Aµ’dAndTakeOwÃrsh
(*
by‹s
, 
size_t
 
n
,

81 (*
d–‘”
)(*, const *,

82 
size_t
),

83 *
d–‘”_¬g
);

108 
vœtu®
 *
G‘Aµ’dBufãrV¬ŸbË
(
size_t
 
mš_size
,

109 
size_t
 
desœed_size_hšt
, *
sü©ch
,

110 
size_t
 
sü©ch_size
,

111 
size_t
 *
®loÿ‹d_size
);

113 
	g´iv©e
:

115 
Sšk
(const Sink &);

116 
	gİ”©Ü
=(cÚ¡ 
Sšk
 &);

120 şas 
	cSourû
 {

121 
	gpublic
:

122 
Sourû
() {}

123 
vœtu®
 ~
Sourû
();

126 
vœtu®
 
size_t
 
AvaabË
() const = 0;

141 
vœtu®
 cÚ¡ *
P“k
(
size_t
 *
Ën
) = 0;

146 
vœtu®
 
Sk
(
size_t
 
n
) = 0;

148 
vœtu®
 
Re£t
() {  -1; }

150 
	g´iv©e
:

152 
Sourû
(const Source &);

153 
	gİ”©Ü
=(cÚ¡ 
Sourû
 &);

156 
	sFeBlock
 {

157 
cÚ¡ex´
 
ušt32_t
 
	gkSize
 = 32768;

158 
ušt8_t
 
	gd©a
[
kSize
];

161 
	g‹m¶©e
 <
ušt64_t
 
	gkNumBlocks
, 
boŞ
 
	gTpAPI
>

162 şas 
	cF¬MemA¼aySourû
 : 
public
 
Sourû
 {

163 
public
:

164 
F¬MemA¼aySourû
(cÚ¡ 
ušt64_t
 
kIÅutL’
,

165 
A¼ay
<
FeBlock
, 
kNumBlocks
> *
fm_¬¿y_±r
)

166 : 
kIÅutL’_
(
kIÅutL’
), 
fm_¬¿y_±r_
(
fm_¬¿y_±r
) {}

167 ~
F¬MemA¼aySourû
() {}

168 
size_t
 
AvaabË
() const;

169 cÚ¡ *
P“k
(
size_t
 *
Ën
);

170 
Sk
(
size_t
 
n
);

171 
Re£t
();

173 
	g´iv©e
:

174 cÚ¡ 
ušt64_t
 
kIÅutL’_
;

175 
	gA¼ay
<
	gFeBlock
, 
	gkNumBlocks
> *
	gfm_¬¿y_±r_
;

176 
ušt64_t
 
	gidx_
 = 0;

177 
FeBlock
 
	gblock_
;

181 şas 
	cBy‹A¼aySourû
 : 
public
 
Sourû
 {

182 
public
:

183 
By‹A¼aySourû
(cÚ¡ *
p
, 
size_t
 
n
)

184 : 
±r_
(
p
), 
Ëá_
(
n
), 
Üig_±r_
Õ), 
Üig_Ëá_
(n) {}

185 
	gvœtu®
 ~
By‹A¼aySourû
();

186 
vœtu®
 
size_t
 
AvaabË
() const;

187 
vœtu®
 cÚ¡ *
P“k
(
size_t
 *
Ën
);

188 
vœtu®
 
Sk
(
size_t
 
n
);

189 
vœtu®
 
Re£t
();

191 
	g´iv©e
:

192 cÚ¡ *
±r_
;

193 
size_t
 
	gËá_
;

194 cÚ¡ *
	gÜig_±r_
;

195 
size_t
 
	gÜig_Ëá_
;

199 şas 
	cUncheckedBy‹A¼aySšk
 : 
public
 
Sšk
 {

200 
public
:

201 
ex¶ic™
 
UncheckedBy‹A¼aySšk
(*
de¡
è: 
de¡_
(dest) {}

202 
vœtu®
 ~
UncheckedBy‹A¼aySšk
();

203 
vœtu®
 
Aµ’d
(cÚ¡ *
d©a
, 
size_t
 
n
);

204 
vœtu®
 *
G‘Aµ’dBufãr
(
size_t
 
Ën
, *
sü©ch
);

205 
vœtu®
 *
G‘Aµ’dBufãrV¬ŸbË
(
size_t
 
mš_size
,

206 
size_t
 
desœed_size_hšt
, *
sü©ch
,

207 
size_t
 
sü©ch_size
,

208 
size_t
 *
®loÿ‹d_size
);

209 
vœtu®
 
Aµ’dAndTakeOwÃrsh
(*
by‹s
, 
size_t
 
n
,

210 (*
d–‘”
)(*, const *,

211 
size_t
),

212 *
d–‘”_¬g
);

217 *
Cu¼’tDe¡š©iÚ
(ècÚ¡ {  
	gde¡_
; }

219 
	g´iv©e
:

220 *
de¡_
;

223 
	g‹m¶©e
 <
ušt64_t
 
	gkNumBlocks
, 
boŞ
 
	gTpAPI
>

224 
size_t
 
	gF¬MemA¼aySourû
<
	gkNumBlocks
, 
	gTpAPI
>::
	$AvaabË
() const {

225  
kIÅutL’_
 - 
idx_
;

226 
	}
}

228 
	g‹m¶©e
 <
ušt64_t
 
	gkNumBlocks
, 
boŞ
 
	gTpAPI
>

229 cÚ¡ *
	gF¬MemA¼aySourû
<
	gkNumBlocks
, 
	gTpAPI
>::
	$P“k
(
size_t
 *
Ën
) {

230 autØ
block_id
 = 
idx_
 / 
FeBlock
::
kSize
;

231 autØ
block_off£t
 = 
idx_
 % 
FeBlock
::
kSize
;

232 *
block_±r
;

233 
	`cÚ¡ex´
 (
TpAPI
) {

234 
block_
 = 
fm_¬¿y_±r_
->
	`»ad
(
block_id
);

235 
block_±r
 = (*)(&
block_
);

237 
D”efScİe
 
scİe
;

238 autØ&
block
 = 
fm_¬¿y_±r_
->
	`©
(
scİe
, 
block_id
);

239 
block_±r
 = (*)(&
block
);

241 *
Ën
 = 
¡d
::
	`mš
(
	`AvaabË
(), 
FeBlock
::
kSize
 - 
block_off£t
);

242  
block_±r
 + 
block_off£t
;

243 
	}
}

245 
	g‹m¶©e
 <
ušt64_t
 
	gkNumBlocks
, 
boŞ
 
	gTpAPI
>

246 
	gF¬MemA¼aySourû
<
	gkNumBlocks
, 
	gTpAPI
>::
	$Sk
(
size_t
 
n
) {

247 
idx_
 +ğ
n
;

248 
	}
}

250 
	g‹m¶©e
 <
ušt64_t
 
	gkNumBlocks
, 
boŞ
 
	gTpAPI
>

251 
	gF¬MemA¼aySourû
<
	gkNumBlocks
, 
	gTpAPI
>::
	$Re£t
() {

252 
idx_
 = 0;

254 
	}
}

	@snappy/snappy-stubs-internal.cc

29 
	~<®gÜ™hm
>

30 
	~<¡ršg
>

32 
	~"¢­py-¡ubs-š‹º®.h
"

34 
Çme¥aû
 
	g¢­py
 {

36 
	gV¬št
::
Aµ’d32
(
¡d
::
¡ršg
* 
s
, 
ušt32
 
v®ue
) {

37 
	gbuf
[
V¬št
::
kMax32
];

38 cÚ¡ * 
	gp
 = 
V¬št
::
Encode32
(
buf
, 
v®ue
);

39 
	gs
->
­³nd
(
buf
, 
p
 - buf);

	@snappy/snappy-stubs-internal.h

31 #iâdeà
THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_STUBS_INTERNAL_H_


32 
	#THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_STUBS_INTERNAL_H_


	)

34 #ifdeà
HAVE_CONFIG_H


35 
	~"cÚfig.h
"

38 
	~<¡ršg
>

40 
	~<as£¹.h
>

41 
	~<¡dlib.h
>

42 
	~<¡ršg.h
>

44 #ifdeà
HAVE_SYS_MMAN_H


45 
	~<sys/mmª.h
>

48 #ifdeà
HAVE_UNISTD_H


49 
	~<uni¡d.h
>

52 #ià
defšed
(
_MSC_VER
)

53 
	~<šŒš.h
>

56 #iâdeà
__has_ã©u»


57 
	#__has_ã©u»
(
x
è0

	)

60 #ià
__has_ã©u»
(
memÜy_§n™iz”
)

61 
	~<§n™iz”/m§n_š‹rçû.h
>

62 
	#SNAPPY_ANNOTATE_MEMORY_IS_INITIALIZED
(
add»ss
, 
size
) \

63 
	`__m§n_uÅoisÚ
((
add»ss
), (
size
))

	)

65 
	#SNAPPY_ANNOTATE_MEMORY_IS_INITIALIZED
(
add»ss
, 
size
è

	)

68 
	~"¢­py-¡ubs-public.h
"

70 #ià
defšed
(
__x86_64__
)

73 
	#ARCH_K8
 1

	)

75 #–ià
defšed
(
__µc64__
)

77 
	#ARCH_PPC
 1

	)

79 #–ià
defšed
(
__¯rch64__
)

81 
	#ARCH_ARM
 1

	)

86 #iâdeà
MAP_ANONYMOUS


87 
	#MAP_ANONYMOUS
 
MAP_ANON


	)

93 #ifdeà
ARRAYSIZE


94 #undeà
ARRAYSIZE


96 
	#ARRAYSIZE
(
a
è(×è/ (*×)))

	)

99 #ifdeà
HAVE_BUILTIN_EXPECT


100 
	#SNAPPY_PREDICT_FALSE
(
x
è(
	`__butš_ex³ù
(x, 0))

	)

101 
	#SNAPPY_PREDICT_TRUE
(
x
è(
	`__butš_ex³ù
(!!(x), 1))

	)

103 
	#SNAPPY_PREDICT_FALSE
(
x
è
	)
x

104 
	#SNAPPY_PREDICT_TRUE
(
x
è
	)
x

111 
	#DEFINE_boŞ
(
æag_Çme
, 
deçuÉ_v®ue
, 
desütiÚ
) \

112 
boŞ
 
FLAGS_
 ## 
æag_Çme
 = 
deçuÉ_v®ue


	)

113 
	#DECLARE_boŞ
(
æag_Çme
) \

114 
boŞ
 
FLAGS_
 ## 
æag_Çme


	)

116 
Çme¥aû
 
¢­py
 {

118 cÚ¡ 
ušt32
 
kušt32max
 = 
¡©ic_ÿ¡
<uint32>(0xFFFFFFFF);

119 cÚ¡ 
št64
 
kšt64max
 = 
¡©ic_ÿ¡
<int64>(0x7FFFFFFFFFFFFFFFLL);

125 #ià
defšed
(
__i386__
è|| defšed(
__x86_64__
è|| defšed(
__pow”pc__
) || \

126 
defšed
(
__¯rch64__
)

128 
	#UNALIGNED_LOAD16
(
_p
è(*
»š‹½»t_ÿ¡
<cÚ¡ 
ušt16
 *>(_p))

	)

129 
	#UNALIGNED_LOAD32
(
_p
è(*
»š‹½»t_ÿ¡
<cÚ¡ 
ušt32
 *>(_p))

	)

130 
	#UNALIGNED_LOAD64
(
_p
è(*
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64
 *>(_p))

	)

132 
	#UNALIGNED_STORE16
(
_p
, 
_v®
è(*
»š‹½»t_ÿ¡
<
ušt16
 *>(_pèğ(_v®))

	)

133 
	#UNALIGNED_STORE32
(
_p
, 
_v®
è(*
»š‹½»t_ÿ¡
<
ušt32
 *>(_pèğ(_v®))

	)

134 
	#UNALIGNED_STORE64
(
_p
, 
_v®
è(*
»š‹½»t_ÿ¡
<
ušt64
 *>(_pèğ(_v®))

	)

154 #–ià
defšed
(
__¬m__
) && \

155 !
defšed
(
__ARM_ARCH_4__
) && \

156 !
defšed
(
__ARM_ARCH_4T__
) && \

157 !
defšed
(
__ARM_ARCH_5__
) && \

158 !
defšed
(
__ARM_ARCH_5T__
) && \

159 !
defšed
(
__ARM_ARCH_5TE__
) && \

160 !
defšed
(
__ARM_ARCH_5TEJ__
) && \

161 !
defšed
(
__ARM_ARCH_6__
) && \

162 !
defšed
(
__ARM_ARCH_6J__
) && \

163 !
defšed
(
__ARM_ARCH_6K__
) && \

164 !
defšed
(
__ARM_ARCH_6Z__
) && \

165 !
defšed
(
__ARM_ARCH_6ZK__
) && \

166 !
defšed
(
__ARM_ARCH_6T2__
)

168 #ià
__GNUC__


169 
	#ATTRIBUTE_PACKED
 
	`__©Œibu‹__
((
__·cked__
))

	)

171 
	#ATTRIBUTE_PACKED


	)

174 
Çme¥aû
 
ba£
 {

175 
Çme¥aû
 
š‹º®
 {

177 
	sUÇligÃd16SŒuù
 {

178 
ušt16
 
v®ue
;

179 
ušt8
 
dummy
;

180 } 
ATTRIBUTE_PACKED
;

182 
	sUÇligÃd32SŒuù
 {

183 
ušt32
 
v®ue
;

184 
ušt8
 
dummy
;

185 } 
ATTRIBUTE_PACKED
;

190 
	#UNALIGNED_LOAD16
(
_p
) \

191 ((
»š‹½»t_ÿ¡
<cÚ¡ ::
¢­py
::
ba£
::
š‹º®
::
UÇligÃd16SŒuù
 *>(
_p
))->
v®ue
)

	)

192 
	#UNALIGNED_LOAD32
(
_p
) \

193 ((
»š‹½»t_ÿ¡
<cÚ¡ ::
¢­py
::
ba£
::
š‹º®
::
UÇligÃd32SŒuù
 *>(
_p
))->
v®ue
)

	)

195 
	#UNALIGNED_STORE16
(
_p
, 
_v®
) \

196 ((
»š‹½»t_ÿ¡
< ::
¢­py
::
ba£
::
š‹º®
::
UÇligÃd16SŒuù
 *>(
_p
))->
v®ue
 = \

197 (
_v®
))

	)

198 
	#UNALIGNED_STORE32
(
_p
, 
_v®
) \

199 ((
»š‹½»t_ÿ¡
< ::
¢­py
::
ba£
::
š‹º®
::
UÇligÃd32SŒuù
 *>(
_p
))->
v®ue
 = \

200 (
_v®
))

	)

206 
šlše
 
ušt64
 
UNALIGNED_LOAD64
(cÚ¡ *
p
) {

207 
ušt64
 
t
;

208 
memıy
(&
t
, 
p
, );

209  
t
;

212 
šlše
 
UNALIGNED_STORE64
(*
p
, 
ušt64
 
v
) {

213 
memıy
(
p
, &
v
,  v);

221 
šlše
 
ušt16
 
UNALIGNED_LOAD16
(cÚ¡ *
p
) {

222 
ušt16
 
t
;

223 
memıy
(&
t
, 
p
, );

224  
t
;

227 
šlše
 
ušt32
 
UNALIGNED_LOAD32
(cÚ¡ *
p
) {

228 
ušt32
 
t
;

229 
memıy
(&
t
, 
p
, );

230  
t
;

233 
šlše
 
ušt64
 
UNALIGNED_LOAD64
(cÚ¡ *
p
) {

234 
ušt64
 
t
;

235 
memıy
(&
t
, 
p
, );

236  
t
;

239 
šlše
 
UNALIGNED_STORE16
(*
p
, 
ušt16
 
v
) {

240 
memıy
(
p
, &
v
,  v);

243 
šlše
 
UNALIGNED_STORE32
(*
p
, 
ušt32
 
v
) {

244 
memıy
(
p
, &
v
,  v);

247 
šlše
 
UNALIGNED_STORE64
(*
p
, 
ušt64
 
v
) {

248 
memıy
(
p
, &
v
,  v);

254 #ià
defšed
(
SNAPPY_IS_BIG_ENDIAN
)

256 #ifdeà
HAVE_SYS_BYTEORDER_H


257 
	~<sys/by‹Üd”.h
>

260 #ifdeà
HAVE_SYS_ENDIAN_H


261 
	~<sys/’dŸn.h
>

264 #ifdeà
_MSC_VER


265 
	~<¡dlib.h
>

266 
	#bsw­_16
(
x
è
	`_by‹sw­_ushÜt
(x)

	)

267 
	#bsw­_32
(
x
è
	`_by‹sw­_ulÚg
(x)

	)

268 
	#bsw­_64
(
x
è
	`_by‹sw­_ušt64
(x)

	)

270 #–ià
defšed
(
__APPLE__
)

272 
	~<libk”n/OSBy‹Ord”.h
>

273 
	#bsw­_16
(
x
è
	`OSSw­IÁ16
(x)

	)

274 
	#bsw­_32
(
x
è
	`OSSw­IÁ32
(x)

	)

275 
	#bsw­_64
(
x
è
	`OSSw­IÁ64
(x)

	)

277 #–ià
defšed
(
HAVE_BYTESWAP_H
)

278 
	~<by‹sw­.h
>

280 #–ià
defšed
(
bsw­32
)

282 
	#bsw­_16
(
x
è
	`bsw­16
(x)

	)

283 
	#bsw­_32
(
x
è
	`bsw­32
(x)

	)

284 
	#bsw­_64
(
x
è
	`bsw­64
(x)

	)

286 #–ià
defšed
(
BSWAP_64
)

288 
	#bsw­_16
(
x
è
	`BSWAP_16
(x)

	)

289 
	#bsw­_32
(
x
è
	`BSWAP_32
(x)

	)

290 
	#bsw­_64
(
x
è
	`BSWAP_64
(x)

	)

294 
šlše
 
ušt16
 
bsw­_16
(ušt16 
x
) {

295  (
x
 << 8) | (x >> 8);

298 
šlše
 
ušt32
 
bsw­_32
(ušt32 
x
) {

299 
x
 = ((x & 0xff00ff00UL) >> 8) | ((x & 0x00ff00ffUL) << 8);

300  (
x
 >> 16) | (x << 16);

303 
šlše
 
ušt64
 
bsw­_64
(ušt64 
x
) {

304 
x
 = ((x & 0xff00ff00ff00ff00ULL) >> 8) | ((x & 0x00ff00ff00ff00ffULL) << 8);

305 
x
 = ((x & 0xffff0000ffff0000ULL) >> 16) | ((x & 0x0000ffff0000ffffULL) << 16);

306  (
x
 >> 32) | (x << 32);

322 şas 
	cL™eEndŸn
 {

323 
public
:

325 #ià
defšed
(
SNAPPY_IS_BIG_ENDIAN
)

327 
ušt16
 
FromHo¡16
(ušt16 
x
è{  
bsw­_16
(x); }

328 
ušt16
 
ToHo¡16
(ušt16 
x
è{  
bsw­_16
(x); }

330 
ušt32
 
FromHo¡32
(ušt32 
x
è{  
bsw­_32
(x); }

331 
ušt32
 
ToHo¡32
(ušt32 
x
è{  
bsw­_32
(x); }

333 
boŞ
 
IsL™eEndŸn
(è{  
çl£
; }

337 
ušt16
 
FromHo¡16
(ušt16 
x
) {  x; }

338 
ušt16
 
ToHo¡16
(ušt16 
x
) {  x; }

340 
ušt32
 
FromHo¡32
(ušt32 
x
) {  x; }

341 
ušt32
 
ToHo¡32
(ušt32 
x
) {  x; }

343 
boŞ
 
IsL™eEndŸn
(è{  
Œue
; }

348 
ušt16
 
Lßd16
(cÚ¡ *
p
) {

349  
ToHo¡16
(
UNALIGNED_LOAD16
(
p
));

352 
StÜe16
(*
p
, 
ušt16
 
v
) {

353 
UNALIGNED_STORE16
(
p
, 
FromHo¡16
(
v
));

356 
ušt32
 
Lßd32
(cÚ¡ *
p
) {

357  
ToHo¡32
(
UNALIGNED_LOAD32
(
p
));

360 
StÜe32
(*
p
, 
ušt32
 
v
) {

361 
UNALIGNED_STORE32
(
p
, 
FromHo¡32
(
v
));

366 şas 
	cB™s
 {

367 
public
:

369 
Log2FloÜNÚZ”o
(
ušt32
 
n
);

372 
Log2FloÜ
(
ušt32
 
n
);

377 
FšdLSBS‘NÚZ”o
(
ušt32
 
n
);

379 #ià
defšed
(
ARCH_K8
è|| defšed(
ARCH_PPC
è|| defšed(
ARCH_ARM
)

380 
FšdLSBS‘NÚZ”o64
(
ušt64
 
n
);

383 
´iv©e
:

385 
B™s
(const Bits&);

386 
İ”©Ü
=(cÚ¡ 
B™s
&);

389 #ifdeà
HAVE_BUILTIN_CTZ


391 
šlše
 
B™s
::
	$Log2FloÜNÚZ”o
(
ušt32
 
n
) {

392 
	`as£¹
(
n
 != 0);

399  31 ^ 
	`__butš_şz
(
n
);

400 
	}
}

402 
šlše
 
B™s
::
	$Log2FloÜ
(
ušt32
 
n
) {

403  (
n
 =ğ0è? -1 : 
B™s
::
	`Log2FloÜNÚZ”o
(n);

404 
	}
}

406 
šlše
 
B™s
::
	$FšdLSBS‘NÚZ”o
(
ušt32
 
n
) {

407 
	`as£¹
(
n
 != 0);

408  
	`__butš_ùz
(
n
);

409 
	}
}

411 #ià
defšed
(
ARCH_K8
è|| defšed(
ARCH_PPC
è|| 
	$defšed
(
ARCH_ARM
)

412 
šlše
 
B™s
::
	$FšdLSBS‘NÚZ”o64
(
ušt64
 
n
) {

413 
	`as£¹
(
n
 != 0);

414  
	`__butš_ùzÎ
(
n
);

415 
	}
}

418 #–ià
	$defšed
(
_MSC_VER
)

420 
šlše
 
B™s
::
	$Log2FloÜNÚZ”o
(
ušt32
 
n
) {

421 
	`as£¹
(
n
 != 0);

422 
wh”e
;

423 
	`_B™SÿnRev”£
(&
wh”e
, 
n
);

424  
¡©ic_ÿ¡
<>(
wh”e
);

425 
	}
}

427 
šlše
 
B™s
::
	$Log2FloÜ
(
ušt32
 
n
) {

428 
wh”e
;

429 ià(
	`_B™SÿnRev”£
(&
wh”e
, 
n
))

430  
¡©ic_ÿ¡
<>(
wh”e
);

432 
	}
}

434 
šlše
 
B™s
::
	$FšdLSBS‘NÚZ”o
(
ušt32
 
n
) {

435 
	`as£¹
(
n
 != 0);

436 
wh”e
;

437 ià(
	`_B™SÿnFÜw¬d
(&
wh”e
, 
n
))

438  
¡©ic_ÿ¡
<>(
wh”e
);

440 
	}
}

442 #ià
defšed
(
ARCH_K8
è|| defšed(
ARCH_PPC
è|| 
	$defšed
(
ARCH_ARM
)

443 
šlše
 
B™s
::
	$FšdLSBS‘NÚZ”o64
(
ušt64
 
n
) {

444 
	`as£¹
(
n
 != 0);

445 
wh”e
;

446 ià(
	`_B™SÿnFÜw¬d64
(&
wh”e
, 
n
))

447  
¡©ic_ÿ¡
<>(
wh”e
);

449 
	}
}

454 
šlše
 
B™s
::
	$Log2FloÜNÚZ”o
(
ušt32
 
n
) {

455 
	`as£¹
(
n
 != 0);

457 
log
 = 0;

458 
ušt32
 
v®ue
 = 
n
;

459 
i
 = 4; i >= 0; --i) {

460 
shiá
 = (1 << 
i
);

461 
ušt32
 
x
 = 
v®ue
 >> 
shiá
;

462 ià(
x
 != 0) {

463 
v®ue
 = 
x
;

464 
log
 +ğ
shiá
;

467 
	`as£¹
(
v®ue
 == 1);

468  
log
;

469 
	}
}

471 
šlše
 
B™s
::
	$Log2FloÜ
(
ušt32
 
n
) {

472  (
n
 =ğ0è? -1 : 
B™s
::
	`Log2FloÜNÚZ”o
(n);

473 
	}
}

475 
šlše
 
B™s
::
	$FšdLSBS‘NÚZ”o
(
ušt32
 
n
) {

476 
	`as£¹
(
n
 != 0);

478 
rc
 = 31;

479 
i
 = 4, 
shiá
 = 1 << 4; i >= 0; --i) {

480 cÚ¡ 
ušt32
 
x
 = 
n
 << 
shiá
;

481 ià(
x
 != 0) {

482 
n
 = 
x
;

483 
rc
 -ğ
shiá
;

485 
shiá
 >>= 1;

487  
rc
;

488 
	}
}

490 #ià
defšed
(
ARCH_K8
è|| defšed(
ARCH_PPC
è|| 
	$defšed
(
ARCH_ARM
)

492 
šlše
 
B™s
::
	$FšdLSBS‘NÚZ”o64
(
ušt64
 
n
) {

493 
	`as£¹
(
n
 != 0);

495 cÚ¡ 
ušt32
 
bÙtomb™s
 = 
¡©ic_ÿ¡
<ušt32>(
n
);

496 ià(
bÙtomb™s
 == 0) {

498  32 + 
	`FšdLSBS‘NÚZ”o
(
¡©ic_ÿ¡
<
ušt32
>(
n
 >> 32));

500  
	`FšdLSBS‘NÚZ”o
(
bÙtomb™s
);

502 
	}
}

508 şas 
	cV¬št
 {

509 
public
:

511 cÚ¡ 
kMax32
 = 5;

518 cÚ¡ * 
P¬£32W™hLim™
(cÚ¡ * 
±r
, cÚ¡ * 
lim™
,

519 
ušt32
* 
OUTPUT
);

524 * 
Encode32
(* 
±r
, 
ušt32
 
v
);

527 
Aµ’d32
(
¡d
::
¡ršg
* 
s
, 
ušt32
 
v®ue
);

530 
šlše
 cÚ¡ * 
V¬št
::
	$P¬£32W™hLim™
(cÚ¡ * 
p
,

531 cÚ¡ * 
l
,

532 
ušt32
* 
OUTPUT
) {

533 cÚ¡ * 
±r
 = 
»š‹½»t_ÿ¡
<cÚ¡ *>(
p
);

534 cÚ¡ * 
lim™
 = 
»š‹½»t_ÿ¡
<cÚ¡ *>(
l
);

535 
ušt32
 
b
, 
»suÉ
;

536 ià(
±r
 >ğ
lim™
è 
NULL
;

537 
b
 = *(
±r
++); 
»suÉ
 = b & 127; ià(b < 128è
dÚe
;

538 ià(
±r
 >ğ
lim™
è 
NULL
;

539 
b
 = *(
±r
++); 
»suÉ
 |ğ(b & 127è<< 7; ià(b < 128è
dÚe
;

540 ià(
±r
 >ğ
lim™
è 
NULL
;

541 
b
 = *(
±r
++); 
»suÉ
 |ğ(b & 127è<< 14; ià(b < 128è
dÚe
;

542 ià(
±r
 >ğ
lim™
è 
NULL
;

543 
b
 = *(
±r
++); 
»suÉ
 |ğ(b & 127è<< 21; ià(b < 128è
dÚe
;

544 ià(
±r
 >ğ
lim™
è 
NULL
;

545 
b
 = *(
±r
++); 
»suÉ
 |ğ(b & 127è<< 28; ià(b < 16è
dÚe
;

546  
NULL
;

547 
dÚe
:

548 *
OUTPUT
 = 
»suÉ
;

549  
»š‹½»t_ÿ¡
<cÚ¡ *>(
±r
);

550 
	}
}

552 
šlše
 * 
V¬št
::
	$Encode32
(* 
¥Œ
, 
ušt32
 
v
) {

554 * 
±r
 = 
»š‹½»t_ÿ¡
<*>(
¥Œ
);

555 cÚ¡ 
B
 = 128;

556 ià(
v
 < (1<<7)) {

557 *(
±r
++èğ
v
;

558 } ià(
v
 < (1<<14)) {

559 *(
±r
++èğ
v
 | 
B
;

560 *(
±r
++èğ
v
>>7;

561 } ià(
v
 < (1<<21)) {

562 *(
±r
++èğ
v
 | 
B
;

563 *(
±r
++èğ(
v
>>7è| 
B
;

564 *(
±r
++èğ
v
>>14;

565 } ià(
v
 < (1<<28)) {

566 *(
±r
++èğ
v
 | 
B
;

567 *(
±r
++èğ(
v
>>7è| 
B
;

568 *(
±r
++èğ(
v
>>14è| 
B
;

569 *(
±r
++èğ
v
>>21;

571 *(
±r
++èğ
v
 | 
B
;

572 *(
±r
++èğ(
v
>>7è| 
B
;

573 *(
±r
++èğ(
v
>>14è| 
B
;

574 *(
±r
++èğ(
v
>>21è| 
B
;

575 *(
±r
++èğ
v
>>28;

577  
»š‹½»t_ÿ¡
<*>(
±r
);

578 
	}
}

584 
šlše
 
	$STLSŒšgResizeUnš™Ÿlized
(
¡d
::
¡ršg
* 
s
, 
size_t
 
Ãw_size
) {

585 
s
->
	`»size
(
Ãw_size
);

586 
	}
}

600 
šlše
 * 
	$¡ršg_as_¬¿y
(
¡d
::
¡ršg
* 
¡r
) {

601  
¡r
->
	`em±y
(è? 
NULL
 : &*¡r->
	`begš
();

602 
	}
}

	@snappy/snappy-test.cc

31 #ifdeà
HAVE_CONFIG_H


32 
	~"cÚfig.h
"

35 #ifdeà
HAVE_WINDOWS_H


38 
	#NOMINMAX


	)

39 
	~<wšdows.h
>

42 
	~"¢­py-‹¡.h
"

44 
	~<®gÜ™hm
>

46 
DEFINE_boŞ
(
run_miüob’chm¬ks
, 
Œue
,

49 
Çme¥aû
 
	g¢­py
 {

51 
	g¡d
::
¡ršg
 
R—dTe¡D©aFe
(cÚ¡ 
¡d
::¡ršg& 
ba£
, 
size_t
 
size_lim™
) {

52 
	g¡d
::
¡ršg
 
cÚ‹Ás
;

53 cÚ¡ * 
	g¤cdœ
 = 
g‘’v
("srcdir");

54 
	g¡d
::
¡ršg
 
´efix
;

55 ià(
	g¤cdœ
) {

56 
	g´efix
 = 
¡d
::
¡ršg
(
¤cdœ
) + "/";

58 
	gfe
::
G‘CÚ‹Ás
(
´efix
 + "‹¡d©a/" + 
ba£
, &
cÚ‹Ás
, 
fe
::
DeçuÉs
()

59 ).
CheckSucûss
();

60 ià(
	gsize_lim™
 > 0) {

61 
	gcÚ‹Ás
 = 
cÚ‹Ás
.
sub¡r
(0, 
size_lim™
);

63  
	gcÚ‹Ás
;

66 
	g¡d
::
¡ršg
 
R—dTe¡D©aFe
(cÚ¡ 
¡d
::¡ršg& 
ba£
) {

67  
R—dTe¡D©aFe
(
ba£
, 0);

70 
	g¡d
::
¡ršg
 
SŒFÜm©
(cÚ¡ * 
fÜm©
, ...) {

71 
	gbuf
[4096];

72 
va_li¡
 
	g­
;

73 
va_¡¬t
(
­
, 
fÜm©
);

74 
v¢´štf
(
buf
, (buf), 
fÜm©
, 
­
);

75 
va_’d
(
­
);

76  
	gbuf
;

79 
boŞ
 
	gb’chm¬k_ruÂšg
 = 
çl£
;

80 
št64
 
	gb’chm¬k_»®_time_us
 = 0;

81 
št64
 
	gb’chm¬k_ıu_time_us
 = 0;

82 
	g¡d
::
¡ršg
* 
b’chm¬k_Ïb–
 = 
nuÎ±r
;

83 
št64
 
	gb’chm¬k_by‹s_´oûs£d
 = 0;

85 
Re£tB’chm¬kTimšg
() {

86 
	gb’chm¬k_»®_time_us
 = 0;

87 
	gb’chm¬k_ıu_time_us
 = 0;

90 #ifdeà
WIN32


91 
LARGE_INTEGER
 
	gb’chm¬k_¡¬t_»®
;

92 
FILETIME
 
	gb’chm¬k_¡¬t_ıu
;

94 
timev®
 
	gb’chm¬k_¡¬t_»®
;

95 
ru§ge
 
	gb’chm¬k_¡¬t_ıu
;

98 
S¹B’chm¬kTimšg
() {

99 #ifdeà
WIN32


100 
Qu”yP”fÜmªûCouÁ”
(&
b’chm¬k_¡¬t_»®
);

101 
FILETIME
 
	gdummy
;

102 
CHECK
(
G‘ProûssTimes
(

103 
G‘Cu¼’tProûss
(), &
dummy
, &dummy, &dummy, &
b’chm¬k_¡¬t_ıu
));

105 
g‘timeofday
(&
b’chm¬k_¡¬t_»®
, 
NULL
);

106 ià(
g‘ru§ge
(
RUSAGE_SELF
, &
b’chm¬k_¡¬t_ıu
) == -1) {

107 
³¼Ü
("getrusage(RUSAGE_SELF)");

108 
ex™
(1);

111 
	gb’chm¬k_ruÂšg
 = 
Œue
;

114 
StİB’chm¬kTimšg
() {

115 ià(!
	gb’chm¬k_ruÂšg
) {

119 #ifdeà
WIN32


120 
LARGE_INTEGER
 
	gb’chm¬k_¡İ_»®
;

121 
LARGE_INTEGER
 
	gb’chm¬k_äequ’cy
;

122 
Qu”yP”fÜmªûCouÁ”
(&
b’chm¬k_¡İ_»®
);

123 
Qu”yP”fÜmªûF»qu’cy
(&
b’chm¬k_äequ’cy
);

125 
	g–­£d_»®
 = 
¡©ic_ÿ¡
<>(

126 
b’chm¬k_¡İ_»®
.
QuadP¬t
 - 
b’chm¬k_¡¬t_»®
.QuadPart) /

127 
b’chm¬k_äequ’cy
.
QuadP¬t
;

128 
	gb’chm¬k_»®_time_us
 +ğ
–­£d_»®
 * 1e6 + 0.5;

130 
FILETIME
 
	gb’chm¬k_¡İ_ıu
, 
	gdummy
;

131 
CHECK
(
G‘ProûssTimes
(

132 
G‘Cu¼’tProûss
(), &
dummy
, &dummy, &dummy, &
b’chm¬k_¡İ_ıu
));

134 
ULARGE_INTEGER
 
	g¡¬t_uÏrgešt
;

135 
	g¡¬t_uÏrgešt
.
	gLowP¬t
 = 
b’chm¬k_¡¬t_ıu
.
dwLowD©eTime
;

136 
	g¡¬t_uÏrgešt
.
	gHighP¬t
 = 
b’chm¬k_¡¬t_ıu
.
dwHighD©eTime
;

138 
ULARGE_INTEGER
 
	g¡İ_uÏrgešt
;

139 
	g¡İ_uÏrgešt
.
	gLowP¬t
 = 
b’chm¬k_¡İ_ıu
.
dwLowD©eTime
;

140 
	g¡İ_uÏrgešt
.
	gHighP¬t
 = 
b’chm¬k_¡İ_ıu
.
dwHighD©eTime
;

142 
	gb’chm¬k_ıu_time_us
 +=

143 (
¡İ_uÏrgešt
.
QuadP¬t
 - 
¡¬t_uÏrgešt
.QuadPart + 5) / 10;

145 
timev®
 
	gb’chm¬k_¡İ_»®
;

146 
g‘timeofday
(&
b’chm¬k_¡İ_»®
, 
NULL
);

147 
	gb’chm¬k_»®_time_us
 +=

148 1000000 * (
b’chm¬k_¡İ_»®
.
tv_£c
 - 
b’chm¬k_¡¬t_»®
.tv_sec);

149 
	gb’chm¬k_»®_time_us
 +=

150 (
b’chm¬k_¡İ_»®
.
tv_u£c
 - 
b’chm¬k_¡¬t_»®
.tv_usec);

152 
ru§ge
 
	gb’chm¬k_¡İ_ıu
;

153 ià(
g‘ru§ge
(
RUSAGE_SELF
, &
b’chm¬k_¡İ_ıu
) == -1) {

154 
³¼Ü
("getrusage(RUSAGE_SELF)");

155 
ex™
(1);

157 
	gb’chm¬k_ıu_time_us
 +ğ1000000 * (
b’chm¬k_¡İ_ıu
.
ru_utime
.
tv_£c
 -

158 
b’chm¬k_¡¬t_ıu
.
ru_utime
.
tv_£c
);

159 
	gb’chm¬k_ıu_time_us
 +ğ(
b’chm¬k_¡İ_ıu
.
ru_utime
.
tv_u£c
 -

160 
b’chm¬k_¡¬t_ıu
.
ru_utime
.
tv_u£c
);

163 
	gb’chm¬k_ruÂšg
 = 
çl£
;

166 
S‘B’chm¬kLab–
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

167 ià(
b’chm¬k_Ïb–
) {

168 
d–‘e
 
b’chm¬k_Ïb–
;

170 
	gb’chm¬k_Ïb–
 = 
Ãw
 
¡d
::
¡ršg
(
¡r
);

173 
S‘B’chm¬kBy‹sProûs£d
(
št64
 
by‹s
) {

174 
	gb’chm¬k_by‹s_´oûs£d
 = 
by‹s
;

177 
	sB’chm¬kRun
 {

178 
št64
 
	g»®_time_us
;

179 
št64
 
	gıu_time_us
;

182 
	sB’chm¬kCom·»CPUTime
 {

183 
boŞ
 
İ”©Ü
(è(cÚ¡ 
	gB’chm¬kRun
& 
	ga
, cÚ¡ B’chm¬kRun& 
	gb
) const {

184  
	ga
.
	gıu_time_us
 < 
	gb
.cpu_time_us;

188 
	gB’chm¬k
::
Run
() {

189 
‹¡_ÿ£_num
 = 
¡¬t_
; 
	g‹¡_ÿ£_num
 <ğ
¡İ_
; ++test_case_num) {

192 cÚ¡ 
	gkC®ib¿‹I‹¿tiÚs
 = 100;

193 
Re£tB’chm¬kTimšg
();

194 
S¹B’chm¬kTimšg
();

195 (*
	gfunùiÚ_
)(
	gkC®ib¿‹I‹¿tiÚs
, 
	g‹¡_ÿ£_num
);

196 
StİB’chm¬kTimšg
();

201 cÚ¡ 
	gkNumRuns
 = 5;

202 cÚ¡ 
	gkMedŸnPos
 = 
kNumRuns
 / 2;

203 
	gnum_™”©iÚs
 = 0;

204 ià(
	gb’chm¬k_»®_time_us
 > 0) {

205 
	gnum_™”©iÚs
 = 200000 * 
kC®ib¿‹I‹¿tiÚs
 / 
b’chm¬k_»®_time_us
;

207 
	gnum_™”©iÚs
 = 
¡d
::
max
(
num_™”©iÚs
, 
kC®ib¿‹I‹¿tiÚs
);

208 
B’chm¬kRun
 
	gb’chm¬k_runs
[
kNumRuns
];

210 
	grun
 = 0;„uÀ< 
	gkNumRuns
; ++run) {

211 
Re£tB’chm¬kTimšg
();

212 
S¹B’chm¬kTimšg
();

213 (*
	gfunùiÚ_
)(
	gnum_™”©iÚs
, 
	g‹¡_ÿ£_num
);

214 
StİB’chm¬kTimšg
();

216 
	gb’chm¬k_runs
[
run
].
	g»®_time_us
 = 
b’chm¬k_»®_time_us
;

217 
	gb’chm¬k_runs
[
run
].
	gıu_time_us
 = 
b’chm¬k_ıu_time_us
;

220 
	g¡d
::
¡ršg
 
h—dšg
 = 
SŒFÜm©
("%s/%d", 
Çme_
.
c_¡r
(), 
‹¡_ÿ£_num
);

221 
	g¡d
::
¡ršg
 
humª_»adabË_¥“d
;

223 
	g¡d
::
Áh_–em’t
(
b’chm¬k_runs
,

224 
b’chm¬k_runs
 + 
kMedŸnPos
,

225 
b’chm¬k_runs
 + 
kNumRuns
,

226 
B’chm¬kCom·»CPUTime
());

227 
št64
 
	g»®_time_us
 = 
b’chm¬k_runs
[
kMedŸnPos
].
»®_time_us
;

228 
št64
 
	gıu_time_us
 = 
b’chm¬k_runs
[
kMedŸnPos
].
ıu_time_us
;

229 ià(
	gıu_time_us
 <= 0) {

230 
humª_»adabË_¥“d
 = "?";

232 
št64
 
	gby‹s_³r_£cÚd
 =

233 
b’chm¬k_by‹s_´oûs£d
 * 1000000 / 
ıu_time_us
;

234 ià(
	gby‹s_³r_£cÚd
 < 1024) {

235 
	ghumª_»adabË_¥“d
 =

236 
SŒFÜm©
("%dB/s", 
¡©ic_ÿ¡
<>(
by‹s_³r_£cÚd
));

237 } ià(
	gby‹s_³r_£cÚd
 < 1024 * 1024) {

238 
	ghumª_»adabË_¥“d
 = 
SŒFÜm©
(

239 "%.1fkB/s", 
by‹s_³r_£cÚd
 / 1024.0f);

240 } ià(
	gby‹s_³r_£cÚd
 < 1024 * 1024 * 1024) {

241 
	ghumª_»adabË_¥“d
 = 
SŒFÜm©
(

242 "%.1fMB/s", 
by‹s_³r_£cÚd
 / (1024.0f * 1024.0f));

244 
	ghumª_»adabË_¥“d
 = 
SŒFÜm©
(

245 "%.1fGB/s", 
by‹s_³r_£cÚd
 / (1024.0f * 1024.0f * 1024.0f));

249 
årštf
(
¡d”r
,

250 #ifdeà
WIN32


255 
h—dšg
.
c_¡r
(),

256 
¡©ic_ÿ¡
<>(
»®_time_us
 * 1000 / 
num_™”©iÚs
),

257 
¡©ic_ÿ¡
<>(
ıu_time_us
 * 1000 / 
num_™”©iÚs
),

258 
num_™”©iÚs
,

259 
humª_»adabË_¥“d
.
c_¡r
(),

260 
b’chm¬k_Ïb–
->
c_¡r
());

264 #ifdeà
HAVE_LIBZ


266 
	gZLib
::
ZLib
()

267 : 
comp_š™_
(
çl£
),

268 
uncomp_š™_
(
çl£
) {

269 
Reš™
();

272 
	gZLib
::~
ZLib
() {

273 ià(
comp_š™_
è{ 
deæ©eEnd
(&
comp_¡»am_
); }

274 ià(
	guncomp_š™_
è{ 
šæ©eEnd
(&
uncomp_¡»am_
); }

277 
	gZLib
::
Reš™
() {

278 
com´essiÚ_Ëv–_
 = 
Z_DEFAULT_COMPRESSION
;

279 
	gwšdow_b™s_
 = 
MAX_WBITS
;

280 
	gmem_Ëv–_
 = 8;

281 ià(
	gcomp_š™_
) {

282 
deæ©eEnd
(&
comp_¡»am_
);

283 
	gcomp_š™_
 = 
çl£
;

285 ià(
	guncomp_š™_
) {

286 
šæ©eEnd
(&
uncomp_¡»am_
);

287 
	guncomp_š™_
 = 
çl£
;

289 
	gfœ¡_chunk_
 = 
Œue
;

292 
	gZLib
::
Re£t
() {

293 
fœ¡_chunk_
 = 
Œue
;

301 
	gZLib
::
Com´essE¼ÜIn™
() {

302 
deæ©eEnd
(&
comp_¡»am_
);

303 
	gcomp_š™_
 = 
çl£
;

304 
Re£t
();

307 
	gZLib
::
Deæ©eIn™
() {

308  
deæ©eIn™2
(&
comp_¡»am_
,

309 
com´essiÚ_Ëv–_
,

310 
Z_DEFLATED
,

311 
wšdow_b™s_
,

312 
mem_Ëv–_
,

313 
Z_DEFAULT_STRATEGY
);

316 
	gZLib
::
Com´essIn™
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

317 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
) {

318 
	g”r
;

320 
	gcomp_¡»am_
.
	gÃxt_š
 = (
By‹f
*)
sourû
;

321 
	gcomp_¡»am_
.
	gava_š
 = (
uIÁ
)*
sourûL’
;

322 ià((
	guLÚg
)
	gcomp_¡»am_
.
	gava_š
 !ğ*
sourûL’
è 
Z_BUF_ERROR
;

323 
	gcomp_¡»am_
.
	gÃxt_out
 = 
de¡
;

324 
	gcomp_¡»am_
.
	gava_out
 = (
uIÁ
)*
de¡L’
;

325 ià((
	guLÚg
)
	gcomp_¡»am_
.
	gava_out
 !ğ*
de¡L’
è 
Z_BUF_ERROR
;

327 iàĞ!
	gfœ¡_chunk_
 )

328  
	gZ_OK
;

330 ià(
	gcomp_š™_
) {

331 
	g”r
 = 
deæ©eRe£t
(&
comp_¡»am_
);

332 ià(
	g”r
 !ğ
Z_OK
) {

333 
LOG
(
WARNING
) << "ERROR: Can't„eset compress object; creating‡‚ew one";

334 
deæ©eEnd
(&
comp_¡»am_
);

335 
	gcomp_š™_
 = 
çl£
;

338 ià(!
	gcomp_š™_
) {

339 
	gcomp_¡»am_
.
	gz®loc
 = (
®loc_func
)0;

340 
	gcomp_¡»am_
.
	gzä“
 = (
ä“_func
)0;

341 
	gcomp_¡»am_
.
	gİaque
 = (
voidpf
)0;

342 
	g”r
 = 
Deæ©eIn™
();

343 ià(
	g”r
 !ğ
Z_OK
è 
”r
;

344 
	gcomp_š™_
 = 
Œue
;

346  
	gZ_OK
;

355 
	gZLib
::
Com´essAtMo¡OrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

356 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
,

357 
æush_mode
) {

358 
	g”r
;

360 iàĞ(
	g”r
=
Com´essIn™
(
de¡
, 
de¡L’
, 
sourû
, 
sourûL’
)è!ğ
Z_OK
 )

361  
”r
;

364 
	gcom´es£d_size
 = 
comp_¡»am_
.
tÙ®_out
;

367 iàĞ
	gfœ¡_chunk_
 ) {

368 
	gfœ¡_chunk_
 = 
çl£
;

373 
	g”r
 = 
deæ©e
(&
comp_¡»am_
, 
æush_mode
);

375 *
	gsourûL’
 = 
comp_¡»am_
.
ava_š
;

377 ià((
	g”r
 =ğ
Z_STREAM_END
 || 
”r
 =ğ
Z_OK
)

378 && 
comp_¡»am_
.
ava_š
 == 0

379 && 
comp_¡»am_
.
ava_out
 != 0 ) {

382 } ià(
	g”r
 =ğ
Z_STREAM_END
 && 
comp_¡»am_
.
ava_š
 > 0) {

383  
Z_BUF_ERROR
;

384 } ià(
	g”r
 !ğ
Z_OK
 && 
”r
 !ğ
Z_STREAM_END
 &&ƒ¼ !ğ
Z_BUF_ERROR
) {

386 
Com´essE¼ÜIn™
();

387  
	g”r
;

388 } ià(
	gcomp_¡»am_
.
	gava_out
 == 0) {

389 
”r
 = 
Z_BUF_ERROR
;

392 
as£¹
(
”r
 =ğ
Z_OK
 ||ƒ¼ =ğ
Z_STREAM_END
 ||ƒ¼ =ğ
Z_BUF_ERROR
);

393 ià(
	g”r
 =ğ
Z_STREAM_END
)

394 
”r
 = 
Z_OK
;

397 
	gcom´es£d_size
 = 
comp_¡»am_
.
tÙ®_out
 - 
com´es£d_size
;

398 *
	gde¡L’
 = 
com´es£d_size
;

400  
	g”r
;

403 
	gZLib
::
Com´essChunkOrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

404 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
,

405 
æush_mode
) {

406 cÚ¡ 
	g»t
 =

407 
Com´essAtMo¡OrAÎ
(
de¡
, 
de¡L’
, 
sourû
, &
sourûL’
, 
æush_mode
);

408 ià(
	g»t
 =ğ
Z_BUF_ERROR
)

409 
Com´essE¼ÜIn™
();

410  
	g»t
;

415 
	gZLib
::
Com´ess
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

416 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
) {

417 
	g”r
;

418 iàĞ(
	g”r
=
Com´essChunkOrAÎ
(
de¡
, 
de¡L’
, 
sourû
, 
sourûL’
,

419 
Z_FINISH
)è!ğ
Z_OK
 )

420  
”r
;

421 
Re£t
();

423  
	gZ_OK
;

429 
	gZLib
::
Inæ©eIn™
() {

430  
šæ©eIn™2
(&
uncomp_¡»am_
, 
MAX_WBITS
);

436 
	gZLib
::
Uncom´essE¼ÜIn™
() {

437 
šæ©eEnd
(&
uncomp_¡»am_
);

438 
	guncomp_š™_
 = 
çl£
;

439 
Re£t
();

442 
	gZLib
::
Uncom´essIn™
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

443 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
) {

444 
	g”r
;

446 
	guncomp_¡»am_
.
	gÃxt_š
 = (
By‹f
*)
sourû
;

447 
	guncomp_¡»am_
.
	gava_š
 = (
uIÁ
)*
sourûL’
;

449 ià((
	guLÚg
)
	guncomp_¡»am_
.
	gava_š
 !ğ*
sourûL’
è 
Z_BUF_ERROR
;

451 
	guncomp_¡»am_
.
	gÃxt_out
 = 
de¡
;

452 
	guncomp_¡»am_
.
	gava_out
 = (
uIÁ
)*
de¡L’
;

453 ià((
	guLÚg
)
	guncomp_¡»am_
.
	gava_out
 !ğ*
de¡L’
è 
Z_BUF_ERROR
;

455 iàĞ!
	gfœ¡_chunk_
 )

456  
	gZ_OK
;

458 ià(
	guncomp_š™_
) {

459 
	g”r
 = 
šæ©eRe£t
(&
uncomp_¡»am_
);

460 ià(
	g”r
 !ğ
Z_OK
) {

461 
LOG
(
WARNING
)

463 
Uncom´essE¼ÜIn™
();

466 ià(!
	guncomp_š™_
) {

467 
	guncomp_¡»am_
.
	gz®loc
 = (
®loc_func
)0;

468 
	guncomp_¡»am_
.
	gzä“
 = (
ä“_func
)0;

469 
	guncomp_¡»am_
.
	gİaque
 = (
voidpf
)0;

470 
	g”r
 = 
Inæ©eIn™
();

471 ià(
	g”r
 !ğ
Z_OK
è 
”r
;

472 
	guncomp_š™_
 = 
Œue
;

474  
	gZ_OK
;

481 
	gZLib
::
Uncom´essAtMo¡OrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

482 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
,

483 
æush_mode
) {

484 
	g”r
 = 
Z_OK
;

486 iàĞ(
	g”r
=
Uncom´essIn™
(
de¡
, 
de¡L’
, 
sourû
, 
sourûL’
)è!ğ
Z_OK
 ) {

487 
LOG
(
WARNING
è<< "Uncom´essIn™: E¼Ü: " << 
”r
 << " SourceLen: "

488 << *
sourûL’
;

489  
	g”r
;

493 cÚ¡ 
uLÚg
 
	gŞd_tÙ®_out
 = 
uncomp_¡»am_
.
tÙ®_out
;

496 cÚ¡ 
uLÚg
 
	gŞd_tÙ®_š
 = 
uncomp_¡»am_
.
tÙ®_š
;

499 iàĞ
	gfœ¡_chunk_
 ) {

500 
	gfœ¡_chunk_
 = 
çl£
;

505 iàĞ*
	gsourûL’
 == 0 ) {

506 *
de¡L’
 = 0;

507  
	gZ_OK
;

516 
	g”r
 = 
šæ©e
(&
uncomp_¡»am_
, 
æush_mode
);

519 cÚ¡ 
uLÚg
 
	gby‹s_»ad
 = 
uncomp_¡»am_
.
tÙ®_š
 - 
Şd_tÙ®_š
;

520 
CHECK_LE
(
sourû
 + 
by‹s_»ad
, sourû + *
sourûL’
);

521 *
	gsourûL’
 = 
uncomp_¡»am_
.
ava_š
;

523 ià((
	g”r
 =ğ
Z_STREAM_END
 || 
”r
 =ğ
Z_OK
)

524 && 
uncomp_¡»am_
.
ava_š
 == 0) {

526 } ià(
	g”r
 =ğ
Z_STREAM_END
 && 
uncomp_¡»am_
.
ava_š
 > 0) {

527 
LOG
(
WARNING
)

529 << 
uncomp_¡»am_
.
ava_š
 << " bytes: "

530 << 
¡d
::
¡ršg
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
uncomp_¡»am_
.
Ãxt_š
),

531 
¡d
::
mš
((
uncomp_¡»am_
.
ava_š
), 20));

532 
Uncom´essE¼ÜIn™
();

533  
	gZ_DATA_ERROR
;

534 } ià(
	g”r
 !ğ
Z_OK
 && 
”r
 !ğ
Z_STREAM_END
 &&ƒ¼ !ğ
Z_BUF_ERROR
) {

536 
LOG
(
WARNING
è<< "Uncom´essChunkOrAÎ: E¼Ü: " << 
”r


537 << "‡va_out: " << 
uncomp_¡»am_
.
ava_out
;

538 
Uncom´essE¼ÜIn™
();

539  
	g”r
;

540 } ià(
	guncomp_¡»am_
.
	gava_out
 == 0) {

541 
”r
 = 
Z_BUF_ERROR
;

544 
as£¹
(
”r
 =ğ
Z_OK
 ||ƒ¼ =ğ
Z_BUF_ERROR
 ||ƒ¼ =ğ
Z_STREAM_END
);

545 ià(
	g”r
 =ğ
Z_STREAM_END
)

546 
”r
 = 
Z_OK
;

548 *
	gde¡L’
 = 
uncomp_¡»am_
.
tÙ®_out
 - 
Şd_tÙ®_out
;

550  
	g”r
;

553 
	gZLib
::
Uncom´essChunkOrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

554 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
,

555 
æush_mode
) {

556 cÚ¡ 
	g»t
 =

557 
Uncom´essAtMo¡OrAÎ
(
de¡
, 
de¡L’
, 
sourû
, &
sourûL’
, 
æush_mode
);

558 ià(
	g»t
 =ğ
Z_BUF_ERROR
)

559 
Uncom´essE¼ÜIn™
();

560  
	g»t
;

563 
	gZLib
::
Uncom´essAtMo¡
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

564 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
) {

565  
Uncom´essAtMo¡OrAÎ
(
de¡
, 
de¡L’
, 
sourû
, 
sourûL’
, 
Z_SYNC_FLUSH
);

572 
boŞ
 
	gZLib
::
Uncom´essChunkDÚe
() {

573 
as£¹
(!
fœ¡_chunk_
 && 
uncomp_š™_
);

577 
By‹f
 
	gdummyš
, 
	gdummyout
;

578 
uLÚgf
 
	gdummyËn
 = 0;

579 iàĞ
Uncom´essChunkOrAÎ
(&
dummyout
, &
dummyËn
, &
dummyš
, 0, 
Z_FINISH
)

580 !ğ
Z_OK
 ) {

581  
çl£
;

585 
Re£t
();

587  
	gŒue
;

598 
	gZLib
::
Uncom´ess
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

599 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
) {

600 
	g”r
;

601 iàĞ(
	g”r
=
Uncom´essChunkOrAÎ
(
de¡
, 
de¡L’
, 
sourû
, 
sourûL’
,

602 
Z_FINISH
)è!ğ
Z_OK
 ) {

603 
Re£t
();

604  
	g”r
;

606 iàĞ!
Uncom´essChunkDÚe
() )

607  
	gZ_DATA_ERROR
;

608  
	gZ_OK
;

	@snappy/snappy-test.h

31 #iâdeà
THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_TEST_H_


32 
	#THIRD_PARTY_SNAPPY_OPENSOURCE_SNAPPY_TEST_H_


	)

34 
	~<io¡»am
>

35 
	~<¡ršg
>

37 
	~"¢­py-¡ubs-š‹º®.h
"

39 
	~<¡dio.h
>

40 
	~<¡d¬g.h
>

42 #ifdeà
HAVE_SYS_MMAN_H


43 
	~<sys/mmª.h
>

46 #ifdeà
HAVE_SYS_RESOURCE_H


47 
	~<sys/»sourû.h
>

50 #ifdeà
HAVE_SYS_TIME_H


51 
	~<sys/time.h
>

54 #ifdeà
HAVE_WINDOWS_H


55 
	~<wšdows.h
>

58 #ifdeà
HAVE_GTEST


60 
	~<g‹¡/g‹¡.h
>

61 #undeà
TYPED_TEST


62 
	#TYPED_TEST
 
TEST


	)

63 
	#INIT_GTEST
(
¬gc
, 
¬gv
è::
‹¡šg
::
	`In™GoogËTe¡
×rgc, *¬gv)

	)

69 
	#TEST
(
‹¡_ÿ£
, 
‹¡_subÿ£
) \

70 
Te¡_
 ## 
‹¡_ÿ£
 ## 
_
 ## 
	`‹¡_subÿ£
()

	)

71 
	#INIT_GTEST
(
¬gc
, 
¬gv
)

	)

73 
	#TYPED_TEST
 
TEST


	)

74 
	#EXPECT_EQ
 
CHECK_EQ


	)

75 
	#EXPECT_NE
 
CHECK_NE


	)

76 
	#EXPECT_FALSE
(
cÚd
è
	`CHECK
(!(cÚd))

	)

80 #ifdeà
HAVE_GFLAGS


82 
	~<gæags/gæags.h
>

87 
	#In™GoogË
(
¬gv0
, 
¬gc
, 
¬gv
, 
»move_æags
) \

88 
	`INIT_GTEST
(
¬gc
, 
¬gv
); \

89 
googË
::
	`P¬£CommªdLšeFÏgs
(
¬gc
, 
¬gv
, 
»move_æags
);

	)

95 
	#DEFINE_št32
(
æag_Çme
, 
deçuÉ_v®ue
, 
desütiÚ
) \

96 
FLAGS_
 ## 
æag_Çme
 = 
deçuÉ_v®ue
;

	)

98 
	#In™GoogË
(
¬gv0
, 
¬gc
, 
¬gv
, 
»move_æags
) \

99 
	`INIT_GTEST
(
¬gc
, 
¬gv
)

	)

103 #ifdeà
HAVE_LIBZ


104 
	~"zlib.h
"

107 #ifdeà
HAVE_LIBLZO2


108 
	~"lzo/lzo1x.h
"

111 
	gÇme¥aû
 {

113 
Çme¥aû
 
	gfe
 {

114 
DeçuÉs
() {  0; }

116 şas 
	cDummyStus
 {

117 
	gpublic
:

118 
CheckSucûss
() { }

121 
DummyStus
 
G‘CÚ‹Ás
(

122 cÚ¡ 
¡d
::
¡ršg
& 
f’ame
, std::¡ršg* 
d©a
, 
unu£d
) {

123 
FILE
* 
	gå
 = 
fİ’
(
f’ame
.
c_¡r
(), "rb");

124 ià(
	gå
 =ğ
NULL
) {

125 
³¼Ü
(
f’ame
.
c_¡r
());

126 
ex™
(1);

129 
	gd©a
->
ş—r
();

130 !
ãof
(
å
)) {

131 
	gbuf
[4096];

132 
size_t
 
	g»t
 = 
ä—d
(
buf
, 1, 4096, 
å
);

133 ià(
	g»t
 =ğ0 && 
ã¼Ü
(
å
)) {

134 
³¼Ü
("fread");

135 
ex™
(1);

137 
	gd©a
->
­³nd
(
¡d
::
¡ršg
(
buf
, 
»t
));

140 
fşo£
(
å
);

142  
DummyStus
();

145 
šlše
 
DummyStus
 
S‘CÚ‹Ás
(

146 cÚ¡ 
¡d
::
¡ršg
& 
f’ame
, cÚ¡ std::¡ršg& 
¡r
, 
unu£d
) {

147 
FILE
* 
	gå
 = 
fİ’
(
f’ame
.
c_¡r
(), "wb");

148 ià(
	gå
 =ğ
NULL
) {

149 
³¼Ü
(
f’ame
.
c_¡r
());

150 
ex™
(1);

153 
	g»t
 = 
fwr™e
(
¡r
.
d©a
(), sŒ.
size
(), 1, 
å
);

154 ià(
	g»t
 != 1) {

155 
³¼Ü
("fwrite");

156 
ex™
(1);

159 
fşo£
(
å
);

161  
DummyStus
();

167 
Çme¥aû
 
	g¢­py
 {

169 
	#FLAGS_‹¡_¿ndom_£ed
 301

	)

170 
usšg
 
	gTy³P¬am
 = 
¡d
::
¡ršg
;

172 
Te¡_CÜru±edTe¡_V”ifyCÜru±ed
();

173 
Te¡_SÇµy_Sim¶eTe¡s
();

174 
Te¡_SÇµy_MaxBlowup
();

175 
Te¡_SÇµy_RªdomD©a
();

176 
Te¡_SÇµy_FourBy‹Off£t
();

177 
Te¡_SÇµyCÜru±iÚ_Trunÿ‹dV¬št
();

178 
Te¡_SÇµyCÜru±iÚ_UÁ”mš©edV¬št
();

179 
Te¡_SÇµyCÜru±iÚ_Ov”æowšgV¬št
();

180 
Te¡_SÇµy_R—dPa¡EndOfBufãr
();

181 
Te¡_SÇµy_FšdM©chL’gth
();

182 
Te¡_SÇµy_FšdM©chL’gthRªdom
();

184 
	g¡d
::
¡ršg
 
R—dTe¡D©aFe
(cÚ¡ 
¡d
::¡ršg& 
ba£
, 
size_t
 
size_lim™
);

186 
	g¡d
::
¡ršg
 
R—dTe¡D©aFe
(cÚ¡ 
¡d
::¡ršg& 
ba£
);

190 
	g¡d
::
¡ršg
 
SŒFÜm©
(cÚ¡ * 
fÜm©
, ...);

194 şas 
	cCyşeTim”
 {

195 
	gpublic
:

196 
CyşeTim”
(è: 
»®_time_us_
(0) {}

198 
S¹
() {

199 #ifdeà
WIN32


200 
Qu”yP”fÜmªûCouÁ”
(&
¡¬t_
);

202 
g‘timeofday
(&
¡¬t_
, 
NULL
);

206 
Stİ
() {

207 #ifdeà
WIN32


208 
LARGE_INTEGER
 
	g¡İ
;

209 
LARGE_INTEGER
 
	gäequ’cy
;

210 
Qu”yP”fÜmªûCouÁ”
(&
¡İ
);

211 
Qu”yP”fÜmªûF»qu’cy
(&
äequ’cy
);

213 
	g–­£d
 = 
¡©ic_ÿ¡
<>(
¡İ
.
QuadP¬t
 - 
¡¬t_
.QuadPart) /

214 
äequ’cy
.
QuadP¬t
;

215 
	g»®_time_us_
 +ğ
–­£d
 * 1e6 + 0.5;

217 
timev®
 
	g¡İ
;

218 
g‘timeofday
(&
¡İ
, 
NULL
);

220 
	g»®_time_us_
 +ğ1000000 * (
¡İ
.
tv_£c
 - 
¡¬t_
.tv_sec);

221 
	g»®_time_us_
 +ğ(
¡İ
.
tv_u£c
 - 
¡¬t_
.tv_usec);

225 
G‘
() {

226  
	g»®_time_us_
 * 1e-6;

229 
	g´iv©e
:

230 
št64
 
»®_time_us_
;

231 #ifdeà
WIN32


232 
LARGE_INTEGER
 
	g¡¬t_
;

234 
timev®
 
	g¡¬t_
;

240 (*
	tB’chm¬kFunùiÚ
)(, );

242 şas 
	cB’chm¬k
 {

243 
public
:

244 
	`B’chm¬k
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
, 
B’chm¬kFunùiÚ
 
funùiÚ
)

245 : 
	`Çme_
(
Çme
), 
	`funùiÚ_
(
funùiÚ
) {}

247 
B’chm¬k
* 
	`D’£Rªge
(
¡¬t
, 
¡İ
) {

248 
¡¬t_
 = 
¡¬t
;

249 
¡İ_
 = 
¡İ
;

250  
this
;

253 
	`Run
();

255 
´iv©e
:

256 cÚ¡ 
¡d
::
¡ršg
 
Çme_
;

257 cÚ¡ 
B’chm¬kFunùiÚ
 
funùiÚ_
;

258 
¡¬t_
, 
¡İ_
;

259 
	}
};

260 
	#BENCHMARK
(
b’chm¬k_Çme
) \

261 
B’chm¬k
* 
B’chm¬k_
 ## 
b’chm¬k_Çme
 = \

262 (
Ãw
 
	`B’chm¬k
(#b’chm¬k_Çme, 
b’chm¬k_Çme
))

	)

264 
B’chm¬k
* 
B’chm¬k_BM_UFÏt
;

265 
B’chm¬k
* 
B’chm¬k_BM_UIOVec
;

266 
B’chm¬k
* 
B’chm¬k_BM_UV®id©e
;

267 
B’chm¬k
* 
B’chm¬k_BM_ZFÏt
;

268 
B’chm¬k
* 
B’chm¬k_BM_ZFÏtAÎ
;

269 
B’chm¬k
* 
B’chm¬k_BM_ZFÏtInü—sšgTabËSize
;

271 
Re£tB’chm¬kTimšg
();

272 
S¹B’chm¬kTimšg
();

273 
StİB’chm¬kTimšg
();

274 
S‘B’chm¬kLab–
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
);

275 
S‘B’chm¬kBy‹sProûs£d
(
št64
 
by‹s
);

277 #ifdeà
HAVE_LIBZ


280 şas 
	cZLib
 {

281 
	gpublic
:

282 
ZLib
();

283 ~
ZLib
();

287 
Reš™
();

295 
Re£t
();

301 
MšCom´essbufSize
(
uncom´ess_size
) {

302  
	guncom´ess_size
 + uncompress_size/1000 + 40;

319 
Com´ess
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

320 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
);

327 
Uncom´ess
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

328 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
);

338 
Uncom´essAtMo¡
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

339 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
);

345 
boŞ
 
Uncom´essChunkDÚe
();

347 
	g´iv©e
:

348 
Inæ©eIn™
();

349 
Deæ©eIn™
();

352 
Com´essIn™
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

353 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
);

354 
Uncom´essIn™
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

355 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
);

359 
Uncom´essE¼ÜIn™
();

362 
Com´essChunkOrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

363 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
,

364 
æush_mode
);

365 
Com´essAtMo¡OrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

366 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
,

367 
æush_mode
);

370 
Uncom´essChunkOrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

371 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
,

372 
æush_mode
);

374 
Uncom´essAtMo¡OrAÎ
(
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

375 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
,

376 
æush_mode
);

381 
Com´essE¼ÜIn™
();

383 
	gcom´essiÚ_Ëv–_
;

384 
	gwšdow_b™s_
;

385 
	gmem_Ëv–_
;

387 
z_¡»am
 
	gcomp_¡»am_
;

388 
boŞ
 
	gcomp_š™_
;

389 
z_¡»am
 
	guncomp_¡»am_
;

390 
boŞ
 
	guncomp_š™_
;

393 
boŞ
 
	gfœ¡_chunk_
;

400 
DECLARE_boŞ
(
run_miüob’chm¬ks
);

402 
šlše
 
	$RunS³cif›dB’chm¬ks
() {

403 ià(!
FLAGS_run_miüob’chm¬ks
) {

407 
	`årštf
(
¡d”r
, "Running microbenchmarks.\n");

408 #iâdeà
NDEBUG


409 
	`årštf
(
¡d”r
, "WARNING: Compiled with‡ssertionsƒnabled, will be slow.\n");

411 #iâdeà
__OPTIMIZE__


412 
	`årštf
(
¡d”r
, "WARNING: Compiled without optimization, will be slow.\n");

414 
	`årštf
(
¡d”r
, "Benchmark Time(ns) CPU(ns) Iterations\n");

415 
	`årštf
(
¡d”r
, "---------------------------------------------------\n");

417 
¢­py
::
B’chm¬k_BM_UFÏt
->
	`Run
();

418 
¢­py
::
B’chm¬k_BM_UIOVec
->
	`Run
();

419 
¢­py
::
B’chm¬k_BM_UV®id©e
->
	`Run
();

420 
¢­py
::
B’chm¬k_BM_ZFÏt
->
	`Run
();

421 
¢­py
::
B’chm¬k_BM_ZFÏtAÎ
->
	`Run
();

422 
¢­py
::
B’chm¬k_BM_ZFÏtInü—sšgTabËSize
->
	`Run
();

424 
	`årštf
(
¡d”r
, "\n");

425 
	}
}

427 #iâdeà
HAVE_GTEST


429 
šlše
 
	$RUN_ALL_TESTS
() {

430 
	`årštf
(
¡d”r
, "Running correctnessests.\n");

431 
¢­py
::
	`Te¡_CÜru±edTe¡_V”ifyCÜru±ed
();

432 
¢­py
::
	`Te¡_SÇµy_Sim¶eTe¡s
();

433 
¢­py
::
	`Te¡_SÇµy_MaxBlowup
();

434 
¢­py
::
	`Te¡_SÇµy_RªdomD©a
();

435 
¢­py
::
	`Te¡_SÇµy_FourBy‹Off£t
();

436 
¢­py
::
	`Te¡_SÇµyCÜru±iÚ_Trunÿ‹dV¬št
();

437 
¢­py
::
	`Te¡_SÇµyCÜru±iÚ_UÁ”mš©edV¬št
();

438 
¢­py
::
	`Te¡_SÇµyCÜru±iÚ_Ov”æowšgV¬št
();

439 
¢­py
::
	`Te¡_SÇµy_R—dPa¡EndOfBufãr
();

440 
¢­py
::
	`Te¡_SÇµy_FšdM©chL’gth
();

441 
¢­py
::
	`Te¡_SÇµy_FšdM©chL’gthRªdom
();

442 
	`årštf
(
¡d”r
, "Allests…assed.\n");

445 
	}
}

450 
Çme¥aû
 
	g¢­py
 {

454 
	#LOG
(
Ëv–
è
	`LogMes§ge
()

	)

455 
	#VLOG
(
Ëv–
è
Œue
 ? ()0 : \

456 
¢­py
::
	`LogMes§geVoidify
(è& sÇµy::
	`LogMes§ge
()

	)

458 şas 
	cLogMes§ge
 {

459 
	gpublic
:

460 
LogMes§ge
() { }

461 ~
LogMes§ge
() {

462 
¡d
::
û¼
 << std::
’dl
;

465 
	gLogMes§ge
& 
	gİ”©Ü
<<(cÚ¡ 
	g¡d
::
¡ršg
& 
msg
) {

466 
¡d
::
û¼
 << 
msg
;

467  *
	gthis
;

469 
	gLogMes§ge
& 
	gİ”©Ü
<<(
	gx
) {

470 
	g¡d
::
û¼
 << 
x
;

471  *
	gthis
;

478 
	#CRASH_UNLESS
(
cÚd™iÚ
) \

479 
	`SNAPPY_PREDICT_TRUE
(
cÚd™iÚ
) ? ()0 : \

480 
¢­py
::
	`LogMes§geVoidify
(è& sÇµy::
	$LogMes§geC¿sh
()

	)

482 #ifdeà
_MSC_VER


485 #´agm¨
	$w¬nšg
(
push
)

486 #´agm¨
	$w¬nšg
(
di§bË
:4722)

489 şas 
	cLogMes§geC¿sh
 : 
public
 
LogMes§ge
 {

490 
public
:

491 
	`LogMes§geC¿sh
() { }

492 ~
	`LogMes§geC¿sh
() {

493 
¡d
::
û¼
 << std::
’dl
;

494 
	`abÜt
();

496 
	}
};

498 #ifdeà
_MSC_VER


499 #´agm¨
	$w¬nšg
(
pİ
)

506 şas 
	cLogMes§geVoidify
 {

507 
public
:

508 
	`LogMes§geVoidify
() { }

511 
İ”©Ü
&(cÚ¡ 
LogMes§ge
&) { }

512 
	}
};

514 
	#CHECK
(
cÚd
è
	$CRASH_UNLESS
(
cÚd
)

	)

515 
	#CHECK_LE
(
a
, 
b
è
	`CRASH_UNLESS
(×è<ğ(b))

	)

516 
	#CHECK_GE
(
a
, 
b
è
	`CRASH_UNLESS
(×è>ğ(b))

	)

517 
	#CHECK_EQ
(
a
, 
b
è
	`CRASH_UNLESS
(×è=ğ(b))

	)

518 
	#CHECK_NE
(
a
, 
b
è
	`CRASH_UNLESS
(×è!ğ(b))

	)

519 
	#CHECK_LT
(
a
, 
b
è
	`CRASH_UNLESS
(×è< (b))

	)

520 
	#CHECK_GT
(
a
, 
b
è
	`CRASH_UNLESS
(×è> (b))

	)

521 
	#CHECK_OK
(
cÚd
è(cÚd).
	`CheckSucûss
()

	)

523 
	}
}

	@snappy/snappy.cc

29 
	~"¢­py.h
"

30 
	~"¢­py-š‹º®.h
"

31 
	~"¢­py-sšksourû.h
"

33 #ià!
defšed
(
SNAPPY_HAVE_SSSE3
)

37 #ià
defšed
(
__SSSE3__
è|| defšed(
__AVX__
)

38 
	#SNAPPY_HAVE_SSSE3
 1

	)

40 
	#SNAPPY_HAVE_SSSE3
 0

	)

44 #ià!
defšed
(
SNAPPY_HAVE_BMI2
)

52 #ià
defšed
(
__BMI2__
è|| (defšed(
_MSC_VER
è&& defšed(
__AVX2__
))

53 
	#SNAPPY_HAVE_BMI2
 1

	)

55 
	#SNAPPY_HAVE_BMI2
 0

	)

59 #ià
SNAPPY_HAVE_SSSE3


62 
	~<tmmšŒš.h
>

65 #ià
SNAPPY_HAVE_BMI2


68 
	~<immšŒš.h
>

71 
	~<¡dio.h
>

73 
	~<®gÜ™hm
>

74 
	~<¡ršg
>

75 
	~<veùÜ
>

77 
Çme¥aû
 
	g¢­py
 {

79 
usšg
 
	gš‹º®
::
COPY_1_BYTE_OFFSET
;

80 
usšg
 
	gš‹º®
::
COPY_2_BYTE_OFFSET
;

81 
usšg
 
	gš‹º®
::
LITERAL
;

82 
usšg
 
	gš‹º®
::
ch¬_bË
;

83 
usšg
 
	gš‹º®
::
kMaximumTagL’gth
;

90 
šlše
 
ušt32
 
HashBy‹s
(ušt32 
by‹s
, 
shiá
) {

91 
ušt32
 
	gkMul
 = 0x1e35a7bd;

92  (
by‹s
 * 
	gkMul
è>> 
	gshiá
;

94 
šlše
 
ušt32
 
Hash
(cÚ¡ * 
p
, 
shiá
) {

95  
HashBy‹s
(
UNALIGNED_LOAD32
(
p
), 
shiá
);

98 
size_t
 
MaxCom´es£dL’gth
(size_ˆ
sourû_Ën
) {

119  32 + 
	gsourû_Ën
 + source_len/6;

122 
	gÇme¥aû
 {

124 
UÇligÃdCİy64
(cÚ¡ * 
¤c
, * 
d¡
) {

125 
	gtmp
[8];

126 
memıy
(
tmp
, 
¤c
, 8);

127 
memıy
(
d¡
, 
tmp
, 8);

130 
UÇligÃdCİy128
(cÚ¡ * 
¤c
, * 
d¡
) {

134 
	gtmp
[16];

135 
memıy
(
tmp
, 
¤c
, 16);

136 
memıy
(
d¡
, 
tmp
, 16);

149 
šlše
 * 
Inüem’lCİySlow
(cÚ¡ * 
¤c
, * 
İ
,

150 * cÚ¡ 
İ_lim™
) {

154 #ifdeà
__şªg__


155 #´agm¨
şªg
 
loİ
 
uÄŞl
(
di§bË
)

157 
	gİ
 < 
	gİ_lim™
) {

158 *
	gİ
++ = *
¤c
++;

160  
	gİ_lim™
;

163 #ià
SNAPPY_HAVE_SSSE3


168 
®igÇs
(16ècÚ¡ 
	gpshufb_fl_·‰”ns
[7][16] = {

183 
šlše
 * 
Inüem’lCİy
(cÚ¡ * 
¤c
, * 
İ
, * cÚ¡ 
İ_lim™
,

184 * cÚ¡ 
buf_lim™
) {

190 
as£¹
(
¤c
 < 
İ
);

191 
as£¹
(
İ
 <ğ
İ_lim™
);

192 
as£¹
(
İ_lim™
 <ğ
buf_lim™
);

197 
size_t
 
	g·‰”n_size
 = 
İ
 - 
¤c
;

223 ià(
SNAPPY_PREDICT_FALSE
(
·‰”n_size
 < 8)) {

224 #ià
SNAPPY_HAVE_SSSE3


237 ià(
SNAPPY_PREDICT_TRUE
(
İ
 <ğ
buf_lim™
 - 16)) {

238 cÚ¡ 
__m128i
 
shufæe_mask
 = 
_mm_lßd_si128
(

239 
»š‹½»t_ÿ¡
<cÚ¡ 
__m128i
*>(
pshufb_fl_·‰”ns
)

240 + 
·‰”n_size
 - 1);

241 cÚ¡ 
__m128i
 
	g·‰”n
 = 
_mm_shufæe_•i8
(

242 
_mm_lßdl_•i64
(
»š‹½»t_ÿ¡
<cÚ¡ 
__m128i
*>(
¤c
)), 
shufæe_mask
);

245 
SNAPPY_ANNOTATE_MEMORY_IS_INITIALIZED
(&
·‰”n
, (pattern));

246 
	g·‰”n_size
 *ğ16 / 
·‰”n_size
;

247 * 
	gİ_’d
 = 
¡d
::
mš
(
İ_lim™
, 
buf_lim™
 - 15);

248 
	gİ
 < 
	gİ_’d
) {

249 
_mm_¡Üeu_si128
(
»š‹½»t_ÿ¡
<
__m128i
*>(
İ
), 
·‰”n
);

250 
	gİ
 +ğ
·‰”n_size
;

252 ià(
SNAPPY_PREDICT_TRUE
(
İ
 >ğ
İ_lim™
))  op_limit;

254  
Inüem’lCİySlow
(
¤c
, 
İ
, 
İ_lim™
);

262 ià(
SNAPPY_PREDICT_TRUE
(
İ
 <ğ
buf_lim™
 - 11)) {

263 
·‰”n_size
 < 8) {

264 
UÇligÃdCİy64
(
¤c
, 
İ
);

265 
	gİ
 +ğ
·‰”n_size
;

266 
	g·‰”n_size
 *= 2;

268 ià(
SNAPPY_PREDICT_TRUE
(
İ
 >ğ
İ_lim™
))  op_limit;

270  
Inüem’lCİySlow
(
¤c
, 
İ
, 
İ_lim™
);

274 
as£¹
(
·‰”n_size
 >= 8);

283 ià(
SNAPPY_PREDICT_TRUE
(
İ_lim™
 <ğ
buf_lim™
 - 16)) {

288 
UÇligÃdCİy64
(
¤c
, 
İ
);

289 
UÇligÃdCİy64
(
¤c
 + 8, 
İ
 + 8);

291 ià(
	gİ
 + 16 < 
	gİ_lim™
) {

292 
UÇligÃdCİy64
(
¤c
 + 16, 
İ
 + 16);

293 
UÇligÃdCİy64
(
¤c
 + 24, 
İ
 + 24);

295 ià(
	gİ
 + 32 < 
	gİ_lim™
) {

296 
UÇligÃdCİy64
(
¤c
 + 32, 
İ
 + 32);

297 
UÇligÃdCİy64
(
¤c
 + 40, 
İ
 + 40);

299 ià(
	gİ
 + 48 < 
	gİ_lim™
) {

300 
UÇligÃdCİy64
(
¤c
 + 48, 
İ
 + 48);

301 
UÇligÃdCİy64
(
¤c
 + 56, 
İ
 + 56);

303  
	gİ_lim™
;

312 #ifdeà
__şªg__


313 #´agm¨
şªg
 
loİ
 
uÄŞl
(
di§bË
)

315 *
	gİ_’d
 = 
buf_lim™
 - 16; 
	gİ
 < op_’d; o°+ğ16, 
	g¤c
 += 16) {

316 
UÇligÃdCİy64
(
¤c
, 
İ
);

317 
UÇligÃdCİy64
(
¤c
 + 8, 
İ
 + 8);

319 ià(
	gİ
 >ğ
İ_lim™
)

320  
İ_lim™
;

324 ià(
SNAPPY_PREDICT_FALSE
(
İ
 <ğ
buf_lim™
 - 8)) {

325 
UÇligÃdCİy64
(
¤c
, 
İ
);

326 
	g¤c
 += 8;

327 
	gİ
 += 8;

329  
Inüem’lCİySlow
(
¤c
, 
İ
, 
İ_lim™
);

334 
	g‹m¶©e
 <
boŞ
 
	g®low_ç¡_·th
>

335 
šlše
 * 
Em™L™”®
(* 
İ
,

336 cÚ¡ * 
l™”®
,

337 
Ën
) {

348 
as£¹
(
Ën
 > 0);

349 
	gn
 = 
Ën
 - 1;

350 ià(
	g®low_ç¡_·th
 && 
	gËn
 <= 16) {

352 *
İ
++ = 
LITERAL
 | (
n
 << 2);

354 
UÇligÃdCİy128
(
l™”®
, 
İ
);

355  
	gİ
 + 
	gËn
;

358 ià(
	gn
 < 60) {

360 *
	gİ
++ = 
LITERAL
 | (
n
 << 2);

362 
	gcouÁ
 = (
B™s
::
Log2FloÜ
(
n
) >> 3) + 1;

363 
as£¹
(
couÁ
 >= 1);

364 
as£¹
(
couÁ
 <= 4);

365 *
	gİ
++ = 
LITERAL
 | ((59 + 
couÁ
) << 2);

370 
	gL™eEndŸn
::
StÜe32
(
İ
, 
n
);

371 
	gİ
 +ğ
couÁ
;

373 
memıy
(
İ
, 
l™”®
, 
Ën
);

374  
	gİ
 + 
	gËn
;

377 
	g‹m¶©e
 <
boŞ
 
	gËn_Ëss_thª_12
>

378 
šlše
 * 
Em™CİyAtMo¡64
(* 
İ
, 
size_t
 
off£t
, size_ˆ
Ën
) {

379 
as£¹
(
Ën
 <= 64);

380 
as£¹
(
Ën
 >= 4);

381 
as£¹
(
off£t
 < 65536);

382 
as£¹
(
Ën_Ëss_thª_12
 =ğ(
Ën
 < 12));

384 ià(
	gËn_Ëss_thª_12
 && 
SNAPPY_PREDICT_TRUE
(
off£t
 < 2048)) {

387 *
	gİ
++ = 
COPY_1_BYTE_OFFSET
 + ((
Ën
 - 4è<< 2è+ ((
off£t
 >> 3) & 0xe0);

388 *
	gİ
++ = 
off£t
 & 0xff;

392 
ušt32
 
	gu
 = 
COPY_2_BYTE_OFFSET
 + ((
Ën
 - 1è<< 2è+ (
off£t
 << 8);

393 
	gL™eEndŸn
::
StÜe32
(
İ
, 
u
);

394 
	gİ
 += 3;

396  
	gİ
;

399 
	g‹m¶©e
 <
boŞ
 
	gËn_Ëss_thª_12
>

400 
šlše
 * 
Em™Cİy
(* 
İ
, 
size_t
 
off£t
, size_ˆ
Ën
) {

401 
as£¹
(
Ën_Ëss_thª_12
 =ğ(
Ën
 < 12));

402 ià(
	gËn_Ëss_thª_12
) {

403  
	gEm™CİyAtMo¡64
< 
	gŒue
>(
	gİ
, 
	goff£t
, 
	gËn
);

409 
SNAPPY_PREDICT_FALSE
(
Ën
 >= 68)) {

410 
İ
 = 
Em™CİyAtMo¡64
< 
çl£
>(İ, 
	goff£t
, 64);

411 
	gËn
 -= 64;

415 ià(
	gËn
 > 64) {

416 
	gİ
 = 
Em™CİyAtMo¡64
< 
çl£
>(
İ
, 
	goff£t
, 60);

417 
	gËn
 -= 60;

421 ià(
	gËn
 < 12) {

422 
	gİ
 = 
Em™CİyAtMo¡64
< 
Œue
>(
İ
, 
	goff£t
, 
	gËn
);

424 
	gİ
 = 
Em™CİyAtMo¡64
< 
çl£
>(
İ
, 
	goff£t
, 
	gËn
);

426  
	gİ
;

430 
boŞ
 
G‘Uncom´es£dL’gth
(cÚ¡ * 
¡¬t
, 
size_t
 
n
, size_t* 
»suÉ
) {

431 
ušt32
 
	gv
 = 0;

432 cÚ¡ * 
	glim™
 = 
¡¬t
 + 
n
;

433 ià(
	gV¬št
::
P¬£32W™hLim™
(
¡¬t
, 
lim™
, &
v
è!ğ
NULL
) {

434 *
»suÉ
 = 
v
;

435  
	gŒue
;

437  
	gçl£
;

441 
	gÇme¥aû
 {

442 
ušt32
 
C®cuÏ‹TabËSize
(ušt32 
šput_size
) {

443 
¡©ic_as£¹
(

444 
kMaxHashTabËSize
 >ğ
kMšHashTabËSize
,

446 ià(
	gšput_size
 > 
	gkMaxHashTabËSize
) {

447  
	gkMaxHashTabËSize
;

449 ià(
	gšput_size
 < 
	gkMšHashTabËSize
) {

450  
	gkMšHashTabËSize
;

454  2u << 
	gB™s
::
Log2FloÜ
(
šput_size
 - 1);

458 
Çme¥aû
 
	gš‹º®
 {

459 
	gWÜkšgMemÜy
::
WÜkšgMemÜy
(
size_t
 
šput_size
) {

460 cÚ¡ 
size_t
 
max_äagm’t_size
 = 
¡d
::
mš
(
šput_size
, 
kBlockSize
);

461 cÚ¡ 
size_t
 
	gbË_size
 = 
C®cuÏ‹TabËSize
(
max_äagm’t_size
);

462 
	gsize_
 = 
bË_size
 * (*
bË_
è+ 
max_äagm’t_size
 +

463 
MaxCom´es£dL’gth
(
max_äagm’t_size
);

464 
	gmem_
 = 
¡d
::
®loÿtÜ
<>().
®loÿ‹
(
size_
);

465 
	gbË_
 = 
»š‹½»t_ÿ¡
<
ušt16
*>(
mem_
);

466 
	gšput_
 = 
mem_
 + 
bË_size
 * (*
bË_
);

467 
	gouut_
 = 
šput_
 + 
max_äagm’t_size
;

470 
	gWÜkšgMemÜy
::~
WÜkšgMemÜy
() {

471 
¡d
::
®loÿtÜ
<>().
d—Îoÿ‹
(
mem_
, 
size_
);

474 
ušt16
* 
	gWÜkšgMemÜy
::
G‘HashTabË
(
size_t
 
äagm’t_size
,

475 * 
bË_size
) const {

476 cÚ¡ 
size_t
 
	ghtsize
 = 
C®cuÏ‹TabËSize
(
äagm’t_size
);

477 
mem£t
(
bË_
, 0, 
htsize
 * (*table_));

478 *
	gbË_size
 = 
htsize
;

479  
	gbË_
;

496 #ifdeà
ARCH_K8


498 
ušt64
 
	tEightBy‹sReã»nû
;

500 
šlše
 
EightBy‹sReã»nû
 
G‘EightBy‹sAt
(cÚ¡ * 
±r
) {

501  
UNALIGNED_LOAD64
(
±r
);

504 
šlše
 
ušt32
 
G‘Ušt32AtOff£t
(
ušt64
 
v
, 
off£t
) {

505 
as£¹
(
off£t
 >= 0);

506 
as£¹
(
off£t
 <= 4);

507  
	gv
 >> (
	gL™eEndŸn
::
IsL™eEndŸn
(è? 8 * 
off£t
 : 32 - 8 * offset);

512 cÚ¡ * 
	tEightBy‹sReã»nû
;

514 
šlše
 
EightBy‹sReã»nû
 
G‘EightBy‹sAt
(cÚ¡ * 
±r
) {

515  
	g±r
;

518 
šlše
 
ušt32
 
G‘Ušt32AtOff£t
(cÚ¡ * 
v
, 
off£t
) {

519 
as£¹
(
off£t
 >= 0);

520 
as£¹
(
off£t
 <= 4);

521  
UNALIGNED_LOAD32
(
v
 + 
off£t
);

537 
Çme¥aû
 
	gš‹º®
 {

538 * 
Com´essF¿gm’t
(cÚ¡ * 
šput
,

539 
size_t
 
šput_size
,

540 * 
İ
,

541 
ušt16
* 
bË
,

542 cÚ¡ 
bË_size
) {

544 cÚ¡ * 
	g
 = 
šput
;

545 
as£¹
(
šput_size
 <ğ
kBlockSize
);

546 
as£¹
((
bË_size
 & (table_size - 1)) == 0);

547 cÚ¡ 
	gshiá
 = 32 - 
B™s
::
Log2FloÜ
(
bË_size
);

548 
as£¹
(
¡©ic_ÿ¡
<>(
kušt32max
 >> 
shiá
è=ğ
bË_size
 - 1);

549 cÚ¡ * 
	g_’d
 = 
šput
 + 
šput_size
;

550 cÚ¡ * 
	gba£_
 = 

;

553 cÚ¡ * 
	gÃxt_em™
 = 

;

555 cÚ¡ 
size_t
 
	gkIÅutM¬gšBy‹s
 = 15;

556 ià(
SNAPPY_PREDICT_TRUE
(
šput_size
 >ğ
kIÅutM¬gšBy‹s
)) {

557 cÚ¡ * 
_lim™
 = 
šput
 + 
šput_size
 - 
kIÅutM¬gšBy‹s
;

559 
ušt32
 
	gÃxt_hash
 = 
Hash
(++

, 
shiá
); ; ) {

560 
as£¹
(
Ãxt_em™
 < 

);

586 
ušt32
 
	gsk
 = 32;

588 cÚ¡ * 
	gÃxt_
 = 

;

589 cÚ¡ * 
	gÿndid©e
;

591 
	g
 = 
Ãxt_
;

592 
ušt32
 
	ghash
 = 
Ãxt_hash
;

593 
as£¹
(
hash
 =ğ
Hash
(

, 
shiá
));

594 
ušt32
 
	gby‹s_b‘w“n_hash_lookups
 = 
sk
 >> 5;

595 
	gsk
 +ğ
by‹s_b‘w“n_hash_lookups
;

596 
	gÃxt_
 = 

 + 
by‹s_b‘w“n_hash_lookups
;

597 ià(
SNAPPY_PREDICT_FALSE
(
Ãxt_
 > 
_lim™
)) {

598 
	gem™_»mašd”
;

600 
	gÃxt_hash
 = 
Hash
(
Ãxt_
, 
shiá
);

601 
	gÿndid©e
 = 
ba£_
 + 
bË
[
hash
];

602 
as£¹
(
ÿndid©e
 >ğ
ba£_
);

603 
as£¹
(
ÿndid©e
 < 

);

605 
	gbË
[
hash
] = 

 - 
ba£_
;

606 } 
SNAPPY_PREDICT_TRUE
(
UNALIGNED_LOAD32
(

) !=

607 
UNALIGNED_LOAD32
(
ÿndid©e
)));

612 
as£¹
(
Ãxt_em™
 + 16 <ğ
_’d
);

613 
	gİ
 = 
Em™L™”®
< 
Œue
>(
İ
, 
	gÃxt_em™
, 
	g
 -‚ext_emit);

623 
EightBy‹sReã»nû
 
	gšput_by‹s
;

624 
ušt32
 
	gÿndid©e_by‹s
 = 0;

629 cÚ¡ * 
	gba£
 = 

;

630 
	g¡d
::
·œ
<
size_t
, 
	gboŞ
> 
	gp
 =

631 
FšdM©chL’gth
(
ÿndid©e
 + 4, 

 + 4, 
_’d
);

632 
size_t
 
	gm©ched
 = 4 + 
p
.
fœ¡
;

633 
	g
 +ğ
m©ched
;

634 
size_t
 
	goff£t
 = 
ba£
 - 
ÿndid©e
;

635 
as£¹
(0 =ğ
memcmp
(
ba£
, 
ÿndid©e
, 
m©ched
));

636 ià(
	gp
.
	g£cÚd
) {

637 
	gİ
 = 
Em™Cİy
< 
Œue
>(
İ
, 
	goff£t
, 
	gm©ched
);

639 
	gİ
 = 
Em™Cİy
< 
çl£
>(
İ
, 
	goff£t
, 
	gm©ched
);

641 
	gÃxt_em™
 = 

;

642 ià(
SNAPPY_PREDICT_FALSE
(

 >ğ
_lim™
)) {

643 
em™_»mašd”
;

648 
	gšput_by‹s
 = 
G‘EightBy‹sAt
(

 - 1);

649 
ušt32
 
	g´ev_hash
 = 
HashBy‹s
(
G‘Ušt32AtOff£t
(
šput_by‹s
, 0), 
shiá
);

650 
	gbË
[
´ev_hash
] = 

 - 
ba£_
 - 1;

651 
ušt32
 
	gcur_hash
 = 
HashBy‹s
(
G‘Ušt32AtOff£t
(
šput_by‹s
, 1), 
shiá
);

652 
	gÿndid©e
 = 
ba£_
 + 
bË
[
cur_hash
];

653 
	gÿndid©e_by‹s
 = 
UNALIGNED_LOAD32
(
ÿndid©e
);

654 
	gbË
[
cur_hash
] = 

 - 
ba£_
;

655 } 
G‘Ušt32AtOff£t
(
šput_by‹s
, 1è=ğ
ÿndid©e_by‹s
);

657 
	gÃxt_hash
 = 
HashBy‹s
(
G‘Ušt32AtOff£t
(
šput_by‹s
, 2), 
shiá
);

658 ++
	g
;

662 
	gem™_»mašd”
:

664 ià(
Ãxt_em™
 < 
_’d
) {

665 
İ
 = 
Em™L™”®
< 
çl£
>(İ, 
	gÃxt_em™
,

666 
	g_’d
 - 
	gÃxt_em™
);

669  
	gİ
;

674 
šlše
 
R•Üt
(cÚ¡ *
®gÜ™hm
, 
size_t
 
com´es£d_size
,

675 
size_t
 
uncom´es£d_size
) {}

717 
šlše
 
ušt32
 
ExŒaùLowBy‹s
(ušt32 
v
, 
n
) {

718 
as£¹
(
n
 >= 0);

719 
as£¹
(
n
 <= 4);

720 #ià
SNAPPY_HAVE_BMI2


721  
_bzhi_u32
(
v
, 8 * 
n
);

725 
ušt64
 
	gmask
 = 0xffffffff;

726  
	gv
 & ~(
	gmask
 << (8 * 
	gn
));

730 
šlše
 
boŞ
 
LeáShiáOv”æows
(
ušt8
 
v®ue
, 
ušt32
 
shiá
) {

731 
as£¹
(
shiá
 < 32);

732 cÚ¡ 
ušt8
 
	gmasks
[] = {

737  (
	gv®ue
 & 
	gmasks
[
shiá
]) != 0;

741 şas 
	cSÇµyDecom´essÜ
 {

742 
	g´iv©e
:

743 
Sourû
* 
»ad”_
;

744 cÚ¡ * 
	g_
;

745 cÚ¡ * 
	g_lim™_
;

746 
ušt32
 
	g³eked_
;

747 
boŞ
 
	geof_
;

748 
	gsü©ch_
[
kMaximumTagL’gth
];

755 
boŞ
 
ReflTag
();

757 
	gpublic
:

758 
ex¶ic™
 
SÇµyDecom´essÜ
(
Sourû
* 
»ad”
)

759 : 
»ad”_
(
»ad”
),

760 
_
(
NULL
),

761 
_lim™_
(
NULL
),

762 
³eked_
(0),

763 
eof_
(
çl£
) {

766 ~
SÇµyDecom´essÜ
() {

768 
	g»ad”_
->
Sk
(
³eked_
);

772 
boŞ
 
eof
() const {

773  
	geof_
;

779 
boŞ
 
R—dUncom´es£dL’gth
(
ušt32
* 
»suÉ
) {

780 
as£¹
(
_
 =ğ
NULL
);

782 *
	g»suÉ
 = 0;

783 
ušt32
 
	gshiá
 = 0;

784 
	gŒue
) {

785 ià(
	gshiá
 >ğ32è 
çl£
;

786 
size_t
 
	gn
;

787 cÚ¡ * 
	g
 = 
»ad”_
->
P“k
(&
n
);

788 ià(
	gn
 =ğ0è 
çl£
;

789 cÚ¡ 
	gc
 = *(
»š‹½»t_ÿ¡
<cÚ¡ *>(

));

790 
	g»ad”_
->
Sk
(1);

791 
ušt32
 
	gv®
 = 
c
 & 0x7f;

792 ià(
LeáShiáOv”æows
(
¡©ic_ÿ¡
<
ušt8
>(
v®
), 
shiá
)è 
	gçl£
;

793 *
	g»suÉ
 |ğ
v®
 << 
shiá
;

794 ià(
	gc
 < 128) {

797 
	gshiá
 += 7;

799  
	gŒue
;

804 
	g‹m¶©e
 <
şass
 
	gWr™”
>

805 #ià
defšed
(
__GNUC__
è&& defšed(
__x86_64__
)

806 
__©Œibu‹__
((
®igÃd
(32)))

808 
Decom´essAÎTags
(
Wr™”
* 
wr™”
) {

819 #ià
defšed
(
__GNUC__
è&& defšed(
__x86_64__
)

821 
asm
(".byte 0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00");

822 
asm
(".byte 0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00");

825 cÚ¡ * 
	g
 = 
_
;

830 
	#MAYBE_REFILL
() \

831 ià(
_lim™_
 - 

 < 
kMaximumTagL’gth
) { \

832 
_
 = 

; \

833 ià(!
	`ReflTag
()) ; \

834 

 = 
_
; \

835 }

	)

837 
MAYBE_REFILL
();

839 cÚ¡ 
	gc
 = *(
»š‹½»t_ÿ¡
<cÚ¡ *>(

++));

853 ià(
SNAPPY_PREDICT_FALSE
((
c
 & 0x3è=ğ
LITERAL
)) {

854 
size_t
 
l™”®_Ëngth
 = (
c
 >> 2) + 1u;

855 ià(
	gwr™”
->
TryFa¡Aµ’d
(

, 
_lim™_
 - ip, 
l™”®_Ëngth
)) {

856 
as£¹
(
l™”®_Ëngth
 < 61);

857 
	g
 +ğ
l™”®_Ëngth
;

863 ià(
SNAPPY_PREDICT_FALSE
(
l™”®_Ëngth
 >= 61)) {

865 cÚ¡ 
size_t
 
l™”®_Ëngth_Ëngth
 = 
l™”®_Ëngth
 - 60;

866 
	gl™”®_Ëngth
 =

867 
ExŒaùLowBy‹s
(
L™eEndŸn
::
Lßd32
(

), 
l™”®_Ëngth_Ëngth
) +

869 
	g
 +ğ
l™”®_Ëngth_Ëngth
;

872 
size_t
 
	gava
 = 
_lim™_
 - 

;

873 
	gava
 < 
	gl™”®_Ëngth
) {

874 ià(!
	gwr™”
->
Aµ’d
(

, 
ava
)) ;

875 
	gl™”®_Ëngth
 -ğ
ava
;

876 
	g»ad”_
->
Sk
(
³eked_
);

877 
size_t
 
	gn
;

878 
	g
 = 
»ad”_
->
P“k
(&
n
);

879 
	gava
 = 
n
;

880 
	g³eked_
 = 
ava
;

881 ià(
	gava
 == 0) ;

882 
	g_lim™_
 = 

 + 
ava
;

884 ià(!
	gwr™”
->
Aµ’d
(

, 
l™”®_Ëngth
)) {

887 
	g
 +ğ
l™”®_Ëngth
;

888 
MAYBE_REFILL
();

890 cÚ¡ 
size_t
 
	g’Œy
 = 
ch¬_bË
[
c
];

891 cÚ¡ 
size_t
 
	gŒa”
 =

892 
ExŒaùLowBy‹s
(
L™eEndŸn
::
Lßd32
(

), 
’Œy
 >> 11);

893 cÚ¡ 
size_t
 
	gËngth
 = 
’Œy
 & 0xff;

894 
	g
 +ğ
’Œy
 >> 11;

899 cÚ¡ 
size_t
 
	gcİy_off£t
 = 
’Œy
 & 0x700;

900 ià(!
	gwr™”
->
Aµ’dFromS–f
(
cİy_off£t
 + 
Œa”
, 
Ëngth
)) {

903 
MAYBE_REFILL
();

907 #undeà
MAYBE_REFILL


911 
boŞ
 
	gSÇµyDecom´essÜ
::
	$ReflTag
() {

912 cÚ¡ * 

 = 
_
;

913 ià(

 =ğ
_lim™_
) {

915 
»ad”_
->
	`Sk
(
³eked_
);

916 
size_t
 
n
;

917 

 = 
»ad”_
->
	`P“k
(&
n
);

918 
³eked_
 = 
n
;

919 
eof_
 = (
n
 == 0);

920 ià(
eof_
è 
çl£
;

921 
_lim™_
 = 

 + 
n
;

925 
	`as£¹
(

 < 
_lim™_
);

926 cÚ¡ 
c
 = *(
»š‹½»t_ÿ¡
<cÚ¡ *>(

));

927 cÚ¡ 
ušt32
 
’Œy
 = 
ch¬_bË
[
c
];

928 cÚ¡ 
ušt32
 
Ãeded
 = (
’Œy
 >> 11) + 1;

929 
	`as£¹
(
Ãeded
 <ğ(
sü©ch_
));

932 
ušt32
 
nbuf
 = 
_lim™_
 - 

;

933 ià(
nbuf
 < 
Ãeded
) {

938 
	`memmove
(
sü©ch_
, 

, 
nbuf
);

939 
»ad”_
->
	`Sk
(
³eked_
);

940 
³eked_
 = 0;

941 
nbuf
 < 
Ãeded
) {

942 
size_t
 
Ëngth
;

943 cÚ¡ * 
¤c
 = 
»ad”_
->
	`P“k
(&
Ëngth
);

944 ià(
Ëngth
 =ğ0è 
çl£
;

945 
ušt32
 
to_add
 = 
¡d
::
mš
<ušt32>(
Ãeded
 - 
nbuf
, 
Ëngth
);

946 
	`memıy
(
sü©ch_
 + 
nbuf
, 
¤c
, 
to_add
);

947 
nbuf
 +ğ
to_add
;

948 
»ad”_
->
	`Sk
(
to_add
);

950 
	`as£¹
(
nbuf
 =ğ
Ãeded
);

951 
_
 = 
sü©ch_
;

952 
_lim™_
 = 
sü©ch_
 + 
Ãeded
;

953 } ià(
nbuf
 < 
kMaximumTagL’gth
) {

956 
	`memmove
(
sü©ch_
, 

, 
nbuf
);

957 
»ad”_
->
	`Sk
(
³eked_
);

958 
³eked_
 = 0;

959 
_
 = 
sü©ch_
;

960 
_lim™_
 = 
sü©ch_
 + 
nbuf
;

963 
_
 = 

;

965  
Œue
;

966 
	}
}

968 
	g‹m¶©e
 <
ty³Çme
 
	gWr™”
>

969 
boŞ
 
	$IÁ”ÇlUncom´ess
(
Sourû
* 
r
, 
Wr™”
* 
wr™”
) {

971 
SÇµyDecom´essÜ
 
	`decom´essÜ
(
r
);

972 
ušt32
 
uncom´es£d_Ën
 = 0;

973 ià(!
decom´essÜ
.
	`R—dUncom´es£dL’gth
(&
uncom´es£d_Ën
)è 
çl£
;

975  
	`IÁ”ÇlUncom´essAÎTags
(&
decom´essÜ
, 
wr™”
, 
r
->
	`AvaabË
(),

976 
uncom´es£d_Ën
);

977 
	}
}

979 
	g‹m¶©e
 <
ty³Çme
 
	gWr™”
>

980 
boŞ
 
	$IÁ”ÇlUncom´essAÎTags
(
SÇµyDecom´essÜ
* 
decom´essÜ
,

981 
Wr™”
* 
wr™”
,

982 
ušt32
 
com´es£d_Ën
,

983 
ušt32
 
uncom´es£d_Ën
) {

984 
	`R•Üt
("¢­py_uncom´ess", 
com´es£d_Ën
, 
uncom´es£d_Ën
);

986 
wr™”
->
	`S‘Ex³ùedL’gth
(
uncom´es£d_Ën
);

989 
decom´essÜ
->
	`Decom´essAÎTags
(
wr™”
);

990 
wr™”
->
	`Flush
();

991  (
decom´essÜ
->
	`eof
(è&& 
wr™”
->
	`CheckL’gth
());

992 
	}
}

994 
boŞ
 
	$G‘Uncom´es£dL’gth
(
Sourû
* 
sourû
, 
ušt32
* 
»suÉ
) {

995 
SÇµyDecom´essÜ
 
	`decom´essÜ
(
sourû
);

996  
decom´essÜ
.
	`R—dUncom´es£dL’gth
(
»suÉ
);

997 
	}
}

999 
size_t
 
	$Com´ess
(
Sourû
* 
»ad”
, 
Sšk
* 
wr™”
) {

1000 
size_t
 
wr™‹n
 = 0;

1001 
size_t
 
N
 = 
»ad”
->
	`AvaabË
();

1002 cÚ¡ 
size_t
 
uncom´es£d_size
 = 
N
;

1003 
uËngth
[
V¬št
::
kMax32
];

1004 * 
p
 = 
V¬št
::
	`Encode32
(
uËngth
, 
N
);

1005 
wr™”
->
	`Aµ’d
(
uËngth
, 
p
-ulength);

1006 
wr™‹n
 +ğ(
p
 - 
uËngth
);

1008 
š‹º®
::
WÜkšgMemÜy
 
	`wmem
(
N
);

1010 
N
 > 0) {

1012 
size_t
 
äagm’t_size
;

1013 cÚ¡ * 
äagm’t
 = 
»ad”
->
	`P“k
(&
äagm’t_size
);

1014 
	`as£¹
(
äagm’t_size
 != 0);

1015 cÚ¡ 
size_t
 
num_to_»ad
 = 
¡d
::
	`mš
(
N
, 
kBlockSize
);

1016 
size_t
 
by‹s_»ad
 = 
äagm’t_size
;

1018 
size_t
 
³ndšg_advªû
 = 0;

1019 ià(
by‹s_»ad
 >ğ
num_to_»ad
) {

1021 
³ndšg_advªû
 = 
num_to_»ad
;

1022 
äagm’t_size
 = 
num_to_»ad
;

1024 * 
sü©ch
 = 
wmem
.
	`G‘Sü©chIÅut
();

1025 
	`memıy
(
sü©ch
, 
äagm’t
, 
by‹s_»ad
);

1026 
»ad”
->
	`Sk
(
by‹s_»ad
);

1028 
by‹s_»ad
 < 
num_to_»ad
) {

1029 
äagm’t
 = 
»ad”
->
	`P“k
(&
äagm’t_size
);

1030 
size_t
 
n
 = 
¡d
::
mš
<size_t>(
äagm’t_size
, 
num_to_»ad
 - 
by‹s_»ad
);

1031 
	`memıy
(
sü©ch
 + 
by‹s_»ad
, 
äagm’t
, 
n
);

1032 
by‹s_»ad
 +ğ
n
;

1033 
»ad”
->
	`Sk
(
n
);

1035 
	`as£¹
(
by‹s_»ad
 =ğ
num_to_»ad
);

1036 
äagm’t
 = 
sü©ch
;

1037 
äagm’t_size
 = 
num_to_»ad
;

1039 
	`as£¹
(
äagm’t_size
 =ğ
num_to_»ad
);

1042 
bË_size
;

1043 
ušt16
* 
bË
 = 
wmem
.
	`G‘HashTabË
(
num_to_»ad
, &
bË_size
);

1046 cÚ¡ 
max_ouut
 = 
	`MaxCom´es£dL’gth
(
num_to_»ad
);

1054 * 
de¡
 = 
wr™”
->
	`G‘Aµ’dBufãr
(
max_ouut
, 
wmem
.
	`G‘Sü©chOuut
());

1055 * 
’d
 = 
š‹º®
::
	`Com´essF¿gm’t
(
äagm’t
, 
äagm’t_size
, 
de¡
, 
bË
,

1056 
bË_size
);

1057 
wr™”
->
	`Aµ’d
(
de¡
, 
’d
 - dest);

1058 
wr™‹n
 +ğ(
’d
 - 
de¡
);

1060 
N
 -ğ
num_to_»ad
;

1061 
»ad”
->
	`Sk
(
³ndšg_advªû
);

1064 
	`R•Üt
("¢­py_com´ess", 
wr™‹n
, 
uncom´es£d_size
);

1066  
wr™‹n
;

1067 
	}
}

1076 şas 
	cSÇµyIOVecWr™”
 {

1077 
	g´iv©e
:

1080 cÚ¡ 
iovec
* 
ouut_iov_’d_
;

1082 #ià!
defšed
(
NDEBUG
)

1083 cÚ¡ 
iovec
* 
	gouut_iov_
;

1087 cÚ¡ 
iovec
* 
	gcu¼_iov_
;

1090 * 
	gcu¼_iov_ouut_
;

1093 
size_t
 
	gcu¼_iov_»maššg_
;

1096 
size_t
 
	gtÙ®_wr™‹n_
;

1099 
size_t
 
	gouut_lim™_
;

1101 
šlše
 * 
G‘IOVecPoš‹r
(cÚ¡ 
iovec
* 
iov
, 
size_t
 
off£t
) {

1102  
	g»š‹½»t_ÿ¡
<*>(
	giov
->
	giov_ba£
è+ 
	goff£t
;

1105 
	gpublic
:

1108 
šlše
 
SÇµyIOVecWr™”
(cÚ¡ 
iovec
* 
iov
, 
size_t
 
iov_couÁ
)

1109 : 
ouut_iov_’d_
(
iov
 + 
iov_couÁ
),

1110 #ià!
defšed
(
NDEBUG
)

1111 
ouut_iov_
(
iov
),

1113 
cu¼_iov_
(
iov
),

1114 
cu¼_iov_ouut_
(
iov_couÁ
 ? 
»š‹½»t_ÿ¡
<*>(
iov
->
iov_ba£
)

1115 : 
nuÎ±r
),

1116 
cu¼_iov_»maššg_
(
iov_couÁ
 ? 
iov
->
iov_Ën
 : 0),

1117 
tÙ®_wr™‹n_
(0),

1118 
ouut_lim™_
(-1) {}

1120 
šlše
 
S‘Ex³ùedL’gth
(
size_t
 
Ën
) {

1121 
	gouut_lim™_
 = 
Ën
;

1124 
šlše
 
boŞ
 
CheckL’gth
() const {

1125  
	gtÙ®_wr™‹n_
 =ğ
ouut_lim™_
;

1128 
šlše
 
boŞ
 
Aµ’d
(cÚ¡ * 

, 
size_t
 
Ën
) {

1129 ià(
	gtÙ®_wr™‹n_
 + 
	gËn
 > 
	gouut_lim™_
) {

1130  
	gçl£
;

1133  
Aµ’dNoCheck
(

, 
Ën
);

1136 
šlše
 
boŞ
 
Aµ’dNoCheck
(cÚ¡ * 

, 
size_t
 
Ën
) {

1137 
	gËn
 > 0) {

1138 ià(
	gcu¼_iov_»maššg_
 == 0) {

1140 ià(
cu¼_iov_
 + 1 >ğ
ouut_iov_’d_
) {

1141  
çl£
;

1143 ++
	gcu¼_iov_
;

1144 
	gcu¼_iov_ouut_
 = 
»š‹½»t_ÿ¡
<*>(
cu¼_iov_
->
iov_ba£
);

1145 
	gcu¼_iov_»maššg_
 = 
cu¼_iov_
->
iov_Ën
;

1148 cÚ¡ 
size_t
 
	gto_wr™e
 = 
¡d
::
mš
(
Ën
, 
cu¼_iov_»maššg_
);

1149 
memıy
(
cu¼_iov_ouut_
, 

, 
to_wr™e
);

1150 
	gcu¼_iov_ouut_
 +ğ
to_wr™e
;

1151 
	gcu¼_iov_»maššg_
 -ğ
to_wr™e
;

1152 
	gtÙ®_wr™‹n_
 +ğ
to_wr™e
;

1153 
	g
 +ğ
to_wr™e
;

1154 
	gËn
 -ğ
to_wr™e
;

1157  
	gŒue
;

1160 
šlše
 
boŞ
 
TryFa¡Aµ’d
(cÚ¡ * 

, 
size_t
 
avaabË
, size_ˆ
Ën
) {

1161 cÚ¡ 
size_t
 
	g¥aû_Ëá
 = 
ouut_lim™_
 - 
tÙ®_wr™‹n_
;

1162 ià(
	gËn
 <ğ16 && 
avaabË
 >ğ16 + 
kMaximumTagL’gth
 && 
¥aû_Ëá
 >= 16 &&

1163 
cu¼_iov_»maššg_
 >= 16) {

1165 
UÇligÃdCİy128
(

, 
cu¼_iov_ouut_
);

1166 
	gcu¼_iov_ouut_
 +ğ
Ën
;

1167 
	gcu¼_iov_»maššg_
 -ğ
Ën
;

1168 
	gtÙ®_wr™‹n_
 +ğ
Ën
;

1169  
	gŒue
;

1172  
	gçl£
;

1175 
šlše
 
boŞ
 
Aµ’dFromS–f
(
size_t
 
off£t
, size_ˆ
Ën
) {

1178 ià(
	goff£t
 - 1u >ğ
tÙ®_wr™‹n_
) {

1179  
çl£
;

1181 cÚ¡ 
size_t
 
	g¥aû_Ëá
 = 
ouut_lim™_
 - 
tÙ®_wr™‹n_
;

1182 ià(
	gËn
 > 
	g¥aû_Ëá
) {

1183  
	gçl£
;

1187 cÚ¡ 
iovec
* 
	gäom_iov
 = 
cu¼_iov_
;

1188 
size_t
 
	gäom_iov_off£t
 = 
cu¼_iov_
->
iov_Ën
 - 
cu¼_iov_»maššg_
;

1189 
	goff£t
 > 0) {

1190 ià(
	gäom_iov_off£t
 >ğ
off£t
) {

1191 
äom_iov_off£t
 -ğ
off£t
;

1195 
	goff£t
 -ğ
äom_iov_off£t
;

1196 --
	gäom_iov
;

1197 #ià!
defšed
(
NDEBUG
)

1198 
as£¹
(
äom_iov
 >ğ
ouut_iov_
);

1200 
	gäom_iov_off£t
 = 
äom_iov
->
iov_Ën
;

1205 
	gËn
 > 0) {

1206 
as£¹
(
äom_iov
 <ğ
cu¼_iov_
);

1207 ià(
	gäom_iov
 !ğ
cu¼_iov_
) {

1208 cÚ¡ 
size_t
 
to_cİy
 =

1209 
¡d
::
mš
(
äom_iov
->
iov_Ën
 - 
äom_iov_off£t
, 
Ën
);

1210 
Aµ’dNoCheck
(
G‘IOVecPoš‹r
(
äom_iov
, 
äom_iov_off£t
), 
to_cİy
);

1211 
	gËn
 -ğ
to_cİy
;

1212 ià(
	gËn
 > 0) {

1213 ++
	gäom_iov
;

1214 
	gäom_iov_off£t
 = 0;

1217 
size_t
 
	gto_cİy
 = 
cu¼_iov_»maššg_
;

1218 ià(
	gto_cİy
 == 0) {

1220 ià(
cu¼_iov_
 + 1 >ğ
ouut_iov_’d_
) {

1221  
çl£
;

1223 ++
	gcu¼_iov_
;

1224 
	gcu¼_iov_ouut_
 = 
»š‹½»t_ÿ¡
<*>(
cu¼_iov_
->
iov_ba£
);

1225 
	gcu¼_iov_»maššg_
 = 
cu¼_iov_
->
iov_Ën
;

1228 ià(
	gto_cİy
 > 
	gËn
) {

1229 
	gto_cİy
 = 
Ën
;

1232 
Inüem’lCİy
(
G‘IOVecPoš‹r
(
äom_iov
, 
äom_iov_off£t
),

1233 
cu¼_iov_ouut_
, cu¼_iov_ouut_ + 
to_cİy
,

1234 
cu¼_iov_ouut_
 + 
cu¼_iov_»maššg_
);

1235 
	gcu¼_iov_ouut_
 +ğ
to_cİy
;

1236 
	gcu¼_iov_»maššg_
 -ğ
to_cİy
;

1237 
	gäom_iov_off£t
 +ğ
to_cİy
;

1238 
	gtÙ®_wr™‹n_
 +ğ
to_cİy
;

1239 
	gËn
 -ğ
to_cİy
;

1243  
	gŒue
;

1246 
šlše
 
Flush
() {}

1249 
boŞ
 
	$RawUncom´essToIOVec
(cÚ¡ * 
com´es£d
, 
size_t
 
com´es£d_Ëngth
,

1250 cÚ¡ 
iovec
* 
iov
, 
size_t
 
iov_út
) {

1251 
By‹A¼aySourû
 
	`»ad”
(
com´es£d
, 
com´es£d_Ëngth
);

1252  
	`RawUncom´essToIOVec
(&
»ad”
, 
iov
, 
iov_út
);

1253 
	}
}

1255 
boŞ
 
	$RawUncom´essToIOVec
(
Sourû
* 
com´es£d
, cÚ¡ 
iovec
* 
iov
,

1256 
size_t
 
iov_út
) {

1257 
SÇµyIOVecWr™”
 
	`ouut
(
iov
, 
iov_út
);

1258  
	`IÁ”ÇlUncom´ess
(
com´es£d
, &
ouut
);

1259 
	}
}

1268 şas 
	cSÇµyA¼ayWr™”
 {

1269 
	g´iv©e
:

1270 * 
ba£_
;

1271 * 
	gİ_
;

1272 * 
	gİ_lim™_
;

1274 
	gpublic
:

1275 
šlše
 
ex¶ic™
 
SÇµyA¼ayWr™”
(* 
d¡
)

1276 : 
ba£_
(
d¡
),

1277 
İ_
(
d¡
),

1278 
İ_lim™_
(
d¡
) {

1281 
šlše
 
S‘Ex³ùedL’gth
(
size_t
 
Ën
) {

1282 
	gİ_lim™_
 = 
İ_
 + 
Ën
;

1285 
šlše
 
boŞ
 
CheckL’gth
() const {

1286  
	gİ_
 =ğ
İ_lim™_
;

1289 
šlše
 
boŞ
 
Aµ’d
(cÚ¡ * 

, 
size_t
 
Ën
) {

1290 * 
	gİ
 = 
İ_
;

1291 cÚ¡ 
size_t
 
	g¥aû_Ëá
 = 
İ_lim™_
 - 
İ
;

1292 ià(
	g¥aû_Ëá
 < 
	gËn
) {

1293  
	gçl£
;

1295 
memıy
(
İ
, 

, 
Ën
);

1296 
	gİ_
 = 
İ
 + 
Ën
;

1297  
	gŒue
;

1300 
šlše
 
boŞ
 
TryFa¡Aµ’d
(cÚ¡ * 

, 
size_t
 
avaabË
, size_ˆ
Ën
) {

1301 * 
	gİ
 = 
İ_
;

1302 cÚ¡ 
size_t
 
	g¥aû_Ëá
 = 
İ_lim™_
 - 
İ
;

1303 ià(
	gËn
 <ğ16 && 
avaabË
 >ğ16 + 
kMaximumTagL’gth
 && 
¥aû_Ëá
 >= 16) {

1305 
UÇligÃdCİy128
(

, 
İ
);

1306 
	gİ_
 = 
İ
 + 
Ën
;

1307  
	gŒue
;

1309  
	gçl£
;

1313 
šlše
 
boŞ
 
Aµ’dFromS–f
(
size_t
 
off£t
, size_ˆ
Ën
) {

1314 * cÚ¡ 
	gİ_’d
 = 
İ_
 + 
Ën
;

1323 ià(
Produûd
(è<ğ
off£t
 - 1u || 
İ_’d
 > 
İ_lim™_
è 
çl£
;

1324 
	gİ_
 = 
Inüem’lCİy
(
İ_
 - 
off£t
, op_, 
İ_’d
, 
İ_lim™_
);

1326  
	gŒue
;

1328 
šlše
 
size_t
 
Produûd
() const {

1329 
as£¹
(
İ_
 >ğ
ba£_
);

1330  
	gİ_
 - 
	gba£_
;

1332 
šlše
 
Flush
() {}

1335 
boŞ
 
	$RawUncom´ess
(cÚ¡ * 
com´es£d
, 
size_t
 
n
, * 
uncom´es£d
) {

1336 
By‹A¼aySourû
 
	`»ad”
(
com´es£d
, 
n
);

1337  
	`RawUncom´ess
(&
»ad”
, 
uncom´es£d
);

1338 
	}
}

1340 
boŞ
 
	$RawUncom´ess
(
Sourû
* 
com´es£d
, * 
uncom´es£d
) {

1341 
SÇµyA¼ayWr™”
 
	`ouut
(
uncom´es£d
);

1342  
	`IÁ”ÇlUncom´ess
(
com´es£d
, &
ouut
);

1343 
	}
}

1345 
boŞ
 
	$Uncom´ess
(
Sourû
 *
»ad”
, 
size_t
 
n
, 
¡d
::
¡ršg
* 
uncom´es£d
) {

1346 
ušt32_t
 
uËngth
;

1348 ià(!
	`G‘Uncom´es£dL’gth
(
»ad”
, &
uËngth
)) {

1349  
çl£
;

1353 ià(
uËngth
 > 
uncom´es£d
->
	`max_size
()) {

1354  
çl£
;

1356 
	`STLSŒšgResizeUnš™Ÿlized
(
uncom´es£d
, 
uËngth
);

1357 ià(
»ad”
->
	`Re£t
() != 0) {

1358  
çl£
;

1360  
	`RawUncom´ess
(
»ad”
, 
	`¡ršg_as_¬¿y
(
uncom´es£d
));

1361 
	}
}

1363 
boŞ
 
	$Uncom´ess
(cÚ¡ * 
com´es£d
, 
size_t
 
n
, 
¡d
::
¡ršg
* 
uncom´es£d
) {

1364 
By‹A¼aySourû
 
	`»ad”
(
com´es£d
, 
n
);

1365  
	`Uncom´ess
(&
»ad”
, 
n
, 
uncom´es£d
);

1366 
	}
}

1369 şas 
	cSÇµyDecom´essiÚV®id©Ü
 {

1370 
	g´iv©e
:

1371 
size_t
 
ex³ùed_
;

1372 
size_t
 
	g´oduûd_
;

1374 
	gpublic
:

1375 
šlše
 
SÇµyDecom´essiÚV®id©Ü
(è: 
ex³ùed_
(0), 
´oduûd_
(0) { }

1376 
šlše
 
S‘Ex³ùedL’gth
(
size_t
 
Ën
) {

1377 
	gex³ùed_
 = 
Ën
;

1379 
šlše
 
boŞ
 
CheckL’gth
() const {

1380  
	gex³ùed_
 =ğ
´oduûd_
;

1382 
šlše
 
boŞ
 
Aµ’d
(cÚ¡ * 

, 
size_t
 
Ën
) {

1383 
	g´oduûd_
 +ğ
Ën
;

1384  
	g´oduûd_
 <ğ
ex³ùed_
;

1386 
šlše
 
boŞ
 
TryFa¡Aµ’d
(cÚ¡ * 

, 
size_t
 
avaabË
, size_ˆ
Ëngth
) {

1387  
	gçl£
;

1389 
šlše
 
boŞ
 
Aµ’dFromS–f
(
size_t
 
off£t
, size_ˆ
Ën
) {

1392 ià(
	g´oduûd_
 <ğ
off£t
 - 1uè 
çl£
;

1393 
	g´oduûd_
 +ğ
Ën
;

1394  
	g´oduûd_
 <ğ
ex³ùed_
;

1396 
šlše
 
Flush
() {}

1399 
boŞ
 
	$IsV®idCom´es£dBufãr
(cÚ¡ * 
com´es£d
, 
size_t
 
n
) {

1400 
By‹A¼aySourû
 
	`»ad”
(
com´es£d
, 
n
);

1401 
SÇµyDecom´essiÚV®id©Ü
 
wr™”
;

1402  
	`IÁ”ÇlUncom´ess
(&
»ad”
, &
wr™”
);

1403 
	}
}

1405 
boŞ
 
	$IsV®idCom´es£d
(
Sourû
* 
com´es£d
) {

1406 
SÇµyDecom´essiÚV®id©Ü
 
wr™”
;

1407  
	`IÁ”ÇlUncom´ess
(
com´es£d
, &
wr™”
);

1408 
	}
}

1410 
	$RawCom´ess
(cÚ¡ * 
šput
,

1411 
size_t
 
šput_Ëngth
,

1412 * 
com´es£d
,

1413 
size_t
* 
com´es£d_Ëngth
) {

1414 
By‹A¼aySourû
 
	`»ad”
(
šput
, 
šput_Ëngth
);

1415 
UncheckedBy‹A¼aySšk
 
	`wr™”
(
com´es£d
);

1416 
	`Com´ess
(&
»ad”
, &
wr™”
);

1419 *
com´es£d_Ëngth
 = (
wr™”
.
	`Cu¼’tDe¡š©iÚ
(è- 
com´es£d
);

1420 
	}
}

1422 
size_t
 
	$Com´ess
(cÚ¡ * 
šput
, 
size_t
 
šput_Ëngth
,

1423 
¡d
::
¡ršg
* 
com´es£d
) {

1425 
	`STLSŒšgResizeUnš™Ÿlized
(
com´es£d
, 
	`MaxCom´es£dL’gth
(
šput_Ëngth
));

1427 
size_t
 
com´es£d_Ëngth
;

1428 
	`RawCom´ess
(
šput
, 
šput_Ëngth
, 
	`¡ršg_as_¬¿y
(
com´es£d
),

1429 &
com´es£d_Ëngth
);

1430 
com´es£d
->
	`»size
(
com´es£d_Ëngth
);

1431  
com´es£d_Ëngth
;

1432 
	}
}

1434 
size_t
 
	$Com´ess
(
Sourû
 *
»ad”
, 
size_t
 
šput_Ëngth
, 
¡d
::
¡ršg
 *
com´es£d
) {

1436 
	`STLSŒšgResizeUnš™Ÿlized
(
com´es£d
, 
	`MaxCom´es£dL’gth
(
šput_Ëngth
));

1438 
size_t
 
com´es£d_Ëngth
;

1439 * 
com´es£d_±r
 = 
	`¡ršg_as_¬¿y
(
com´es£d
);

1440 
UncheckedBy‹A¼aySšk
 
	`wr™”
(
com´es£d_±r
);

1441 
	`Com´ess
(
»ad”
, &
wr™”
);

1444 
com´es£d_Ëngth
 = (
wr™”
.
	`Cu¼’tDe¡š©iÚ
(è- 
com´es£d_±r
);

1445 
com´es£d
->
	`»size
(
com´es£d_Ëngth
);

1446  
com´es£d_Ëngth
;

1447 
	}
}

1456 
	g‹m¶©e
 <
ty³Çme
 
	gAÎoÿtÜ
>

1457 şas 
	cSÇµySÿ‰”edWr™”
 {

1458 
AÎoÿtÜ
 
	g®loÿtÜ_
;

1463 
	g¡d
::
veùÜ
<*> 
blocks_
;

1464 
size_t
 
	gex³ùed_
;

1467 
size_t
 
	gfuÎ_size_
;

1470 * 
	gİ_ba£_
;

1471 * 
	gİ_±r_
;

1472 * 
	gİ_lim™_
;

1474 
šlše
 
size_t
 
Size
() const {

1475  
	gfuÎ_size_
 + (
	gİ_±r_
 - 
	gİ_ba£_
);

1478 
boŞ
 
SlowAµ’d
(cÚ¡ * 

, 
size_t
 
Ën
);

1479 
boŞ
 
SlowAµ’dFromS–f
(
size_t
 
off£t
, size_ˆ
Ën
);

1481 
	gpublic
:

1482 
šlše
 
ex¶ic™
 
SÇµySÿ‰”edWr™”
(cÚ¡ 
AÎoÿtÜ
& 
®loÿtÜ
)

1483 : 
®loÿtÜ_
(
®loÿtÜ
),

1484 
fuÎ_size_
(0),

1485 
İ_ba£_
(
NULL
),

1486 
İ_±r_
(
NULL
),

1487 
İ_lim™_
(
NULL
) {

1490 
šlše
 
S‘Ex³ùedL’gth
(
size_t
 
Ën
) {

1491 
as£¹
(
blocks_
.
em±y
());

1492 
	gex³ùed_
 = 
Ën
;

1495 
šlše
 
boŞ
 
CheckL’gth
() const {

1496  
Size
(è=ğ
ex³ùed_
;

1500 
šlše
 
size_t
 
Produûd
() const {

1501  
Size
();

1504 
šlše
 
boŞ
 
Aµ’d
(cÚ¡ * 

, 
size_t
 
Ën
) {

1505 
size_t
 
	gava
 = 
İ_lim™_
 - 
İ_±r_
;

1506 ià(
	gËn
 <ğ
ava
) {

1508 
memıy
(
İ_±r_
, 

, 
Ën
);

1509 
	gİ_±r_
 +ğ
Ën
;

1510  
	gŒue
;

1512  
SlowAµ’d
(

, 
Ën
);

1516 
šlše
 
boŞ
 
TryFa¡Aµ’d
(cÚ¡ * 

, 
size_t
 
avaabË
, size_ˆ
Ëngth
) {

1517 * 
	gİ
 = 
İ_±r_
;

1518 cÚ¡ 
	g¥aû_Ëá
 = 
İ_lim™_
 - 
İ
;

1519 ià(
	gËngth
 <ğ16 && 
avaabË
 >ğ16 + 
kMaximumTagL’gth
 &&

1520 
¥aû_Ëá
 >= 16) {

1522 
UÇligÃdCİy128
(

, 
İ
);

1523 
	gİ_±r_
 = 
İ
 + 
Ëngth
;

1524  
	gŒue
;

1526  
	gçl£
;

1530 
šlše
 
boŞ
 
Aµ’dFromS–f
(
size_t
 
off£t
, size_ˆ
Ën
) {

1531 * cÚ¡ 
	gİ_’d
 = 
İ_±r_
 + 
Ën
;

1534 ià(
SNAPPY_PREDICT_TRUE
(
off£t
 - 1u < 
İ_±r_
 - 
İ_ba£_
 &&

1535 
İ_’d
 <ğ
İ_lim™_
)) {

1537 
İ_±r_
 = 
Inüem’lCİy
(İ_±r_ - 
off£t
, op_±r_, 
İ_’d
, 
İ_lim™_
);

1538  
	gŒue
;

1540  
SlowAµ’dFromS–f
(
off£t
, 
Ën
);

1545 
šlše
 
Flush
(è{ 
	g®loÿtÜ_
.Flush(
Produûd
()); }

1548 
	g‹m¶©e
<
ty³Çme
 
	gAÎoÿtÜ
>

1549 
boŞ
 
	gSÇµySÿ‰”edWr™”
<
	gAÎoÿtÜ
>::
	$SlowAµ’d
(cÚ¡ * 

, 
size_t
 
Ën
) {

1550 
size_t
 
ava
 = 
İ_lim™_
 - 
İ_±r_
;

1551 
Ën
 > 
ava
) {

1553 
	`memıy
(
İ_±r_
, 

, 
ava
);

1554 
İ_±r_
 +ğ
ava
;

1555 
	`as£¹
(
İ_lim™_
 - 
İ_±r_
 == 0);

1556 
fuÎ_size_
 +ğ(
İ_±r_
 - 
İ_ba£_
);

1557 
Ën
 -ğ
ava
;

1558 

 +ğ
ava
;

1561 ià(
fuÎ_size_
 + 
Ën
 > 
ex³ùed_
) {

1562  
çl£
;

1566 
size_t
 
bsize
 = 
¡d
::
mš
<size_t>(
kBlockSize
, 
ex³ùed_
 - 
fuÎ_size_
);

1567 
İ_ba£_
 = 
®loÿtÜ_
.
	`AÎoÿ‹
(
bsize
);

1568 
İ_±r_
 = 
İ_ba£_
;

1569 
İ_lim™_
 = 
İ_ba£_
 + 
bsize
;

1570 
blocks_
.
	`push_back
(
İ_ba£_
);

1571 
ava
 = 
bsize
;

1574 
	`memıy
(
İ_±r_
, 

, 
Ën
);

1575 
İ_±r_
 +ğ
Ën
;

1576  
Œue
;

1577 
	}
}

1579 
	g‹m¶©e
<
ty³Çme
 
	gAÎoÿtÜ
>

1580 
boŞ
 
	gSÇµySÿ‰”edWr™”
<
	gAÎoÿtÜ
>::
	$SlowAµ’dFromS–f
(
size_t
 
off£t
,

1581 
size_t
 
Ën
) {

1585 cÚ¡ 
size_t
 
cur
 = 
	`Size
();

1586 ià(
off£t
 - 1u >ğ
cur
è 
çl£
;

1587 ià(
ex³ùed_
 - 
cur
 < 
Ën
è 
çl£
;

1594 
size_t
 
¤c
 = 
cur
 - 
off£t
;

1595 
Ën
-- > 0) {

1596 
c
 = 
blocks_
[
¤c
 >> 
kBlockLog
][¤ø& (
kBlockSize
-1)];

1597 
	`Aµ’d
(&
c
, 1);

1598 
¤c
++;

1600  
Œue
;

1601 
	}
}

1603 şas 
	cSÇµySškAÎoÿtÜ
 {

1604 
	gpublic
:

1605 
ex¶ic™
 
SÇµySškAÎoÿtÜ
(
Sšk
* 
de¡
): 
de¡_
(dest) {}

1606 ~
SÇµySškAÎoÿtÜ
() {}

1608 * 
AÎoÿ‹
(
size
) {

1609 
D©ablock
 
block
(
Ãw
 [
size
], size);

1610 
	gblocks_
.
push_back
(
block
);

1611  
	gblock
.
	gd©a
;

1619 
Flush
(
size_t
 
size
) {

1620 
size_t
 
	gsize_wr™‹n
 = 0;

1621 
size_t
 
	gblock_size
;

1622 
	gi
 = 0; i < 
	gblocks_
.
size
(); ++i) {

1623 
	gblock_size
 = 
¡d
::
mš
<
size_t
>(
blocks_
[
i
].
size
, 
	gsize
 - 
	gsize_wr™‹n
);

1624 
	gde¡_
->
Aµ’dAndTakeOwÃrsh
(
blocks_
[
i
].
d©a
, 
block_size
,

1625 &
SÇµySškAÎoÿtÜ
::
D–‘”
, 
NULL
);

1626 
	gsize_wr™‹n
 +ğ
block_size
;

1628 
	gblocks_
.
ş—r
();

1631 
	g´iv©e
:

1632 
	sD©ablock
 {

1633 * 
d©a
;

1634 
size_t
 
	gsize
;

1635 
D©ablock
(* 
p
, 
size_t
 
s
è: 
d©a
Õ), 
size
(s) {}

1638 
D–‘”
(* 
¬g
, cÚ¡ * 
by‹s
, 
size_t
 
size
) {

1639 
	gd–‘e
[] 
	gby‹s
;

1642 
Sšk
* 
	gde¡_
;

1643 
	g¡d
::
veùÜ
<
D©ablock
> 
blocks_
;

1648 
size_t
 
	$Uncom´essAsMuchAsPossibË
(
Sourû
* 
com´es£d
, 
Sšk
* 
uncom´es£d
) {

1649 
SÇµySškAÎoÿtÜ
 
	`®loÿtÜ
(
uncom´es£d
);

1650 
SÇµySÿ‰”edWr™”
<
SÇµySškAÎoÿtÜ
> 
	`wr™”
(
®loÿtÜ
);

1651 
	`IÁ”ÇlUncom´ess
(
com´es£d
, &
wr™”
);

1652  
wr™”
.
	`Produûd
();

1653 
	}
}

1655 
boŞ
 
	$Uncom´ess
(
Sourû
* 
com´es£d
, 
Sšk
* 
uncom´es£d
) {

1657 
SÇµyDecom´essÜ
 
	`decom´essÜ
(
com´es£d
);

1658 
ušt32
 
uncom´es£d_Ën
 = 0;

1659 ià(!
decom´essÜ
.
	`R—dUncom´es£dL’gth
(&
uncom´es£d_Ën
)) {

1660  
çl£
;

1663 
c
;

1664 
size_t
 
®loÿ‹d_size
;

1665 * 
buf
 = 
uncom´es£d
->
	`G‘Aµ’dBufãrV¬ŸbË
(

1666 1, 
uncom´es£d_Ën
, &
c
, 1, &
®loÿ‹d_size
);

1668 cÚ¡ 
size_t
 
com´es£d_Ën
 = 
com´es£d
->
	`AvaabË
();

1671 ià(
®loÿ‹d_size
 >ğ
uncom´es£d_Ën
) {

1672 
SÇµyA¼ayWr™”
 
	`wr™”
(
buf
);

1673 
boŞ
 
»suÉ
 = 
	`IÁ”ÇlUncom´essAÎTags
(&
decom´essÜ
, &
wr™”
,

1674 
com´es£d_Ën
, 
uncom´es£d_Ën
);

1675 
uncom´es£d
->
	`Aµ’d
(
buf
, 
wr™”
.
	`Produûd
());

1676  
»suÉ
;

1678 
SÇµySškAÎoÿtÜ
 
	`®loÿtÜ
(
uncom´es£d
);

1679 
SÇµySÿ‰”edWr™”
<
SÇµySškAÎoÿtÜ
> 
	`wr™”
(
®loÿtÜ
);

1680  
	`IÁ”ÇlUncom´essAÎTags
(&
decom´essÜ
, &
wr™”
, 
com´es£d_Ën
,

1681 
uncom´es£d_Ën
);

1683 
	}
}

	@snappy/snappy.h

39 #iâdeà
THIRD_PARTY_SNAPPY_SNAPPY_H__


40 
	#THIRD_PARTY_SNAPPY_SNAPPY_H__


	)

42 
	~<c¡ddef
>

43 
	~<¡ršg
>

45 
	~"¬¿y.hµ
"

46 
	~"d”ef_scİe.hµ
"

47 
	~"¢­py-sšksourû.h
"

48 
	~"¢­py-¡ubs-public.h
"

50 
usšg
 
Çme¥aû
 
	gçr_memÜy
;

52 
Çme¥aû
 
	g¢­py
 {

53 
şass
 
	gSourû
;

54 
şass
 
	gSšk
;

62 
size_t
 
Com´ess
(
Sourû
* 
sourû
, 
Sšk
* 
sšk
);

71 
boŞ
 
G‘Uncom´es£dL’gth
(
Sourû
* 
sourû
, 
ušt32
* 
»suÉ
);

81 
size_t
 
Com´ess
(cÚ¡ * 
šput
, size_ˆ
šput_Ëngth
,

82 
¡d
::
¡ršg
* 
com´es£d
);

90 
boŞ
 
Uncom´ess
(cÚ¡ * 
com´es£d
, 
size_t
 
com´es£d_Ëngth
,

91 
¡d
::
¡ršg
* 
uncom´es£d
);

96 
boŞ
 
Uncom´ess
(
Sourû
* 
com´es£d
, 
Sšk
* 
uncom´es£d
);

104 
size_t
 
Uncom´essAsMuchAsPossibË
(
Sourû
* 
com´es£d
, 
Sšk
* 
uncom´es£d
);

107 
size_t
 
Com´ess
(
Sourû
 *
»ad”
, size_ˆ
šput_Ëngth
, 
¡d
::
¡ršg
 *
com´es£d
);

109 
	g‹m¶©e
 <
ušt64_t
 
	gkNumBlocks
, 
boŞ
 
	gTpAPI
>

110 
size_t
 
Com´ess
(
A¼ay
<
FeBlock
, 
kNumBlocks
> *
fm_¬¿y_±r
,

111 
size_t
 
šput_Ëngth
, 
¡d
::
¡ršg
 *
com´es£d
) {

112 
F¬MemA¼aySourû
<
kNumBlocks
, 
	gTpAPI
> 
»ad”
(
šput_Ëngth
, 
fm_¬¿y_±r
);

113  
Com´ess
(&
»ad”
, 
šput_Ëngth
, 
com´es£d
);

116 
boŞ
 
Uncom´ess
(
Sourû
 *
»ad”
, 
size_t
 
n
, 
¡d
::
¡ršg
 *
uncom´es£d
);

118 
	g‹m¶©e
 <
ušt64_t
 
	gkNumBlocks
, 
boŞ
 
	gTpAPI
>

119 
size_t
 
Uncom´ess
(
A¼ay
<
FeBlock
, 
kNumBlocks
> *
fm_¬¿y_±r
,

120 
size_t
 
šput_Ëngth
, 
¡d
::
¡ršg
 *
com´es£d
) {

121 
F¬MemA¼aySourû
<
kNumBlocks
, 
	gTpAPI
> 
»ad”
(
šput_Ëngth
, 
fm_¬¿y_±r
);

122  
Uncom´ess
(&
»ad”
, 
šput_Ëngth
, 
com´es£d
);

144 
RawCom´ess
(cÚ¡ * 
šput
,

145 
size_t
 
šput_Ëngth
,

146 * 
com´es£d
,

147 
size_t
* 
com´es£d_Ëngth
);

154 
boŞ
 
RawUncom´ess
(cÚ¡ * 
com´es£d
, 
size_t
 
com´es£d_Ëngth
,

155 * 
uncom´es£d
);

162 
boŞ
 
RawUncom´ess
(
Sourû
* 
com´es£d
, * 
uncom´es£d
);

172 
boŞ
 
RawUncom´essToIOVec
(cÚ¡ * 
com´es£d
, 
size_t
 
com´es£d_Ëngth
,

173 cÚ¡ 
iovec
* 
iov
, 
size_t
 
iov_út
);

183 
boŞ
 
RawUncom´essToIOVec
(
Sourû
* 
com´es£d
, cÚ¡ 
iovec
* 
iov
,

184 
size_t
 
iov_út
);

188 
size_t
 
MaxCom´es£dL’gth
(size_ˆ
sourû_by‹s
);

194 
boŞ
 
G‘Uncom´es£dL’gth
(cÚ¡ * 
com´es£d
, 
size_t
 
com´es£d_Ëngth
,

195 
size_t
* 
»suÉ
);

201 
boŞ
 
IsV®idCom´es£dBufãr
(cÚ¡ * 
com´es£d
,

202 
size_t
 
com´es£d_Ëngth
);

210 
boŞ
 
IsV®idCom´es£d
(
Sourû
* 
com´es£d
);

221 
cÚ¡ex´
 
	gkBlockLog
 = 16;

222 
cÚ¡ex´
 
size_t
 
	gkBlockSize
 = 1 << 
kBlockLog
;

224 
cÚ¡ex´
 
	gkMšHashTabËB™s
 = 8;

225 
cÚ¡ex´
 
size_t
 
	gkMšHashTabËSize
 = 1 << 
kMšHashTabËB™s
;

227 
cÚ¡ex´
 
	gkMaxHashTabËB™s
 = 14;

228 
cÚ¡ex´
 
size_t
 
	gkMaxHashTabËSize
 = 1 << 
kMaxHashTabËB™s
;

	@snappy/snappy_compress_fuzzer.cc

31 
	~<ÿs£¹
>

32 
	~<c¡ddef
>

33 
	~<c¡dšt
>

34 
	~<¡ršg
>

36 
	~"¢­py.h
"

39 "C" 
	$LLVMFuzz”Te¡OÃIÅut
(cÚ¡ 
ušt8_t
* 
d©a
, 
size_t
 
size
) {

40 
¡d
::
¡ršg
 
	`šput
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
d©a
), 
size
);

42 
¡d
::
¡ršg
 
com´es£d
;

43 
size_t
 
com´es£d_size
 =

44 
¢­py
::
	`Com´ess
(
šput
.
	`d©a
(), iÅut.
	`size
(), &
com´es£d
);

46 ()
com´es£d_size
;

47 
	`as£¹
(
com´es£d_size
 =ğ
com´es£d
.
	`size
());

48 
	`as£¹
(
com´es£d
.
	`size
(è<ğ
¢­py
::
	`MaxCom´es£dL’gth
(
šput
.size()));

49 
	`as£¹
(
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

51 
¡d
::
¡ršg
 
uncom´es£d_aá”_com´ess
;

52 
boŞ
 
uncom´ess_sucûeded
 = 
¢­py
::
	`Uncom´ess
(

53 
com´es£d
.
	`d©a
(), com´es£d.
	`size
(), &
uncom´es£d_aá”_com´ess
);

55 ()
uncom´ess_sucûeded
;

56 
	`as£¹
(
uncom´ess_sucûeded
);

57 
	`as£¹
(
šput
 =ğ
uncom´es£d_aá”_com´ess
);

59 
	}
}

	@snappy/snappy_uncompress_fuzzer.cc

31 
	~<ÿs£¹
>

32 
	~<c¡ddef
>

33 
	~<c¡dšt
>

34 
	~<¡ršg
>

36 
	~"¢­py.h
"

39 "C" 
	$LLVMFuzz”Te¡OÃIÅut
(cÚ¡ 
ušt8_t
* 
d©a
, 
size_t
 
size
) {

40 
¡d
::
¡ršg
 
	`šput
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
d©a
), 
size
);

43 
size_t
 
uncom´es£d_size
;

44 
cÚ¡ex´
 
size_t
 
kMaxUncom´es£dSize
 = 1 << 20;

45 
boŞ
 
g‘_uncom´es£d_Ëngth_sucûeded
 = 
¢­py
::
	`G‘Uncom´es£dL’gth
(

46 
šput
.
	`d©a
(), iÅut.
	`size
(), &
uncom´es£d_size
);

47 ià(!
g‘_uncom´es£d_Ëngth_sucûeded
 ||

48 (
uncom´es£d_size
 > 
kMaxUncom´es£dSize
)) {

52 
¡d
::
¡ršg
 
uncom´es£d
;

55 
¢­py
::
	`Uncom´ess
(
šput
.
	`d©a
(), iÅut.
	`size
(), &
uncom´es£d
);

57 
	}
}

	@snappy/snappy_unittest.cc

29 
	~<m©h.h
>

30 
	~<¡dlib.h
>

32 
	~<®gÜ™hm
>

33 
	~<¿ndom
>

34 
	~<¡ršg
>

35 
	~<ut™y
>

36 
	~<veùÜ
>

38 
	~"¢­py.h
"

39 
	~"¢­py-š‹º®.h
"

40 
	~"¢­py-‹¡.h
"

41 
	~"¢­py-sšksourû.h
"

43 
DEFINE_št32
(
¡¬t_Ën
, -1,

45 
DEFINE_št32
(
’d_Ën
, -1,

47 
DEFINE_št32
(
by‹s
, 10485760,

50 
DEFINE_boŞ
(
zlib
, 
çl£
,

52 
DEFINE_boŞ
(
lzo
, 
çl£
,

54 
DEFINE_boŞ
(
¢­py
, 
Œue
, "Run snappy compression");

56 
DEFINE_boŞ
(
wr™e_com´es£d
, 
çl£
,

58 
DEFINE_boŞ
(
wr™e_uncom´es£d
, 
çl£
,

61 
DEFINE_boŞ
(
¢­py_dump_decom´essiÚ_bË
, 
çl£
,

64 
Çme¥aû
 
	g¢­py
 {

66 #ià
defšed
(
HAVE_FUNC_MMAP
è&& defšed(
HAVE_FUNC_SYSCONF
)

74 şas 
	cD©aEndšgAtUÄ—dabËPage
 {

75 
	gpublic
:

76 
ex¶ic™
 
D©aEndšgAtUÄ—dabËPage
(cÚ¡ 
¡d
::
¡ršg
& 
s
) {

77 cÚ¡ 
size_t
 
·ge_size
 = 
syscÚf
(
_SC_PAGESIZE
);

78 cÚ¡ 
size_t
 
	gsize
 = 
s
.
size
();

80 
size_t
 
	g¥aû_fÜ_¡ršg
 = (
size
 + 
·ge_size
 - 1) & ~(page_size - 1);

81 
	g®loc_size_
 = 
¥aû_fÜ_¡ršg
 + 
·ge_size
;

82 
	gmem_
 = 
mm­
(
NULL
, 
®loc_size_
,

83 
PROT_READ
|
PROT_WRITE
, 
MAP_PRIVATE
|
MAP_ANONYMOUS
, -1, 0);

84 
CHECK_NE
(
MAP_FAILED
, 
mem_
);

85 
	g´Ùeùed_·ge_
 = 
»š‹½»t_ÿ¡
<*>(
mem_
è+ 
¥aû_fÜ_¡ršg
;

86 * 
	gd¡
 = 
´Ùeùed_·ge_
 - 
size
;

87 
memıy
(
d¡
, 
s
.
d©a
(), 
size
);

88 
	gd©a_
 = 
d¡
;

89 
	gsize_
 = 
size
;

91 
CHECK_EQ
(0, 
m´Ùeù
(
´Ùeùed_·ge_
, 
·ge_size
, 
PROT_NONE
));

94 ~
D©aEndšgAtUÄ—dabËPage
() {

95 cÚ¡ 
size_t
 
	g·ge_size
 = 
syscÚf
(
_SC_PAGESIZE
);

97 
CHECK_EQ
(0, 
m´Ùeù
(
´Ùeùed_·ge_
, 
·ge_size
, 
PROT_READ
|
PROT_WRITE
));

98 
CHECK_EQ
(0, 
munm­
(
mem_
, 
®loc_size_
));

101 cÚ¡ * 
d©a
(ècÚ¡ {  
	gd©a_
; }

102 
size_t
 
size
(ècÚ¡ {  
	gsize_
; }

104 
	g´iv©e
:

105 
size_t
 
®loc_size_
;

106 * 
	gmem_
;

107 * 
	g´Ùeùed_·ge_
;

108 cÚ¡ * 
	gd©a_
;

109 
size_t
 
	gsize_
;

115 
usšg
 
	gD©aEndšgAtUÄ—dabËPage
 = 
¡d
::
¡ršg
;

119 
	eCom´essÜTy³
 {

120 
	gZLIB
, 
	gLZO
, 
	gSNAPPY


123 cÚ¡ * 
	gÇmes
[] = {

127 
size_t
 
	$MšimumRequœedOuutS·û
(
size_t
 
šput_size
,

128 
Com´essÜTy³
 
comp
) {

129 
comp
) {

130 #ifdeà
ZLIB_VERSION


131 
ZLIB
:

132  
ZLib
::
	`MšCom´essbufSize
(
šput_size
);

135 #ifdeà
LZO_VERSION


136 
LZO
:

137  
šput_size
 + input_size/64 + 16 + 3;

140 
SNAPPY
:

141  
¢­py
::
	`MaxCom´es£dL’gth
(
šput_size
);

144 
	`LOG
(
FATAL
è<< "UnknowÀcom´essiÚy³‚umb” " << 
comp
;

147 
	}
}

156 
boŞ
 
	$Com´ess
(cÚ¡ * 
šput
, 
size_t
 
šput_size
, 
Com´essÜTy³
 
comp
,

157 
¡d
::
¡ršg
* 
com´es£d
, 
boŞ
 
com´es£d_is_´—Îoÿ‹d
) {

158 ià(!
com´es£d_is_´—Îoÿ‹d
) {

159 
com´es£d
->
	`»size
(
	`MšimumRequœedOuutS·û
(
šput_size
, 
comp
));

162 
comp
) {

163 #ifdeà
ZLIB_VERSION


164 
ZLIB
: {

165 
ZLib
 
zlib
;

166 
uLÚgf
 
de¡Ën
 = 
com´es£d
->
	`size
();

167 
»t
 = 
zlib
.
	`Com´ess
(

168 
»š‹½»t_ÿ¡
<
By‹f
*>(
	`¡ršg_as_¬¿y
(
com´es£d
)),

169 &
de¡Ën
,

170 
»š‹½»t_ÿ¡
<cÚ¡ 
By‹f
*>(
šput
),

171 
šput_size
);

172 
	`CHECK_EQ
(
Z_OK
, 
»t
);

173 ià(!
com´es£d_is_´—Îoÿ‹d
) {

174 
com´es£d
->
	`»size
(
de¡Ën
);

176  
Œue
;

180 #ifdeà
LZO_VERSION


181 
LZO
: {

182 * 
mem
 = 
Ãw
 [
LZO1X_1_15_MEM_COMPRESS
];

183 
lzo_ušt
 
de¡Ën
;

184 
»t
 = 
	`lzo1x_1_15_com´ess
(

185 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8
*>(
šput
),

186 
šput_size
,

187 
»š‹½»t_ÿ¡
<
ušt8
*>(
	`¡ršg_as_¬¿y
(
com´es£d
)),

188 &
de¡Ën
,

189 
mem
);

190 
	`CHECK_EQ
(
LZO_E_OK
, 
»t
);

191 
d–‘e
[] 
mem
;

192 ià(!
com´es£d_is_´—Îoÿ‹d
) {

193 
com´es£d
->
	`»size
(
de¡Ën
);

199 
SNAPPY
: {

200 
size_t
 
de¡Ën
;

201 
¢­py
::
	`RawCom´ess
(
šput
, 
šput_size
,

202 
	`¡ršg_as_¬¿y
(
com´es£d
),

203 &
de¡Ën
);

204 
	`CHECK_LE
(
de¡Ën
, 
¢­py
::
	`MaxCom´es£dL’gth
(
šput_size
));

205 ià(!
com´es£d_is_´—Îoÿ‹d
) {

206 
com´es£d
->
	`»size
(
de¡Ën
);

212  
çl£
;

215  
Œue
;

216 
	}
}

218 
boŞ
 
	$Uncom´ess
(cÚ¡ 
¡d
::
¡ršg
& 
com´es£d
, 
Com´essÜTy³
 
comp
,

219 
size
, 
¡d
::
¡ršg
* 
ouut
) {

220 
comp
) {

221 #ifdeà
ZLIB_VERSION


222 
ZLIB
: {

223 
ouut
->
	`»size
(
size
);

224 
ZLib
 
zlib
;

225 
uLÚgf
 
de¡Ën
 = 
ouut
->
	`size
();

226 
»t
 = 
zlib
.
	`Uncom´ess
(

227 
»š‹½»t_ÿ¡
<
By‹f
*>(
	`¡ršg_as_¬¿y
(
ouut
)),

228 &
de¡Ën
,

229 
»š‹½»t_ÿ¡
<cÚ¡ 
By‹f
*>(
com´es£d
.
	`d©a
()),

230 
com´es£d
.
	`size
());

231 
	`CHECK_EQ
(
Z_OK
, 
»t
);

232 
	`CHECK_EQ
(
¡©ic_ÿ¡
<
uLÚgf
>(
size
), 
de¡Ën
);

237 #ifdeà
LZO_VERSION


238 
LZO
: {

239 
ouut
->
	`»size
(
size
);

240 
lzo_ušt
 
de¡Ën
;

241 
»t
 = 
	`lzo1x_decom´ess
(

242 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8
*>(
com´es£d
.
	`d©a
()),

243 
com´es£d
.
	`size
(),

244 
»š‹½»t_ÿ¡
<
ušt8
*>(
	`¡ršg_as_¬¿y
(
ouut
)),

245 &
de¡Ën
,

246 
NULL
);

247 
	`CHECK_EQ
(
LZO_E_OK
, 
»t
);

248 
	`CHECK_EQ
(
¡©ic_ÿ¡
<
lzo_ušt
>(
size
), 
de¡Ën
);

253 
SNAPPY
: {

254 
¢­py
::
	`RawUncom´ess
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
(),

255 
	`¡ršg_as_¬¿y
(
ouut
));

260  
çl£
;

263  
Œue
;

264 
	}
}

266 
	$M—su»
(cÚ¡ * 
d©a
,

267 
size_t
 
Ëngth
,

268 
Com´essÜTy³
 
comp
,

269 
»³©s
,

270 
block_size
) {

272 cÚ¡ 
kRuns
 = 5;

273 
ùime
[
kRuns
];

274 
utime
[
kRuns
];

275 
com´es£d_size
 = 0;

279 
num_blocks
 = (
Ëngth
 + 
block_size
 - 1) / block_size;

280 
¡d
::
veùÜ
<cÚ¡ *> 
	`šput
(
num_blocks
);

281 
¡d
::
veùÜ
<
size_t
> 
	`šput_Ëngth
(
num_blocks
);

282 
¡d
::
veùÜ
<¡d::
¡ršg
> 
	`com´es£d
(
num_blocks
);

283 
¡d
::
veùÜ
<¡d::
¡ršg
> 
	`ouut
(
num_blocks
);

284 
b
 = 0; b < 
num_blocks
; b++) {

285 
šput_¡¬t
 = 
b
 * 
block_size
;

286 
šput_lim™
 = 
¡d
::
mš
<>((
b
+1)*
block_size
, 
Ëngth
);

287 
šput
[
b
] = 
d©a
+
šput_¡¬t
;

288 
šput_Ëngth
[
b
] = 
šput_lim™
-
šput_¡¬t
;

291 
com´es£d
[
b
].
	`»size
(
	`MšimumRequœedOuutS·û
(
block_size
, 
comp
));

295 ià(!
	`Com´ess
(
šput
[0], 
šput_Ëngth
[0], 
comp
, &
com´es£d
[0], 
Œue
)) {

296 
	`LOG
(
WARNING
è<< "Skpšg " << 
Çmes
[
comp
] << ": "

301 
run
 = 0;„uÀ< 
kRuns
;„un++) {

302 
CyşeTim”
 
ùim”
, 
utim”
;

304 
b
 = 0; b < 
num_blocks
; b++) {

306 
com´es£d
[
b
].
	`»size
(
	`MšimumRequœedOuutS·û
(
block_size
, 
comp
));

309 
ùim”
.
	`S¹
();

310 
b
 = 0; b < 
num_blocks
; b++)

311 
i
 = 0; i < 
»³©s
; i++)

312 
	`Com´ess
(
šput
[
b
], 
šput_Ëngth
[b], 
comp
, &
com´es£d
[b], 
Œue
);

313 
ùim”
.
	`Stİ
();

317 
b
 = 0; b < 
num_blocks
; b++) {

318 
	`Com´ess
(
šput
[
b
], 
šput_Ëngth
[b], 
comp
, &
com´es£d
[b], 
çl£
);

321 
b
 = 0; b < 
num_blocks
; b++) {

322 
ouut
[
b
].
	`»size
(
šput_Ëngth
[b]);

325 
utim”
.
	`S¹
();

326 
i
 = 0; i < 
»³©s
; i++)

327 
b
 = 0; b < 
num_blocks
; b++)

328 
	`Uncom´ess
(
com´es£d
[
b
], 
comp
, 
šput_Ëngth
[b], &
ouut
[b]);

329 
utim”
.
	`Stİ
();

331 
ùime
[
run
] = 
ùim”
.
	`G‘
();

332 
utime
[
run
] = 
utim”
.
	`G‘
();

335 
com´es£d_size
 = 0;

336 
size_t
 
i
 = 0; i < 
com´es£d
.
	`size
(); i++) {

337 
com´es£d_size
 +ğ
com´es£d
[
i
].
	`size
();

341 
¡d
::
	`sÜt
(
ùime
, ctim+ 
kRuns
);

342 
¡d
::
	`sÜt
(
utime
, utim+ 
kRuns
);

343 cÚ¡ 
med
 = 
kRuns
/2;

345 
comp_¿‹
 = (
Ëngth
 / 
ùime
[
med
]è* 
»³©s
 / 1048576.0;

346 
uncomp_¿‹
 = (
Ëngth
 / 
utime
[
med
]è* 
»³©s
 / 1048576.0;

347 
¡d
::
¡ršg
 
x
 = 
Çmes
[
comp
];

348 
x
 += ":";

349 
¡d
::
¡ršg
 
u¿‹
 = (
uncomp_¿‹
 >ğ0è? 
	`SŒFÜm©
("%.1f", uncomp_rate)

350 : 
¡d
::
	`¡ršg
("?");

351 
	`´štf
("%-7s [b %dM] bytes %6d -> %6d %4.1f%% "

353 
x
.
	`c_¡r
(),

354 
block_size
/(1<<20),

355 
¡©ic_ÿ¡
<>(
Ëngth
), stic_ÿ¡<
ušt32
>(
com´es£d_size
),

356 (
com´es£d_size
 * 100.0è/ 
¡d
::
max
<>(1, 
Ëngth
),

357 
comp_¿‹
,

358 
u¿‹
.
	`c_¡r
());

359 
	}
}

361 
	$V”ifySŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

362 
¡d
::
¡ršg
 
com´es£d
;

363 
D©aEndšgAtUÄ—dabËPage
 
	`i
(
šput
);

364 cÚ¡ 
size_t
 
wr™‹n
 = 
¢­py
::
	`Com´ess
(
i
.
	`d©a
(), i.
	`size
(), &
com´es£d
);

365 
	`CHECK_EQ
(
wr™‹n
, 
com´es£d
.
	`size
());

366 
	`CHECK_LE
(
com´es£d
.
	`size
(),

367 
¢­py
::
	`MaxCom´es£dL’gth
(
šput
.
	`size
()));

368 
	`CHECK
(
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

370 
¡d
::
¡ršg
 
uncom´es£d
;

371 
D©aEndšgAtUÄ—dabËPage
 
	`c
(
com´es£d
);

372 
	`CHECK
(
¢­py
::
	`Uncom´ess
(
c
.
	`d©a
(), c.
	`size
(), &
uncom´es£d
));

373 
	`CHECK_EQ
(
uncom´es£d
, 
šput
);

374  
uncom´es£d
.
	`size
();

375 
	}
}

377 
	$V”ifySŒšgSšk
(cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

378 
¡d
::
¡ršg
 
com´es£d
;

379 
D©aEndšgAtUÄ—dabËPage
 
	`i
(
šput
);

380 cÚ¡ 
size_t
 
wr™‹n
 = 
¢­py
::
	`Com´ess
(
i
.
	`d©a
(), i.
	`size
(), &
com´es£d
);

381 
	`CHECK_EQ
(
wr™‹n
, 
com´es£d
.
	`size
());

382 
	`CHECK_LE
(
com´es£d
.
	`size
(),

383 
¢­py
::
	`MaxCom´es£dL’gth
(
šput
.
	`size
()));

384 
	`CHECK
(
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

386 
¡d
::
¡ršg
 
uncom´es£d
;

387 
uncom´es£d
.
	`»size
(
šput
.
	`size
());

388 
¢­py
::
UncheckedBy‹A¼aySšk
 
	`sšk
(
	`¡ršg_as_¬¿y
(&
uncom´es£d
));

389 
D©aEndšgAtUÄ—dabËPage
 
	`c
(
com´es£d
);

390 
¢­py
::
By‹A¼aySourû
 
	`sourû
(
c
.
	`d©a
(), c.
	`size
());

391 
	`CHECK
(
¢­py
::
	`Uncom´ess
(&
sourû
, &
sšk
));

392 
	`CHECK_EQ
(
uncom´es£d
, 
šput
);

393 
	}
}

395 
	$V”ifyIOVec
(cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

396 
¡d
::
¡ršg
 
com´es£d
;

397 
D©aEndšgAtUÄ—dabËPage
 
	`i
(
šput
);

398 cÚ¡ 
size_t
 
wr™‹n
 = 
¢­py
::
	`Com´ess
(
i
.
	`d©a
(), i.
	`size
(), &
com´es£d
);

399 
	`CHECK_EQ
(
wr™‹n
, 
com´es£d
.
	`size
());

400 
	`CHECK_LE
(
com´es£d
.
	`size
(),

401 
¢­py
::
	`MaxCom´es£dL’gth
(
šput
.
	`size
()));

402 
	`CHECK
(
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

406 * 
buf
 = 
Ãw
 [
šput
.
	`size
()];

407 
¡d
::
mš¡d_¿nd0
 
	`ºg
(
šput
.
	`size
());

408 
¡d
::
unifÜm_št_di¡ributiÚ
<
size_t
> 
	`unifÜm_1_to_10
(1, 10);

409 
size_t
 
num
 = 
	`unifÜm_1_to_10
(
ºg
);

410 ià(
šput
.
	`size
(è< 
num
) {

411 
num
 = 
šput
.
	`size
();

413 
iovec
* 
iov
 = 
Ãw
 iovec[
num
];

414 
u£d_so_çr
 = 0;

415 
¡d
::
b”nouÎi_di¡ributiÚ
 
	`Úe_š_five
(1.0 / 5);

416 
size_t
 
i
 = 0; i < 
num
; ++i) {

417 
	`as£¹
(
u£d_so_çr
 < 
šput
.
	`size
());

418 
iov
[
i
].
iov_ba£
 = 
buf
 + 
u£d_so_çr
;

419 ià(
i
 =ğ
num
 - 1) {

420 
iov
[
i
].
iov_Ën
 = 
šput
.
	`size
(è- 
u£d_so_çr
;

423 ià(
	`Úe_š_five
(
ºg
)) {

424 
iov
[
i
].
iov_Ën
 = 0;

426 
¡d
::
unifÜm_št_di¡ributiÚ
<
size_t
> 
	`unifÜm_nÙ_u£d_so_çr
(

427 0, 
šput
.
	`size
(è- 
u£d_so_çr
 - 1);

428 
iov
[
i
].
iov_Ën
 = 
	`unifÜm_nÙ_u£d_so_çr
(
ºg
);

431 
u£d_so_çr
 +ğ
iov
[
i
].
iov_Ën
;

433 
	`CHECK
(
¢­py
::
	`RawUncom´essToIOVec
(

434 
com´es£d
.
	`d©a
(), com´es£d.
	`size
(), 
iov
, 
num
));

435 
	`CHECK
(!
	`memcmp
(
buf
, 
šput
.
	`d©a
(), iÅut.
	`size
()));

436 
d–‘e
[] 
iov
;

437 
d–‘e
[] 
buf
;

438 
	}
}

442 
	$V”ifyNÚBlockedCom´essiÚ
(cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

443 ià(
šput
.
	`Ëngth
(è> 
¢­py
::
kBlockSize
) {

448 
¡d
::
¡ršg
 
´efix
;

449 
V¬št
::
	`Aµ’d32
(&
´efix
, 
šput
.
	`size
());

452 
¢­py
::
š‹º®
::
WÜkšgMemÜy
 
	`wmem
(
šput
.
	`size
());

453 
bË_size
;

454 
ušt16
* 
bË
 = 
wmem
.
	`G‘HashTabË
(
šput
.
	`size
(), &
bË_size
);

457 
¡d
::
¡ršg
 
com´es£d
;

458 
com´es£d
 +ğ
´efix
;

459 
com´es£d
.
	`»size
(
´efix
.
	`size
()+
¢­py
::
	`MaxCom´es£dL’gth
(
šput
.size()));

460 * 
de¡
 = 
	`¡ršg_as_¬¿y
(&
com´es£d
è+ 
´efix
.
	`size
();

461 * 
’d
 = 
¢­py
::
š‹º®
::
	`Com´essF¿gm’t
(
šput
.
	`d©a
(), iÅut.
	`size
(),

462 
de¡
, 
bË
, 
bË_size
);

463 
com´es£d
.
	`»size
(
’d
 - com´es£d.
	`d©a
());

466 
¡d
::
¡ršg
 
uncomp_¡r
;

467 
	`CHECK
(
¢­py
::
	`Uncom´ess
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
(), &
uncomp_¡r
));

468 
	`CHECK_EQ
(
uncomp_¡r
, 
šput
);

471 
¡d
::
¡ršg
 
uncomp_¡r2
;

472 
uncomp_¡r2
.
	`»size
(
šput
.
	`size
());

473 
¢­py
::
UncheckedBy‹A¼aySšk
 
	`sšk
(
	`¡ršg_as_¬¿y
(&
uncomp_¡r2
));

474 
¢­py
::
By‹A¼aySourû
 
	`sourû
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
());

475 
	`CHECK
(
¢­py
::
	`Uncom´ess
(&
sourû
, &
sšk
));

476 
	`CHECK_EQ
(
uncomp_¡r2
, 
šput
);

480 cÚ¡ 
kNumBlocks
 = 10;

481 
iovec
 
vec
[
kNumBlocks
];

482 cÚ¡ 
block_size
 = 1 + 
šput
.
	`size
(è/ 
kNumBlocks
;

483 
¡d
::
¡ršg
 
	`iovec_d©a
(
block_size
 * 
kNumBlocks
, 'x');

484 
i
 = 0; i < 
kNumBlocks
; i++) {

485 
vec
[
i
].
iov_ba£
 = 
	`¡ršg_as_¬¿y
(&
iovec_d©a
è+ i * 
block_size
;

486 
vec
[
i
].
iov_Ën
 = 
block_size
;

488 
	`CHECK
(
¢­py
::
	`RawUncom´essToIOVec
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
(),

489 
vec
, 
kNumBlocks
));

490 
	`CHECK_EQ
(
¡d
::
	`¡ršg
(
iovec_d©a
.
	`d©a
(), 
šput
.
	`size
()), input);

492 
	}
}

495 
	g¡d
::
¡ršg
 
	$Ex·nd
(cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

496 cÚ¡ 
K
 = 3;

497 
¡d
::
¡ršg
 
d©a
 = 
šput
;

498 
d©a
.
	`size
(è< 
K
 * 
¢­py
::
kBlockSize
) {

499 
d©a
 +ğ
šput
;

501  
d©a
;

502 
	}
}

504 
	$V”ify
(cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

505 
	`VLOG
(1è<< "V”ifyšg iÅuˆoàsiz" << 
šput
.
	`size
();

508 cÚ¡ 
»suÉ
 = 
	`V”ifySŒšg
(
šput
);

511 
	`V”ifySŒšgSšk
(
šput
);

513 
	`V”ifyNÚBlockedCom´essiÚ
(
šput
);

514 
	`V”ifyIOVec
(
šput
);

515 ià(!
šput
.
	`em±y
()) {

516 cÚ¡ 
¡d
::
¡ršg
 
ex·nded
 = 
	`Ex·nd
(
šput
);

517 
	`V”ifyNÚBlockedCom´essiÚ
(
ex·nded
);

518 
	`V”ifyIOVec
(
šput
);

521  
»suÉ
;

522 
	}
}

524 
boŞ
 
	$IsV®idCom´es£dBufãr
(cÚ¡ 
¡d
::
¡ršg
& 
c
) {

525  
¢­py
::
	`IsV®idCom´es£dBufãr
(
c
.
	`d©a
(), c.
	`size
());

526 
	}
}

527 
boŞ
 
	$Uncom´ess
(cÚ¡ 
¡d
::
¡ršg
& 
c
, std::¡ršg* 
u
) {

528  
¢­py
::
	`Uncom´ess
(
c
.
	`d©a
(), c.
	`size
(), 
u
);

529 
	}
}

533 
	$TEST
(
CÜru±edTe¡
, 
V”ifyCÜru±ed
) {

534 
¡d
::
¡ršg
 
sourû
 = "making sure we don't crash with corrupted input";

535 
	`VLOG
(1è<< 
sourû
;

536 
¡d
::
¡ršg
 
de¡
;

537 
¡d
::
¡ršg
 
uncmp
;

538 
¢­py
::
	`Com´ess
(
sourû
.
	`d©a
(), sourû.
	`size
(), &
de¡
);

542 
	`CHECK_GT
(
de¡
.
	`size
(), 3);

543 
de¡
[1]--;

544 
de¡
[3]++;

546 
	`CHECK
(!
	`IsV®idCom´es£dBufãr
(
de¡
));

547 
	`CHECK
(!
	`Uncom´ess
(
de¡
, &
uncmp
));

551 
sourû
.
	`»size
(100000);

552 
size_t
 
i
 = 0; i < 
sourû
.
	`Ëngth
(); ++i) {

553 
sourû
[
i
] = 'A';

555 
¢­py
::
	`Com´ess
(
sourû
.
	`d©a
(), sourû.
	`size
(), &
de¡
);

556 
de¡
[0] = dest[1] = dest[2] = dest[3] = 0;

557 
	`CHECK
(!
	`IsV®idCom´es£dBufãr
(
de¡
));

558 
	`CHECK
(!
	`Uncom´ess
(
de¡
, &
uncmp
));

567 
de¡
[0] = dest[1] = dest[2] = dest[3] = '\xff';

569 
de¡
[4] = 'k';

570 
	`CHECK
(!
	`IsV®idCom´es£dBufãr
(
de¡
));

571 
	`CHECK
(!
	`Uncom´ess
(
de¡
, &
uncmp
));

573 
	`LOG
(
WARNING
) << "Crazy decompression†engths‚ot checked on 64-bit build";

577 
de¡
[0] = dest[1] = dest[2] = '\xff';

578 
de¡
[3] = 0x00;

579 
	`CHECK
(!
	`IsV®idCom´es£dBufãr
(
de¡
));

580 
	`CHECK
(!
	`Uncom´ess
(
de¡
, &
uncmp
));

583 
i
 = 1; i <= 3; ++i) {

584 
¡d
::
¡ršg
 
d©a
 =

585 
	`R—dTe¡D©aFe
(
	`SŒFÜm©
("badd©a%d.¢­py", 
i
).
	`c_¡r
(), 0);

586 
¡d
::
¡ršg
 
uncmp
;

588 
size_t
 
uËn
;

589 
	`CHECK
(!
¢­py
::
	`G‘Uncom´es£dL’gth
(
d©a
.
	`d©a
(), d©a.
	`size
(), &
uËn
)

590 || (
uËn
 < (1<<20)));

591 
ušt32
 
uËn2
;

592 
¢­py
::
By‹A¼aySourû
 
	`sourû
(
d©a
.
	`d©a
(), d©a.
	`size
());

593 
	`CHECK
(!
¢­py
::
	`G‘Uncom´es£dL’gth
(&
sourû
, &
uËn2
) ||

594 (
uËn2
 < (1<<20)));

595 
	`CHECK
(!
	`IsV®idCom´es£dBufãr
(
d©a
));

596 
	`CHECK
(!
	`Uncom´ess
(
d©a
, &
uncmp
));

598 
	}
}

604 
	$Aµ’dL™”®
(
¡d
::
¡ršg
* 
d¡
, cÚ¡ std::¡ršg& 
l™”®
) {

605 ià(
l™”®
.
	`em±y
()) ;

606 
n
 = 
l™”®
.
	`size
() - 1;

607 ià(
n
 < 60) {

609 
d¡
->
	`push_back
(0 | (
n
 << 2));

612 
numb”
[4];

613 
couÁ
 = 0;

614 
n
 > 0) {

615 
numb”
[
couÁ
++] = 
n
 & 0xff;

616 
n
 >>= 8;

618 
d¡
->
	`push_back
(0 | ((59+
couÁ
) << 2));

619 *
d¡
 +ğ
¡d
::
	`¡ršg
(
numb”
, 
couÁ
);

621 *
d¡
 +ğ
l™”®
;

622 
	}
}

624 
	$Aµ’dCİy
(
¡d
::
¡ršg
* 
d¡
, 
off£t
, 
Ëngth
) {

625 
Ëngth
 > 0) {

627 
to_cİy
;

628 ià(
Ëngth
 >= 68) {

629 
to_cİy
 = 64;

630 } ià(
Ëngth
 > 64) {

631 
to_cİy
 = 60;

633 
to_cİy
 = 
Ëngth
;

635 
Ëngth
 -ğ
to_cİy
;

637 ià((
to_cİy
 >ğ4è&& (to_cİy < 12è&& (
off£t
 < 2048)) {

638 
	`as£¹
(
to_cİy
-4 < 8);

639 
d¡
->
	`push_back
(1 | ((
to_cİy
-4è<< 2è| ((
off£t
 >> 8) << 5));

640 
d¡
->
	`push_back
(
off£t
 & 0xff);

641 } ià(
off£t
 < 65536) {

642 
d¡
->
	`push_back
(2 | ((
to_cİy
-1) << 2));

643 
d¡
->
	`push_back
(
off£t
 & 0xff);

644 
d¡
->
	`push_back
(
off£t
 >> 8);

646 
d¡
->
	`push_back
(3 | ((
to_cİy
-1) << 2));

647 
d¡
->
	`push_back
(
off£t
 & 0xff);

648 
d¡
->
	`push_back
((
off£t
 >> 8) & 0xff);

649 
d¡
->
	`push_back
((
off£t
 >> 16) & 0xff);

650 
d¡
->
	`push_back
((
off£t
 >> 24) & 0xff);

653 
	}
}

655 
	$TEST
(
SÇµy
, 
Sim¶eTe¡s
) {

656 
	`V”ify
("");

657 
	`V”ify
("a");

658 
	`V”ify
("ab");

659 
	`V”ify
("abc");

661 
	`V”ify
("¯¯¯a" + 
¡d
::
	`¡ršg
(16, 'b') + std::string("aaaaa") + "abc");

662 
	`V”ify
("¯¯¯a" + 
¡d
::
	`¡ršg
(256, 'b') + std::string("aaaaa") + "abc");

663 
	`V”ify
("¯¯¯a" + 
¡d
::
	`¡ršg
(2047, 'b') + std::string("aaaaa") + "abc");

664 
	`V”ify
("¯¯¯a" + 
¡d
::
	`¡ršg
(65536, 'b') + std::string("aaaaa") + "abc");

665 
	`V”ify
("abÿ¯¯¯" + 
¡d
::
	`¡ršg
(65536, 'b') + std::string("aaaaa") + "abc");

666 
	}
}

669 
	$TEST
(
SÇµy
, 
MaxBlowup
) {

670 
¡d
::
mt19937
 
ºg
;

671 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`unifÜm_by‹
(0, 255);

672 
¡d
::
¡ršg
 
šput
;

673 
i
 = 0; i < 80000; ++i)

674 
šput
.
	`push_back
(
¡©ic_ÿ¡
<>(
	`unifÜm_by‹
(
ºg
)));

676 
i
 = 0; i < 80000; i += 4) {

677 
¡d
::
¡ršg
 
	`four_by‹s
(
šput
.
	`’d
(è- 
i
 - 4, input.end() - i);

678 
šput
.
	`­³nd
(
four_by‹s
);

680 
	`V”ify
(
šput
);

681 
	}
}

683 
	$TEST
(
SÇµy
, 
RªdomD©a
) {

684 
¡d
::
mš¡d_¿nd0
 
	`ºg
(
FLAGS_‹¡_¿ndom_£ed
);

685 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`unifÜm_0_to_3
(0, 3);

686 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`unifÜm_0_to_8
(0, 8);

687 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`unifÜm_by‹
(0, 255);

688 
¡d
::
unifÜm_št_di¡ributiÚ
<
size_t
> 
	`unifÜm_4k
(0, 4095);

689 
¡d
::
unifÜm_št_di¡ributiÚ
<
size_t
> 
	`unifÜm_64k
(0, 65535);

690 
¡d
::
b”nouÎi_di¡ributiÚ
 
	`Úe_š_‹n
(1.0 / 10);

692 
cÚ¡ex´
 
num_İs
 = 20000;

693 
i
 = 0; i < 
num_İs
; i++) {

694 ià((
i
 % 1000) == 0) {

695 
	`VLOG
(0è<< "Rªdom o°" << 
i
 << " oà" << 
num_İs
;

698 
¡d
::
¡ršg
 
x
;

699 
size_t
 
Ën
 = 
	`unifÜm_4k
(
ºg
);

700 ià(
i
 < 100) {

701 
Ën
 = 65536 + 
	`unifÜm_64k
(
ºg
);

703 
x
.
	`size
(è< 
Ën
) {

704 
run_Ën
 = 1;

705 ià(
	`Úe_š_‹n
(
ºg
)) {

706 
skewed_b™s
 = 
	`unifÜm_0_to_8
(
ºg
);

708 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`skewed_low
(0,

709 (1 << 
skewed_b™s
) - 1);

710 
run_Ën
 = 
	`skewed_low
(
ºg
);

712 
c
 = 
¡©ic_ÿ¡
<>(
	`unifÜm_by‹
(
ºg
));

713 ià(
i
 >= 100) {

714 
skewed_b™s
 = 
	`unifÜm_0_to_3
(
ºg
);

716 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`skewed_low
(0,

717 (1 << 
skewed_b™s
) - 1);

718 
c
 = 
¡©ic_ÿ¡
<>(
	`skewed_low
(
ºg
));

720 
run_Ën
-- > 0 && 
x
.
	`size
(è< 
Ën
) {

721 
x
.
	`push_back
(
c
);

725 
	`V”ify
(
x
);

727 
	}
}

729 
	$TEST
(
SÇµy
, 
FourBy‹Off£t
) {

735 
¡d
::
¡ršg
 
äagm’t1
 = "012345689abcdefghijklmnopqrstuvwxyz";

736 
¡d
::
¡ršg
 
äagm’t2
 = "some other string";

739 cÚ¡ 
n1
 = 2;

740 cÚ¡ 
n2
 = 100000 / 
äagm’t2
.
	`size
();

741 cÚ¡ 
Ëngth
 = 
n1
 * 
äagm’t1
.
	`size
(è+ 
n2
 * 
äagm’t2
.size();

743 
¡d
::
¡ršg
 
com´es£d
;

744 
V¬št
::
	`Aµ’d32
(&
com´es£d
, 
Ëngth
);

746 
	`Aµ’dL™”®
(&
com´es£d
, 
äagm’t1
);

747 
¡d
::
¡ršg
 
¤c
 = 
äagm’t1
;

748 
i
 = 0; i < 
n2
; i++) {

749 
	`Aµ’dL™”®
(&
com´es£d
, 
äagm’t2
);

750 
¤c
 +ğ
äagm’t2
;

752 
	`Aµ’dCİy
(&
com´es£d
, 
¤c
.
	`size
(), 
äagm’t1
.size());

753 
¤c
 +ğ
äagm’t1
;

754 
	`CHECK_EQ
(
Ëngth
, 
¤c
.
	`size
());

756 
¡d
::
¡ršg
 
uncom´es£d
;

757 
	`CHECK
(
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

758 
	`CHECK
(
¢­py
::
	`Uncom´ess
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
(),

759 &
uncom´es£d
));

760 
	`CHECK_EQ
(
uncom´es£d
, 
¤c
);

761 
	}
}

763 
	$TEST
(
SÇµy
, 
IOVecEdgeCa£s
) {

770 cÚ¡ 
kL’gths
[] = { 2, 1, 4, 8, 128 };

772 
iovec
 
iov
[
	`ARRAYSIZE
(
kL’gths
)];

773 
i
 = 0; i < 
	`ARRAYSIZE
(
kL’gths
); ++i) {

774 
iov
[
i
].
iov_ba£
 = 
Ãw
 [
kL’gths
[i]];

775 
iov
[
i
].
iov_Ën
 = 
kL’gths
[i];

778 
¡d
::
¡ršg
 
com´es£d
;

779 
V¬št
::
	`Aµ’d32
(&
com´es£d
, 22);

783 
	`Aµ’dL™”®
(&
com´es£d
, "abc123");

789 
	`Aµ’dCİy
(&
com´es£d
, 3, 3);

804 
	`Aµ’dCİy
(&
com´es£d
, 6, 9);

815 
	`Aµ’dCİy
(&
com´es£d
, 17, 4);

817 
	`CHECK
(
¢­py
::
	`RawUncom´essToIOVec
(

818 
com´es£d
.
	`d©a
(), com´es£d.
	`size
(), 
iov
, 
	`ARRAYSIZE
(iov)));

819 
	`CHECK_EQ
(0, 
	`memcmp
(
iov
[0].
iov_ba£
, "ab", 2));

820 
	`CHECK_EQ
(0, 
	`memcmp
(
iov
[1].
iov_ba£
, "c", 1));

821 
	`CHECK_EQ
(0, 
	`memcmp
(
iov
[2].
iov_ba£
, "1231", 4));

822 
	`CHECK_EQ
(0, 
	`memcmp
(
iov
[3].
iov_ba£
, "23123123", 8));

823 
	`CHECK_EQ
(0, 
	`memcmp
(
iov
[4].
iov_ba£
, "123bc12", 7));

825 
i
 = 0; i < 
	`ARRAYSIZE
(
kL’gths
); ++i) {

826 
d–‘e
[] 
»š‹½»t_ÿ¡
<*>(
iov
[
i
].
iov_ba£
);

828 
	}
}

830 
	$TEST
(
SÇµy
, 
IOVecL™”®Ov”æow
) {

831 cÚ¡ 
kL’gths
[] = { 3, 4 };

833 
iovec
 
iov
[
	`ARRAYSIZE
(
kL’gths
)];

834 
i
 = 0; i < 
	`ARRAYSIZE
(
kL’gths
); ++i) {

835 
iov
[
i
].
iov_ba£
 = 
Ãw
 [
kL’gths
[i]];

836 
iov
[
i
].
iov_Ën
 = 
kL’gths
[i];

839 
¡d
::
¡ršg
 
com´es£d
;

840 
V¬št
::
	`Aµ’d32
(&
com´es£d
, 8);

842 
	`Aµ’dL™”®
(&
com´es£d
, "12345678");

844 
	`CHECK
(!
¢­py
::
	`RawUncom´essToIOVec
(

845 
com´es£d
.
	`d©a
(), com´es£d.
	`size
(), 
iov
, 
	`ARRAYSIZE
(iov)));

847 
i
 = 0; i < 
	`ARRAYSIZE
(
kL’gths
); ++i) {

848 
d–‘e
[] 
»š‹½»t_ÿ¡
<*>(
iov
[
i
].
iov_ba£
);

850 
	}
}

852 
	$TEST
(
SÇµy
, 
IOVecCİyOv”æow
) {

853 cÚ¡ 
kL’gths
[] = { 3, 4 };

855 
iovec
 
iov
[
	`ARRAYSIZE
(
kL’gths
)];

856 
i
 = 0; i < 
	`ARRAYSIZE
(
kL’gths
); ++i) {

857 
iov
[
i
].
iov_ba£
 = 
Ãw
 [
kL’gths
[i]];

858 
iov
[
i
].
iov_Ën
 = 
kL’gths
[i];

861 
¡d
::
¡ršg
 
com´es£d
;

862 
V¬št
::
	`Aµ’d32
(&
com´es£d
, 8);

864 
	`Aµ’dL™”®
(&
com´es£d
, "123");

865 
	`Aµ’dCİy
(&
com´es£d
, 3, 5);

867 
	`CHECK
(!
¢­py
::
	`RawUncom´essToIOVec
(

868 
com´es£d
.
	`d©a
(), com´es£d.
	`size
(), 
iov
, 
	`ARRAYSIZE
(iov)));

870 
i
 = 0; i < 
	`ARRAYSIZE
(
kL’gths
); ++i) {

871 
d–‘e
[] 
»š‹½»t_ÿ¡
<*>(
iov
[
i
].
iov_ba£
);

873 
	}
}

875 
boŞ
 
	$CheckUncom´es£dL’gth
(cÚ¡ 
¡d
::
¡ršg
& 
com´es£d
,

876 
size_t
* 
uËngth
) {

877 cÚ¡ 
boŞ
 
»suÉ1
 = 
¢­py
::
	`G‘Uncom´es£dL’gth
(
com´es£d
.
	`d©a
(),

878 
com´es£d
.
	`size
(),

879 
uËngth
);

881 
¢­py
::
By‹A¼aySourû
 
	`sourû
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
());

882 
ušt32
 
Ëngth
;

883 cÚ¡ 
boŞ
 
»suÉ2
 = 
¢­py
::
	`G‘Uncom´es£dL’gth
(&
sourû
, &
Ëngth
);

884 
	`CHECK_EQ
(
»suÉ1
, 
»suÉ2
);

885  
»suÉ1
;

886 
	}
}

888 
	$TEST
(
SÇµyCÜru±iÚ
, 
Trunÿ‹dV¬št
) {

889 
¡d
::
¡ršg
 
com´es£d
, 
uncom´es£d
;

890 
size_t
 
uËngth
;

891 
com´es£d
.
	`push_back
('\xf0');

892 
	`CHECK
(!
	`CheckUncom´es£dL’gth
(
com´es£d
, &
uËngth
));

893 
	`CHECK
(!
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

894 
	`CHECK
(!
¢­py
::
	`Uncom´ess
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
(),

895 &
uncom´es£d
));

896 
	}
}

898 
	$TEST
(
SÇµyCÜru±iÚ
, 
UÁ”mš©edV¬št
) {

899 
¡d
::
¡ršg
 
com´es£d
, 
uncom´es£d
;

900 
size_t
 
uËngth
;

901 
com´es£d
.
	`push_back
('\x80');

902 
com´es£d
.
	`push_back
('\x80');

903 
com´es£d
.
	`push_back
('\x80');

904 
com´es£d
.
	`push_back
('\x80');

905 
com´es£d
.
	`push_back
('\x80');

906 
com´es£d
.
	`push_back
(10);

907 
	`CHECK
(!
	`CheckUncom´es£dL’gth
(
com´es£d
, &
uËngth
));

908 
	`CHECK
(!
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

909 
	`CHECK
(!
¢­py
::
	`Uncom´ess
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
(),

910 &
uncom´es£d
));

911 
	}
}

913 
	$TEST
(
SÇµyCÜru±iÚ
, 
Ov”æowšgV¬št
) {

914 
¡d
::
¡ršg
 
com´es£d
, 
uncom´es£d
;

915 
size_t
 
uËngth
;

916 
com´es£d
.
	`push_back
('\xfb');

917 
com´es£d
.
	`push_back
('\xff');

918 
com´es£d
.
	`push_back
('\xff');

919 
com´es£d
.
	`push_back
('\xff');

920 
com´es£d
.
	`push_back
('\x7f');

921 
	`CHECK
(!
	`CheckUncom´es£dL’gth
(
com´es£d
, &
uËngth
));

922 
	`CHECK
(!
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
()));

923 
	`CHECK
(!
¢­py
::
	`Uncom´ess
(
com´es£d
.
	`d©a
(), com´es£d.
	`size
(),

924 &
uncom´es£d
));

925 
	}
}

927 
	$TEST
(
SÇµy
, 
R—dPa¡EndOfBufãr
) {

931 
¡d
::
¡ršg
 
com´es£d
;

932 
V¬št
::
	`Aµ’d32
(&
com´es£d
, 1);

933 
	`Aµ’dL™”®
(&
com´es£d
, "x");

935 
¡d
::
¡ršg
 
uncom´es£d
;

936 
D©aEndšgAtUÄ—dabËPage
 
	`c
(
com´es£d
);

937 
	`CHECK
(
¢­py
::
	`Uncom´ess
(
c
.
	`d©a
(), c.
	`size
(), &
uncom´es£d
));

938 
	`CHECK_EQ
(
uncom´es£d
, 
¡d
::
	`¡ršg
("x"));

939 
	}
}

942 
	$TEST
(
SÇµy
, 
Z”oOff£tCİy
) {

943 cÚ¡ * 
com´es£d
 = "\x40\x12\x00\x00";

946 
uncom´es£d
[100];

947 
	`EXPECT_FALSE
(
¢­py
::
	`RawUncom´ess
(
com´es£d
, 4, 
uncom´es£d
));

948 
	}
}

950 
	$TEST
(
SÇµy
, 
Z”oOff£tCİyV®id©iÚ
) {

951 cÚ¡ * 
com´es£d
 = "\x05\x12\x00\x00";

954 
	`EXPECT_FALSE
(
¢­py
::
	`IsV®idCom´es£dBufãr
(
com´es£d
, 4));

955 
	}
}

957 
	gÇme¥aû
 {

959 
Te¡FšdM©chL’gth
(cÚ¡ * 
s1
, cÚ¡ *
s2
, 
Ëngth
) {

960 
	g¡d
::
·œ
<
size_t
, 
	gboŞ
> 
	gp
 =

961 
¢­py
::
š‹º®
::
FšdM©chL’gth
(
s1
, 
s2
, s2 + 
Ëngth
);

962 
CHECK_EQ
(
p
.
fœ¡
 < 8,….
£cÚd
);

963  
	gp
.
	gfœ¡
;

968 
	$TEST
(
SÇµy
, 
FšdM©chL’gth
) {

973 
	`EXPECT_EQ
(6, 
	`Te¡FšdM©chL’gth
("012345", "012345", 6));

974 
	`EXPECT_EQ
(11, 
	`Te¡FšdM©chL’gth
("01234567abc", "01234567abc", 11));

977 
	`EXPECT_EQ
(9, 
	`Te¡FšdM©chL’gth
("01234567abc", "01234567axc", 9));

980 
	`EXPECT_EQ
(11, 
	`Te¡FšdM©chL’gth
("01234567abc!", "01234567abc!", 11));

981 
	`EXPECT_EQ
(11, 
	`Te¡FšdM©chL’gth
("01234567abc!", "01234567abc?", 11));

984 
	`EXPECT_EQ
(0, 
	`Te¡FšdM©chL’gth
("01234567xxxxxxxx", "?1234567xxxxxxxx", 16));

985 
	`EXPECT_EQ
(1, 
	`Te¡FšdM©chL’gth
("01234567xxxxxxxx", "0?234567xxxxxxxx", 16));

986 
	`EXPECT_EQ
(4, 
	`Te¡FšdM©chL’gth
("01234567xxxxxxxx", "01237654xxxxxxxx", 16));

987 
	`EXPECT_EQ
(7, 
	`Te¡FšdM©chL’gth
("01234567xxxxxxxx", "0123456?xxxxxxxx", 16));

990 
	`EXPECT_EQ
(8, 
	`Te¡FšdM©chL’gth
("abcdefgh01234567xxxxxxxx",

992 
	`EXPECT_EQ
(9, 
	`Te¡FšdM©chL’gth
("abcdefgh01234567xxxxxxxx",

994 
	`EXPECT_EQ
(12, 
	`Te¡FšdM©chL’gth
("abcdefgh01234567xxxxxxxx",

996 
	`EXPECT_EQ
(15, 
	`Te¡FšdM©chL’gth
("abcdefgh01234567xxxxxxxx",

1002 
	`EXPECT_EQ
(0, 
	`Te¡FšdM©chL’gth
("01234567", "?1234567", 8));

1003 
	`EXPECT_EQ
(1, 
	`Te¡FšdM©chL’gth
("01234567", "0?234567", 8));

1004 
	`EXPECT_EQ
(2, 
	`Te¡FšdM©chL’gth
("01234567", "01?34567", 8));

1005 
	`EXPECT_EQ
(3, 
	`Te¡FšdM©chL’gth
("01234567", "012?4567", 8));

1006 
	`EXPECT_EQ
(4, 
	`Te¡FšdM©chL’gth
("01234567", "0123?567", 8));

1007 
	`EXPECT_EQ
(5, 
	`Te¡FšdM©chL’gth
("01234567", "01234?67", 8));

1008 
	`EXPECT_EQ
(6, 
	`Te¡FšdM©chL’gth
("01234567", "012345?7", 8));

1009 
	`EXPECT_EQ
(7, 
	`Te¡FšdM©chL’gth
("01234567", "0123456?", 8));

1010 
	`EXPECT_EQ
(7, 
	`Te¡FšdM©chL’gth
("01234567", "0123456?", 7));

1011 
	`EXPECT_EQ
(7, 
	`Te¡FšdM©chL’gth
("01234567!", "0123456??", 7));

1014 
	`EXPECT_EQ
(10, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd", "xxxxxxabcd", 10));

1015 
	`EXPECT_EQ
(10, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd?", "xxxxxxabcd?", 10));

1016 
	`EXPECT_EQ
(13, 
	`Te¡FšdM©chL’gth
("xxxxxxabcdef", "xxxxxxabcdef", 13));

1019 
	`EXPECT_EQ
(12, 
	`Te¡FšdM©chL’gth
("xxxxxx0123abc!", "xxxxxx0123abc!", 12));

1020 
	`EXPECT_EQ
(12, 
	`Te¡FšdM©chL’gth
("xxxxxx0123abc!", "xxxxxx0123abc?", 12));

1023 
	`EXPECT_EQ
(11, 
	`Te¡FšdM©chL’gth
("xxxxxx0123abc", "xxxxxx0123axc", 13));

1026 
	`EXPECT_EQ
(6, 
	`Te¡FšdM©chL’gth
("xxxxxx0123xxxxxxxx",

1028 
	`EXPECT_EQ
(7, 
	`Te¡FšdM©chL’gth
("xxxxxx0123xxxxxxxx",

1030 
	`EXPECT_EQ
(8, 
	`Te¡FšdM©chL’gth
("xxxxxx0123xxxxxxxx",

1032 
	`EXPECT_EQ
(9, 
	`Te¡FšdM©chL’gth
("xxxxxx0123xxxxxxxx",

1036 
	`EXPECT_EQ
(6, 
	`Te¡FšdM©chL’gth
("xxxxxx0123", "xxxxxx?123", 10));

1037 
	`EXPECT_EQ
(7, 
	`Te¡FšdM©chL’gth
("xxxxxx0123", "xxxxxx0?23", 10));

1038 
	`EXPECT_EQ
(8, 
	`Te¡FšdM©chL’gth
("xxxxxx0123", "xxxxxx0132", 10));

1039 
	`EXPECT_EQ
(9, 
	`Te¡FšdM©chL’gth
("xxxxxx0123", "xxxxxx012?", 10));

1042 
	`EXPECT_EQ
(10, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123xx",

1044 
	`EXPECT_EQ
(11, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123xx",

1046 
	`EXPECT_EQ
(12, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123xx",

1048 
	`EXPECT_EQ
(13, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123xx",

1052 
	`EXPECT_EQ
(10, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123", "xxxxxxabcd?123", 14));

1053 
	`EXPECT_EQ
(11, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123", "xxxxxxabcd0?23", 14));

1054 
	`EXPECT_EQ
(12, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123", "xxxxxxabcd0132", 14));

1055 
	`EXPECT_EQ
(13, 
	`Te¡FšdM©chL’gth
("xxxxxxabcd0123", "xxxxxxabcd012?", 14));

1056 
	}
}

1058 
	$TEST
(
SÇµy
, 
FšdM©chL’gthRªdom
) {

1059 
cÚ¡ex´
 
kNumTrŸls
 = 10000;

1060 
cÚ¡ex´
 
kTypiÿlL’gth
 = 10;

1061 
¡d
::
mš¡d_¿nd0
 
	`ºg
(
FLAGS_‹¡_¿ndom_£ed
);

1062 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`unifÜm_by‹
(0, 255);

1063 
¡d
::
b”nouÎi_di¡ributiÚ
 
	`Úe_š_two
(1.0 / 2);

1064 
¡d
::
b”nouÎi_di¡ributiÚ
 
	`Úe_š_typiÿl_Ëngth
(1.0 / 
kTypiÿlL’gth
);

1066 
i
 = 0; i < 
kNumTrŸls
; i++) {

1067 
¡d
::
¡ršg
 
s
, 
t
;

1068 
a
 = 
¡©ic_ÿ¡
<>(
	`unifÜm_by‹
(
ºg
));

1069 
b
 = 
¡©ic_ÿ¡
<>(
	`unifÜm_by‹
(
ºg
));

1070 !
	`Úe_š_typiÿl_Ëngth
(
ºg
)) {

1071 
s
.
	`push_back
(
	`Úe_š_two
(
ºg
è? 
a
 : 
b
);

1072 
t
.
	`push_back
(
	`Úe_š_two
(
ºg
è? 
a
 : 
b
);

1074 
D©aEndšgAtUÄ—dabËPage
 
	`u
(
s
);

1075 
D©aEndšgAtUÄ—dabËPage
 
	`v
(
t
);

1076 
m©ched
 = 
	`Te¡FšdM©chL’gth
(
u
.
	`d©a
(), 
v
.d©a(), 
t
.
	`size
());

1077 ià(
m©ched
 =ğ
t
.
	`size
()) {

1078 
	`EXPECT_EQ
(
s
, 
t
);

1080 
	`EXPECT_NE
(
s
[
m©ched
], 
t
[matched]);

1081 
j
 = 0; j < 
m©ched
; j++) {

1082 
	`EXPECT_EQ
(
s
[
j
], 
t
[j]);

1086 
	}
}

1088 
ušt16
 
	$MakeEÁry
(
exŒa
,

1089 
Ën
,

1090 
cİy_off£t
) {

1092 
	`as£¹
(
exŒa
 == (extra & 0x7));

1093 
	`as£¹
(
cİy_off£t
 == (copy_offset & 0x7));

1094 
	`as£¹
(
Ën
 == (len & 0x7f));

1095  
Ën
 | (
cİy_off£t
 << 8è| (
exŒa
 << 11);

1096 
	}
}

1100 
	$TEST
(
SÇµy
, 
V”ifyCh¬TabË
) {

1101 
usšg
 
¢­py
::
š‹º®
::
LITERAL
;

1102 
usšg
 
¢­py
::
š‹º®
::
COPY_1_BYTE_OFFSET
;

1103 
usšg
 
¢­py
::
š‹º®
::
COPY_2_BYTE_OFFSET
;

1104 
usšg
 
¢­py
::
š‹º®
::
COPY_4_BYTE_OFFSET
;

1105 
usšg
 
¢­py
::
š‹º®
::
ch¬_bË
;

1107 
ušt16
 
d¡
[256];

1110 
assigÃd
 = 0;

1111 
i
 = 0; i < 256; i++) {

1112 
d¡
[
i
] = 0xffff;

1116 
Ën
 = 1;†en <= 60;†en++) {

1117 
d¡
[
LITERAL
 | ((
Ën
-1è<< 2)] = 
	`MakeEÁry
(0,†en, 0);

1118 
assigÃd
++;

1123 
exŒa_by‹s
 = 1;ƒxtra_bytes <= 4;ƒxtra_bytes++) {

1126 
d¡
[
LITERAL
 | ((
exŒa_by‹s
+59è<< 2)] = 
	`MakeEÁry
(extra_bytes, 1, 0);

1127 
assigÃd
++;

1137 
Ën
 = 4;†en < 12;†en++) {

1138 
off£t
 = 0; offset < 2048; offset += 256) {

1139 
d¡
[
COPY_1_BYTE_OFFSET
 | ((
Ën
-4)<<2è| ((
off£t
>>8)<<5)] =

1140 
	`MakeEÁry
(1, 
Ën
, 
off£t
>>8);

1141 
assigÃd
++;

1147 
Ën
 = 1;†en <= 64;†en++) {

1148 
d¡
[
COPY_2_BYTE_OFFSET
 | ((
Ën
-1)<<2)] = 
	`MakeEÁry
(2,†en, 0);

1149 
assigÃd
++;

1154 
Ën
 = 1;†en <= 64;†en++) {

1155 
d¡
[
COPY_4_BYTE_OFFSET
 | ((
Ën
-1)<<2)] = 
	`MakeEÁry
(4,†en, 0);

1156 
assigÃd
++;

1160 
	`EXPECT_EQ
(256, 
assigÃd
) << "Assigned only " <<‡ssigned << " of 256";

1161 
i
 = 0; i < 256; i++) {

1162 
	`EXPECT_NE
(0xffff, 
d¡
[
i
]) << "Did‚ot‡ssign byte " << i;

1165 ià(
FLAGS_¢­py_dump_decom´essiÚ_bË
) {

1166 
	`´štf
("static const uint16 char_table[256] = {\n ");

1167 
i
 = 0; i < 256; i++) {

1168 
	`´štf
("0x%04x%s",

1169 
d¡
[
i
],

1170 ((
i
 == 255) ? "\n" : (((i%8) == 7) ? ",\n " : ", ")));

1172 
	`´štf
("};\n");

1176 
i
 = 0; i < 256; i++) {

1177 
	`EXPECT_EQ
(
d¡
[
i
], 
ch¬_bË
[i]) << "Mismatch in byte " << i;

1179 
	}
}

1181 
	$Com´essFe
(cÚ¡ * 
âame
) {

1182 
¡d
::
¡ršg
 
fuÎšput
;

1183 
	`CHECK_OK
(
fe
::
	`G‘CÚ‹Ás
(
âame
, &
fuÎšput
, fe::
	`DeçuÉs
()));

1185 
¡d
::
¡ršg
 
com´es£d
;

1186 
	`Com´ess
(
fuÎšput
.
	`d©a
(), fuÎšput.
	`size
(), 
SNAPPY
, &
com´es£d
, 
çl£
);

1188 
	`CHECK_OK
(
fe
::
	`S‘CÚ‹Ás
(
¡d
::
	`¡ršg
(
âame
).
	`­³nd
(".comp"), 
com´es£d
,

1189 
fe
::
	`DeçuÉs
()));

1190 
	}
}

1192 
	$Uncom´essFe
(cÚ¡ * 
âame
) {

1193 
¡d
::
¡ršg
 
fuÎšput
;

1194 
	`CHECK_OK
(
fe
::
	`G‘CÚ‹Ás
(
âame
, &
fuÎšput
, fe::
	`DeçuÉs
()));

1196 
size_t
 
uncompL’gth
;

1197 
	`CHECK
(
	`CheckUncom´es£dL’gth
(
fuÎšput
, &
uncompL’gth
));

1199 
¡d
::
¡ršg
 
uncom´es£d
;

1200 
uncom´es£d
.
	`»size
(
uncompL’gth
);

1201 
	`CHECK
(
¢­py
::
	`Uncom´ess
(
fuÎšput
.
	`d©a
(), fuÎšput.
	`size
(), &
uncom´es£d
));

1203 
	`CHECK_OK
(
fe
::
	`S‘CÚ‹Ás
(
¡d
::
	`¡ršg
(
âame
).
	`­³nd
(".uncomp"), 
uncom´es£d
,

1204 
fe
::
	`DeçuÉs
()));

1205 
	}
}

1207 
	$M—su»Fe
(cÚ¡ * 
âame
) {

1208 
¡d
::
¡ršg
 
fuÎšput
;

1209 
	`CHECK_OK
(
fe
::
	`G‘CÚ‹Ás
(
âame
, &
fuÎšput
, fe::
	`DeçuÉs
()));

1210 
	`´štf
("%-40 :\n", 
âame
);

1212 
¡¬t_Ën
 = (
FLAGS_¡¬t_Ën
 < 0è? 
fuÎšput
.
	`size
() : FLAGS_start_len;

1213 
’d_Ën
 = 
fuÎšput
.
	`size
();

1214 ià(
FLAGS_’d_Ën
 >= 0) {

1215 
’d_Ën
 = 
¡d
::
mš
<>(
fuÎšput
.
	`size
(), 
FLAGS_’d_Ën
);

1217 
Ën
 = 
¡¬t_Ën
;†’ <ğ
’d_Ën
;†en++) {

1218 cÚ¡ * cÚ¡ 
šput
 = 
fuÎšput
.
	`d©a
();

1219 
»³©s
 = (
FLAGS_by‹s
 + 
Ën
) / (len + 1);

1220 ià(
FLAGS_zlib
è
	`M—su»
(
šput
, 
Ën
, 
ZLIB
, 
»³©s
, 1024<<10);

1221 ià(
FLAGS_lzo
è
	`M—su»
(
šput
, 
Ën
, 
LZO
, 
»³©s
, 1024<<10);

1222 ià(
FLAGS_¢­py
è
	`M—su»
(
šput
, 
Ën
, 
SNAPPY
, 
»³©s
, 4096<<10);

1225 ià(0 && 
FLAGS_¢­py
) {

1226 
	`M—su»
(
šput
, 
Ën
, 
SNAPPY
, 
»³©s
, 8<<10);

1227 
	`M—su»
(
šput
, 
Ën
, 
SNAPPY
, 
»³©s
, 16<<10);

1228 
	`M—su»
(
šput
, 
Ën
, 
SNAPPY
, 
»³©s
, 32<<10);

1229 
	`M—su»
(
šput
, 
Ën
, 
SNAPPY
, 
»³©s
, 64<<10);

1230 
	`M—su»
(
šput
, 
Ën
, 
SNAPPY
, 
»³©s
, 256<<10);

1231 
	`M—su»
(
šput
, 
Ën
, 
SNAPPY
, 
»³©s
, 1024<<10);

1234 
	}
}

1237 cÚ¡ * 
	gÏb–
;

1238 cÚ¡ * 
	gf’ame
;

1239 
size_t
 
	gsize_lim™
;

1240 } 
	gfes
[] = {

1255 
	$BM_UFÏt
(
™”s
, 
¬g
) {

1256 
	`StİB’chm¬kTimšg
();

1259 
	`CHECK_GE
(
¬g
, 0);

1260 
	`CHECK_LT
(
¬g
, 
	`ARRAYSIZE
(
fes
));

1261 
¡d
::
¡ršg
 
cÚ‹Ás
 =

1262 
	`R—dTe¡D©aFe
(
fes
[
¬g
].
f’ame
, fes[¬g].
size_lim™
);

1264 
¡d
::
¡ršg
 
zcÚ‹Ás
;

1265 
¢­py
::
	`Com´ess
(
cÚ‹Ás
.
	`d©a
(), cÚ‹Ás.
	`size
(), &
zcÚ‹Ás
);

1266 * 
d¡
 = 
Ãw
 [
cÚ‹Ás
.
	`size
()];

1268 
	`S‘B’chm¬kBy‹sProûs£d
(
¡©ic_ÿ¡
<
št64
>(
™”s
) *

1269 
¡©ic_ÿ¡
<
št64
>(
cÚ‹Ás
.
	`size
()));

1270 
	`S‘B’chm¬kLab–
(
fes
[
¬g
].
Ïb–
);

1271 
	`S¹B’chm¬kTimšg
();

1272 
™”s
-- > 0) {

1273 
	`CHECK
(
¢­py
::
	`RawUncom´ess
(
zcÚ‹Ás
.
	`d©a
(), zcÚ‹Ás.
	`size
(), 
d¡
));

1275 
	`StİB’chm¬kTimšg
();

1277 
d–‘e
[] 
d¡
;

1278 
	}
}

1279 
BENCHMARK
(
BM_UFÏt
)->
D’£Rªge
(0, 
ARRAYSIZE
(
fes
) - 1);

1281 
	$BM_UV®id©e
(
™”s
, 
¬g
) {

1282 
	`StİB’chm¬kTimšg
();

1285 
	`CHECK_GE
(
¬g
, 0);

1286 
	`CHECK_LT
(
¬g
, 
	`ARRAYSIZE
(
fes
));

1287 
¡d
::
¡ršg
 
cÚ‹Ás
 =

1288 
	`R—dTe¡D©aFe
(
fes
[
¬g
].
f’ame
, fes[¬g].
size_lim™
);

1290 
¡d
::
¡ršg
 
zcÚ‹Ás
;

1291 
¢­py
::
	`Com´ess
(
cÚ‹Ás
.
	`d©a
(), cÚ‹Ás.
	`size
(), &
zcÚ‹Ás
);

1293 
	`S‘B’chm¬kBy‹sProûs£d
(
¡©ic_ÿ¡
<
št64
>(
™”s
) *

1294 
¡©ic_ÿ¡
<
št64
>(
cÚ‹Ás
.
	`size
()));

1295 
	`S‘B’chm¬kLab–
(
fes
[
¬g
].
Ïb–
);

1296 
	`S¹B’chm¬kTimšg
();

1297 
™”s
-- > 0) {

1298 
	`CHECK
(
¢­py
::
	`IsV®idCom´es£dBufãr
(
zcÚ‹Ás
.
	`d©a
(), zcÚ‹Ás.
	`size
()));

1300 
	`StİB’chm¬kTimšg
();

1301 
	}
}

1302 
BENCHMARK
(
BM_UV®id©e
)->
D’£Rªge
(0, 4);

1304 
	$BM_UIOVec
(
™”s
, 
¬g
) {

1305 
	`StİB’chm¬kTimšg
();

1308 
	`CHECK_GE
(
¬g
, 0);

1309 
	`CHECK_LT
(
¬g
, 
	`ARRAYSIZE
(
fes
));

1310 
¡d
::
¡ršg
 
cÚ‹Ás
 =

1311 
	`R—dTe¡D©aFe
(
fes
[
¬g
].
f’ame
, fes[¬g].
size_lim™
);

1313 
¡d
::
¡ršg
 
zcÚ‹Ás
;

1314 
¢­py
::
	`Com´ess
(
cÚ‹Ás
.
	`d©a
(), cÚ‹Ás.
	`size
(), &
zcÚ‹Ás
);

1317 cÚ¡ 
kNumEÁr›s
 = 10;

1318 
iovec
 
iov
[
kNumEÁr›s
];

1319 *
d¡
 = 
Ãw
 [
cÚ‹Ás
.
	`size
()];

1320 
u£d_so_çr
 = 0;

1321 
i
 = 0; i < 
kNumEÁr›s
; ++i) {

1322 
iov
[
i
].
iov_ba£
 = 
d¡
 + 
u£d_so_çr
;

1323 ià(
u£d_so_çr
 =ğ
cÚ‹Ás
.
	`size
()) {

1324 
iov
[
i
].
iov_Ën
 = 0;

1328 ià(
i
 =ğ
kNumEÁr›s
 - 1) {

1329 
iov
[
i
].
iov_Ën
 = 
cÚ‹Ás
.
	`size
(è- 
u£d_so_çr
;

1331 
iov
[
i
].
iov_Ën
 = 
cÚ‹Ás
.
	`size
(è/ 
kNumEÁr›s
;

1333 
u£d_so_çr
 +ğ
iov
[
i
].
iov_Ën
;

1336 
	`S‘B’chm¬kBy‹sProûs£d
(
¡©ic_ÿ¡
<
št64
>(
™”s
) *

1337 
¡©ic_ÿ¡
<
št64
>(
cÚ‹Ás
.
	`size
()));

1338 
	`S‘B’chm¬kLab–
(
fes
[
¬g
].
Ïb–
);

1339 
	`S¹B’chm¬kTimšg
();

1340 
™”s
-- > 0) {

1341 
	`CHECK
(
¢­py
::
	`RawUncom´essToIOVec
(
zcÚ‹Ás
.
	`d©a
(), zcÚ‹Ás.
	`size
(), 
iov
,

1342 
kNumEÁr›s
));

1344 
	`StİB’chm¬kTimšg
();

1346 
d–‘e
[] 
d¡
;

1347 
	}
}

1348 
BENCHMARK
(
BM_UIOVec
)->
D’£Rªge
(0, 4);

1350 
	$BM_UFÏtSšk
(
™”s
, 
¬g
) {

1351 
	`StİB’chm¬kTimšg
();

1354 
	`CHECK_GE
(
¬g
, 0);

1355 
	`CHECK_LT
(
¬g
, 
	`ARRAYSIZE
(
fes
));

1356 
¡d
::
¡ršg
 
cÚ‹Ás
 =

1357 
	`R—dTe¡D©aFe
(
fes
[
¬g
].
f’ame
, fes[¬g].
size_lim™
);

1359 
¡d
::
¡ršg
 
zcÚ‹Ás
;

1360 
¢­py
::
	`Com´ess
(
cÚ‹Ás
.
	`d©a
(), cÚ‹Ás.
	`size
(), &
zcÚ‹Ás
);

1361 * 
d¡
 = 
Ãw
 [
cÚ‹Ás
.
	`size
()];

1363 
	`S‘B’chm¬kBy‹sProûs£d
(
¡©ic_ÿ¡
<
št64
>(
™”s
) *

1364 
¡©ic_ÿ¡
<
št64
>(
cÚ‹Ás
.
	`size
()));

1365 
	`S‘B’chm¬kLab–
(
fes
[
¬g
].
Ïb–
);

1366 
	`S¹B’chm¬kTimšg
();

1367 
™”s
-- > 0) {

1368 
¢­py
::
By‹A¼aySourû
 
	`sourû
(
zcÚ‹Ás
.
	`d©a
(), zcÚ‹Ás.
	`size
());

1369 
¢­py
::
UncheckedBy‹A¼aySšk
 
	`sšk
(
d¡
);

1370 
	`CHECK
(
¢­py
::
	`Uncom´ess
(&
sourû
, &
sšk
));

1372 
	`StİB’chm¬kTimšg
();

1374 
¡d
::
¡ršg
 
	`s
(
d¡
, 
cÚ‹Ás
.
	`size
());

1375 
	`CHECK_EQ
(
cÚ‹Ás
, 
s
);

1377 
d–‘e
[] 
d¡
;

1378 
	}
}

1380 
BENCHMARK
(
BM_UFÏtSšk
)->
D’£Rªge
(0, 
ARRAYSIZE
(
fes
) - 1);

1382 
	$BM_ZFÏt
(
™”s
, 
¬g
) {

1383 
	`StİB’chm¬kTimšg
();

1386 
	`CHECK_GE
(
¬g
, 0);

1387 
	`CHECK_LT
(
¬g
, 
	`ARRAYSIZE
(
fes
));

1388 
¡d
::
¡ršg
 
cÚ‹Ás
 =

1389 
	`R—dTe¡D©aFe
(
fes
[
¬g
].
f’ame
, fes[¬g].
size_lim™
);

1391 * 
d¡
 = 
Ãw
 [
¢­py
::
	`MaxCom´es£dL’gth
(
cÚ‹Ás
.
	`size
())];

1393 
	`S‘B’chm¬kBy‹sProûs£d
(
¡©ic_ÿ¡
<
št64
>(
™”s
) *

1394 
¡©ic_ÿ¡
<
št64
>(
cÚ‹Ás
.
	`size
()));

1395 
	`S¹B’chm¬kTimšg
();

1397 
size_t
 
zsize
 = 0;

1398 
™”s
-- > 0) {

1399 
¢­py
::
	`RawCom´ess
(
cÚ‹Ás
.
	`d©a
(), cÚ‹Ás.
	`size
(), 
d¡
, &
zsize
);

1401 
	`StİB’chm¬kTimšg
();

1402 cÚ¡ 
com´essiÚ_¿tio
 =

1403 
¡©ic_ÿ¡
<>(
zsize
è/ 
¡d
::
max
<
size_t
>(1, 
cÚ‹Ás
.
	`size
());

1404 
	`S‘B’chm¬kLab–
(
	`SŒFÜm©
("% (%.2à%%)", 
fes
[
¬g
].
Ïb–
,

1405 100.0 * 
com´essiÚ_¿tio
));

1406 
	`VLOG
(0è<< 
	`SŒFÜm©
("compression for %s: %zd -> %zd bytes",

1407 
fes
[
¬g
].
Ïb–
, 
¡©ic_ÿ¡
<>(
cÚ‹Ás
.
	`size
()),

1408 
¡©ic_ÿ¡
<>(
zsize
));

1409 
d–‘e
[] 
d¡
;

1410 
	}
}

1411 
BENCHMARK
(
BM_ZFÏt
)->
D’£Rªge
(0, 
ARRAYSIZE
(
fes
) - 1);

1413 
	$BM_ZFÏtAÎ
(
™”s
, 
¬g
) {

1414 
	`StİB’chm¬kTimšg
();

1416 
	`CHECK_EQ
(
¬g
, 0);

1417 cÚ¡ 
num_fes
 = 
	`ARRAYSIZE
(
fes
);

1419 
¡d
::
veùÜ
<¡d::
¡ršg
> 
	`cÚ‹Ás
(
num_fes
);

1420 
¡d
::
veùÜ
<*> 
	`d¡
(
num_fes
);

1422 
št64
 
tÙ®_cÚ‹Ás_size
 = 0;

1423 
i
 = 0; i < 
num_fes
; ++i) {

1424 
cÚ‹Ás
[
i
] = 
	`R—dTe¡D©aFe
(
fes
[i].
f’ame
, fes[i].
size_lim™
);

1425 
d¡
[
i
] = 
Ãw
 [
¢­py
::
	`MaxCom´es£dL’gth
(
cÚ‹Ás
[i].
	`size
())];

1426 
tÙ®_cÚ‹Ás_size
 +ğ
cÚ‹Ás
[
i
].
	`size
();

1429 
	`S‘B’chm¬kBy‹sProûs£d
(
¡©ic_ÿ¡
<
št64
>(
™”s
è* 
tÙ®_cÚ‹Ás_size
);

1430 
	`S¹B’chm¬kTimšg
();

1432 
size_t
 
zsize
 = 0;

1433 
™”s
-- > 0) {

1434 
i
 = 0; i < 
num_fes
; ++i) {

1435 
¢­py
::
	`RawCom´ess
(
cÚ‹Ás
[
i
].
	`d©a
(), cÚ‹Ás[i].
	`size
(), 
d¡
[i],

1436 &
zsize
);

1439 
	`StİB’chm¬kTimšg
();

1441 
i
 = 0; i < 
num_fes
; ++i) {

1442 
d–‘e
[] 
d¡
[
i
];

1444 
	`S‘B’chm¬kLab–
(
	`SŒFÜm©
("%d fes", 
num_fes
));

1445 
	}
}

1446 
BENCHMARK
(
BM_ZFÏtAÎ
)->
D’£Rªge
(0, 0);

1448 
	$BM_ZFÏtInü—sšgTabËSize
(
™”s
, 
¬g
) {

1449 
	`StİB’chm¬kTimšg
();

1451 
	`CHECK_EQ
(
¬g
, 0);

1452 
	`CHECK_GT
(
	`ARRAYSIZE
(
fes
), 0);

1453 cÚ¡ 
¡d
::
¡ršg
 
ba£_cÚ‹Á
 =

1454 
	`R—dTe¡D©aFe
(
fes
[0].
f’ame
, fes[0].
size_lim™
);

1456 
¡d
::
veùÜ
<¡d::
¡ršg
> 
cÚ‹Ás
;

1457 
¡d
::
veùÜ
<*> 
d¡
;

1458 
št64
 
tÙ®_cÚ‹Ás_size
 = 0;

1459 
bË_b™s
 = 
kMšHashTabËB™s
;abË_b™ <ğ
kMaxHashTabËB™s
;

1460 ++
bË_b™s
) {

1461 
¡d
::
¡ršg
 
cÚ‹Á
 = 
ba£_cÚ‹Á
;

1462 
cÚ‹Á
.
	`»size
(1 << 
bË_b™s
);

1463 
d¡
.
	`push_back
(
Ãw
 [
¢­py
::
	`MaxCom´es£dL’gth
(
cÚ‹Á
.
	`size
())]);

1464 
tÙ®_cÚ‹Ás_size
 +ğ
cÚ‹Á
.
	`size
();

1465 
cÚ‹Ás
.
	`push_back
(
¡d
::
	`move
(
cÚ‹Á
));

1468 
size_t
 
zsize
 = 0;

1469 
	`S‘B’chm¬kBy‹sProûs£d
(
¡©ic_ÿ¡
<
št64
>(
™”s
è* 
tÙ®_cÚ‹Ás_size
);

1470 
	`S¹B’chm¬kTimšg
();

1471 
™”s
-- > 0) {

1472 
i
 = 0; i < 
cÚ‹Ás
.
	`size
(); ++i) {

1473 
¢­py
::
	`RawCom´ess
(
cÚ‹Ás
[
i
].
	`d©a
(), cÚ‹Ás[i].
	`size
(), 
d¡
[i],

1474 &
zsize
);

1477 
	`StİB’chm¬kTimšg
();

1479 
i
 = 0; i < 
d¡
.
	`size
(); ++i) {

1480 
d–‘e
[] 
d¡
[
i
];

1482 
	`S‘B’chm¬kLab–
(
	`SŒFÜm©
("%zdabËs", 
cÚ‹Ás
.
	`size
()));

1483 
	}
}

1484 
BENCHMARK
(
BM_ZFÏtInü—sšgTabËSize
)->
D’£Rªge
(0, 0);

1488 
	$maš
(
¬gc
, ** 
¬gv
) {

1489 
	`In™GoogË
(
¬gv
[0], &
¬gc
, &¬gv, 
Œue
);

1490 
	`RunS³cif›dB’chm¬ks
();

1492 ià(
¬gc
 >= 2) {

1493 
¬g
 = 1;‡rg < 
¬gc
;‡rg++) {

1494 ià(
FLAGS_wr™e_com´es£d
) {

1495 
¢­py
::
	`Com´essFe
(
¬gv
[
¬g
]);

1496 } ià(
FLAGS_wr™e_uncom´es£d
) {

1497 
¢­py
::
	`Uncom´essFe
(
¬gv
[
¬g
]);

1499 
¢­py
::
	`M—su»Fe
(
¬gv
[
¬g
]);

1505  
	`RUN_ALL_TESTS
();

1506 
	}
}

	@src/MurmurHash3.cpp

10 
	~"š‹º®/MurmurHash3.h
"

17 #ià
defšed
(
_MSC_VER
)

19 
	#FORCE_INLINE
 
__fÜûšlše


	)

21 
	~<¡dlib.h
>

23 
	#ROTL32
(
x
, 
y
è
	`_rÙl
(x, y)

	)

24 
	#ROTL64
(
x
, 
y
è
	`_rÙl64
(x, y)

	)

26 
	#BIG_CONSTANT
(
x
è(x)

	)

32 
	#FORCE_INLINE
 
šlše
 
	`__©Œibu‹__
((
®ways_šlše
))

	)

34 
šlše
 
ušt32_t
 
	$rÙl32
(
ušt32_t
 
x
, 
št8_t
 
r
) {

35  (
x
 << 
r
) | (x >> (32 -„));

36 
	}
}

38 
šlše
 
ušt64_t
 
	$rÙl64
(
ušt64_t
 
x
, 
št8_t
 
r
) {

39  (
x
 << 
r
) | (x >> (64 -„));

40 
	}
}

42 
	#ROTL32
(
x
, 
y
è
	`rÙl32
(x, y)

	)

43 
	#ROTL64
(
x
, 
y
è
	`rÙl64
(x, y)

	)

45 
	#BIG_CONSTANT
(
x
è(x##
LLU
)

	)

53 
FORCE_INLINE
 
ušt32_t
 
	$g‘block32
(cÚ¡ 
ušt32_t
 *
p
, 
i
è{ …[i]; 
	}
}

55 
FORCE_INLINE
 
ušt64_t
 
	$g‘block64
(cÚ¡ 
ušt64_t
 *
p
, 
i
è{ …[i]; 
	}
}

60 
FORCE_INLINE
 
ušt32_t
 
	$fmix32
(
ušt32_t
 
h
) {

61 
h
 ^= h >> 16;

62 
h
 *= 0x85ebca6b;

63 
h
 ^= h >> 13;

64 
h
 *= 0xc2b2ae35;

65 
h
 ^= h >> 16;

67  
h
;

68 
	}
}

72 
FORCE_INLINE
 
ušt64_t
 
	$fmix64
(
ušt64_t
 
k
) {

73 
k
 ^= k >> 33;

74 
k
 *ğ
	`BIG_CONSTANT
(0xff51afd7ed558ccd);

75 
k
 ^= k >> 33;

76 
k
 *ğ
	`BIG_CONSTANT
(0xc4ceb9fe1a85ec53);

77 
k
 ^= k >> 33;

79  
k
;

80 
	}
}

84 
	$MurmurHash3_x86_32
(cÚ¡ *
key
, 
Ën
, 
ušt32_t
 
£ed
, *
out
) {

85 cÚ¡ 
ušt8_t
 *
d©a
 = (cÚ¡ ušt8_ˆ*)
key
;

86 cÚ¡ 
nblocks
 = 
Ën
 / 4;

88 
ušt32_t
 
h1
 = 
£ed
;

90 cÚ¡ 
ušt32_t
 
c1
 = 0xcc9e2d51;

91 cÚ¡ 
ušt32_t
 
c2
 = 0x1b873593;

96 cÚ¡ 
ušt32_t
 *
blocks
 = (cÚ¡ ušt32_ˆ*)(
d©a
 + 
nblocks
 * 4);

98 
i
 = -
nblocks
; i; i++) {

99 
ušt32_t
 
k1
 = 
	`g‘block32
(
blocks
, 
i
);

101 
k1
 *ğ
c1
;

102 
k1
 = 
	`ROTL32
(k1, 15);

103 
k1
 *ğ
c2
;

105 
h1
 ^ğ
k1
;

106 
h1
 = 
	`ROTL32
(h1, 13);

107 
h1
 = h1 * 5 + 0xe6546b64;

113 cÚ¡ 
ušt8_t
 *

 = (cÚ¡ ušt8_ˆ*)(
d©a
 + 
nblocks
 * 4);

115 
ušt32_t
 
k1
 = 0;

117 
Ën
 & 3) {

119 
k1
 ^ğ

[2] << 16;

121 
k1
 ^ğ

[1] << 8;

123 
k1
 ^ğ

[0];

124 
k1
 *ğ
c1
;

125 
k1
 = 
	`ROTL32
(k1, 15);

126 
k1
 *ğ
c2
;

127 
h1
 ^ğ
k1
;

133 
h1
 ^ğ
Ën
;

135 
h1
 = 
	`fmix32
(h1);

137 *(
ušt32_t
 *)
out
 = 
h1
;

138 
	}
}

142 
	$MurmurHash3_x86_128
(cÚ¡ *
key
, cÚ¡ 
Ën
, 
ušt32_t
 
£ed
,

143 *
out
) {

144 cÚ¡ 
ušt8_t
 *
d©a
 = (cÚ¡ ušt8_ˆ*)
key
;

145 cÚ¡ 
nblocks
 = 
Ën
 / 16;

147 
ušt32_t
 
h1
 = 
£ed
;

148 
ušt32_t
 
h2
 = 
£ed
;

149 
ušt32_t
 
h3
 = 
£ed
;

150 
ušt32_t
 
h4
 = 
£ed
;

152 cÚ¡ 
ušt32_t
 
c1
 = 0x239b961b;

153 cÚ¡ 
ušt32_t
 
c2
 = 0xab0e9789;

154 cÚ¡ 
ušt32_t
 
c3
 = 0x38b34ae5;

155 cÚ¡ 
ušt32_t
 
c4
 = 0xa1e38b93;

160 cÚ¡ 
ušt32_t
 *
blocks
 = (cÚ¡ ušt32_ˆ*)(
d©a
 + 
nblocks
 * 16);

162 
i
 = -
nblocks
; i; i++) {

163 
ušt32_t
 
k1
 = 
	`g‘block32
(
blocks
, 
i
 * 4 + 0);

164 
ušt32_t
 
k2
 = 
	`g‘block32
(
blocks
, 
i
 * 4 + 1);

165 
ušt32_t
 
k3
 = 
	`g‘block32
(
blocks
, 
i
 * 4 + 2);

166 
ušt32_t
 
k4
 = 
	`g‘block32
(
blocks
, 
i
 * 4 + 3);

168 
k1
 *ğ
c1
;

169 
k1
 = 
	`ROTL32
(k1, 15);

170 
k1
 *ğ
c2
;

171 
h1
 ^ğ
k1
;

173 
h1
 = 
	`ROTL32
(h1, 19);

174 
h1
 +ğ
h2
;

175 
h1
 = h1 * 5 + 0x561ccd1b;

177 
k2
 *ğ
c2
;

178 
k2
 = 
	`ROTL32
(k2, 16);

179 
k2
 *ğ
c3
;

180 
h2
 ^ğ
k2
;

182 
h2
 = 
	`ROTL32
(h2, 17);

183 
h2
 +ğ
h3
;

184 
h2
 = h2 * 5 + 0x0bcaa747;

186 
k3
 *ğ
c3
;

187 
k3
 = 
	`ROTL32
(k3, 17);

188 
k3
 *ğ
c4
;

189 
h3
 ^ğ
k3
;

191 
h3
 = 
	`ROTL32
(h3, 15);

192 
h3
 +ğ
h4
;

193 
h3
 = h3 * 5 + 0x96cd1c35;

195 
k4
 *ğ
c4
;

196 
k4
 = 
	`ROTL32
(k4, 18);

197 
k4
 *ğ
c1
;

198 
h4
 ^ğ
k4
;

200 
h4
 = 
	`ROTL32
(h4, 13);

201 
h4
 +ğ
h1
;

202 
h4
 = h4 * 5 + 0x32ac3b17;

208 cÚ¡ 
ušt8_t
 *

 = (cÚ¡ ušt8_ˆ*)(
d©a
 + 
nblocks
 * 16);

210 
ušt32_t
 
k1
 = 0;

211 
ušt32_t
 
k2
 = 0;

212 
ušt32_t
 
k3
 = 0;

213 
ušt32_t
 
k4
 = 0;

215 
Ën
 & 15) {

217 
k4
 ^ğ

[14] << 16;

219 
k4
 ^ğ

[13] << 8;

221 
k4
 ^ğ

[12] << 0;

222 
k4
 *ğ
c4
;

223 
k4
 = 
	`ROTL32
(k4, 18);

224 
k4
 *ğ
c1
;

225 
h4
 ^ğ
k4
;

228 
k3
 ^ğ

[11] << 24;

230 
k3
 ^ğ

[10] << 16;

232 
k3
 ^ğ

[9] << 8;

234 
k3
 ^ğ

[8] << 0;

235 
k3
 *ğ
c3
;

236 
k3
 = 
	`ROTL32
(k3, 17);

237 
k3
 *ğ
c4
;

238 
h3
 ^ğ
k3
;

241 
k2
 ^ğ

[7] << 24;

243 
k2
 ^ğ

[6] << 16;

245 
k2
 ^ğ

[5] << 8;

247 
k2
 ^ğ

[4] << 0;

248 
k2
 *ğ
c2
;

249 
k2
 = 
	`ROTL32
(k2, 16);

250 
k2
 *ğ
c3
;

251 
h2
 ^ğ
k2
;

254 
k1
 ^ğ

[3] << 24;

256 
k1
 ^ğ

[2] << 16;

258 
k1
 ^ğ

[1] << 8;

260 
k1
 ^ğ

[0] << 0;

261 
k1
 *ğ
c1
;

262 
k1
 = 
	`ROTL32
(k1, 15);

263 
k1
 *ğ
c2
;

264 
h1
 ^ğ
k1
;

270 
h1
 ^ğ
Ën
;

271 
h2
 ^ğ
Ën
;

272 
h3
 ^ğ
Ën
;

273 
h4
 ^ğ
Ën
;

275 
h1
 +ğ
h2
;

276 
h1
 +ğ
h3
;

277 
h1
 +ğ
h4
;

278 
h2
 +ğ
h1
;

279 
h3
 +ğ
h1
;

280 
h4
 +ğ
h1
;

282 
h1
 = 
	`fmix32
(h1);

283 
h2
 = 
	`fmix32
(h2);

284 
h3
 = 
	`fmix32
(h3);

285 
h4
 = 
	`fmix32
(h4);

287 
h1
 +ğ
h2
;

288 
h1
 +ğ
h3
;

289 
h1
 +ğ
h4
;

290 
h2
 +ğ
h1
;

291 
h3
 +ğ
h1
;

292 
h4
 +ğ
h1
;

294 ((
ušt32_t
 *)
out
)[0] = 
h1
;

295 ((
ušt32_t
 *)
out
)[1] = 
h2
;

296 ((
ušt32_t
 *)
out
)[2] = 
h3
;

297 ((
ušt32_t
 *)
out
)[3] = 
h4
;

298 
	}
}

302 
	$MurmurHash3_x64_128
(cÚ¡ *
key
, cÚ¡ 
Ën
, cÚ¡ 
ušt32_t
 
£ed
,

303 *
out
) {

304 cÚ¡ 
ušt8_t
 *
d©a
 = (cÚ¡ ušt8_ˆ*)
key
;

305 cÚ¡ 
nblocks
 = 
Ën
 / 16;

307 
ušt64_t
 
h1
 = 
£ed
;

308 
ušt64_t
 
h2
 = 
£ed
;

310 cÚ¡ 
ušt64_t
 
c1
 = 
	`BIG_CONSTANT
(0x87c37b91114253d5);

311 cÚ¡ 
ušt64_t
 
c2
 = 
	`BIG_CONSTANT
(0x4cf5ad432745937f);

316 cÚ¡ 
ušt64_t
 *
blocks
 = (cÚ¡ ušt64_ˆ*)(
d©a
);

318 
i
 = 0; i < 
nblocks
; i++) {

319 
ušt64_t
 
k1
 = 
	`g‘block64
(
blocks
, 
i
 * 2 + 0);

320 
ušt64_t
 
k2
 = 
	`g‘block64
(
blocks
, 
i
 * 2 + 1);

322 
k1
 *ğ
c1
;

323 
k1
 = 
	`ROTL64
(k1, 31);

324 
k1
 *ğ
c2
;

325 
h1
 ^ğ
k1
;

327 
h1
 = 
	`ROTL64
(h1, 27);

328 
h1
 +ğ
h2
;

329 
h1
 = h1 * 5 + 0x52dce729;

331 
k2
 *ğ
c2
;

332 
k2
 = 
	`ROTL64
(k2, 33);

333 
k2
 *ğ
c1
;

334 
h2
 ^ğ
k2
;

336 
h2
 = 
	`ROTL64
(h2, 31);

337 
h2
 +ğ
h1
;

338 
h2
 = h2 * 5 + 0x38495ab5;

344 cÚ¡ 
ušt8_t
 *

 = (cÚ¡ ušt8_ˆ*)(
d©a
 + 
nblocks
 * 16);

346 
ušt64_t
 
k1
 = 0;

347 
ušt64_t
 
k2
 = 0;

349 
Ën
 & 15) {

351 
k2
 ^ğ((
ušt64_t
)

[14]) << 48;

353 
k2
 ^ğ((
ušt64_t
)

[13]) << 40;

355 
k2
 ^ğ((
ušt64_t
)

[12]) << 32;

357 
k2
 ^ğ((
ušt64_t
)

[11]) << 24;

359 
k2
 ^ğ((
ušt64_t
)

[10]) << 16;

361 
k2
 ^ğ((
ušt64_t
)

[9]) << 8;

363 
k2
 ^ğ((
ušt64_t
)

[8]) << 0;

364 
k2
 *ğ
c2
;

365 
k2
 = 
	`ROTL64
(k2, 33);

366 
k2
 *ğ
c1
;

367 
h2
 ^ğ
k2
;

370 
k1
 ^ğ((
ušt64_t
)

[7]) << 56;

372 
k1
 ^ğ((
ušt64_t
)

[6]) << 48;

374 
k1
 ^ğ((
ušt64_t
)

[5]) << 40;

376 
k1
 ^ğ((
ušt64_t
)

[4]) << 32;

378 
k1
 ^ğ((
ušt64_t
)

[3]) << 24;

380 
k1
 ^ğ((
ušt64_t
)

[2]) << 16;

382 
k1
 ^ğ((
ušt64_t
)

[1]) << 8;

384 
k1
 ^ğ((
ušt64_t
)

[0]) << 0;

385 
k1
 *ğ
c1
;

386 
k1
 = 
	`ROTL64
(k1, 31);

387 
k1
 *ğ
c2
;

388 
h1
 ^ğ
k1
;

394 
h1
 ^ğ
Ën
;

395 
h2
 ^ğ
Ën
;

397 
h1
 +ğ
h2
;

398 
h2
 +ğ
h1
;

400 
h1
 = 
	`fmix64
(h1);

401 
h2
 = 
	`fmix64
(h2);

403 
h1
 +ğ
h2
;

404 
h2
 +ğ
h1
;

406 ((
ušt64_t
 *)
out
)[0] = 
h1
;

407 ((
ušt64_t
 *)
out
)[1] = 
h2
;

408 
	}
}

	@src/array.cpp

1 
	~"¬¿y.hµ
"

2 
	~"š‹º®/ds_šfo.hµ
"

3 
	~"mªag”.hµ
"

4 
	~"poš‹r.hµ
"

6 
Çme¥aû
 
	gçr_memÜy
 {

8 
	gG’”icA¼ay
::
G’”icA¼ay
(
F¬MemMªag”
 *
mªag”
, 
ušt32_t
 
™em_size
,

9 
ušt64_t
 
num_™ems
)

10 : 
kNumI‹ms_
(
num_™ems
), 
kI‹mSize_
(
™em_size
),

11 
´eãtch”_
(
mªag”
->
g‘_deviû
(), 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
±rs_
),

12 
™em_size
) {

13 
´“m±_di§bË
();

14 
	g±rs_
.
»£t
(
Ãw
 
G’”icUniquePŒ
[
num_™ems
]);

15 
´“m±_’abË
();

16 
ušt64_t
 
	gi
 = 0; i < 
	gnum_™ems
; i++) {

17 
	g±rs_
[
i
] = 
mªag”
->
®loÿ‹_g’”ic_unique_±r
(
kVªÏPŒDSID
, 
™em_size
);

19 
	gkI‹mSize_
 = 
™em_size
;

20 
	gkNumI‹ms_
 = 
num_™ems
;

23 
	gG’”icA¼ay
::~
G’”icA¼ay
() {}

25 
G’”icA¼ay
::
di§bË_´eãtch
() {

26 
ACCESS_ONCE
(
dyÇmic_´eãtch_’abËd_
èğ
çl£
;

29 
	gG’”icA¼ay
::
’abË_´eãtch
() {

30 
ACCESS_ONCE
(
dyÇmic_´eãtch_’abËd_
èğ
Œue
;

33 
	gG’”icA¼ay
::
¡©ic_´eãtch
(
Index_t
 
¡¬t
, Index_ˆ
¡•
, 
ušt32_t
 
num
) {

34 
ACCESS_ONCE
(
dyÇmic_´eãtch_’abËd_
èğ
çl£
;

35 
	g´eãtch”_
.
¡©ic_´eãtch
(
¡¬t
, 
¡•
, 
num
);

	@src/concurrent_hopscotch.cpp

2 
	~<ruÁime/´“m±.h
>

3 
	~<ruÁime/th»ad.h
>

6 
	~"cÚcu¼’t_hİscÙch.hµ
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"hash.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

12 
	~<c¡ršg
>

14 
Çme¥aû
 
çr_memÜy
 {

16 
G’”icCÚcu¼’tHİscÙch
::GenericConcurrentHopscotch(

17 
ušt8_t
 
ds_id
, 
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

18 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
, 
ušt64_t
 
»mÙe_d©a_size
)

19 : 
kHashMask_
((1 << 
loÿl_num_’Œ›s_shiá
) - 1),

20 
kNumEÁr›s_
((1 << 
loÿl_num_’Œ›s_shiá
è+ 
kNeighbÜhood
),

21 
ds_id_
(
ds_id
) {

23 
BUG_ON
(((
kHashMask_
 + 1è>> 
loÿl_num_’Œ›s_shiá
) != 1);

26 autØ
size
 = 
kNumEÁr›s_
 * (
Buck‘EÁry
);

27 
´“m±_di§bË
();

28 
buck‘s_mem_
.
»£t
(
¡©ic_ÿ¡
<
ušt8_t
 *>(
h–³rs
::
®loÿ‹_hug•age
(
size
)));

29 
buck‘s_
 = 
Ãw
 (
buck‘s_mem_
.
g‘
()è
Buck‘EÁry
[
kNumEÁr›s_
];

30 
´“m±_’abË
();

33 
size
 = 
kNumEÁr›s_
 * (
G’”icUniquePŒ
);

36 
ušt8_t
 
·¿ms
[(
»mÙe_num_’Œ›s_shiá
è+ (
»mÙe_d©a_size
)];

37 
__butš_memıy
(
·¿ms
, &
»mÙe_num_’Œ›s_shiá
,

38 (
»mÙe_num_’Œ›s_shiá
));

39 
__butš_memıy
(&
·¿ms
[(
»mÙe_num_’Œ›s_shiá
)], &
»mÙe_d©a_size
,

40 (
»mÙe_d©a_size
));

41 
F¬MemMªag”FaùÜy
::
g‘
()->
cÚ¡ruù
(
kHashTabËDSTy³
, 
ds_id
,

42 (
·¿ms
),…arams);

45 
F¬MemMªag”
::
EvacNÙif›r
 
evac_nÙif›r_â
 =

46 [&](
Objeù
 
obj
, 
F¬MemMªag”
::
Wr™eObjeùFn
 
wr™e_obj_â
è-> 
boŞ
 {

47 
wr™e_obj_â
(
obj
.
g‘_d©a_Ën
(è- (
EvacNÙif›rM‘a
));

48 
this
->
evac_nÙif›r
(
obj
);

49  
Œue
;

51 
F¬MemMªag”FaùÜy
::
g‘
()->
»gi¡”_ev®_nÙif›r
(
ds_id
, 
evac_nÙif›r_â
);

54 
G’”icCÚcu¼’tHİscÙch
::~GenericConcurrentHopscotch() {

56 
ušt32_t
 
i
 = 0; i < 
kNumEÁr›s_
; i++) {

57 autØ&
±r
 = 
buck‘s_
[
i
].ptr;

58 
D”efScİe
 
scİe
;

59 ià(
±r
.
d”ef
(
scİe
)) {

60 
±r
.
ä“
();

64 
F¬MemMªag”FaùÜy
::
g‘
()->
de¡ruù
(
ds_id_
);

67 
G’”icCÚcu¼’tHİscÙch
::
do_evac_nÙif›r
(
EvacNÙif›rM‘a
 
m‘a
) {

68 autØ*
buck‘
 =

69 
»š‹½»t_ÿ¡
<
Buck‘EÁry
 *>(
¡©ic_ÿ¡
<
ušt64_t
>(
m‘a
.
ªchÜ_addr
));

70 autØ*
’Œy
 = 
buck‘
 + 
m‘a
.
off£t
;

71 
’Œy
->
±r
.
nuÎify
();

73 ià(
lik–y
(
buck‘
->
¥š
.
TryLock
())) {

74 autØ
gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
buck‘
->
¥š
.
UÆock
(); });

75 
as£¹
(
buck‘
->
b™m­
 & (1 << 
m‘a
.
off£t
));

76 
buck‘
->
b™m­
 ^ğ(1 << 
m‘a
.
off£t
);

78 
´“m±_di§bË
();

79 
BUG_ON
(!
evac_nÙif›r_¡ash_
.
push_back
(
m‘a
));

80 
´“m±_’abË
();

84 
G’”icCÚcu¼’tHİscÙch
::
fÜw¬d_g‘
(
ušt8_t
 
key_Ën
,

85 cÚ¡ 
ušt8_t
 *
key
,

86 
ušt16_t
 *
v®_Ën
, 
ušt8_t
 *
v®
) {

88 
F¬MemMªag”FaùÜy
::
g‘
()->
»ad_objeù
(
ds_id_
, 
key_Ën
, 
key
, 
v®_Ën
, 
v®
);

89 ià(*
v®_Ën
) {

90 
_put
(
key_Ën
, 
key
, *
v®_Ën
, 
v®
, 
Œue
);

94 
FORCE_INLINE
 *
d”ef
(
G’”icUniquePŒ
 &
±r
, 
boŞ
 
mut
) {

95 ià(
mut
) {

96  
±r
.
_d”ef
<
Œue
, 
çl£
>();

98  
±r
.
_d”ef
<
çl£
, false>();

102 
boŞ
 
G’”icCÚcu¼’tHİscÙch
::
_put
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
,

103 
ušt16_t
 
v®_Ën
, cÚ¡ 
ušt8_t
 *
v®
,

104 
boŞ
 
sw­_š
) {

105 
ušt32_t
 
hash
 = 
hash_32
(
¡©ic_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
);

106 
ušt32_t
 
buck‘_idx
 = 
hash
 & 
kHashMask_
;

107 
»Œy
:

108 autØ*
buck‘
 = &(
buck‘s_
[
buck‘_idx
]);

109 autØ
Üig_buck‘_idx
 = 
buck‘_idx
;

111 
uÆik–y
(!
buck‘
->
¥š
.
TryLockWp
())) {

112 
th»ad_y›ld
();

114 autØ
buck‘_lock_gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
buck‘
->
¥š
.
UÆockWp
(); });

116 
ušt32_t
 
b™m­
 = 
lßd_acquœe
(&(
buck‘
->bitmap));

117 
b™m­
) {

118 autØ
off£t
 = 
h–³rs
::
bsf_32
(
b™m­
);

119 autØ*
buck‘
 = &
buck‘s_
[
buck‘_idx
];

120 autØ*
’Œy
 = 
buck‘
 + 
off£t
;

121 autØ&
±r
 = 
’Œy
->ptr;

122 #ifdeà
HASHTABLE_EXCLUSIVE


123 autØ*
obj_v®_±r
 = 
±r
.
_d”ef
<
Œue
, 
çl£
>();

125 autØ*
obj_v®_±r
 = 
d”ef
(
±r
, !
sw­_š
);

127 ià(
uÆik–y
(!
obj_v®_±r
)) {

128 
buck‘_lock_gu¬d
.
»£t
();

129 
´oûss_evac_nÙif›r_¡ash
();

130 
th»ad_y›ld
();

131 
»Œy
;

134 autØ
obj
 =

135 
Objeù
(
»š‹½»t_ÿ¡
<
ušt64_t
>(
obj_v®_±r
è- Objeù::
kH—d”Size
);

136 ià(
obj
.
g‘_obj_id_Ën
(è=ğ
key_Ën
) {

137 autØ
obj_d©a_Ën
 = 
obj
.
g‘_d©a_Ën
();

138 ià(
¡ºcmp
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
obj_v®_±r
è+ 
obj_d©a_Ën
,

139 
»š‹½»t_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
) == 0) {

140 ià(
uÆik–y
(
obj_d©a_Ën
 !ğ
v®_Ën
 + (
EvacNÙif›rM‘a
))) {

141 autØ
Ãw_d©a_size
 = 
v®_Ën
 + (
EvacNÙif›rM‘a
);

142 ià(!
F¬MemMªag”FaùÜy
::
g‘
()->
»®loÿ‹_g’”ic_unique_±r_nb
(

143 *
¡©ic_ÿ¡
<
D”efScİe
 *>(
nuÎ±r
), &
±r
, 
Ãw_d©a_size
,

144 
v®
)) {

145 
buck‘_lock_gu¬d
.
»£t
();

146 
F¬MemMªag”FaùÜy
::
g‘
()->
mutÜ_wa™_fÜ_gc_ÿche
();

147 
»Œy
;

149 autØ
Ãw_obj_v®_±r
 = 
±r
.
_d”ef
<
Œue
, 
çl£
>();

150 #iâdeà
HASHTABLE_EXCLUSIVE


151 ià(
sw­_š
) {

152 
±r
.
m‘a
().
ş—r_dœty
();

155 
as£¹
(
Ãw_obj_v®_±r
);

156 autØ
Ãw_m‘a
 = 
»š‹½»t_ÿ¡
<
EvacNÙif›rM‘a
 *>(

157 
»š‹½»t_ÿ¡
<
ušt64_t
>(
Ãw_obj_v®_±r
è+ 
v®_Ën
);

158 *
Ãw_m‘a
 = {.
ªchÜ_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(
buck‘
),

159 .
off£t
 = 
¡©ic_ÿ¡
<
ušt8_t
>(offset)};

161 
memıy
(
obj_v®_±r
, 
v®
, 
v®_Ën
);

163  
Œue
;

166 
b™m­
 ^ğ(1 << 
off£t
);

170 
buck‘_idx
 < 
kNumEÁr›s_
) {

171 autØ*
’Œy
 = &
buck‘s_
[
buck‘_idx
];

172 ià(
__sync_boŞ_com·»_ªd_sw­
(
»š‹½»t_ÿ¡
<
ušt64_t
 *>(&
’Œy
->
±r
),

173 
F¬MemPŒM‘a
::
kNuÎ
,

174 
Buck‘EÁry
::
kBusyPŒ
)) {

177 
buck‘_idx
++;

180 ià(
v”y_uÆik–y
(
buck‘_idx
 =ğ
kNumEÁr›s_
)) {

183 
BUG
();

186 
ušt32_t
 
di¡ªû_to_Üig_buck‘
;

188 (
di¡ªû_to_Üig_buck‘
 = 
buck‘_idx
 - 
Üig_buck‘_idx
) >=

189 
kNeighbÜhood
) {

191 
ušt32_t
 
di¡ªû
;

192 
di¡ªû
 = 
kNeighbÜhood
 - 1; distance > 0; distance--) {

193 autØ
idx
 = 
buck‘_idx
 - 
di¡ªû
;

194 autØ*
ªchÜ_’Œy
 = &(
buck‘s_
[
idx
]);

195 ià(!
ªchÜ_’Œy
->
b™m­
) {

200 
uÆik–y
(!
ªchÜ_’Œy
->
¥š
.
TryLockWp
())) {

201 
th»ad_y›ld
();

203 autØ
lock_gu¬d
 =

204 
h–³rs
::
fš®ly
([&](è{ 
ªchÜ_’Œy
->
¥š
.
UÆockWp
(); });

205 autØ
b™m­
 = 
lßd_acquœe
(&(
ªchÜ_’Œy
->bitmap));

206 ià(
uÆik–y
(!
b™m­
)) {

211 autØ
off£t
 = 
h–³rs
::
bsf_32
(
b™m­
);

212 ià(
idx
 + 
off£t
 >ğ
buck‘_idx
) {

217 autØ*
äom_’Œy
 = &
buck‘s_
[
idx
 + 
off£t
];

218 autØ&
äom_’Œy_±r
 = 
äom_’Œy
->
±r
;

219 autØ*
äom_obj_v®_±r
 = 
äom_’Œy_±r
.
_d”ef
<
çl£
, false>();

220 autØ*
to_’Œy
 = &
buck‘s_
[
buck‘_idx
];

221 ià(
uÆik–y
(!
äom_obj_v®_±r
)) {

222 
buck‘_lock_gu¬d
.
»£t
();

223 
to_’Œy
->
±r
.
nuÎify
();

224 
´oûss_evac_nÙif›r_¡ash
();

225 
th»ad_y›ld
();

226 
»Œy
;

229 autØ
äom_obj
 = 
Objeù
(
»š‹½»t_ÿ¡
<
ušt64_t
>(
äom_obj_v®_±r
) -

230 
Objeù
::
kH—d”Size
);

231 autØ*
äom_m‘a
 = 
»š‹½»t_ÿ¡
<
EvacNÙif›rM‘a
 *>(

232 
cÚ¡_ÿ¡
<
ušt8_t
 *>(
äom_obj
.
g‘_obj_id
()) -

233 (
EvacNÙif›rM‘a
));

235 
äom_m‘a
->
off£t
 = 
to_’Œy
 - 
ªchÜ_’Œy
;

236 
as£¹
((
ªchÜ_’Œy
->
b™m­
 & (1 << 
di¡ªû
)) == 0);

237 
ªchÜ_’Œy
->
b™m­
 |ğ(1 << 
di¡ªû
);

238 
ªchÜ_’Œy
->
time¡amp
++;

239 
to_’Œy
->
±r
.
move
(
äom_’Œy
->±r, 
Buck‘EÁry
::
kBusyPŒ
);

240 
as£¹
(
ªchÜ_’Œy
->
b™m­
 & (1 << 
off£t
));

241 
ªchÜ_’Œy
->
b™m­
 ^ğ(1 << 
off£t
);

244 
buck‘_idx
 = 
idx
 + 
off£t
;

250 ià(
v”y_uÆik–y
(!
di¡ªû
)) {

251 
BUG
();

256 autØ*
fš®_’Œy
 = &
buck‘s_
[
buck‘_idx
];

257 autØ*
±r
 = &(
fš®_’Œy
->ptr);

258 ià(!
F¬MemMªag”FaùÜy
::
g‘
()->
®loÿ‹_g’”ic_unique_±r_nb
(

259 
±r
, 
ds_id_
, (
EvacNÙif›rM‘a
è+ 
v®_Ën
, 
key_Ën
, 
key
)) {

260 
buck‘_lock_gu¬d
.
»£t
();

261 
F¬MemMªag”FaùÜy
::
g‘
()->
mutÜ_wa™_fÜ_gc_ÿche
();

262 
»Œy
;

264 autØ*
v®_±r
 = 
±r
->
_d”ef
<
Œue
, 
çl£
>();

265 #iâdeà
HASHTABLE_EXCLUSIVE


266 ià(
sw­_š
) {

267 
±r
->
m‘a
().
ş—r_dœty
();

270 
as£¹
(
v®_±r
);

271 autØ*
m‘a
 = 
»š‹½»t_ÿ¡
<
EvacNÙif›rM‘a
 *>(

272 
»š‹½»t_ÿ¡
<
ušt64_t
>(
v®_±r
è+ 
v®_Ën
);

275 *
m‘a
 = {.
ªchÜ_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(
buck‘
),

276 .
off£t
 = 
¡©ic_ÿ¡
<
ušt8_t
>(
fš®_’Œy
 - 
buck‘
)};

277 
memıy
(
v®_±r
, 
v®
, 
v®_Ën
);

278 
wmb
();

281 
as£¹
((
buck‘
->
b™m­
 & (1 << 
di¡ªû_to_Üig_buck‘
)) == 0);

282 
buck‘
->
b™m­
 |ğ(1 << 
di¡ªû_to_Üig_buck‘
);

284 
buck‘_lock_gu¬d
.
»£t
();

288 ià(!
sw­_š
) {

289 
F¬MemMªag”FaùÜy
::
g‘
()->
»move_objeù
(
ds_id_
, 
key_Ën
, 
key
);

291  
çl£
;

294 
boŞ
 
G’”icCÚcu¼’tHİscÙch
::
_»move
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
) {

295 
ušt32_t
 
hash
 = 
hash_32
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
);

296 
ušt32_t
 
buck‘_idx
 = 
hash
 & 
kHashMask_
;

297 autØ*
buck‘
 = &(
buck‘s_
[
buck‘_idx
]);

298 
boŞ
 
»moved
 = 
çl£
;

300 
»Œy
:

301 
uÆik–y
(!
buck‘
->
¥š
.
TryLockWp
())) {

302 
th»ad_y›ld
();

304 autØ
¥š_gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
buck‘
->
¥š
.
UÆockWp
(); });

306 
ušt32_t
 
b™m­
 = 
lßd_acquœe
(&(
buck‘
->bitmap));

307 
b™m­
) {

308 autØ
off£t
 = 
h–³rs
::
bsf_32
(
b™m­
);

309 autØ*
’Œy
 = &
buck‘s_
[
buck‘_idx
 + 
off£t
];

310 autØ&
±r
 = 
’Œy
->ptr;

311 autØ*
obj_v®_±r
 = 
±r
.
_d”ef
<
çl£
, false>();

312 ià(
uÆik–y
(!
obj_v®_±r
)) {

313 
¥š_gu¬d
.
»£t
();

314 
´oûss_evac_nÙif›r_¡ash
();

315 
th»ad_y›ld
();

316 
»Œy
;

319 autØ
obj
 =

320 
Objeù
(
»š‹½»t_ÿ¡
<
ušt64_t
>(
obj_v®_±r
è- Objeù::
kH—d”Size
);

321 ià(
obj
.
g‘_obj_id_Ën
(è=ğ
key_Ën
) {

322 autØ
obj_d©a_Ën
 = 
obj
.
g‘_d©a_Ën
();

323 ià(
¡ºcmp
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
obj_v®_±r
è+ 
obj_d©a_Ën
,

324 
»š‹½»t_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
) == 0) {

325 
as£¹
(
buck‘
->
b™m­
 & (1 << 
off£t
));

326 
buck‘
->
b™m­
 ^ğ(1 << 
off£t
);

327 
±r
.
ä“
Ğ
Œue
);

328 #ifdeà
HASHTABLE_EXCLUSIVE


329  
Œue
;

331 
»moved
 = 
Œue
;

336 
b™m­
 ^ğ(1 << 
off£t
);

338 
¥š_gu¬d
.
»£t
();

341  
F¬MemMªag”FaùÜy
::
g‘
()->
»move_objeù
(
ds_id_
, 
key_Ën
, 
key
) ||

342 
»moved
;

	@src/dataframe_vector.cpp

1 
	~"d©aäame_veùÜ.hµ
"

2 
	~"š‹º®/ds_šfo.hµ
"

3 
	~"mªag”.hµ
"

5 
Çme¥aû
 
	gçr_memÜy
 {

6 
	gG’”icD©aF¿meVeùÜ
::
G’”icD©aF¿meVeùÜ
(cÚ¡ 
ušt32_t
 
chunk_size
,

7 cÚ¡ 
ušt32_t
 
chunk_num_’Œ›s
,

8 
ušt8_t
 
ds_id
, ušt8_ˆ
dt_id
)

9 : 
chunk_size_
(
chunk_size
), 
chunk_num_’Œ›s_
(
chunk_num_’Œ›s
),

10 
deviû_
(
F¬MemMªag”FaùÜy
::
g‘
()->
g‘_deviû
()), 
ds_id_
(
ds_id
) {

11 
	gF¬MemMªag”FaùÜy
::
g‘
()->
cÚ¡ruù
(
kD©aF¿meVeùÜDSTy³
, 
ds_id
,

12 (
dt_id
), &dt_id);

17 
	gG’”icD©aF¿meVeùÜ
::~
G’”icD©aF¿meVeùÜ
(è{ 
ş—nup
(); }

19 
	gG’”icD©aF¿meVeùÜ
::
ş—nup
() {

20 autØ
wr™”_lock
 = 
lock_
.
g‘_wr™”_lock
();

21 ià(!
	gmoved_
) {

22 
	gF¬MemMªag”FaùÜy
::
g‘
()->
de¡ruù
(
ds_id_
);

24 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

25 
ušt32_t
 
	gtid
 = 0;id < 
	gh–³rs
::
kNumCPUs
;id++) {

26 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

27 autØ
num_sks_³r_th»ads
 =

28 (
chunk_±rs_
.
size
() == 0)

30 : (
chunk_±rs_
.
size
(è- 1è/ 
h–³rs
::
kNumCPUs
 + 1;

31 autØ
Ëá
 = 
num_sks_³r_th»ads
 * 
tid
;

32 autØ
right
 = 
¡d
::
mš
(
Ëá
 + 
num_sks_³r_th»ads
, 
chunk_±rs_
.
size
());

33 
ušt64_t
 
i
 = 
Ëá
; i < 
right
; i++) {

34 
chunk_±rs_
[
i
].
ä“
();

38 autØ&
	gth»ad
 : 
th»ads
) {

39 
th»ad
.
Još
();

43 
	gG’”icD©aF¿meVeùÜ
::
»£rve_»mÙe
(
ušt64_t
 
num
) {

44 ià(
num
 > 
»mÙe_vec_ÿ·c™y_
) {

45 
ušt16_t
 
ouut_Ën
;

46 
	gdeviû_
->
compu‹
(
ds_id_
, 
OpCode
::
Re£rve
, (
num
),

47 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(&
num
), &
ouut_Ën
,

48 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
»mÙe_vec_ÿ·c™y_
));

49 
as£¹
(
ouut_Ën
 =ğ(
»mÙe_vec_ÿ·c™y_
));

53 
	gG’”icD©aF¿meVeùÜ
::
ex·nd
(
ušt64_t
 
num
) {

54 autØ
Şd_chunk_±rs_size
 = 
chunk_±rs_
.
size
();

55 
ušt64_t
 
	gÃw_ÿ·c™y
 = (
Şd_chunk_±rs_size
 + 
num
è* 
chunk_num_’Œ›s_
;

56 
»£rve_»mÙe
(
Ãw_ÿ·c™y
);

57 autØ
	gwr™”_lock
 = 
lock_
.
g‘_wr™”_lock
();

58 
	gchunk_±rs_
.
»size
(
Şd_chunk_±rs_size
 + 
num
);

60 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

61 
ušt32_t
 
	gtid
 = 0;id < 
	gh–³rs
::
kNumCPUs
;id++) {

62 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

63 autØ
num_sks_³r_th»ads
 =

64 (
num
 =ğ0è? 0 : (num - 1è/ 
h–³rs
::
kNumCPUs
 + 1;

65 autØ
Ëá
 = 
num_sks_³r_th»ads
 * 
tid
;

66 autØ
right
 = 
¡d
::
mš
(
Ëá
 + 
num_sks_³r_th»ads
, 
num
);

67 
ušt64_t
 
i
 = 
Ëá
; i < 
right
; i++) {

68 
ušt64_t
 
obj_id
 = 
i
 + 
Şd_chunk_±rs_size
;

69 autØ&
Ãw_chunk_±r
 = 
chunk_±rs_
[
obj_id
];

70 
uÆik–y
(

71 !
F¬MemMªag”FaùÜy
::
g‘
()->
®loÿ‹_g’”ic_unique_±r_nb
(

72 &
Ãw_chunk_±r
, 
ds_id_
, 
chunk_size_
, (
obj_id
),

73 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
obj_id
)))) {

74 
F¬MemMªag”FaùÜy
::
g‘
()->
mutÜ_wa™_fÜ_gc_ÿche
();

79 autØ&
	gth»ad
 : 
th»ads
) {

80 
th»ad
.
Još
();

84 
	gG’”icD©aF¿meVeùÜ
::
ex·nd_no_®loc
(
ušt64_t
 
num
) {

85 autØ
Şd_chunk_±rs_size
 = 
chunk_±rs_
.
size
();

86 autØ
	gwr™”_lock
 = 
lock_
.
g‘_wr™”_lock
();

87 
	gchunk_±rs_
.
»size
(
Şd_chunk_±rs_size
 + 
num
);

89 cÚ¡‡utØ
	gobj_size
 = 
Objeù
::
kH—d”Size
 + 
chunk_size_
 + (
ušt64_t
);

90 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

91 
ušt32_t
 
	gtid
 = 0;id < 
	gh–³rs
::
kNumCPUs
;id++) {

92 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

93 autØ
num_sks_³r_th»ads
 =

94 (
num
 =ğ0è? 0 : (num - 1è/ 
h–³rs
::
kNumCPUs
 + 1;

95 autØ
Ëá
 = 
num_sks_³r_th»ads
 * 
tid
;

96 autØ
right
 = 
¡d
::
mš
(
Ëá
 + 
num_sks_³r_th»ads
, 
num
);

97 
ušt64_t
 
i
 = 
Ëá
; i < 
right
; i++) {

98 
ušt64_t
 
obj_id
 = 
i
 + 
Şd_chunk_±rs_size
;

99 autØ&
Ãw_chunk_±r
 = 
chunk_±rs_
[
obj_id
];

100 
Ãw_chunk_±r
.
m‘a
().
gc_wb
(
ds_id_
, 
obj_size
, 
obj_id
);

104 autØ&
	gth»ad
 : 
th»ads
) {

105 
th»ad
.
Još
();

109 
	gG’”icD©aF¿meVeùÜ
::
æush
() {

110 
cÚ¡ex´
 (!
DISABLE_OFFLOAD
) {

111 ià(!
dœty_
) {

114 
	gdœty_
 = 
çl£
;

115 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

116 
ušt32_t
 
	gtid
 = 0;id < 
	gh–³rs
::
kNumCPUs
;id++) {

117 
	gth»ads
.
em¶aû_back
(
¹
::
Th»ad
([&, 
tid
]() {

118 autØ
num_sks_³r_th»ads
 =

119 (
chunk_±rs_
.
size
() == 0)

121 : (
chunk_±rs_
.
size
(è- 1è/ 
h–³rs
::
kNumCPUs
 + 1;

122 autØ
Ëá
 = 
num_sks_³r_th»ads
 * 
tid
;

123 autØ
right
 = 
¡d
::
mš
(
Ëá
 + 
num_sks_³r_th»ads
, 
chunk_±rs_
.
size
());

124 
ušt64_t
 
i
 = 
Ëá
; i < 
right
; i++) {

125 
chunk_±rs_
[
i
].
æush
();

129 autØ&
	gth»ad
 : 
th»ads
) {

130 
th»ad
.
Još
();

	@src/deref_scope.cpp

1 
	~"d”ef_scİe.hµ
"

2 
	~"mªag”.hµ
"

4 
Çme¥aû
 
	gçr_memÜy
 {

5 
Stus
 
	gex³ùed_¡©us
 = 
InScİeV0
;

7 
	gD”efScİe
::
mutÜ_wa™_fÜ_gc_ÿche
() {

8 
F¬MemMªag”FaùÜy
::
g‘
()->
mutÜ_wa™_fÜ_gc_ÿche
();

	@src/device.cpp

2 
	~<Ãt/.h
>

3 
	~<ruÁime/¡Üage.h
>

6 
	~"deviû.hµ
"

7 
	~"objeù.hµ
"

8 
	~"¡©s.hµ
"

10 
	~<c¡ršg
>

12 
Çme¥aû
 
çr_memÜy
 {

14 
F¬MemDeviû
::F¬MemDeviû(
ušt64_t
 
çr_mem_size
, 
ušt32_t
 
´eãtch_wš_size
)

15 : 
çr_mem_size_
(
çr_mem_size
), 
´eãtch_wš_size_
(
´eãtch_wš_size
) {}

17 
FakeDeviû
::FakeDeviû(
ušt64_t
 
çr_mem_size
)

18 : 
F¬MemDeviû
(
çr_mem_size
, 
kP»ãtchWšSize
), 
£rv”_
() {

19 
£rv”_
.
cÚ¡ruù
(
kVªÏPŒDSTy³
, 
kVªÏPŒDSID
, (
çr_mem_size
),

20 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
çr_mem_size
));

23 
FakeDeviû
::~FakeDeviû(è{ 
de¡ruù
(
kVªÏPŒDSID
); }

25 
FakeDeviû
::
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

26 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 *
d©a_Ën
,

27 
ušt8_t
 *
d©a_buf
) {

28 
£rv”_
.
»ad_objeù
(
ds_id
, 
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
);

31 
FakeDeviû
::
wr™e_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

32 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 
d©a_Ën
,

33 cÚ¡ 
ušt8_t
 *
d©a_buf
) {

34 
£rv”_
.
wr™e_objeù
(
ds_id
, 
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
);

37 
boŞ
 
FakeDeviû
::
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
,

38 cÚ¡ 
ušt8_t
 *
obj_id
) {

39  
£rv”_
.
»move_objeù
(
ds_id
, 
obj_id_Ën
, 
obj_id
);

42 
FakeDeviû
::
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, ušt8_ˆ
·¿m_Ën
,

43 
ušt8_t
 *
·¿ms
) {

44 
£rv”_
.
cÚ¡ruù
(
ds_ty³
, 
ds_id
, 
·¿m_Ën
, 
·¿ms
);

47 
FakeDeviû
::
de¡ruù
(
ušt8_t
 
ds_id
è{ 
£rv”_
.destruct(ds_id); }

49 
FakeDeviû
::
compu‹
(
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
, 
ušt16_t
 
šput_Ën
,

50 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

51 
ušt8_t
 *
ouut_buf
) {

52 
£rv”_
.
compu‹
(
ds_id
, 
İcode
, 
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

59 
TCPDeviû
::TCPDeviû(
Ãddr
 
¿ddr
, 
ušt32_t
 
num_cÚÃùiÚs
,

60 
ušt64_t
 
çr_mem_size
)

61 : 
F¬MemDeviû
(
çr_mem_size
, 
kP»ãtchWšSize
),

62 
sh¬ed_poŞ_
(
num_cÚÃùiÚs
) {

64 
Ãddr
 
Ïddr
 = {.

 = 
MAKE_IP_ADDR
(0, 0, 0, 0), .
pÜt
 = 0};

65 
BUG_ON
(
tı_dŸl
(
Ïddr
, 
¿ddr
, &
»mÙe_ma¡”_
) != 0);

66 
»q
[
kOpcodeSize
 + (
çr_mem_size
)];

67 
__butš_memıy
(
»q
, &
kOpIn™
, 
kOpcodeSize
);

68 
__butš_memıy
(
»q
 + 
kOpcodeSize
, &
çr_mem_size
, (far_mem_size));

69 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_ma¡”_
, 
»q
, (req));

70 
ušt8_t
 
ack
;

71 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_ma¡”_
, &
ack
, (ack));

74 
tıcÚn_t
 *
»mÙe_¦ave
;

75 
ušt32_t
 
i
 = 0; i < 
num_cÚÃùiÚs
; i++) {

76 
BUG_ON
(
tı_dŸl
(
Ïddr
, 
¿ddr
, &
»mÙe_¦ave
) != 0);

77 
sh¬ed_poŞ_
.
push
(
»mÙe_¦ave
);

80 
cÚ¡ruù
(
kVªÏPŒDSTy³
, 
kVªÏPŒDSID
, (
çr_mem_size
),

81 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
çr_mem_size
));

88 
TCPDeviû
::~TCPDevice() {

89 
de¡ruù
(
kVªÏPŒDSID
);

91 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_ma¡”_
, &
kOpShutdown
, 
kOpcodeSize
);

92 
ušt8_t
 
ack
;

93 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_ma¡”_
, &
ack
, (ack));

94 
tı_şo£
(
»mÙe_ma¡”_
);

95 
sh¬ed_poŞ_
.
fÜ_—ch
([&]×utØ
»mÙe_¦ave
è{ 
tı_şo£
(remote_slave); });

98 
TCPDeviû
::
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

99 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 *
d©a_Ën
,

100 
ušt8_t
 *
d©a_buf
) {

101 autØ
»mÙe_¦ave
 = 
sh¬ed_poŞ_
.
pİ
();

102 
_»ad_objeù
(
»mÙe_¦ave
, 
ds_id
, 
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
);

103 
sh¬ed_poŞ_
.
push
(
»mÙe_¦ave
);

106 
TCPDeviû
::
wr™e_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

107 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 
d©a_Ën
,

108 cÚ¡ 
ušt8_t
 *
d©a_buf
) {

109 autØ
»mÙe_¦ave
 = 
sh¬ed_poŞ_
.
pİ
();

110 
_wr™e_objeù
(
»mÙe_¦ave
, 
ds_id
, 
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
);

111 
sh¬ed_poŞ_
.
push
(
»mÙe_¦ave
);

114 
boŞ
 
TCPDeviû
::
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
,

115 cÚ¡ 
ušt8_t
 *
obj_id
) {

116 autØ
»mÙe_¦ave
 = 
sh¬ed_poŞ_
.
pİ
();

117 autØ
»t
 = 
_»move_objeù
(
»mÙe_¦ave
, 
ds_id
, 
obj_id_Ën
, 
obj_id
);

118 
sh¬ed_poŞ_
.
push
(
»mÙe_¦ave
);

120  
»t
;

123 
TCPDeviû
::
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, ušt8_ˆ
·¿m_Ën
,

124 
ušt8_t
 *
·¿ms
) {

125 autØ
»mÙe_¦ave
 = 
sh¬ed_poŞ_
.
pİ
();

126 
_cÚ¡ruù
(
»mÙe_¦ave
, 
ds_ty³
, 
ds_id
, 
·¿m_Ën
, 
·¿ms
);

127 
sh¬ed_poŞ_
.
push
(
»mÙe_¦ave
);

130 
TCPDeviû
::
de¡ruù
(
ušt8_t
 
ds_id
) {

131 autØ
»mÙe_¦ave
 = 
sh¬ed_poŞ_
.
pİ
();

132 
_de¡ruù
(
»mÙe_¦ave
, 
ds_id
);

133 
sh¬ed_poŞ_
.
push
(
»mÙe_¦ave
);

136 
TCPDeviû
::
compu‹
(
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
, 
ušt16_t
 
šput_Ën
,

137 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

138 
ušt8_t
 *
ouut_buf
) {

139 autØ
»mÙe_¦ave
 = 
sh¬ed_poŞ_
.
pİ
();

140 
_compu‹
(
»mÙe_¦ave
, 
ds_id
, 
İcode
, 
šput_Ën
, 
šput_buf
, 
ouut_Ën
,

141 
ouut_buf
);

142 
sh¬ed_poŞ_
.
push
(
»mÙe_¦ave
);

149 
TCPDeviû
::
_»ad_objeù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
,

150 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

151 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
) {

152 
Sts
::
¡¬t_m—su»_»ad_objeù_cyşes
();

154 
ušt8_t
 
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 +

155 
Objeù
::
kMaxObjeùIDSize
];

157 
__butš_memıy
(&
»q
[0], &
kOpR—dObjeù
, (kOpReadObject));

158 
__butš_memıy
(&
»q
[
kOpcodeSize
], &
ds_id
, 
Objeù
::
kDSIDSize
);

159 
__butš_memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
], &
obj_id_Ën
,

160 
Objeù
::
kIDL’Size
);

161 
memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
], 
obj_id
,

162 
obj_id_Ën
);

164 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_¦ave
, 
»q
,

165 
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 +

166 
Objeù
::
kIDL’Size
 + 
obj_id_Ën
);

168 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, 
d©a_Ën
, (*data_len));

169 ià(*
d©a_Ën
) {

170 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, 
d©a_buf
, *
d©a_Ën
);

173 
Sts
::
fšish_m—su»_»ad_objeù_cyşes
();

181 
TCPDeviû
::
_wr™e_objeù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
,

182 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

183 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
) {

184 
Sts
::
¡¬t_m—su»_wr™e_objeù_cyşes
();

186 
ušt8_t
 
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 +

187 
Objeù
::
kD©aL’Size
 + Objeù::
kMaxObjeùIDSize
 + 
kL¬geD©aSize
];

189 
__butš_memıy
(&
»q
[0], &
kOpWr™eObjeù
, (kOpWriteObject));

190 
__butš_memıy
(&
»q
[
kOpcodeSize
], &
ds_id
, 
Objeù
::
kDSIDSize
);

191 
__butš_memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
], &
obj_id_Ën
,

192 
Objeù
::
kIDL’Size
);

193 
__butš_memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
],

194 &
d©a_Ën
, 
Objeù
::
kD©aL’Size
);

195 
memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 +

196 
Objeù
::
kD©aL’Size
],

197 
obj_id
, 
obj_id_Ën
);

199 ià(
lik–y
(
d©a_Ën
 <ğ
kL¬geD©aSize
)) {

200 
memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 +

201 
Objeù
::
kD©aL’Size
 + 
obj_id_Ën
],

202 
d©a_buf
, 
d©a_Ën
);

203 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_¦ave
, 
»q
,

204 
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 +

205 
Objeù
::
kIDL’Size
 + Objeù::
kD©aL’Size
 +

206 
obj_id_Ën
 + 
d©a_Ën
);

208 
h–³rs
::
tı_wr™e2_uÁ
(
»mÙe_¦ave
, 
»q
,

209 
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 +

210 
Objeù
::
kIDL’Size
 + Objeù::
kD©aL’Size
 +

211 
obj_id_Ën
,

212 
d©a_buf
, 
d©a_Ën
);

215 
ušt8_t
 
ack
;

216 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, &
ack
, (ack));

218 
Sts
::
fšish_m—su»_wr™e_objeù_cyşes
();

225 
boŞ
 
TCPDeviû
::
_»move_objeù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt64_t
 
ds_id
,

226 
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
) {

228 
ušt8_t
 
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 +

229 
Objeù
::
kMaxObjeùIDSize
];

231 
__butš_memıy
(&
»q
[0], &
kOpRemoveObjeù
, (kOpRemoveObject));

232 
__butš_memıy
(&
»q
[
kOpcodeSize
], &
ds_id
, 
Objeù
::
kDSIDSize
);

233 
__butš_memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
], &
obj_id_Ën
,

234 
Objeù
::
kIDL’Size
);

235 
memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
], 
obj_id
,

236 
obj_id_Ën
);

238 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_¦ave
, 
»q
,

239 
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 +

240 
Objeù
::
kIDL’Size
 + 
obj_id_Ën
);

242 
boŞ
 
exi¡s
;

243 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, &
exi¡s
, (exists));

245  
exi¡s
;

253 
TCPDeviû
::
_cÚ¡ruù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_ty³
,

254 
ušt8_t
 
ds_id
, ušt8_ˆ
·¿m_Ën
, ušt8_ˆ*
·¿ms
) {

255 
ušt8_t
 
»q
[
kOpcodeSize
 + (
ds_ty³
è+ 
Objeù
::
kDSIDSize
 +

256 (
·¿m_Ën
) +

257 
¡d
::
num”ic_lim™s
<
deşty³
(
·¿m_Ën
)>::
max
()];

259 
__butš_memıy
(&
»q
[0], &
kOpCÚ¡ruù
, (kOpConstruct));

260 
__butš_memıy
(&
»q
[
kOpcodeSize
], &
ds_ty³
, (ds_type));

261 
__butš_memıy
(&
»q
[
kOpcodeSize
 + (
ds_ty³
)], &
ds_id
,

262 
Objeù
::
kDSIDSize
);

263 
__butš_memıy
(&
»q
[
kOpcodeSize
 + (
ds_ty³
è+ 
Objeù
::
kDSIDSize
],

264 &
·¿m_Ën
, (param_len));

266 
memıy
(&
»q
[
kOpcodeSize
 + (
ds_ty³
è+ 
Objeù
::
kDSIDSize
 +

267 (
·¿m_Ën
)],

268 
·¿ms
, 
·¿m_Ën
);

269 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_¦ave
, 
»q
,

270 
kOpcodeSize
 + (
ds_ty³
è+ 
Objeù
::
kDSIDSize
 +

271 (
·¿m_Ën
) +…aram_len);

273 
ušt8_t
 
ack
;

274 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, &
ack
, (ack));

281 
TCPDeviû
::
_de¡ruù
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
) {

282 
ušt8_t
 
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
];

284 
__butš_memıy
(&
»q
[0], &
kOpDecÚ¡ruù
, (kOpDeconstruct));

285 
__butš_memıy
(&
»q
[
kOpcodeSize
], &
ds_id
, 
Objeù
::
kDSIDSize
);

287 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_¦ave
, 
»q
, 
kOpcodeSize
 + 
Objeù
::
kDSIDSize
);

289 
ušt8_t
 
ack
;

290 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, &
ack
, (ack));

298 
TCPDeviû
::
_compu‹
(
tıcÚn_t
 *
»mÙe_¦ave
, 
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
,

299 
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
,

300 
ušt16_t
 *
ouut_Ën
, 
ušt8_t
 *
ouut_buf
) {

301 
as£¹
(
šput_Ën
 <ğ
kMaxCompu‹D©aL’
);

302 
ušt8_t
 
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + (
İcode
) +

303 +(
šput_Ën
è+ 
kL¬geD©aSize
];

305 
__butš_memıy
(&
»q
[0], &
kOpCompu‹
, (
kOpWr™eObjeù
));

306 
__butš_memıy
(&
»q
[
kOpcodeSize
], &
ds_id
, 
Objeù
::
kDSIDSize
);

307 
__butš_memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
], &
İcode
,

308 (
İcode
));

309 
__butš_memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + (
İcode
)],

310 &
šput_Ën
, (input_len));

312 ià(
lik–y
(
šput_Ën
 <ğ
kL¬geD©aSize
)) {

313 
memıy
(&
»q
[
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + (
İcode
) +

314 (
šput_Ën
)],

315 
šput_buf
, 
šput_Ën
);

316 
h–³rs
::
tı_wr™e_uÁ
(
»mÙe_¦ave
, 
»q
,

317 
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + (
İcode
) +

318 (
šput_Ën
) + input_len);

320 
h–³rs
::
tı_wr™e2_uÁ
(
»mÙe_¦ave
, 
»q
,

321 
kOpcodeSize
 + 
Objeù
::
kDSIDSize
 + (
İcode
) +

322 (
šput_Ën
),

323 
šput_buf
, 
šput_Ën
);

326 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, 
ouut_Ën
, (*output_len));

327 ià(*
ouut_Ën
) {

328 
as£¹
(*
ouut_Ën
 <ğ
kMaxCompu‹D©aL’
);

329 
h–³rs
::
tı_»ad_uÁ
(
»mÙe_¦ave
, 
ouut_buf
, *
ouut_Ën
);

	@src/helpers.cpp

1 
	~"h–³rs.hµ
"

3 
Çme¥aû
 
	gh–³rs
 {

4 
__©Œibu‹__
((
İtimize
("O0"))è
b»akpošt
() {}

	@src/list.cpp

2 
	~<ba£/as£¹.h
>

5 
	~"h–³rs.hµ
"

6 
	~"š‹º®/ds_šfo.hµ
"

7 
	~"li¡.hµ
"

8 
	~"mªag”.hµ
"

10 
Çme¥aû
 
çr_memÜy
 {

12 
G’”icLi¡
::G’”icLi¡(cÚ¡ 
D”efScİe
 &
scİe
, cÚ¡ 
ušt16_t
 
kI‹mSize
,

13 cÚ¡ 
ušt16_t
 
kNumNodesP”Chunk
, 
boŞ
 
’abË_m”ge
,

14 
boŞ
 
cu¡omized_¥l™
)

15 : 
kI‹mSize_
(
kI‹mSize
), 
kNumNodesP”Chunk_
(
kNumNodesP”Chunk
),

16 
kChunkLi¡NodeSize_
((
ChunkLi¡
::
Node
è+ 
kI‹mSize
),

17 
kChunkSize_
((
ChunkLi¡D©a
è+ (
ChunkLi¡
::
Li¡D©a
) +

18 
kNumNodesP”Chunk
 * 
kChunkLi¡NodeSize_
),

19 
kIn™M‘a_
(((~
¡©ic_ÿ¡
<
deşty³
(kInitMeta_)>(0)) >>

20 (8 * (
kIn™M‘a_
è- 
kNumNodesP”Chunk
))),

21 
kM”geTh»sh_
(

22 
¡©ic_ÿ¡
<
ušt16_t
>(
kNumNodesP”Chunk_
 * 
kM”geTh»shR©io
)),

23 
kP»ãtchNumNodes_
(

24 
F¬MemMªag”FaùÜy
::
g‘
()->
g‘_deviû
()->
g‘_´eãtch_wš_size
() /

25 
kChunkSize_
),

26 
’abË_m”ge_
(
’abË_m”ge
), 
cu¡omized_¥l™_
(
cu¡omized_¥l™
) {

27 
loÿl_li¡_
.
push_back
(
LoÿlNode
());

28 
loÿl_li¡_
.
push_back
(
LoÿlNode
());

29 
š™_loÿl_node
(
scİe
, &
loÿl_li¡_
.
äÚt
());

30 
š™_loÿl_node
(
scİe
, &
loÿl_li¡_
.
back
());

31 
loÿl_li¡_
.
äÚt
().
út
 = 
kInv®idCÁ
;

32 
loÿl_li¡_
.
back
().
út
 = 
kInv®idCÁ
;

35 
G’”icLi¡
::
š™_loÿl_node
(cÚ¡ 
D”efScİe
 &
scİe
,

36 
LoÿlNode
 *
loÿl_node
) {

37 
loÿl_node
->
±r
.
nuÎify
();

38 
loÿl_node
->
±r
 =

39 
¡d
::
move
(
F¬MemMªag”FaùÜy
::
g‘
()->
®loÿ‹_g’”ic_unique_±r
(

40 
kVªÏPŒDSID
, 
kChunkSize_
));

41 autØ*
chunk_li¡_d©a
 =

42 
¡©ic_ÿ¡
<
ChunkLi¡D©a
 *>(
loÿl_node
->
±r
.
d”ef_mut
(
scİe
));

43 
chunk_li¡_d©a
->
m‘a
 = 
kIn™M‘a_
;

44 autØ
li¡_d©a
 =

45 
»š‹½»t_ÿ¡
<
ChunkLi¡
::
Li¡D©a
 *>(
chunk_li¡_d©a
->
d©a
);

46 autØ*
chunk_li¡_±r
 = &(
loÿl_node
->
chunk_li¡
);

47 
ChunkLi¡S‹
 
¡©e
;

48 
¡©e
.
li¡_d©a_±r_addr
 =

49 
»š‹½»t_ÿ¡
<
ušt64_t
>(&(
chunk_li¡_±r
->
li¡_d©a_
));

50 
¡©e
.
kChunkLi¡NodeSize
 = 
kChunkLi¡NodeSize_
;

51 
Ãw
 (
chunk_li¡_±r
è
ChunkLi¡
(
li¡_d©a
, 
¡©e
);

52 autØ
ba£_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(
chunk_li¡_d©a
) +

53 
¡©ic_ÿ¡
<
ušt64_t
>((
ChunkLi¡D©a
));

54 autØ
h—d_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(&(
li¡_d©a
->
h—d
));

55 autØ
_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(&(
li¡_d©a
->

));

56 
chunk_li¡_±r
->
š™
(
ChunkNodePŒ
(0, 
h—d_addr
 - 
ba£_addr
),

57 
ChunkNodePŒ
(0, 
_addr
 - 
ba£_addr
));

	@src/local_concurrent_hopscotch.cpp

1 
	~"loÿl_cÚcu¼’t_hİscÙch.hµ
"

2 
	~"hash.hµ
"

3 
	~"h–³rs.hµ
"

5 
	~<c¡ršg
>

7 
Çme¥aû
 
	gçr_memÜy
 {

9 
	gLoÿlG’”icCÚcu¼’tHİscÙch
::
LoÿlG’”icCÚcu¼’tHİscÙch
(

10 
ušt32_t
 
num_’Œ›s_shiá
, 
ušt64_t
 
d©a_size
)

11 : 
kHashMask_
((1 << 
num_’Œ›s_shiá
) - 1),

12 
kNumEÁr›s_
((1 << 
num_’Œ›s_shiá
è+ 
kNeighbÜhood
),

13 
¦ab_ba£_addr_
(

14 
»š‹½»t_ÿ¡
<
ušt64_t
>(
h–³rs
::
®loÿ‹_hug•age
(
d©a_size
))),

15 
¦ab_
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
¦ab_ba£_addr_
), 
d©a_size
) {

17 
BUG_ON
(((
kHashMask_
 + 1è>> 
num_’Œ›s_shiá
) != 1);

20 autØ
	gsize
 = 
kNumEÁr›s_
 * (
Buck‘EÁry
);

21 
	gbuck‘s_mem_
.
»£t
(

22 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
h–³rs
::
®loÿ‹_hug•age
(
size
)));

23 
	gbuck‘s_
 = 
Ãw
 (
buck‘s_mem_
.
g‘
()è
Buck‘EÁry
[
kNumEÁr›s_
];

26 
	gLoÿlG’”icCÚcu¼’tHİscÙch
::~
LoÿlG’”icCÚcu¼’tHİscÙch
() {}

28 
LoÿlG’”icCÚcu¼’tHİscÙch
::
do_»move
(
Buck‘EÁry
 *
buck‘
,

29 
Buck‘EÁry
 *
’Œy
) {

30 autØ*
	gh—d”
 = 
’Œy
->
±r
;

31 autØ
	gŞd_d©a_size
 = (
KVD©aH—d”
è+ 
h—d”
->
key_Ën
 + h—d”->
v®_Ën
;

32 
	g¦ab_
.
ä“
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
h—d”
), 
Şd_d©a_size
);

33 
	g’Œy
->
	g±r
 = 
nuÎ±r
;

34 autØ
	goff£t
 = 
’Œy
 - 
buck‘
;

35 
as£¹
(
buck‘
->
b™m­
 & (1 << 
off£t
));

36 
	gbuck‘
->
	gb™m­
 ^ğ(1 << 
off£t
);

39 
	gLoÿlG’”icCÚcu¼’tHİscÙch
::
g‘
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
,

40 
ušt16_t
 *
v®_Ën
, 
ušt8_t
 *
v®
,

41 
boŞ
 
»move
) {

42 
ušt32_t
 
	ghash
 = 
hash_32
(
¡©ic_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
);

43 
ušt32_t
 
	gbuck‘_idx
 = 
hash
 & 
kHashMask_
;

44 autØ*
	gbuck‘
 = 
buck‘s_
 + 
buck‘_idx
;

45 
deşty³
(
buck‘
è
	g’Œy
;

46 
ušt64_t
 
	gtime¡amp
;

47 
ušt32_t
 
	g»Œy_couÁ”
 = 0;

49 autØ
	gg‘_Úû
 = [&]<
boŞ
 
Lock
>() -> bool {

50 
cÚ¡ex´
 (
Lock
) {

51 
uÆik–y
(!
buck‘
->
¥š
.
TryLockWp
())) {

52 
th»ad_y›ld
();

55 autØ
	g¥š_gu¬d
 = 
h–³rs
::
fš®ly
([&]() {

56 
cÚ¡ex´
 (
Lock
) {

57 
buck‘
->
¥š
.
UÆockWp
();

60 
	gtime¡amp
 = 
lßd_acquœe
(&(
buck‘
->
time¡amp
));

61 
ušt32_t
 
	gb™m­
 = 
buck‘
->
b™m­
;

62 
	gb™m­
) {

63 autØ
	goff£t
 = 
h–³rs
::
bsf_32
(
b™m­
);

64 
	g’Œy
 = &
buck‘s_
[
buck‘_idx
 + 
off£t
];

65 autØ*
	gh—d”
 = 
’Œy
->
±r
;

66 autØ*
	g¦ab_v®_±r
 =

67 
»š‹½»t_ÿ¡
<cÚ¡ *>(
h—d”
è+ (
KVD©aH—d”
);

68 
rmb
();

69 ià(
lik–y
(
’Œy
->
±r
)) {

70 ià(
	gh—d”
->
	gkey_Ën
 =ğ
key_Ën
) {

71 ià(
¡ºcmp
(
¦ab_v®_±r
 + 
h—d”
->
v®_Ën
,

72 
»š‹½»t_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
) == 0) {

73 *
v®_Ën
 = 
h—d”
->val_len;

74 
memıy
(
v®
, 
¦ab_v®_±r
, *
v®_Ën
);

75  
	gŒue
;

79 
	gb™m­
 ^ğ(1 << 
off£t
);

81  
	gçl£
;

86 ià(
	gg‘_Úû
.
‹m¶©e
 
İ”©Ü
()<
	gçl£
>()) {

87 ià(
	g»move
) {

88 
	g»move
;

92 } 
	gtime¡amp
 !ğ
ACCESS_ONCE
(
buck‘
->
time¡amp
) &&

93 
»Œy_couÁ”
++ < 
kMaxR‘r›s
);

96 ià(
	gtime¡amp
 !ğ
ACCESS_ONCE
(
buck‘
->
time¡amp
)) {

97 ià(
g‘_Úû
.
‹m¶©e
 
İ”©Ü
()<
Œue
>()) {

98 ià(
»move
) {

99 
»move
;

104 *
	gv®_Ën
 = 0;

107 
	g»move
:

108 
buck‘
->
¥š
.
Lock
();

109 autØ
	g¥š_gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
buck‘
->
¥š
.
UÆock
(); });

110 ià(
lik–y
(
’Œy
->
±r
)) {

111 ià(
lik–y
(
time¡amp
 =ğ
ACCESS_ONCE
(
buck‘
->timestamp))) {

113 
do_»move
(
buck‘
, 
’Œy
);

116 
	g¥š_gu¬d
.
»£t
();

117 
	gthis
->
»move
(
key_Ën
, 
key
);

122 
boŞ
 
	gLoÿlG’”icCÚcu¼’tHİscÙch
::
put
(
ušt8_t
 
key_Ën
, cÚ¡ ušt8_ˆ*
key
,

123 
ušt16_t
 
v®_Ën
,

124 cÚ¡ 
ušt8_t
 *
v®
) {

125 
ušt32_t
 
	ghash
 = 
hash_32
(
¡©ic_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
);

126 
ušt32_t
 
	gbuck‘_idx
 = 
hash
 & 
kHashMask_
;

127 autØ*
	gbuck‘
 = &(
buck‘s_
[
buck‘_idx
]);

128 autØ
	gÜig_buck‘_idx
 = 
buck‘_idx
;

130 
uÆik–y
(!
buck‘
->
¥š
.
TryLockWp
())) {

131 
th»ad_y›ld
();

133 autØ
	gbuck‘_lock_gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
buck‘
->
¥š
.
UÆockWp
(); });

135 
ušt32_t
 
	gb™m­
 = 
lßd_acquœe
(&(
buck‘
->
b™m­
));

136 
	gb™m­
) {

137 autØ
	goff£t
 = 
h–³rs
::
bsf_32
(
b™m­
);

138 autØ*
	gbuck‘
 = &
buck‘s_
[
buck‘_idx
];

139 autØ*
	g’Œy
 = 
buck‘
 + 
off£t
;

140 autØ*
	gh—d”
 = 
’Œy
->
±r
;

141 ià(
	gh—d”
->
	gkey_Ën
 =ğ
key_Ën
) {

142 autØ*
¦ab_v®_±r
 =

143 
»š‹½»t_ÿ¡
<*>(
h—d”
è+ (
KVD©aH—d”
);

144 ià(
¡ºcmp
(
¦ab_v®_±r
 + 
h—d”
->
v®_Ën
,

145 
»š‹½»t_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
) == 0) {

146 ià(
uÆik–y
(
h—d”
->
v®_Ën
 != val_len)) {

147 autØ
Şd_d©a_size
 = (
KVD©aH—d”
è+ 
key_Ën
 + 
h—d”
->
v®_Ën
;

148 
	g¦ab_
.
ä“
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
h—d”
), 
Şd_d©a_size
);

149 autØ
	gÃw_d©a_size
 = (
KVD©aH—d”
è+ 
key_Ën
 + 
v®_Ën
;

150 autØ*
	gÃw_h—d”
 =

151 
»š‹½»t_ÿ¡
<
KVD©aH—d”
 *>(
¦ab_
.
®loÿ‹
(
Ãw_d©a_size
));

152 
BUG_ON
(!
Ãw_h—d”
);

153 
	g’Œy
->
	g±r
 = 
Ãw_h—d”
;

154 *
	gÃw_h—d”
 = {.
key_Ën
 = key_Ën, .
	gv®_Ën
 = 
v®_Ën
};

155 
	g¦ab_v®_±r
 =

156 
»š‹½»t_ÿ¡
<*>(
Ãw_h—d”
è+ (
KVD©aH—d”
);

157 
memıy
(
¦ab_v®_±r
 + 
v®_Ën
, 
key
, 
key_Ën
);

159 
memıy
(
¦ab_v®_±r
, 
v®
, 
v®_Ën
);

160  
	gŒue
;

163 
	gb™m­
 ^ğ(1 << 
off£t
);

167 
	gbuck‘_idx
 < 
	gkNumEÁr›s_
) {

168 autØ*
	g’Œy
 = &
buck‘s_
[
buck‘_idx
];

169 ià(
__sync_boŞ_com·»_ªd_sw­
(
»š‹½»t_ÿ¡
<
ušt64_t
 *>(&
’Œy
->
±r
),

170 0, 
Buck‘EÁry
::
kBusyPŒ
)) {

173 
	gbuck‘_idx
++;

176 ià(
v”y_uÆik–y
(
buck‘_idx
 =ğ
kNumEÁr›s_
)) {

179 
BUG
();

182 
ušt32_t
 
	gdi¡ªû_to_Üig_buck‘
;

184 (
	gdi¡ªû_to_Üig_buck‘
 = 
buck‘_idx
 - 
Üig_buck‘_idx
) >=

185 
kNeighbÜhood
) {

187 
ušt32_t
 
di¡ªû
;

188 
	gdi¡ªû
 = 
kNeighbÜhood
 - 1; distance > 0; distance--) {

189 autØ
	gidx
 = 
buck‘_idx
 - 
di¡ªû
;

190 autØ*
	gªchÜ_’Œy
 = &(
buck‘s_
[
idx
]);

191 ià(!
	gªchÜ_’Œy
->
	gb™m­
) {

196 
uÆik–y
(!
ªchÜ_’Œy
->
¥š
.
TryLockWp
())) {

197 
th»ad_y›ld
();

199 autØ
	glock_gu¬d
 =

200 
h–³rs
::
fš®ly
([&](è{ 
ªchÜ_’Œy
->
¥š
.
UÆockWp
(); });

201 autØ
	gb™m­
 = 
lßd_acquœe
(&(
ªchÜ_’Œy
->
b™m­
));

202 ià(
uÆik–y
(!
b™m­
)) {

207 autØ
	goff£t
 = 
h–³rs
::
bsf_32
(
b™m­
);

208 ià(
	gidx
 + 
	goff£t
 >ğ
buck‘_idx
) {

213 autØ*
	gäom_’Œy
 = &
buck‘s_
[
idx
 + 
off£t
];

214 autØ*
	gto_’Œy
 = &
buck‘s_
[
buck‘_idx
];

216 
	gto_’Œy
->
	g±r
 = 
äom_’Œy
->
±r
;

217 
as£¹
((
ªchÜ_’Œy
->
b™m­
 & (1 << 
di¡ªû
)) == 0);

218 
	gªchÜ_’Œy
->
	gb™m­
 |ğ(1 << 
di¡ªû
);

219 
	gªchÜ_’Œy
->
	gtime¡amp
++;

221 
wmb
();

223 
	gäom_’Œy
->
	g±r
 = 
»š‹½»t_ÿ¡
<
KVD©aH—d”
 *>(
Buck‘EÁry
::
kBusyPŒ
);

224 
as£¹
(
ªchÜ_’Œy
->
b™m­
 & (1 << 
off£t
));

225 
	gªchÜ_’Œy
->
	gb™m­
 ^ğ(1 << 
off£t
);

228 
	gbuck‘_idx
 = 
idx
 + 
off£t
;

234 ià(
v”y_uÆik–y
(!
di¡ªû
)) {

235 
BUG
();

240 autØ*
	gfš®_’Œy
 = &
buck‘s_
[
buck‘_idx
];

241 autØ*
	gh—d”
 = 
»š‹½»t_ÿ¡
<
KVD©aH—d”
 *>(

242 
¦ab_
.
®loÿ‹
((
KVD©aH—d”
è+ 
key_Ën
 + 
v®_Ën
));

243 
BUG_ON
(!
h—d”
);

244 
	gfš®_’Œy
->
	g±r
 = 
h—d”
;

247 *
	gh—d”
 = {.
key_Ën
 = key_Ën, .
	gv®_Ën
 = 
v®_Ën
};

248 autØ*
	g¦ab_v®_±r
 = 
»š‹½»t_ÿ¡
<*>(
h—d”
è+ (
KVD©aH—d”
);

249 
memıy
(
¦ab_v®_±r
 + 
v®_Ën
, 
key
, 
key_Ën
);

250 
memıy
(
¦ab_v®_±r
, 
v®
, 
v®_Ën
);

251 
wmb
();

254 
as£¹
((
buck‘
->
b™m­
 & (1 << 
di¡ªû_to_Üig_buck‘
)) == 0);

255 
	gbuck‘
->
	gb™m­
 |ğ(1 << 
di¡ªû_to_Üig_buck‘
);

256  
	gçl£
;

259 
boŞ
 
	gLoÿlG’”icCÚcu¼’tHİscÙch
::
»move
(
ušt8_t
 
key_Ën
,

260 cÚ¡ 
ušt8_t
 *
key
) {

261 
ušt32_t
 
	ghash
 = 
hash_32
(
¡©ic_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
);

262 
ušt32_t
 
	gbuck‘_idx
 = 
hash
 & 
kHashMask_
;

263 autØ*
	gbuck‘
 = &(
buck‘s_
[
buck‘_idx
]);

265 
uÆik–y
(!
buck‘
->
¥š
.
TryLockWp
())) {

266 
th»ad_y›ld
();

268 autØ
	g¥š_gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
buck‘
->
¥š
.
UÆockWp
(); });

270 
ušt32_t
 
	gb™m­
 = 
lßd_acquœe
(&(
buck‘
->
b™m­
));

271 
	gb™m­
) {

272 autØ
	goff£t
 = 
h–³rs
::
bsf_32
(
b™m­
);

273 autØ*
	g’Œy
 = &
buck‘s_
[
buck‘_idx
 + 
off£t
];

274 autØ*
	gh—d”
 = 
’Œy
->
±r
;

275 ià(
	gh—d”
->
	gkey_Ën
 =ğ
key_Ën
) {

276 autØ*
¦ab_v®_±r
 =

277 
»š‹½»t_ÿ¡
<cÚ¡ *>(
h—d”
è+ (
KVD©aH—d”
);

278 ià(
¡ºcmp
(
¦ab_v®_±r
 + 
h—d”
->
v®_Ën
,

279 
»š‹½»t_ÿ¡
<cÚ¡ *>(
key
), 
key_Ën
) == 0) {

280 
do_»move
(
buck‘
, 
’Œy
);

281  
	gŒue
;

284 
	gb™m­
 ^ğ(1 << 
off£t
);

286  
	gçl£
;

	@src/local_skiplist.cpp

1 
	~"loÿl_skli¡.hµ
"

3 
	~<ÿs£¹
>

4 
	~<c¡ršg
>

6 
Çme¥aû
 
	gçr_memÜy
 {

8 
	gG’”icLoÿlSkli¡
::
G’”icLoÿlSkli¡
(
ušt32_t
 
™em_size
,

9 
ušt64_t
 
d©a_size
)

10 : 
™em_size_
(
™em_size
),

11 
¦ab_
(
¡©ic_ÿ¡
<
ušt8_t
 *>(
h–³rs
::
®loÿ‹_hug•age
(
d©a_size
)),

12 
d©a_size
) {

13 
	gÃg©ive_šfš™e_
 = 
¦ab_
.
®loÿ‹
(
™em_size
);

14 
	gpos™ive_šfš™e_
 = 
¦ab_
.
®loÿ‹
(
™em_size
);

16 
	gh—d_
 = 
»š‹½»t_ÿ¡
<
EÁry
 *>(
¦ab_
.
®loÿ‹
((Entry)));

17 
	g_
 = 
»š‹½»t_ÿ¡
<
EÁry
 *>(
¦ab_
.
®loÿ‹
((Entry)));

18 
	gh—d_
->
	gkey
 = 
Ãg©ive_šfš™e_
;

19 
	g_
->
	gkey
 = 
pos™ive_šfš™e_
;

20 
	gh—d_
->
	gËá
 = 
h—d_
->
up
 = h—d_->
down
 = 
nuÎ±r
;

21 
	g_
->
	gright
 = 
_
->
up
 =a_->
down
 = 
nuÎ±r
;

22 
	gh—d_
->
	gright
 = 
_
;

23 
	g_
->
	gËá
 = 
h—d_
;

24 
	gËv–s_
 = 0;

27 
FORCE_INLINE
 
boŞ
 
	gG’”icLoÿlSkli¡
::
should_bubbË_up
() {

28  
di¡ributiÚ_
(
g’”©Ü_
) == 0;

31 
	gG’”icLoÿlSkli¡
::
EÁry
 *

32 
G’”icLoÿlSkli¡
::
_fšd_şo£¡
(cÚ¡ *
key
, 
EÁry
 **
Ëv–_Œaûs
) {

33 
EÁry
 *
	g´ev
 = 
nuÎ±r
;

34 
ušt32_t
 
	gËv–
 = 0;

36 autØ
	g»cÜd_Ëv–_Œaû_â
 = [&](
EÁry
 *
Œaû
) {

37 ià(
Ëv–_Œaûs
) {

38 
Ëv–_Œaûs
[
Ëv–
++] = 
Œaû
;

42 autØ
	gcur
 = 
h—d_
; cur;) {

43 
	g´ev
 = 
cur
;

44 ià((!
	gcur
->
	gright
è|| 
is_sm®Ër_
(
key
, 
cur
->
right
->key)) {

45 
»cÜd_Ëv–_Œaû_â
(
cur
);

46 
	gcur
 = 
cur
->
down
;

48 
	gcur
 = 
cur
->
right
;

51  
	g´ev
;

54 
	gG’”icLoÿlSkli¡
::
bubbË_up
(
EÁry
 *
down_±r
, EÁry **
Ëv–_Œaûs
) {

55 
ušt32_t
 
	gËv–
 = 0;

56 
should_bubbË_up
(è&& 
	gËv–
 < 
	gkMaxLev–s
) {

57 
	gËv–
++;

58 autØ
	gÃw_±r
 = 
»š‹½»t_ÿ¡
<
EÁry
 *>(
¦ab_
.
®loÿ‹
((Entry)));

59 
	gÃw_±r
->
	gkey
 = 
down_±r
->
key
;

60 
	gÃw_±r
->
	gup
 = 
nuÎ±r
;

61 
	gÃw_±r
->
	gdown
 = 
down_±r
;

62 
	gdown_±r
->
	gup
 = 
Ãw_±r
;

63 
	gdown_±r
 = 
Ãw_±r
;

65 ià(
	gËv–
 <ğ
Ëv–s_
) {

66 autØ
Ëv–_Œaû_±r
 = 
Ëv–_Œaûs
[
Ëv–s_
 - 
Ëv–
];

67 
	gËv–_Œaû_±r
->
	gright
->
	gËá
 = 
Ãw_±r
;

68 
	gÃw_±r
->
	gright
 = 
Ëv–_Œaû_±r
->
right
;

69 
	gËv–_Œaû_±r
->
	gright
 = 
Ãw_±r
;

70 
	gÃw_±r
->
	gËá
 = 
Ëv–_Œaû_±r
;

72 
	gËv–s_
++;

73 autØ
	gÃw_h—d
 = 
»š‹½»t_ÿ¡
<
EÁry
 *>(
¦ab_
.
®loÿ‹
((Entry)));

74 autØ
	gÃw_
 = 
»š‹½»t_ÿ¡
<
EÁry
 *>(
¦ab_
.
®loÿ‹
((Entry)));

75 
	gÃw_h—d
->
	gkey
 = 
Ãg©ive_šfš™e_
;

76 
	gÃw_
->
	gkey
 = 
pos™ive_šfš™e_
;

77 
	gÃw_h—d
->
	gËá
 = 
Ãw_h—d
->
up
 = 
nuÎ±r
;

78 
	gÃw_
->
	gright
 = 
Ãw_
->
up
 = 
nuÎ±r
;

79 
	gÃw_h—d
->
	gright
 = 
Ãw_±r
;

80 
	gÃw_±r
->
	gËá
 = 
Ãw_h—d
;

81 
	gÃw_
->
	gËá
 = 
Ãw_±r
;

82 
	gÃw_±r
->
	gright
 = 
Ãw_
;

83 
	gÃw_h—d
->
	gdown
 = 
h—d_
;

84 
	gh—d_
->
	gup
 = 
Ãw_h—d
;

85 
	gh—d_
 = 
Ãw_h—d
;

86 
	gÃw_
->
	gdown
 = 
_
;

87 
	g_
->
	gup
 = 
Ãw_
;

88 
	g_
 = 
Ãw_
;

93 
boŞ
 
	gG’”icLoÿlSkli¡
::
š£¹
(cÚ¡ *
key
) {

94 
as£¹
(
is_g»©”_
(
key
, 
Ãg©ive_šfš™e_
) &&

95 
is_sm®Ër_
(
key
, 
pos™ive_šfš™e_
));

97 autØ
	gš£¹_key_â
 = [&](
EÁry
 *
±r
) {

98 autØ
Ãw_key_¦ab
 = 
¦ab_
.
®loÿ‹
(
™em_size_
);

99 
memıy
(
Ãw_key_¦ab
, 
key
, 
™em_size_
);

100 
	g±r
->
	gkey
 = 
Ãw_key_¦ab
;

103 
EÁry
 *
	gËv–_Œaûs
[
kMaxLev–s
];

104 autØ
	g±r
 = 
_fšd_şo£¡
(
key
, 
Ëv–_Œaûs
);

105 ià(
is_equ®_
(
key
, 
±r
->key)) {

106  
	gçl£
;

108 autØ
	gÃw_±r
 = 
»š‹½»t_ÿ¡
<
EÁry
 *>(
¦ab_
.
®loÿ‹
((Entry)));

109 
š£¹_key_â
(
Ãw_±r
);

110 
	gÃw_±r
->
	gup
 = 
Ãw_±r
->
down
 = 
nuÎ±r
;

111 
	g±r
->
	gright
->
	gËá
 = 
Ãw_±r
;

112 
	gÃw_±r
->
	gright
 = 
±r
->
right
;

113 
	g±r
->
	gright
 = 
Ãw_±r
;

114 
	gÃw_±r
->
	gËá
 = 
±r
;

116 
bubbË_up
(
Ãw_±r
, 
Ëv–_Œaûs
);

118  
	gŒue
;

121 
boŞ
 
	gG’”icLoÿlSkli¡
::
exi¡
(cÚ¡ *
key
) {

122 
as£¹
(
is_g»©”_
(
key
, 
Ãg©ive_šfš™e_
) &&

123 
is_sm®Ër_
(
key
, 
pos™ive_šfš™e_
));

125 autØ
	g±r
 = 
_fšd_şo£¡
(
key
);

126  
is_equ®_
(
key
, 
±r
->key);

129 
	gG’”icLoÿlSkli¡
::
´uÃ_em±y_Ëv–
(
EÁry
 *
Ëá_bound¬y
,

130 
EÁry
 *
right_bound¬y
) {

131 ià(
	gËá_bound¬y
->
	gdown
) {

132 
	gËá_bound¬y
->
	gdown
->
	gup
 = 
Ëá_bound¬y
->
up
;

134 ià(
	gËá_bound¬y
->
	gup
) {

135 
	gËá_bound¬y
->
	gup
->
	gdown
 = 
Ëá_bound¬y
->
down
;

137 ià(
	gright_bound¬y
->
	gdown
) {

138 
	gright_bound¬y
->
	gdown
->
	gup
 = 
right_bound¬y
->
up
;

140 ià(
	gright_bound¬y
->
	gup
) {

141 
	gright_bound¬y
->
	gup
->
	gdown
 = 
right_bound¬y
->
down
;

143 
	g¦ab_
.
ä“
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
Ëá_bound¬y
), (
EÁry
));

144 
	g¦ab_
.
ä“
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
right_bound¬y
), (
EÁry
));

147 
boŞ
 
	gG’”icLoÿlSkli¡
::
»move
(cÚ¡ *
key
) {

148 
as£¹
(
is_g»©”_
(
key
, 
Ãg©ive_šfš™e_
) &&

149 
is_sm®Ër_
(
key
, 
pos™ive_šfš™e_
));

151 autØ
	g±r
 = 
_fšd_şo£¡
(
key
);

152 ià(
is_equ®_
(
key
, 
±r
->key)) {

153 
	g¦ab_
.
ä“
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
±r
->
key
), 
™em_size_
);

155 
	g±r
->
	gËá
->
	gright
 = 
±r
->
right
;

156 
	g±r
->
	gright
->
	gËá
 = 
±r
->
Ëá
;

157 ià(
uÆik–y
(
±r
->
Ëá
->
key
 =ğ
Ãg©ive_šfš™e_
 &&

158 
±r
->
right
->
key
 =ğ
pos™ive_šfš™e_
)) {

159 
´uÃ_em±y_Ëv–
(
±r
->
Ëá
,…Œ->
right
);

161 autØ
	gup_±r
 = 
±r
->
up
;

162 
	g¦ab_
.
ä“
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
±r
), (
EÁry
));

163 
	g±r
 = 
up_±r
;

164 } 
	g±r
);

165  
	gŒue
;

167  
	gçl£
;

	@src/manager.cpp

2 
	~<ruÁime/rcu.h
>

3 
	~<ruÁime/ruÁime.h
>

4 
	~<ruÁime/¡Üage.h
>

5 
	~<ruÁime/th»ad.h
>

6 
	~<ruÁime/tim”.h
>

8 
	~"sync.h
"

9 
	~"th»ad.h
"

10 
	#__u£r


	)

11 
	~"ksched.h
"

13 
	~"d”ef_scİe.hµ
"

14 
	~"mªag”.hµ
"

16 
	~<®gÜ™hm
>

17 
	~<ÿs£¹
>

18 
	~<chrÚo
>

19 
	~<cm©h
>

20 
	~<c¡dio
>

21 
	~<c¡ršg
>

22 
	~<fú.h
>

23 
	~<io¡»am
>

24 
	~<lim™s
>

25 
	~<İtiÚ®
>

26 
	~<sys/ioùl.h
>

27 
	~<sys/mmª.h
>

28 
	~<sys/shm.h
>

29 
	~<sys/¡©.h
>

30 
	~<sys/sysÿÎ.h
>

31 
	~<sys/ty³s.h
>

32 
	~<ut™y
>

33 
	~<veùÜ
>

35 
Çme¥aû
 
çr_memÜy
 {

36 
ObjLock”
 
F¬MemMªag”
::
obj_lock”_
;

37 
F¬MemMªag”
 *
F¬MemMªag”FaùÜy
::
±r_
;

40 
boŞ
 
gc_ma¡”_aùive
;

41 
boŞ
 
®mo¡_em±y
;

43 
GCP¬®Ëliz”
::
ma¡”_â
() {

44 autØ&
äom_»giÚ
 : *
äom_»giÚs_
) {

45 
ušt8_t
 
j
 = 0; j < 
äom_»giÚ
.
g‘_num_bound¬›s
(); j++) {

46 
ma¡”_’queue_sk
(
äom_»giÚ
.
g‘_bound¬y
(
j
));

51 
F¬MemMªag”
::F¬MemMªag”(
ušt64_t
 
ÿche_size
, ušt64_ˆ
çr_mem_size
,

52 
ušt32_t
 
num_gc_th»ads
, 
F¬MemDeviû
 *
deviû
)

53 : 
ÿche_»giÚ_mªag”_
(
ÿche_size
, 
Œue
),

54 
çr_mem_»giÚ_mªag”_
(
çr_mem_size
, 
çl£
), 
deviû_±r_
(
deviû
),

55 
·¿Î–_m¬k”_
(
num_gc_th»ads
, 
kGCSÏveTh»adTaskQueueD•th
,

56 &
äom_»giÚs_
),

57 
·¿Î–_wr™e_back”_
(
num_gc_th»ads
, 
kGCSÏveTh»adTaskQueueD•th
,

58 &
äom_»giÚs_
),

59 
num_gc_th»ads_
(
num_gc_th»ads
) {

61 
BUG_ON
(
çr_mem_size
 >ğ(1ULL << 
F¬MemPŒM‘a
::
kObjeùIDB™Size
));

63 
ksched_fd_
 = 
İ’
("/dev/ksched", 
O_RDWR
);

64 ià(
ksched_fd_
 < 0) {

65 
LOG_PRINTF
("%s\n", "Warn: failo open /dev/ksched.");

67 
mem£t
(
evac_nÙif›rs_
, 0, (evac_notifiers_));

69 
ušt8_t
 
ds_id
 =

70 
¡d
::
num”ic_lim™s
<
deşty³
(
avaabË_ds_ids_
)::
v®ue_ty³
>::
mš
();

71 
ds_id
 <

72 
¡d
::
num”ic_lim™s
<
deşty³
(
avaabË_ds_ids_
)::
v®ue_ty³
>::
max
();

73 
ds_id
++) {

74 ià(
ds_id
 !ğ
kVªÏPŒDSID
) {

75 
avaabË_ds_ids_
.
push
(
ds_id
);

80 
F¬MemMªag”
::~FarMemManager() {

81 
ACCESS_ONCE
(
³ndšg_gcs_
)) {

82 
th»ad_y›ld
();

86 
boŞ
 
F¬MemMªag”
::
®loÿ‹_g’”ic_unique_±r_nb
(

87 
G’”icUniquePŒ
 *
±r
, 
ušt8_t
 
ds_id
, 
ušt16_t
 
™em_size
,

88 
¡d
::
İtiÚ®
<
ušt8_t
> 
İtiÚ®_id_Ën
,

89 
¡d
::
İtiÚ®
<cÚ¡ 
ušt8_t
 *> 
İtiÚ®_id
) {

90 
as£¹
(
™em_size
 <ğ
Objeù
::
kMaxObjeùD©aSize
);

91 autØ
objeù_size
 =

92 
Objeù
::
kH—d”Size
 + 
™em_size
 +

93 (
İtiÚ®_id_Ën
 ? *İtiÚ®_id_ËÀ: 
kVªÏPŒObjeùIDSize
);

94 autØ
İtiÚ®_loÿl_objeù_addr
 =

95 
®loÿ‹_loÿl_objeù_nb
(
çl£
, 
objeù_size
);

96 ià(!
İtiÚ®_loÿl_objeù_addr
) {

97  
çl£
;

99 autØ
loÿl_objeù_addr
 = *
İtiÚ®_loÿl_objeù_addr
;

100 
±r
->
š™
(
loÿl_objeù_addr
);

101 ià(!
İtiÚ®_id_Ën
) {

102 autØ
»mÙe_objeù_addr
 = 
®loÿ‹_»mÙe_objeù
(
çl£
, 
objeù_size
);

103 
Objeù
(
loÿl_objeù_addr
, 
ds_id
, 
¡©ic_ÿ¡
<
ušt16_t
>(
™em_size
),

104 
¡©ic_ÿ¡
<
ušt8_t
>((
»mÙe_objeù_addr
)),

105 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(&
»mÙe_objeù_addr
));

107 
Objeù
(
loÿl_objeù_addr
, 
ds_id
, 
¡©ic_ÿ¡
<
ušt16_t
>(
™em_size
),

108 *
İtiÚ®_id_Ën
, *
İtiÚ®_id
);

110 
RegiÚ
::
©omic_šc_»f_út
(
loÿl_objeù_addr
, -1);

111  
Œue
;

114 
G’”icUniquePŒ
 
F¬MemMªag”
::
®loÿ‹_g’”ic_unique_±r
(

115 
ušt8_t
 
ds_id
, 
ušt16_t
 
™em_size
, 
¡d
::
İtiÚ®
<ušt8_t> 
İtiÚ®_id_Ën
,

116 
¡d
::
İtiÚ®
<cÚ¡ 
ušt8_t
 *> 
İtiÚ®_id
) {

117 
as£¹
(
™em_size
 <ğ
Objeù
::
kMaxObjeùD©aSize
);

118 autØ
objeù_size
 =

119 
Objeù
::
kH—d”Size
 + 
™em_size
 +

120 (
İtiÚ®_id_Ën
 ? *İtiÚ®_id_ËÀ: 
kVªÏPŒObjeùIDSize
);

121 autØ
loÿl_objeù_addr
 = 
®loÿ‹_loÿl_objeù
(
çl£
, 
objeù_size
);

122 autØ
±r
 = 
G’”icUniquePŒ
(
loÿl_objeù_addr
);

123 ià(!
İtiÚ®_id_Ën
) {

124 autØ
»mÙe_objeù_addr
 = 
®loÿ‹_»mÙe_objeù
(
çl£
, 
objeù_size
);

125 
Objeù
(
loÿl_objeù_addr
, 
ds_id
, 
¡©ic_ÿ¡
<
ušt16_t
>(
™em_size
),

126 
¡©ic_ÿ¡
<
ušt8_t
>((
»mÙe_objeù_addr
)),

127 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(&
»mÙe_objeù_addr
));

129 
Objeù
(
loÿl_objeù_addr
, 
ds_id
, 
¡©ic_ÿ¡
<
ušt16_t
>(
™em_size
),

130 *
İtiÚ®_id_Ën
, *
İtiÚ®_id
);

132 
RegiÚ
::
©omic_šc_»f_út
(
loÿl_objeù_addr
, -1);

133  
±r
;

136 
F¬MemMªag”
::
RegiÚMªag”
::
push_ä“_»giÚ
(
RegiÚ
 &
»giÚ
) {

137 
»giÚ_¥š_
.
Lock
();

138 
»giÚ
.
»£t
();

139 
BUG_ON
(!
ä“_»giÚs_
.
push_back
(
»giÚ
));

140 
»giÚ_¥š_
.
UÆock
();

143 
¡d
::
İtiÚ®
<
RegiÚ
> 
F¬MemMªag”
::
RegiÚMªag”
::
pİ_u£d_»giÚ
() {

144 
RegiÚ
 
»giÚ
;

145 
»giÚ_¥š_
.
Lock
();

146 
»Œy_times
 = 0;

147 
Á_»Œy
:

148 
boŞ
 
sucûss
 = 
Á_u£d_»giÚs_
.
pİ_äÚt
(&
»giÚ
);

149 ià(
uÆik–y
(
sucûss
 && !
»giÚ
.
is_gÿbË
())) {

152 
sucûss
 = 
çl£
;

153 
Á_u£d_»giÚs_
.
push_back
(
»giÚ
);

154 ià(
»Œy_times
++ <ğ
kPickRegiÚMaxR‘ryTimes
) {

155 
Á_»Œy
;

158 ià(!
sucûss
) {

159 
»Œy_times
 = 0;

160 
t_»Œy
:

161 
sucûss
 = 
u£d_»giÚs_
.
pİ_äÚt
(&
»giÚ
);

162 ià(
uÆik–y
(
sucûss
 && !
»giÚ
.
is_gÿbË
())) {

164 
sucûss
 = 
çl£
;

165 
u£d_»giÚs_
.
push_äÚt
(
»giÚ
);

166 ià(
»Œy_times
++ <ğ
kPickRegiÚMaxR‘ryTimes
) {

167 
t_»Œy
;

171 
»giÚ_¥š_
.
UÆock
();

172  
sucûss
 ? 
¡d
::
make_İtiÚ®
(¡d::
move
(
»giÚ
)è: std::
nuÎİt
;

175 
boŞ
 
F¬MemMªag”
::
RegiÚMªag”
::
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

176 
boŞ
 
Á
, 
RegiÚ
 *
fuÎ_»giÚ
) {

177 
»giÚ_¥š_
.
Lock
();

178 autØ
gu¬d
 = 
h–³rs
::
fš®ly
([&] { 
»giÚ_¥š_
.
UÆock
(); });

180 
boŞ
 
sucûss
 = 
Œue
;

181 ià(
fuÎ_»giÚ
) {

182 ià(!
fuÎ_»giÚ
->
is_šv®id
()) {

183 
sucûss
 =

184 (
fuÎ_»giÚ
->
is_loÿl
() &&

185 
fuÎ_»giÚ


186 ->
is_Á
())

188 ? 
Á_u£d_»giÚs_
.
push_back
(*
fuÎ_»giÚ
)

189 : 
u£d_»giÚs_
.
push_back
(*
fuÎ_»giÚ
);

190 
BUG_ON
(!
sucûss
);

193 autØ&
cÜe_loÿl_»giÚ
 = 
cÜe_loÿl_ä“_»giÚ
(
Á
);

194 ià(
cÜe_loÿl_»giÚ
.
is_šv®id
()) {

195 
sucûss
 = 
ä“_»giÚs_
.
pİ_äÚt
(&
cÜe_loÿl_»giÚ
);

196 ià(
Á
) {

197 
cÜe_loÿl_»giÚ
.
£t_Á
();

201  
sucûss
;

204 
F¬MemMªag”
 *

205 
F¬MemMªag”FaùÜy
::
bud
(
ušt64_t
 
ÿche_size
,

206 
¡d
::
İtiÚ®
<
ušt32_t
> 
İtiÚ®_num_gc_th»ads
,

207 
F¬MemDeviû
 *
deviû
) {

208 ià(
uÆik–y
(
±r_
)) {

209  
nuÎ±r
;

211 
ušt32_t
 
num_gc_th»ads
 = 
İtiÚ®_num_gc_th»ads
.
has_v®ue
()

212 ? *
İtiÚ®_num_gc_th»ads


213 : 
kDeçuÉNumGCTh»ads
;

214 ià(
uÆik–y
(!
num_gc_th»ads
)) {

215  
nuÎ±r
;

217 
±r_
 = 
Ãw
 
F¬MemMªag”
(
ÿche_size
, 
deviû
->
g‘_çr_mem_size
(),

218 
num_gc_th»ads
, 
deviû
);

219  
±r_
;

222 
F¬MemMªag”
::
RegiÚMªag”
::RegiÚMªag”(
ušt64_t
 
size
, 
boŞ
 
is_loÿl
) {

223 autØ
ä“_»giÚs_couÁ
 = 
û
(
size
 / 
¡©ic_ÿ¡
<>(
RegiÚ
::
kSize
));

224 ià(
ä“_»giÚs_couÁ
 <ğ2 * 
h–³rs
::
kNumSock‘1CPUs
) {

225 
LOG_PRINTF
("%s\n", "Error:wo few‡vailable„egions.");

226 
ex™
(-
ENOSPC
);

228 
ä“_»giÚs_
 = 
¡d
::
move
(
CœcuÏrBufãr
<
RegiÚ
, 
çl£
>(
ä“_»giÚs_couÁ
));

229 
u£d_»giÚs_
 = 
¡d
::
move
(
CœcuÏrBufãr
<
RegiÚ
, 
çl£
>(
ä“_»giÚs_couÁ
));

230 
Á_u£d_»giÚs_
 =

231 
¡d
::
move
(
CœcuÏrBufãr
<
RegiÚ
, 
çl£
>(
ä“_»giÚs_couÁ
));

232 ià(
is_loÿl
) {

233 
loÿl_ÿche_±r_
.
»£t
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(

234 
h–³rs
::
®loÿ‹_hug•age
(
ä“_»giÚs_couÁ
 * 
RegiÚ
::
kSize
)));

236 
ä“_»giÚs_couÁ
 -ğ2 * 
h–³rs
::
kNumSock‘1CPUs
;

238 
ušt32_t
 
idx
 = 0;

239 autØ
Ãw_»giÚ_â
 = [&](
boŞ
 
Á
) {

240 autØ
buf_±r
 =

241 
is_loÿl
 ? (
loÿl_ÿche_±r_
.
g‘
(è+ 
idx
 * 
RegiÚ
::
kSize
è: 
nuÎ±r
;

242  
RegiÚ
(
idx
++, 
is_loÿl
, 
Á
, 
buf_±r
);

245 
FOR_ALL_SOCKET0_CORES
(
cÜe_id
) {

246 
cÜe_loÿl_ä“_»giÚs_
[
cÜe_id
] = 
Ãw_»giÚ_â
(
çl£
);

247 
cÜe_loÿl_ä“_Á_»giÚs_
[
cÜe_id
] = 
Ãw_»giÚ_â
(
Œue
);

250 
ušt64_t
 
i
 = 0; i < 
ä“_»giÚs_couÁ
; i++) {

251 
BUG_ON
(!
ä“_»giÚs_
.
push_back
(
Ãw_»giÚ_â
(
çl£
)));

255 
F¬MemMªag”
::
sw­_š
(
boŞ
 
Á
, 
G’”icF¬MemPŒ
 *
±r
) {

256 
as£¹
(
´“m±_’abËd
());

258 autØ&
m‘a
 = 
±r
->meta();

259 autØ
obj_id
 = 
m‘a
.
g‘_objeù_id
();

260 
rmb
();

261 ià(
uÆik–y
(
m‘a
.
is_´e£Á
())) {

265 
F¬MemMªag”
::
lock_objeù
((
obj_id
),

266 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(&
obj_id
));

267 autØ
gu¬d
 = 
h–³rs
::
fš®ly
([&]() {

268 
F¬MemMªag”
::
uÆock_objeù
((
obj_id
),

269 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(&
obj_id
));

272 ià(
lik–y
(!
m‘a
.
is_´e£Á
())) {

273 autØ
obj_addr
 = 
®loÿ‹_loÿl_objeù
(
Á
, 
m‘a
.
g‘_objeù_size
());

274 autØ
obj
 = 
Objeù
(
obj_addr
);

275 autØ
ds_id
 = 
m‘a
.
g‘_ds_id
();

276 
ušt16_t
 
obj_d©a_Ën
;

277 autØ
obj_d©a_addr
 = 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
obj
.
g‘_d©a_addr
());

278 
deviû_±r_
->
»ad_objeù
(
ds_id
, (
obj_id
),

279 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
obj_id
),

280 &
obj_d©a_Ën
, 
obj_d©a_addr
);

281 
wmb
();

282 
obj
.
š™
(
ds_id
, 
obj_d©a_Ën
, (
obj_id
),

283 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
obj_id
));

284 ià(!
m‘a
.
is_sh¬ed
()) {

285 
m‘a
.
£t_´e£Á
(
obj_addr
);

287 
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(
±r
)->
Œav”£
(

288 [=](
G’”icF¬MemPŒ
 *
±r
è{…Œ->
m‘a
().
£t_´e£Á
(
obj_addr
); });

290 
RegiÚ
::
©omic_šc_»f_út
(
obj_addr
, -1);

294 
F¬MemMªag”
::
sw­_out
(
G’”icF¬MemPŒ
 *
±r
, 
Objeù
 
obj
) {

295 
as£¹
(
´“m±_’abËd
());

297 autØ&
m‘a
 = 
±r
->meta();

298 #iâdeà
STW_GC


299 ià(
uÆik–y
(!
m‘a
.
is_evacu©iÚ
())) {

304 
boŞ
 
hÙ
, 
Á
, 
dœty
;

305 ià(!
m‘a
.
is_sh¬ed
()) {

306 
hÙ
 = 
m‘a
.
is_hÙ
();

307 
Á
 = 
m‘a
.
is_Á
();

308 
dœty
 = 
m‘a
.
is_dœty
();

310 
hÙ
 = 
dœty
 = 
çl£
;

311 
Á
 = 
Œue
;

312 
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(
±r
)->
Œav”£
(

313 [&
hÙ
, &
Á
, &
dœty
](
G’”icF¬MemPŒ
 *
±r
) {

314 
hÙ
 |ğ
±r
->
m‘a
().
is_hÙ
();

315 
dœty
 |ğ
±r
->
m‘a
().
is_dœty
();

316 
Á
 &ğ
±r
->
m‘a
().
is_Á
();

320 ià(
hÙ
 && !
Á
 && !
ACCESS_ONCE
(
®mo¡_em±y
)) {

321 autØ
obj_size
 = 
obj
.
size
();

322 autØ
İtiÚ®_loÿl_objeù_addr
 = 
®loÿ‹_loÿl_objeù_nb
(
çl£
, 
obj_size
);

323 ià(
lik–y
(
İtiÚ®_loÿl_objeù_addr
)) {

324 autØ
Ãw_loÿl_objeù_addr
 = *
İtiÚ®_loÿl_objeù_addr
;

325 ià×utØ
cİy_nÙif›r
 = 
cİy_nÙif›rs_
[
obj
.
g‘_ds_id
()]) {

326 
memıy
(
»š‹½»t_ÿ¡
<*>(
Ãw_loÿl_objeù_addr
),

327 
»š‹½»t_ÿ¡
<*>(
obj
.
g‘_addr
()), 
Objeù
::
kH—d”Size
);

328 autØ
de¡_obj
 = 
Objeù
(
Ãw_loÿl_objeù_addr
);

329 
de¡_obj
.
£t_obj_id
(
obj
.
g‘_obj_id
(), obj.
g‘_obj_id_Ën
());

330 
cİy_nÙif›r
(
Objeù
(
Ãw_loÿl_objeù_addr
), 
obj
);

332 
memıy
(
»š‹½»t_ÿ¡
<*>(
Ãw_loÿl_objeù_addr
),

333 
»š‹½»t_ÿ¡
<*>(
obj
.
g‘_addr
()), 
obj_size
);

335 ià(!
m‘a
.
is_sh¬ed
()) {

336 
m‘a
.
gc_cİy
(
Ãw_loÿl_objeù_addr
);

338 
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(
±r
)->
Œav”£
(

339 [=](
G’”icF¬MemPŒ
 *
±r
) {

340 
±r
->
m‘a
().
gc_cİy
(
Ãw_loÿl_objeù_addr
);

343 
RegiÚ
::
©omic_šc_»f_út
(
Ãw_loÿl_objeù_addr
, -1);

348 autØ
obj_id
 = 
obj
.
g‘_obj_id
();

349 autØ
obj_id_Ën
 = 
obj
.
g‘_obj_id_Ën
();

350 autØ
obj_size
 = 
obj
.
size
();

351 autØ
ds_id
 = 
obj
.
g‘_ds_id
();

352 autØ
d©a_±r
 = 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
obj
.
g‘_d©a_addr
());

354 autØ
wr™e_objeù_â
 = [&](
ušt32_t
 
d©a_Ën
) {

355 ià(
dœty
) {

356 
deviû_±r_
->
wr™e_objeù
(
ds_id
, 
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_±r
);

360 ià×utØ
evac_nÙif›r
 = 
evac_nÙif›rs_
[
ds_id
]) {

361 ià(
evac_nÙif›r
(
obj
, 
wr™e_objeù_â
)) {

365 
wr™e_objeù_â
(
obj
.
g‘_d©a_Ën
());

368 ià(!
m‘a
.
is_sh¬ed
()) {

369 
m‘a
.
gc_wb
(
ds_id
, 
obj_size
, *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
obj_id
));

371 
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(
±r
)->
Œav”£
(

372 [=](
G’”icF¬MemPŒ
 *
±r
) {

373 
±r
->
m‘a
().
gc_wb
(
ds_id
, 
obj_size
,

374 *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
obj_id
));

382 
F¬MemMªag”
::
pick_äom_»giÚs
() {

383 
äom_»giÚs_
.
ş—r
();

384 autØ
¿tio_³r_gc_round
 =

385 
¡d
::
max
(
kMšR©ioRegiÚsP”GCRound
,

386 
¡d
::
mš
(
kMaxR©ioRegiÚsP”GCRound
,

387 
kF»eCacheHighTh»sh
 -

388 
ÿche_»giÚ_mªag”_
.
g‘_ä“_»giÚ_¿tio
()));

389 autØ
num_»giÚs_³r_gc_round
 =

390 
¡d
::
mš
(
kMaxNumRegiÚsP”GCRound
,

391 
¡©ic_ÿ¡
<
ušt32_t
>(
¿tio_³r_gc_round
 *

392 
ÿche_»giÚ_mªag”_
.
g‘_num_»giÚs
()));

394 autØ
İtiÚ®_»giÚ
 = 
pİ_ÿche_u£d_»giÚ
();

395 ià(
uÆik–y
(!
İtiÚ®_»giÚ
)) {

398 
´“m±_di§bË
();

399 
äom_»giÚs_
.
push_back
(
¡d
::
move
(*
İtiÚ®_»giÚ
));

400 
´“m±_’abË
();

401 } 
äom_»giÚs_
.
size
(è< 
num_»giÚs_³r_gc_round
);

404 
GCP¬®Ëliz”
::GCP¬®Ëliz”(
ušt32_t
 
num_¦aves
, ušt32_ˆ
sk_queues_d•th
,

405 
¡d
::
veùÜ
<
RegiÚ
> *
äom_»giÚs
)

406 : 
P¬®Ëliz”
<
GCTask
>(
num_¦aves
, 
sk_queues_d•th
),

407 
äom_»giÚs_
(
äom_»giÚs
) {}

409 
GCP¬®ËlM¬k”
::GCP¬®ËlM¬k”(
ušt32_t
 
num_¦aves
,

410 
ušt32_t
 
sk_queues_d•th
,

411 
¡d
::
veùÜ
<
RegiÚ
> *
äom_»giÚs
)

412 : 
GCP¬®Ëliz”
(
num_¦aves
, 
sk_queues_d•th
, 
äom_»giÚs
) {}

414 
GCP¬®ËlM¬k”
::
¦ave_â
(
ušt32_t
 
tid
) {

415 
´“m±_di§bË
();

416 
¡¬t_gc_us
[
g‘_cÜe_num
()].
c
 = 
miüÙime
();

417 
´“m±_’abË
();

418 !
¦ave_ÿn_ex™
(
tid
)) {

419 
GCTask
 
sk
;

420 ià(
¦ave_dequeue_sk
(
tid
, &
sk
)) {

421 autØ[
Ëá
, 
right
] = 
sk
;

422 autØ
cur
 = 
Ëá
;

423 
cur
 + 
Objeù
::
kH—d”Size
 < 
right
) {

424 autØ
obj
 = 
Objeù
(
cur
);

425 ià(!
obj
.
is_ä“d
()) {

426 autØ
obj_id_Ën
 = 
obj
.
g‘_obj_id_Ën
();

427 autØ*
obj_id
 = 
obj
.
g‘_obj_id
();

428 
F¬MemMªag”
::
lock_objeù
(
obj_id_Ën
, 
obj_id
);

429 autØ
gu¬d
 = 
h–³rs
::
fš®ly
(

430 [&](è{ 
F¬MemMªag”
::
uÆock_objeù
(
obj_id_Ën
, 
obj_id
); });

431 ià(
lik–y
(!
obj
.
is_ä“d
())) {

432 autØ*
±r
 =

433 
»š‹½»t_ÿ¡
<
G’”icF¬MemPŒ
 *>(
obj
.
g‘_±r_addr
());

434 ià(!
±r
->
m‘a
().
is_sh¬ed
()) {

435 
±r
->
m‘a
().
£t_evacu©iÚ
();

437 
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(
±r
)->
Œav”£
(

438 [](
G’”icSh¬edPŒ
 *
±r
è{…Œ->
m‘a
().
£t_evacu©iÚ
(); });

442 
cur
 +ğ
h–³rs
::
®ign_to
(
obj
.
size
(), (
F¬MemPŒM‘a
));

448 
F¬MemMªag”
::
m¬k_fm_±rs
×utØ*
´“m±_gu¬d
) {

449 
Stus
 
¦aves_¡©us
[
num_gc_th»ads_
];

450 
ušt32_t
 
i
 = 0; i < 
num_gc_th»ads_
; i++) {

451 
¦aves_¡©us
[
i
] = 
GC
;

453 
·¿Î–_m¬k”_
.
¥awn
(
¦aves_¡©us
);

454 
¡¬t_´iÜ™izšg
(
GC
);

457 
´“m±_gu¬d
->
»£t
();

458 
·¿Î–_m¬k”_
.
execu‹
();

461 
F¬MemMªag”
::
wa™_mutÜs_ob£rv©iÚ
() {

462 autØ
Şd_¡©us
 = 
lßd_acquœe
(&
ex³ùed_¡©us
);

463 #iâdeà
STW_GC


464 
¡Üe_»Ëa£
(&
ex³ùed_¡©us
, 
D”efScİe
::
æ_¡©us
(
Şd_¡©us
));

465 
£t_£lf_th_¡©us
(
Şd_¡©us
);

466 
¡¬t_´iÜ™izšg
(
Şd_¡©us
);

469 
D”efScİe
::
g‘_num_th»ads
(
Şd_¡©us
)) {

470 
th»ad_y›ld
();

472 #iâdeà
STW_GC


473 
£t_£lf_th_¡©us
(
GC
);

477 
GCP¬®ËlWr™eBack”
::GCP¬®ËlWr™eBack”(
ušt32_t
 
num_¦aves
,

478 
ušt32_t
 
sk_queues_d•th
,

479 
¡d
::
veùÜ
<
RegiÚ
> *
äom_»giÚs
)

480 : 
GCP¬®Ëliz”
(
num_¦aves
, 
sk_queues_d•th
, 
äom_»giÚs
) {}

482 
GCP¬®ËlWr™eBack”
::
¦ave_â
(
ušt32_t
 
tid
) {

483 
´“m±_di§bË
();

484 
¡¬t_gc_us
[
g‘_cÜe_num
()].
c
 = 
miüÙime
();

485 
´“m±_’abË
();

486 !
¦ave_ÿn_ex™
(
tid
)) {

487 
GCTask
 
sk
;

488 ià(
¦ave_dequeue_sk
(
tid
, &
sk
)) {

489 autØ[
Ëá
, 
right
] = 
sk
;

490 autØ
cur
 = 
Ëá
;

491 autØ*
mªag”
 = 
F¬MemMªag”FaùÜy
::
g‘
();

492 
cur
 + 
Objeù
::
kH—d”Size
 < 
right
) {

493 autØ
obj
 = 
Objeù
(
cur
);

494 ià(!
obj
.
is_ä“d
()) {

495 autØ
obj_id_Ën
 = 
obj
.
g‘_obj_id_Ën
();

496 autØ*
obj_id
 = 
obj
.
g‘_obj_id
();

497 
F¬MemMªag”
::
lock_objeù
(
obj_id_Ën
, 
obj_id
);

498 autØ
gu¬d
 = 
h–³rs
::
fš®ly
(

499 [&](è{ 
F¬MemMªag”
::
uÆock_objeù
(
obj_id_Ën
, 
obj_id
); });

500 ià(
lik–y
(!
obj
.
is_ä“d
())) {

501 autØ*
±r
 =

502 
»š‹½»t_ÿ¡
<
G’”icF¬MemPŒ
 *>(
obj
.
g‘_±r_addr
());

503 
mªag”
->
sw­_out
(
±r
, 
obj
);

506 
cur
 +ğ
h–³rs
::
®ign_to
(
obj
.
size
(), (
F¬MemPŒM‘a
));

512 
F¬MemMªag”
::
wr™e_back_»giÚs
() {

513 
Stus
 
¦aves_¡©us
[
num_gc_th»ads_
];

514 
ušt32_t
 
i
 = 0; i < 
num_gc_th»ads_
; i++) {

515 
¦aves_¡©us
[
i
] = 
GC
;

517 
·¿Î–_wr™e_back”_
.
¥awn
(
¦aves_¡©us
);

518 #iâdeà
STW_GC


519 
¡¬t_´iÜ™izšg
(
GC
);

521 
·¿Î–_wr™e_back”_
.
execu‹
();

524 
F¬MemMªag”
::
¡¬t_´iÜ™izšg
(
Stus
 
¡©us
) {

525 #iâdeà
DISABLE_PRIORITIZING


526 
__´iÜ™ized_¡©us
 = 
¡©us
;

527 
¡Üe_»Ëa£
(&
__glob®_´iÜ™izšg
, 
Œue
);

529 ià(
ioùl
(
ksched_fd_
, 
KSCHED_IOC_PRIORITIZE
) != 0) {

530 
LOG_PRINTF
("%s\n", "Warn: failo do ioctl KSCHED_IOC_PRIORITIZE");

535 
F¬MemMªag”
::
¡İ_´iÜ™izšg
() {

536 #iâdeà
DISABLE_PRIORITIZING


537 
¡Üe_»Ëa£
(&
__glob®_´iÜ™izšg
, 
çl£
);

541 
F¬MemMªag”
::
gc_ÿche
() {

542 #ifdeà
GC_LOG


543 
¡d
::
chrÚo
::
time_pošt
<¡d::chrÚo::
¡—dy_şock
> 
ts
[6];

545 
as£¹
(
´“m±_’abËd
());

546 #iâdeà
STW_GC


547 
´“m±_di§bË
();

548 
£t_£lf_th_¡©us
(
GC
);

549 autØ
´“m±_gu¬d
 = 
h–³rs
::
fš®ly
([]() {

550 
´“m±_’abË
();

551 
as£¹
(
´“m±_’abËd
());

554 
¡¬t_gc_us
[
g‘_cÜe_num
()].
c
 = 
miüÙime
();

556 ià(
uÆik–y
(!
is_ä“_ÿche_low
())) {

561 ià(!
__sync_boŞ_com·»_ªd_sw­
(&
gc_ma¡”_aùive
, 
çl£
, 
Œue
)) {

565 #ifdeà
GC_LOG


566 
LOG_PRINTF
("%s%lf\n", "Info: start GC, free mem„atio = ",

567 
ÿche_»giÚ_mªag”_
.
g‘_ä“_»giÚ_¿tio
());

570 !
is_ä“_ÿche_high
()) {

572 #ifdeà
GC_LOG


573 
ts
[0] = 
¡d
::
chrÚo
::
¡—dy_şock
::
now
();

575 
pick_äom_»giÚs
();

576 ià(
uÆik–y
(!
äom_»giÚs_
.
size
())) {

577 
LOG_PRINTF
("%s\n", "Warn: GC cannot find‡ny from_regions.");

578 
th»ad_y›ld
();

583 #ifdeà
GC_LOG


584 
ts
[1] = 
¡d
::
chrÚo
::
¡—dy_şock
::
now
();

586 #iâdeà
STW_GC


587 
m¬k_fm_±rs
(&
´“m±_gu¬d
);

591 #ifdeà
GC_LOG


592 
ts
[2] = 
¡d
::
chrÚo
::
¡—dy_şock
::
now
();

594 
wa™_mutÜs_ob£rv©iÚ
();

597 #ifdeà
GC_LOG


598 
ts
[3] = 
¡d
::
chrÚo
::
¡—dy_şock
::
now
();

600 
wr™e_back_»giÚs
();

603 #ifdeà
GC_LOG


604 
ts
[4] = 
¡d
::
chrÚo
::
¡—dy_şock
::
now
();

606 autØ&
äom_»giÚ
 : 
äom_»giÚs_
) {

607 
push_ÿche_ä“_»giÚ
(
äom_»giÚ
);

609 
gc_lock_
.
Lock
();

610 ià(!
is_ä“_ÿche_®mo¡_em±y
()) {

611 
ACCESS_ONCE
(
®mo¡_em±y
èğ
çl£
;

612 #iâdeà
STW_GC


613 
mutÜ_ÿche_cÚdv¬_
.
SigÇlAÎ
();

616 
gc_lock_
.
UÆock
();

618 #ifdeà
GC_LOG


619 
ts
[5] = 
¡d
::
chrÚo
::
¡—dy_şock
::
now
();

620 
ušt32_t
 
i
 = 1; i < (
ts
) / (ts[0]); i++) {

621 
LOG_PRINTF
("%s%llu%s%d%s%d%s\n",

622 "Info: ğ", 
h–³rs
::
chrÚo_to_time¡amp
(
ts
[
i
]),

623 ", GC…ha£ ", ()
i
, "akes ",

624 ()(
¡d
::
chrÚo
::
du¿tiÚ_ÿ¡
<¡d::chrÚo::
miüo£cÚds
>(

625 
ts
[
i
] -s[i - 1])

626 .
couÁ
()),

629 
LOG_PRINTF
("%s%lld%s%lf\n", "Info: GC frees ",

630 ()
äom_»giÚs_
.
size
(è* 
RegiÚ
::
kSize
,

632 
ÿche_»giÚ_mªag”_
.
g‘_ä“_»giÚ_¿tio
());

636 #ifdeà
GC_LOG


637 
LOG_PRINTF
("%s%lf\n", "Info: finish GC, free mem„atio = ",

638 
ÿche_»giÚ_mªag”_
.
g‘_ä“_»giÚ_¿tio
());

641 #ifdeà
STW_GC


642 
mutÜ_ÿche_cÚdv¬_
.
SigÇlAÎ
();

644 
¡İ_´iÜ™izšg
();

646 
gc_ma¡”_¥awÃd_
 = 
çl£
;

647 
¡Üe_»Ëa£
(&
gc_ma¡”_aùive
, 
çl£
);

650 
ušt64_t
 
F¬MemMªag”
::
®loÿ‹_loÿl_objeù
(
boŞ
 
Á
, 
ušt16_t
 
objeù_size
) {

651 
´“m±_di§bË
();

652 
¡d
::
İtiÚ®
<
ušt64_t
> 
İtiÚ®_loÿl_addr
;

653 
boŞ
 
³r_cÜe_loÿl_»giÚ_»fËd
 = 
çl£
;

654 autØ
gu¬d
 = 
h–³rs
::
fš®ly
([&] {

655 ià(
uÆik–y
(
³r_cÜe_loÿl_»giÚ_»fËd
)) {

656 
gc_check
();

658 
´“m±_’abË
();

660 
»Œy_®loÿ‹_loÿl
:

661 autØ&
ä“_loÿl_»giÚ
 = 
ÿche_»giÚ_mªag”_
.
cÜe_loÿl_ä“_»giÚ
(
Á
);

662 
İtiÚ®_loÿl_addr
 = 
ä“_loÿl_»giÚ
.
®loÿ‹_objeù
(
objeù_size
);

664 ià(
lik–y
(
İtiÚ®_loÿl_addr
)) {

665  *
İtiÚ®_loÿl_addr
;

667 
boŞ
 
sucûss
 = 
ÿche_»giÚ_mªag”_
.
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

668 
Á
, &
ä“_loÿl_»giÚ
);

669 
³r_cÜe_loÿl_»giÚ_»fËd
 = 
Œue
;

670 ià(
uÆik–y
(!
sucûss
)) {

671 
´“m±_’abË
();

672 
mutÜ_wa™_fÜ_gc_ÿche
();

673 
´“m±_di§bË
();

675 
»Œy_®loÿ‹_loÿl
;

679 
¡d
::
İtiÚ®
<
ušt64_t
>

680 
F¬MemMªag”
::
®loÿ‹_loÿl_objeù_nb
(
boŞ
 
Á
, 
ušt16_t
 
objeù_size
) {

681 
´“m±_di§bË
();

682 
¡d
::
İtiÚ®
<
ušt64_t
> 
İtiÚ®_loÿl_addr
;

683 
boŞ
 
³r_cÜe_loÿl_»giÚ_»fËd
 = 
çl£
;

684 autØ
gu¬d
 = 
h–³rs
::
fš®ly
([&] {

685 ià(
uÆik–y
(
³r_cÜe_loÿl_»giÚ_»fËd
)) {

686 
gc_check
();

688 
´“m±_’abË
();

690 
»Œy_®loÿ‹_loÿl
:

691 autØ&
ä“_loÿl_»giÚ
 = 
ÿche_»giÚ_mªag”_
.
cÜe_loÿl_ä“_»giÚ
(
Á
);

692 
İtiÚ®_loÿl_addr
 = 
ä“_loÿl_»giÚ
.
®loÿ‹_objeù
(
objeù_size
);

694 ià(
lik–y
(
İtiÚ®_loÿl_addr
)) {

695  *
İtiÚ®_loÿl_addr
;

697 
boŞ
 
sucûss
 = 
ÿche_»giÚ_mªag”_
.
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

698 
Á
, &
ä“_loÿl_»giÚ
);

699 
³r_cÜe_loÿl_»giÚ_»fËd
 = 
Œue
;

700 ià(
uÆik–y
(!
sucûss
)) {

701  
¡d
::
nuÎİt
;

703 
»Œy_®loÿ‹_loÿl
;

707 
ušt64_t
 
F¬MemMªag”
::
®loÿ‹_»mÙe_objeù
(
boŞ
 
Á
, 
ušt16_t
 
objeù_size
) {

708 
´“m±_di§bË
();

709 autØ
gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

710 
¡d
::
İtiÚ®
<
ušt64_t
> 
İtiÚ®_»mÙe_addr
;

711 
»Œy_®loÿ‹_çr_mem
:

712 autØ&
ä“_»mÙe_»giÚ
 = 
çr_mem_»giÚ_mªag”_
.
cÜe_loÿl_ä“_»giÚ
(
Á
);

713 
İtiÚ®_»mÙe_addr
 = 
ä“_»mÙe_»giÚ
.
®loÿ‹_objeù
(
objeù_size
);

714 ià(
uÆik–y
(!
İtiÚ®_»mÙe_addr
)) {

715 
boŞ
 
sucûss
 = 
çr_mem_»giÚ_mªag”_
.
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

716 
Á
, &
ä“_»mÙe_»giÚ
);

717 ià(
uÆik–y
(!
sucûss
)) {

718 
´“m±_’abË
();

719 
mutÜ_wa™_fÜ_gc_çr_mem
();

720 
´“m±_di§bË
();

722 
»Œy_®loÿ‹_çr_mem
;

724  *
İtiÚ®_»mÙe_addr
;

727 
F¬MemMªag”
::
mutÜ_wa™_fÜ_gc_ÿche
() {

728 
as£¹
(
´“m±_’abËd
());

729 
gc_lock_
.
Lock
();

730 autØ
gu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
gc_lock_
.
UÆock
(); });

731 ià(
uÆik–y
(!
ACCESS_ONCE
(
®mo¡_em±y
))) {

734 ià(
uÆik–y
(
D”efScİe
::
is_š_d”ef_scİe
())) {

735 
LOG_PRINTF
("%s\n", "Error:„uns out of space with‡n unexpected status.");

736 
Sts
::
´št_ä“_mem_¿tio_»cÜds
();

737 
ex™
(-
ENOSPC
);

739 #ifdeà
STW_GC


740 
Ïunch_gc_ma¡”
();

743 
mutÜ_ÿche_cÚdv¬_
.
Wa™
(&
gc_lock_
);

744 } 
ACCESS_ONCE
(
®mo¡_em±y
));

745 
gu¬d
.
»£t
();

746 #ifdeà
DEBUG


747 
LOG_PRINTF
("%s\n", "Warn: mutator…aused dueo insufficient memory.");

751 
F¬MemMªag”
::
mutÜ_wa™_fÜ_gc_çr_mem
() {

752 
LOG_PRINTF
("%s\n", "Warn: GCing far mem has‚ot been implemented yet.");

755 
F¬MemMªag”
::
Ïunch_gc_ma¡”
() {

756 ià(!
lßd_acquœe
(&
gc_ma¡”_aùive
)) {

757 autØ
func
 = [&]() {

758 
³ndšg_gcs_
++;

759 
gc_ÿche
();

760 
³ndšg_gcs_
--;

762 ià(
´“m±_’abËd
()) {

763 
¹
::
P¬kAndSw™ch
(
func
);

766 ià(
__sync_boŞ_com·»_ªd_sw­
(&
gc_ma¡”_¥awÃd_
, 
çl£
, 
Œue
)) {

767 
¹
::
S·wn
(
func
);

773 
ušt8_t
 
F¬MemMªag”
::
®loÿ‹_ds_id
() {

774 autØ
ds_id
 = 
avaabË_ds_ids_
.
äÚt
();

775 
avaabË_ds_ids_
.
pİ
();

776  
ds_id
;

779 
F¬MemMªag”
::
ä“_ds_id
(
ušt8_t
 
ds_id
è{ 
avaabË_ds_ids_
.
push
(ds_id); }

781 
boŞ
 
F¬MemMªag”
::
»®loÿ‹_g’”ic_unique_±r_nb
(cÚ¡ 
D”efScİe
 &
scİe
,

782 
G’”icUniquePŒ
 *
±r
,

783 
ušt16_t
 
Ãw_™em_size
,

784 cÚ¡ 
ušt8_t
 *
d©a_buf
) {

785 
±r
->
d”ef
(
scİe
);

787 autØ
Şd_obj
 = 
±r
->
objeù
();

788 autØ
Şd_obj_id_Ën
 = 
Şd_obj
.
g‘_obj_id_Ën
();

789 autØ
Şd_obj_ds_id
 = 
Şd_obj
.
g‘_ds_id
();

790 autØ
Ãw_obj_size
 = 
Objeù
::
kH—d”Size
 + 
Ãw_™em_size
 + 
Şd_obj_id_Ën
;

791 autØ
İtiÚ®_loÿl_objeù_addr
 =

792 
®loÿ‹_loÿl_objeù_nb
(
çl£
, 
Ãw_obj_size
);

793 ià(!
İtiÚ®_loÿl_objeù_addr
) {

794  
çl£
;

796 autØ
loÿl_objeù_addr
 = *
İtiÚ®_loÿl_objeù_addr
;

797 
memıy
(
»š‹½»t_ÿ¡
<*>(
loÿl_objeù_addr
è+ 
Objeù
::
kH—d”Size
,

798 
d©a_buf
, 
Ãw_™em_size
);

799 
wmb
();

800 
±r
->
š™
(
loÿl_objeù_addr
);

801 ià(
Şd_obj_ds_id
 =ğ
kVªÏPŒDSID
) {

802 autØ
»mÙe_objeù_addr
 = 
®loÿ‹_»mÙe_objeù
(
çl£
, 
Ãw_obj_size
);

803 
as£¹
(
Şd_obj_id_Ën
 =ğ
kVªÏPŒObjeùIDSize
);

804 
Objeù
(
loÿl_objeù_addr
, 
Şd_obj_ds_id
,

805 
¡©ic_ÿ¡
<
ušt16_t
>(
Ãw_™em_size
), 
kVªÏPŒObjeùIDSize
,

806 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(&
»mÙe_objeù_addr
));

808 
Objeù
(
loÿl_objeù_addr
, 
Şd_obj_ds_id
,

809 
¡©ic_ÿ¡
<
ušt16_t
>(
Ãw_™em_size
), 
Şd_obj_id_Ën
,

810 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
Şd_obj
.
g‘_obj_id
()));

812 
wmb
();

814 
Şd_obj
.
ä“
();

815 
RegiÚ
::
©omic_šc_»f_út
(
loÿl_objeù_addr
, -1);

816  
Œue
;

819 
G’”icCÚcu¼’tHİscÙch


820 
F¬MemMªag”
::
®loÿ‹_cÚcu¼’t_hİscÙch
(
ušt32_t
 
loÿl_num_’Œ›s_shiá
,

821 
ušt32_t
 
»mÙe_num_’Œ›s_shiá
,

822 
ušt64_t
 
»mÙe_d©a_size
) {

823  
G’”icCÚcu¼’tHİscÙch
(
®loÿ‹_ds_id
(), 
loÿl_num_’Œ›s_shiá
,

824 
»mÙe_num_’Œ›s_shiá
, 
»mÙe_d©a_size
);

827 
G’”icCÚcu¼’tHİscÙch
 *
F¬MemMªag”
::
®loÿ‹_cÚcu¼’t_hİscÙch_h—p
(

828 
ušt32_t
 
loÿl_num_’Œ›s_shiá
, ušt32_ˆ
»mÙe_num_’Œ›s_shiá
,

829 
ušt64_t
 
»mÙe_d©a_size
) {

830  
Ãw
 
G’”icCÚcu¼’tHİscÙch
(

831 
®loÿ‹_ds_id
(), 
loÿl_num_’Œ›s_shiá
, 
»mÙe_num_’Œ›s_shiá
,

832 
»mÙe_d©a_size
);

	@src/obj_locker.cpp

1 
	~"sync.h
"

3 
	~"h–³rs.hµ
"

4 
	~"obj_lock”.hµ
"

5 
	~"poš‹r.hµ
"

7 
Çme¥aû
 
	gçr_memÜy
 {

9 
	gObjLock”
::
ObjLock”
() {}

11 
ušt32_t
 
ObjLock”
::
hash_func
(
ušt64_t
 
x
) {

12 #ifdeà
USE_UNIFORM_HASH


13 
cÚ¡ex´
 
ušt32_t
 
a
 = 17;

14 
cÚ¡ex´
 
ušt32_t
 
	gb
 = 47;

15 
cÚ¡ex´
 
ušt32_t
 
	gc
 = 211;

17 autØ
	glow
 = (
ušt32_t
)
x
;

18 autØ
	ghigh
 = (
ušt32_t
)(
x
 >> 32);

19 autØ
	gv®
 = 
a
 * 
low
 + 
b
 * 
high
 + 
c
;

21  
	gv®
 & (
	gkNumM­s
 - 1);

23  
	gx
 & (
	gkNumM­s
 - 1);

27 
boŞ
 
	gObjLock”
::
Œy_š£¹
(
ušt64_t
 
obj_id
) {

28 
boŞ
 
sucûss
 = 
Œue
;

29 autØ
	gidx
 = 
hash_func
(
obj_id
);

30 
	g¥šs_
[
idx
].
Lock
();

31 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&] { 
¥šs_
[
idx
].
UÆock
(); });

33 
	g¡d
::
m­
<
ušt64_t
, 
	gLockEÁry
>::
™”©Ü
 
™”
;

34 ià((
	g™”
 = 
m­s_
[
idx
].
fšd
(
obj_id
)è=ğm­s_[idx].
’d
()) {;

35 
	gm­s_
[
idx
].
Œy_em¶aû
(
obj_id
);

37 
	gsucûss
 = 
çl£
;

38 ià(!
	g™”
->
	g£cÚd
.
	gcÚd
) {

39 
	g™”
->
	g£cÚd
.
	gcÚd
 = 
¡d
::
unique_±r
<
¹
::
CÚdV¬
>(
Ãw
„t::CondVar());

41 
	g™”
->
	g£cÚd
.
	gcÚd
->
Wa™
(&
¥šs_
[
idx
]);

43  
	gsucûss
;

46 
	gObjLock”
::
»move
(
ušt64_t
 
obj_id
) {

47 autØ
idx
 = 
hash_func
(
obj_id
);

48 
	g¥šs_
[
idx
].
Lock
();

49 autØ
	g™”
 = 
m­s_
[
idx
].
fšd
(
obj_id
);

50 
as£¹
(
™”
 !ğ
m­s_
[
idx
].
’d
());

51 ià(
	g™”
->
	g£cÚd
.
	gcÚd
) {

52 
	g™”
->
	g£cÚd
.
	gcÚd
->
SigÇlAÎ
();

54 
	gm­s_
[
idx
].
”a£
(
obj_id
);

55 
	g¥šs_
[
idx
].
UÆock
();

	@src/pointer.cpp

1 
	~"poš‹r.hµ
"

2 
	~"d”ef_scİe.hµ
"

3 
	~"h–³rs.hµ
"

4 
	~"mªag”.hµ
"

6 
	~<c¡dšt
>

8 
Çme¥aû
 
	gçr_memÜy
 {

10 
	gF¬MemPŒM‘a
::
£t_´e£Á
(
ušt64_t
 
objeù_addr
) {

11 
¡©ic_as£¹
(
kSize
 =ğ(
ušt64_t
));

12 autØ
	gobj
 = 
Objeù
(
objeù_addr
);

13 
	gobj
.
£t_±r_addr
(
»š‹½»t_ÿ¡
<
ušt64_t
>(
this
));

14 
wmb
();

15 
ušt64_t
 
	gÃw_m‘ad©a
 =

16 ((
objeù_addr
 + 
Objeù
::
kH—d”Size
è<< 
kObjeùD©aAddrB™Pos
) |

17 ((
kDœtyCË¬
 | 
kHÙCË¬
è+ ((
kHÙTh»sh
 - 1è<< (8 * 
kHÙPos
)));

18 
	gÃw_m‘ad©a
 |ğ(
¡©ic_ÿ¡
<
ušt64_t
>(
is_sh¬ed
()è<< 
kSh¬edB™Pos
);

19 
äom_ušt64_t
(
Ãw_m‘ad©a
);

22 
	gF¬MemPŒM‘a
::
mutÜ_cİy
(
ušt64_t
 
Ãw_loÿl_objeù_addr
) {

23 
cÚ¡ex´
‡utØ
obj_d©a_addr_mask
 = (1ULL << 
kObjeùD©aAddrB™Pos
) - 1;

25 
cÚ¡ex´
‡utØ
	gevacu©iÚ_mask
 = (~(1ULL << (8 * 
kEvacu©iÚPos
)));

26 
cÚ¡ex´
‡utØ
	gmask
 = (
obj_d©a_addr_mask
 & 
evacu©iÚ_mask
);

27 autØ
	gmasked_Şd_m‘a
 = (
to_ušt64_t
(è& 
mask
);

28 
ušt64_t
 
	gÃw_m‘ad©a
 =

29 (
masked_Şd_m‘a
 | ((
Ãw_loÿl_objeù_addr
 + 
Objeù
::
kH—d”Size
)

30 << 
kObjeùD©aAddrB™Pos
));

31 
	gÃw_m‘ad©a
 |ğ(
¡©ic_ÿ¡
<
ušt64_t
>(
is_sh¬ed
()è<< 
kSh¬edB™Pos
);

32 
äom_ušt64_t
(
Ãw_m‘ad©a
);

35 
	gF¬MemPŒM‘a
::
gc_cİy
(
ušt64_t
 
Ãw_loÿl_objeù_addr
) {

36 
ušt64_t
 
Şd_m‘ad©a
 = 
to_ušt64_t
();

37 
as£¹
((
Şd_m‘ad©a
 & 
kP»£ÁCË¬
) == 0);

38 autØ
	gÃw_loÿl_objeù_d©a_addr
 = 
Ãw_loÿl_objeù_addr
 + 
Objeù
::
kH—d”Size
;

39 autØ
	gÃw_m‘ad©a
 = (
Ãw_loÿl_objeù_d©a_addr
 << 
kObjeùD©aAddrB™Pos
) |

40 (
kHÙCË¬
 + ((
kHÙTh»sh
 - 1è<< (8 * 
kHÙPos
))) |

41 (
Şd_m‘ad©a
 & (0xFF << (8 * 
kP»£ÁPos
)));

42 
	gÃw_m‘ad©a
 |ğ(
¡©ic_ÿ¡
<
ušt64_t
>(
is_sh¬ed
()è<< 
kSh¬edB™Pos
);

43 
äom_ušt64_t
(
Ãw_m‘ad©a
);

46 
	gF¬MemPŒM‘a
::
gc_wb
(
ušt8_t
 
ds_id
, 
ušt16_t
 
objeù_size
,

47 
ušt64_t
 
obj_id
) {

48 
as£¹
(
obj_id
 < (1ULL << 
kObjeùIDB™Size
));

49 autØ
	gÃw_m‘ad©a
 =

50 (
obj_id
 << 
kObjeùIDB™Pos
) |

51 (
¡©ic_ÿ¡
<
ušt64_t
>(
objeù_size
è<< 
kObjeùSizeB™Pos
) |

52 
kP»£ÁCË¬
 | 
ds_id
;

53 
	gÃw_m‘ad©a
 |ğ(
¡©ic_ÿ¡
<
ušt64_t
>(
is_sh¬ed
()è<< 
kSh¬edB™Pos
);

54 
äom_ušt64_t
(
Ãw_m‘ad©a
);

57 
	gG’”icF¬MemPŒ
::
sw­_š
(
boŞ
 
Á
) {

58 
F¬MemMªag”FaùÜy
::
g‘
()->
sw­_š
(
Á
, 
this
);

61 
boŞ
 
	gG’”icF¬MemPŒ
::
mutÜ_mig¿‹_objeù
() {

62 autØ*
mªag”
 = 
F¬MemMªag”FaùÜy
::
g‘
();

64 autØ
	gobjeù
 = 
m‘a
().
objeù
();

65 
rmb
();

66 ià(
uÆik–y
(!
m‘a
().
is_´e£Á
())) {

67  
	gçl£
;

70 autØ
	gobj_id_Ën
 = 
objeù
.
g‘_obj_id_Ën
();

71 autØ*
	gobj_id
 = 
objeù
.
g‘_obj_id
();

72 
	gF¬MemMªag”
::
lock_objeù
(
obj_id_Ën
, 
obj_id
);

73 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
(

74 [&](è{ 
F¬MemMªag”
::
uÆock_objeù
(
obj_id_Ën
, 
obj_id
); });

76 ià(
uÆik–y
(!
m‘a
().
is_´e£Á
(è|| !m‘a().
is_evacu©iÚ
())) {

77  
	gçl£
;

80 
boŞ
 
	gÁ
 = 
m‘a
().
is_Á
();

81 autØ
	gobjeù_size
 = 
objeù
.
size
();

83 autØ
	gİtiÚ®_Ãw_loÿl_objeù_addr
 =

84 
mªag”
->
®loÿ‹_loÿl_objeù_nb
(
Á
, 
objeù_size
);

85 ià(!
	gİtiÚ®_Ãw_loÿl_objeù_addr
) {

86  
	gçl£
;

88 autØ
	gÃw_loÿl_objeù_addr
 = *
İtiÚ®_Ãw_loÿl_objeù_addr
;

89 ià×utØ
	gcİy_nÙif›r
 = 
mªag”
->
cİy_nÙif›rs_
[
objeù
.
g‘_ds_id
()]) {

90 
memıy
(
»š‹½»t_ÿ¡
<*>(
Ãw_loÿl_objeù_addr
),

91 
»š‹½»t_ÿ¡
<*>(
objeù
.
g‘_addr
()), 
Objeù
::
kH—d”Size
);

92 autØ
	gde¡_objeù
 = 
Objeù
(
Ãw_loÿl_objeù_addr
);

93 
	gde¡_objeù
.
£t_obj_id
(
objeù
.
g‘_obj_id
(), objeù.
g‘_obj_id_Ën
());

94 
cİy_nÙif›r
(
Objeù
(
Ãw_loÿl_objeù_addr
), 
objeù
);

96 
memıy
(
»š‹½»t_ÿ¡
<*>(
Ãw_loÿl_objeù_addr
),

97 
»š‹½»t_ÿ¡
<*>(
objeù
.
g‘_addr
()), 
objeù_size
);

99 
	gRegiÚ
::
©omic_šc_»f_út
(
Ãw_loÿl_objeù_addr
, -1);

101 ià(!
m‘a
().
is_sh¬ed
()) {

102 
m‘a
().
mutÜ_cİy
(
Ãw_loÿl_objeù_addr
);

104 
	g»š‹½»t_ÿ¡
<
	gG’”icSh¬edPŒ
 *>(
	gthis
)->
Œav”£
(

105 [=](
G’”icSh¬edPŒ
 *
±r
) {

106 
±r
->
m‘a
().
mutÜ_cİy
(
Ãw_loÿl_objeù_addr
);

109  
	gŒue
;

112 
	gG’”icF¬MemPŒ
::
_æush
(
boŞ
 
obj_locked
) {

113 
»¡¬t
:

114 
F¬MemPŒM‘a
 
m‘a_¢­shÙ
 = 
m‘a
();

115 ià(
uÆik–y
(
m‘a_¢­shÙ
.
is_´e£Á
(è&& m‘a_¢­shÙ.
is_dœty
())) {

116 autØ
	gobj_id_Ën
 = (
ušt64_t
);

117 autØ
	gobj
 = 
m‘a_¢­shÙ
.
objeù
();

118 autØ
	gobj_id_±r
 = 
obj
.
g‘_obj_id
();

120 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&]() {

121 ià(!
obj_locked
) {

122 
F¬MemMªag”
::
uÆock_objeù
(
obj_id_Ën
, 
obj_id_±r
);

126 ià(!
	gobj_locked
) {

127 
	gF¬MemMªag”
::
lock_objeù
(
obj_id_Ën
, 
obj_id_±r
);

128 ià(
uÆik–y
(
m‘a
(è!ğ
m‘a_¢­shÙ
)) {

129 
»¡¬t
;

133 
	gF¬MemMªag”FaùÜy
::
g‘
()->
g‘_deviû
()->
wr™e_objeù
(

134 
obj
.
g‘_ds_id
(), 
obj_id_Ën
, 
obj_id_±r
, obj.
g‘_d©a_Ën
(),

135 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
obj
.
g‘_d©a_addr
()));

136 ià(!
	gm‘a_¢­shÙ
.
is_sh¬ed
()) {

137 
m‘a
().
ş—r_dœty
();

139 
	g»š‹½»t_ÿ¡
<
	gG’”icSh¬edPŒ
 *>(
	gthis
)->
Œav”£
(

140 [=](
G’”icF¬MemPŒ
 *
±r
è{…Œ->
m‘a
().
ş—r_dœty
(); });

145 
	gG’”icF¬MemPŒ
::
move
(
G’”icF¬MemPŒ
 &
Ùh”
, 
ušt64_t
 
»£t_v®ue
) {

146 
	g»Œy
:

147 
ušt8_t
 
Ùh”_obj_id_Ën
 = (
ušt64_t
);

148 cÚ¡ 
ušt8_t
 *
	gÙh”_obj_id_±r
;

149 
ušt64_t
 
	gÙh”_obj_id
;

150 
F¬MemPŒM‘a
 
	gÙh”_m‘a_¢­shÙ
 = 
Ùh”
.
m‘a
();

151 
boŞ
 
	gÙh”_´e£Á
 = 
Ùh”_m‘a_¢­shÙ
.
is_´e£Á
();

152 
Objeù
 
	gÙh”_objeù
;

153 ià(
	gÙh”_´e£Á
) {

154 
	gÙh”_objeù
 = 
Ùh”_m‘a_¢­shÙ
.
objeù
();

155 
	gÙh”_obj_id_±r
 = 
Ùh”_objeù
.
g‘_obj_id
();

157 
	gÙh”_obj_id
 = 
Ùh”_m‘a_¢­shÙ
.
g‘_objeù_id
();

158 
	gÙh”_obj_id_±r
 = 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(&
Ùh”_obj_id
);

160 
	gF¬MemMªag”
::
lock_objeù
(
Ùh”_obj_id_Ën
, 
Ùh”_obj_id_±r
);

161 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&]() {

162 
F¬MemMªag”
::
uÆock_objeù
(
Ùh”_obj_id_Ën
, 
Ùh”_obj_id_±r
);

165 ià(
uÆik–y
(
Ùh”
.
m‘a
(è!ğ
Ùh”_m‘a_¢­shÙ
)) {

166 
»Œy
;

169 
m‘a
(èğ
Ùh”
.meta();

170 
wmb
();

171 ià(
	gÙh”_´e£Á
) {

172 ià(
m‘a
().
is_sh¬ed
()) {

173 autØ*
	gÙh”_±r
 = 
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(&
Ùh”
);

174 autØ*
	g´ev
 = 
Ùh”_±r
;

175 
	gÙh”_±r
->
Œav”£
([&](
G’”icSh¬edPŒ
 *
p
è{ 
´ev
 =…; });

176 autØ*
	gcur
 = 
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(
this
);

177 
	g´ev
->
£t_Ãxt_±r
(
cur
);

178 autØ
	gÃxt
 = (
´ev
 !ğ
Ùh”_±r
è? oth”_±r->
Ãxt_±r_
 : 
this
;

179 
	gcur
->
£t_Ãxt_±r
(
»š‹½»t_ÿ¡
<
G’”icSh¬edPŒ
 *>(
Ãxt
));

181 
	gÙh”_objeù
.
£t_±r_addr
(
»š‹½»t_ÿ¡
<
ušt64_t
>(
this
));

183 
__butš_memıy
(
»š‹½»t_ÿ¡
<
ušt64_t
 *>(&
Ùh”
.
m‘a
()), &
»£t_v®ue
,

184 (
»£t_v®ue
));

187 
	gG’”icUniquePŒ
::
_ä“
() {

188 
as£¹
(!
m‘a
().
is_nuÎ
());

189 
as£¹
(
m‘a
().
is_´e£Á
());

191 autØ
	gobj
 = 
objeù
();

192 autØ
	gobj_id_Ën
 = 
obj
.
g‘_obj_id_Ën
();

193 autØ*
	gobj_id
 = 
obj
.
g‘_obj_id
();

194 
	gF¬MemMªag”
::
lock_objeù
(
obj_id_Ën
, 
obj_id
);

195 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
(

196 [&](è{ 
F¬MemMªag”
::
uÆock_objeù
(
obj_id_Ën
, 
obj_id
); });

198 
objeù
().
ä“
();

199 
m‘a
().
nuÎify
();

202 
	gG’”icUniquePŒ
::
ä“
(
boŞ
 
¿û
) {

203 ià(!
m‘a
().
is_´e£Á
(è&& !
¿û
) {

206 autØ
	gpš_gu¬d
 = 
pš
< 
çl£
>();

207 
_ä“
();

210 
	gG’”icUniquePŒ
::
evacu©e
() {

211 
»¡¬t
:

212 
F¬MemPŒM‘a
 
m‘a_¢­shÙ
 = 
m‘a
();

213 ià(
	gm‘a_¢­shÙ
.
is_´e£Á
()) {

214 autØ
	gobj
 = 
m‘a_¢­shÙ
.
objeù
();

215 autØ
	gobj_id_Ën
 = 
obj
.
g‘_obj_id_Ën
();

216 autØ*
	gobj_id
 = 
obj
.
g‘_obj_id
();

218 
	gF¬MemMªag”
::
lock_objeù
(
obj_id_Ën
, 
obj_id
);

219 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
(

220 [&](è{ 
F¬MemMªag”
::
uÆock_objeù
(
obj_id_Ën
, 
obj_id
); });

222 ià(
uÆik–y
(
m‘a
(è!ğ
m‘a_¢­shÙ
)) {

223 
»¡¬t
;

225 
_æush
Ğ
Œue
);

226 autØ
	gds_id
 = 
obj
.
g‘_ds_id
();

227 autØ
	gobj_size
 = 
obj
.
size
();

228 
m‘a
().
gc_wb
(
ds_id
, 
obj_size
, *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
obj_id
));

229 
	gobj
.
ä“
();

233 
	gG’”icSh¬edPŒ
::
_ä“
() {

234 
as£¹
(!
m‘a
().
is_nuÎ
());

235 
as£¹
(
m‘a
().
is_´e£Á
());

237 autØ
	gobj
 = 
objeù
();

238 autØ
	gobj_id_Ën
 = 
obj
.
g‘_obj_id_Ën
();

239 autØ*
	gobj_id
 = 
obj
.
g‘_obj_id
();

240 
	gF¬MemMªag”
::
lock_objeù
(
obj_id_Ën
, 
obj_id
);

241 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
(

242 [&](è{ 
F¬MemMªag”
::
uÆock_objeù
(
obj_id_Ën
, 
obj_id
); });

243 ià(
	gÃxt_±r_
 =ğ
this
) {

244 
objeù
().
ä“
();

246 autØ*
	g±r
 = 
Ãxt_±r_
;

247 
	g±r
->
	gÃxt_±r_
 !ğ
this
) {

248 
±r
 =…Œ->
Ãxt_±r_
;

250 
	g±r
->
	gÃxt_±r_
 = 
Ãxt_±r_
;

251 ià(
uÆik–y
(
objeù
().
g‘_±r_addr
(è=ğ
»š‹½»t_ÿ¡
<
ušt64_t
>(
this
))) {

252 
objeù
().
£t_±r_addr
(
»š‹½»t_ÿ¡
<
ušt64_t
>(
Ãxt_±r_
));

255 
m‘a
().
nuÎify
();

258 
	gG’”icSh¬edPŒ
 &G’”icSh¬edPŒ::
İ”©Ü
=(cÚ¡ 
G’”icSh¬edPŒ
 &
Ùh”
) {

259 autØ
pš_gu¬d
 = 
pš
< 
Œue
>();

260 
m‘a
(èğ
Ùh”
.meta();

261 
	gÃxt_±r_
 = 
Ùh”
.
Ãxt_±r_
;

262 
	gcÚ¡_ÿ¡
<
	gG’”icSh¬edPŒ
 *>(&
	gÙh”
)->
	gÃxt_±r_
 = 
this
;

263  *
	gthis
;

	@src/region.cpp

1 
	~"»giÚ.hµ
"

2 
	~"h–³rs.hµ
"

3 
	~"poš‹r.hµ
"

4 
	~"¡©s.hµ
"

6 
Çme¥aû
 
	gçr_memÜy
 {

8 
	gRegiÚ
::
RegiÚ
(
ušt32_t
 
idx
, 
boŞ
 
is_loÿl
, boŞ 
Á
, 
ušt8_t
 *
buf_±r
)

9 : 
»giÚ_idx_
(
idx
) {

10 ià(
is_loÿl
) {

11 
buf_±r_
 = 
buf_±r
;

12 
mem£t
(
buf_±r
, 0, 
kSize
);

13 ià(
	gÁ
) {

14 
£t_Á
();

19 
	gRegiÚ
 &RegiÚ::
İ”©Ü
=(
RegiÚ
 &&
Ùh”
) {

20 
__butš_memıy
(
this
, &
Ùh”
, (
RegiÚ
));

21 
	gÙh”
.
šv®id©e
();

22  *
	gthis
;

25 
	g¡d
::
İtiÚ®
<
ušt64_t
> 
RegiÚ
::
®loÿ‹_objeù
(
ušt16_t
 
objeù_size
) {

27 
objeù_size
 = 
h–³rs
::
®ign_to
(objeù_size, (
F¬MemPŒM‘a
));

29 ià(!
is_šv®id
()) {

30 
ušt32_t
 
	g¡¬t
 = 
fœ¡_ä“_by‹_idx_
;

31 
ušt32_t
 
	g’d
 = 
¡¬t
 + 
objeù_size
;

33 ià(
uÆik–y
(
’d
 > 
kSize
)) {

34 
	gç
;

36 
upd©e_bound¬›s
Ğ
çl£
);

37 
	gfœ¡_ä“_by‹_idx_
 = 
’d
;

39 
ušt64_t
 
	gobjeù_addr
;

40 ià(
is_loÿl
()) {

41 
	gRegiÚ
::
©omic_šc_»f_út
(1);

42 
	gobjeù_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(
buf_±r_
è+ 
¡¬t
;

44 
	gobjeù_addr
 = 
»giÚ_idx_
 * 
kSize
 + 
¡¬t
;

46  
	gobjeù_addr
;

47 
	gç
:

48 ià(
is_loÿl
() &&

49 
fœ¡_ä“_by‹_idx_
 + 
Objeù
::
kH—d”Size
 < 
RegiÚ
::
kSize
) {

51 autØ
obj
 =

52 
Objeù
(
»š‹½»t_ÿ¡
<
ušt64_t
>(
buf_±r_
è+ 
fœ¡_ä“_by‹_idx_
);

53 
	gobj
.
£t_d©a_Ën
(
kSize
 - 
fœ¡_ä“_by‹_idx_
);

54 
	gobj
.
ä“
();

56 
upd©e_bound¬›s
Ğ
Œue
);

58  
	g¡d
::
nuÎİt
;

	@src/server.cpp

2 
	~<ba£/as£¹.h
>

3 
	~<ba£/comp”.h
>

4 
	~<ba£/lim™s.h
>

5 
	~<ba£/¡ddef.h
>

8 
	~"£rv”.hµ
"

9 
	~"£rv”_d©aäame_veùÜ.hµ
"

10 
	~"£rv”_hashbË.hµ
"

11 
	~"£rv”_±r.hµ
"

13 
Çme¥aû
 
çr_memÜy
 {

15 
¡d
::
unique_±r
<
S”v”DS
> 
S”v”
::
£rv”_ds_±rs_
[
kMaxNumDSIDs
];

17 
S”v”
::Server() {

18 
»gi¡”_ds
(
kVªÏPŒDSTy³
, 
Ãw
 
S”v”PŒFaùÜy
());

19 
»gi¡”_ds
(
kHashTabËDSTy³
, 
Ãw
 
S”v”HashTabËFaùÜy
());

20 
»gi¡”_ds
(
kD©aF¿meVeùÜDSTy³
, 
Ãw
 
S”v”D©aF¿meVeùÜFaùÜy
());

23 
S”v”
::
»gi¡”_ds
(
ušt8_t
 
ds_ty³
, 
S”v”DSFaùÜy
 *
çùÜy
) {

24 
»gi¡”ed_£rv”_ds_çùÜys_
[
ds_ty³
] = 
çùÜy
;

27 
S”v”
::
cÚ¡ruù
(
ušt8_t
 
ds_ty³
, ušt8_ˆ
ds_id
, ušt8_ˆ
·¿m_Ën
,

28 
ušt8_t
 *
·¿ms
) {

29 autØ
çùÜy
 = 
»gi¡”ed_£rv”_ds_çùÜys_
[
ds_ty³
];

30 
BUG_ON
(
£rv”_ds_±rs_
[
ds_id
]);

31 
£rv”_ds_±rs_
[
ds_id
].
»£t
(
çùÜy
->
bud
(
·¿m_Ën
, 
·¿ms
));

34 
S”v”
::
de¡ruù
(
ušt8_t
 
ds_id
) {

35 
BUG_ON
(!
£rv”_ds_±rs_
[
ds_id
]);

36 
£rv”_ds_±rs_
[
ds_id
].
»£t
();

39 
S”v”
::
»ad_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

40 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 *
d©a_Ën
,

41 
ušt8_t
 *
d©a_buf
) {

42 autØ
ds_±r
 = 
£rv”_ds_±rs_
[
ds_id
].
g‘
();

43 ià(!
ds_±r
) {

44 
ds_±r
 = 
£rv”_ds_±rs_
[
kVªÏPŒDSID
].
g‘
();

46 
ds_±r
->
»ad_objeù
(
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
);

49 
S”v”
::
wr™e_objeù
(
ušt8_t
 
ds_id
, ušt8_ˆ
obj_id_Ën
,

50 cÚ¡ 
ušt8_t
 *
obj_id
, 
ušt16_t
 
d©a_Ën
,

51 cÚ¡ 
ušt8_t
 *
d©a_buf
) {

52 autØ
ds_±r
 = 
£rv”_ds_±rs_
[
ds_id
].
g‘
();

53 ià(!
ds_±r
) {

54 
ds_±r
 = 
£rv”_ds_±rs_
[
kVªÏPŒDSID
].
g‘
();

56 
ds_±r
->
wr™e_objeù
(
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
);

59 
boŞ
 
S”v”
::
»move_objeù
(
ušt64_t
 
ds_id
, 
ušt8_t
 
obj_id_Ën
,

60 cÚ¡ 
ušt8_t
 *
obj_id
) {

61 autØ
ds_±r
 = 
£rv”_ds_±rs_
[
ds_id
].
g‘
();

62 ià(!
ds_±r
) {

63 
ds_±r
 = 
£rv”_ds_±rs_
[
kVªÏPŒDSID
].
g‘
();

65  
ds_±r
->
»move_objeù
(
obj_id_Ën
, 
obj_id
);

68 
S”v”
::
compu‹
(
ušt8_t
 
ds_id
, ušt8_ˆ
İcode
, 
ušt16_t
 
šput_Ën
,

69 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

70 
ušt8_t
 *
ouut_buf
) {

71 autØ
ds_±r
 = 
£rv”_ds_±rs_
[
ds_id
].
g‘
();

72  
ds_±r
->
compu‹
(
İcode
, 
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

75 
S”v”DS
 *
S”v”
::
g‘_£rv”_ds
(
ušt8_t
 
ds_id
) {

76  
£rv”_ds_±rs_
[
ds_id
].
g‘
();

	@src/server_dataframe_vector.cpp

2 
	~<ba£/as£¹.h
>

3 
	~<ba£/comp”.h
>

4 
	~<ba£/¡ddef.h
>

7 
	~"../D©aF¿me/AIFM/šşude/sim¶e_time.hµ
"

8 
	~"agg»g©Ü.hµ
"

9 
	~"d©aäame_veùÜ.hµ
"

10 
	~"š‹º®/d©aäame_ty³s.hµ
"

11 
	~"£rv”_d©aäame_veùÜ.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<c¡ršg
>

15 
	~<unÜd”ed_£t
>

17 
Çme¥aû
 
çr_memÜy
 {

19 
‹m¶©e
 <
ty³Çme
 
T
> 
S”v”D©aF¿meVeùÜ
<T>::ServerDataFrameVector() {}

21 
‹m¶©e
 <
ty³Çme
 
T
> 
S”v”D©aF¿meVeùÜ
<T>::~ServerDataFrameVector() {}

23 
‹m¶©e
 <
ty³Çme
 
T
>

24 
S”v”D©aF¿meVeùÜ
<
T
>::
»ad_objeù
(
ušt8_t
 
obj_id_Ën
,

25 cÚ¡ 
ušt8_t
 *
obj_id
,

26 
ušt16_t
 *
d©a_Ën
,

27 
ušt8_t
 *
d©a_buf
) {

28 autØ
»ad”_lock
 = 
lock_
.
g‘_»ad”_lock
();

29 
ušt64_t
 
šdex
;

30 
as£¹
(
obj_id_Ën
 =ğ(
šdex
));

31 
šdex
 = *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
obj_id
);

32 autØ
chunk_size
 = 
D©aF¿meVeùÜ
<
T
>::
kR—lChunkSize
;

33 *
d©a_Ën
 = 
chunk_size
;

34 
__butš_memıy
(

35 
d©a_buf
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
vec_
.
d©a
()è+ 
šdex
 * 
chunk_size
,

36 
¡d
::
mš
(
¡©ic_ÿ¡
<¡d::
size_t
>(
chunk_size
),

37 
vec_
.
ÿ·c™y
(è* (
T
è- 
šdex
 * 
chunk_size
));

40 
‹m¶©e
 <
ty³Çme
 
T
>

41 
S”v”D©aF¿meVeùÜ
<
T
>::
wr™e_objeù
(
ušt8_t
 
obj_id_Ën
,

42 cÚ¡ 
ušt8_t
 *
obj_id
,

43 
ušt16_t
 
d©a_Ën
,

44 cÚ¡ 
ušt8_t
 *
d©a_buf
) {

45 autØ
»ad”_lock
 = 
lock_
.
g‘_»ad”_lock
();

46 
ušt64_t
 
šdex
;

47 
as£¹
(
obj_id_Ën
 =ğ(
šdex
));

48 
šdex
 = *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
obj_id
);

49 autØ
chunk_size
 = 
D©aF¿meVeùÜ
<
T
>::
kR—lChunkSize
;

50 
as£¹
(
d©a_Ën
 =ğ
chunk_size
);

51 
__butš_memıy
(

52 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
vec_
.
d©a
()è+ 
šdex
 * 
chunk_size
, 
d©a_buf
,

53 
¡d
::
mš
(
¡©ic_ÿ¡
<¡d::
size_t
>(
chunk_size
),

54 
vec_
.
ÿ·c™y
(è* (
T
è- 
šdex
 * 
chunk_size
));

57 
‹m¶©e
 <
ty³Çme
 
T
>

58 
boŞ
 
S”v”D©aF¿meVeùÜ
<
T
>::
»move_objeù
(
ušt8_t
 
obj_id_Ën
,

59 cÚ¡ 
ušt8_t
 *
obj_id
) {

61 
BUG
();

64 
‹m¶©e
 <
ty³Çme
 
T
>

65 
S”v”D©aF¿meVeùÜ
<
T
>::
compu‹_»£rve
(
ušt16_t
 
šput_Ën
,

66 cÚ¡ 
ušt8_t
 *
šput_buf
,

67 
ušt16_t
 *
ouut_Ën
,

68 
ušt8_t
 *
ouut_buf
) {

69 autØ
wr™”_lock_Å
 = 
lock_
.
g‘_wr™”_lock_Å
();

70 
ušt64_t
 
Ãw_ÿ·c™y
;

71 
as£¹
(
šput_Ën
 =ğ(
Ãw_ÿ·c™y
));

72 
Ãw_ÿ·c™y
 = *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
šput_buf
);

73 
as£¹
(
Ãw_ÿ·c™y
 > 
vec_
.
ÿ·c™y
());

74 
vec_
.
»size
(
Ãw_ÿ·c™y
);

75 
vec_
.
»size
(vec_.
ÿ·c™y
());

76 *
ouut_Ën
 = (
ušt64_t
);

77 *(
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
)èğ
vec_
.
ÿ·c™y
();

80 
‹m¶©e
 <
ty³Çme
 
T
>

81 
S”v”D©aF¿meVeùÜ
<
T
>::
compu‹_unique
(
ušt16_t
 
šput_Ën
,

82 cÚ¡ 
ušt8_t
 *
šput_buf
,

83 
ušt16_t
 *
ouut_Ën
,

84 
ušt8_t
 *
ouut_buf
) {

85 
ušt8_t
 
ds_id
;

86 
ušt64_t
 
loÿl_vec_size
;

87 
as£¹
(
šput_Ën
 =ğ(
ds_id
è+ (
loÿl_vec_size
));

88 
ds_id
 = *
»š‹½»t_ÿ¡
<cÚ¡ 
deşty³
(ds_idè*>(
šput_buf
);

89 
loÿl_vec_size
 = *
»š‹½»t_ÿ¡
<cÚ¡ 
deşty³
(local_vec_size) *>(

90 
šput_buf
 + (
ds_id
));

91 autØ*
unique_d©aäame_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<
T
> *>(

92 
S”v”
::
g‘_£rv”_ds
(
ds_id
));

93 autØ&
unique_¡l_vec
 = 
unique_d©aäame_vec
->
vec_
;

94 
_compu‹_unique
(
loÿl_vec_size
, 
unique_¡l_vec
);

95 *
ouut_Ën
 = 2 * (
ušt64_t
);

96 *
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
èğ
unique_¡l_vec
.
size
();

97 *(
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
è+ 1èğ
unique_¡l_vec
.
ÿ·c™y
();

100 
‹m¶©e
 <
ty³Çme
 
T
>

101 
‹m¶©e
 <
ty³Çme
 
U
>

102 
S”v”D©aF¿meVeùÜ
<
T
>::
_compu‹_unique
(
ušt64_t
 
vec_size
,

103 
¡d
::
veùÜ
<
U
> &
unique_vec
) {

104 autØ
hash_func
 = [](
¡d
::
»ã»nû_w¿µ”
<cÚ¡ 
T
> 
v
è-> std::
size_t
 {

105  (
¡d
::
hash
<
T
>{}(
v
.
g‘
()));

107 autØ
equ®_func
 = [](
¡d
::
»ã»nû_w¿µ”
<cÚ¡ 
T
> 
lhs
,

108 
¡d
::
»ã»nû_w¿µ”
<cÚ¡ 
T
> 
rhs
è-> 
boŞ
 {

109  (
lhs
.
g‘
(è=ğ
rhs
.get());

111 
¡d
::
unÜd”ed_£t
<
ty³Çme
 std::
»ã»nû_w¿µ”
<
T
>::
ty³
,

112 
deşty³
(
hash_func
), deşty³(
equ®_func
)>

113 
bË
(
vec_size
, 
hash_func
, 
equ®_func
);

115 
unique_vec
.
»£rve
(
vec_size
);

116 
ušt64_t
 
i
 = 0; i < 
vec_size
; i++) {

117 autØ
c™”
 = 
vec_
[
i
];

118 cÚ¡‡utØ
š£¹_»t
 = 
bË
.
em¶aû
(
¡d
::
»f
(
c™”
));

120 ià(
š£¹_»t
.
£cÚd
)

121 
unique_vec
.
push_back
(
c™”
);

125 
‹m¶©e
 <
ty³Çme
 
T
>

126 
S”v”D©aF¿meVeùÜ
<
T
>::
compu‹_cİy_d©a_by_idx
(

127 
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
, ušt16_ˆ*
ouut_Ën
,

128 
ušt8_t
 *
ouut_buf
) {

129 
ušt8_t
 
»t_ds_id
 = 
šput_buf
[0];

130 
ušt8_t
 
idx_vec_ds_id
 = 
šput_buf
[1];

131 
ušt64_t
 
idx_vec_size
 = *
»š‹½»t_ÿ¡
<cÚ¡ ušt64_ˆ*>(
šput_buf
 + 2);

132 autØ&
»t_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<
T
> *>(

133 
S”v”
::
g‘_£rv”_ds
(
»t_ds_id
))

134 ->
vec_
;

135 autØ&
idx_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<> *>(

136 
S”v”
::
g‘_£rv”_ds
(
idx_vec_ds_id
))

137 ->
vec_
;

138 
»t_vec
.
»£rve
(
idx_vec_size
);

139 
ušt64_t
 
i
 = 0; i < 
idx_vec_size
; i++) {

140 
»t_vec
.
push_back
(
vec_
[
idx_vec
[
i
]]);

142 *
ouut_Ën
 = (
ušt64_t
);

143 *
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
èğ
»t_vec
.
ÿ·c™y
();

146 
‹m¶©e
 <
ty³Çme
 
T
>

147 
S”v”D©aF¿meVeùÜ
<
T
>::
compu‹_shufæe_d©a_by_idx
(

148 
ušt16_t
 
šput_Ën
, cÚ¡ 
ušt8_t
 *
šput_buf
, ušt16_ˆ*
ouut_Ën
,

149 
ušt8_t
 *
ouut_buf
) {

150 
ušt8_t
 
»t_ds_id
 = 
šput_buf
[0];

151 
ušt8_t
 
idx_vec_ds_id
 = 
šput_buf
[1];

152 
ušt64_t
 
idx_vec_size
 = *
»š‹½»t_ÿ¡
<cÚ¡ ušt64_ˆ*>(
šput_buf
 + 2);

153 autØ&
»t_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<
T
> *>(

154 
S”v”
::
g‘_£rv”_ds
(
»t_ds_id
))

155 ->
vec_
;

156 autØ&
idx_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<> *>(

157 
S”v”
::
g‘_£rv”_ds
(
idx_vec_ds_id
))

158 ->
vec_
;

159 
»t_vec
.
»£rve
(
idx_vec_size
);

160 
ušt64_t
 
i
 = 0; i < 
idx_vec_size
; i++) {

161 
»t_vec
[
idx_vec
[
i
]] = 
vec_
[i];

163 *
ouut_Ën
 = (
ušt64_t
);

164 *
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
èğ
»t_vec
.
ÿ·c™y
();

167 
‹m¶©e
 <
ty³Çme
 
T
>

168 
S”v”D©aF¿meVeùÜ
<
T
>::
compu‹_assign
(
ušt16_t
 
šput_Ën
,

169 cÚ¡ 
ušt8_t
 *
šput_buf
,

170 
ušt16_t
 *
ouut_Ën
,

171 
ušt8_t
 *
ouut_buf
) {

172 
ušt8_t
 
äom_vec_ds_id
 = 
šput_buf
[0];

173 
ušt64_t
 
äom_vec_begš_idx
 =

174 *
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
šput_buf
 + (
äom_vec_ds_id
));

175 
ušt64_t
 
äom_vec_’d_idx
 = *
»š‹½»t_ÿ¡
<const uint64_t *>(

176 
šput_buf
 + (
äom_vec_ds_id
è+ (
äom_vec_begš_idx
));

177 autØ
size
 = 
äom_vec_’d_idx
 - 
äom_vec_begš_idx
;

178 autØ&
äom_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<
T
> *>(

179 
S”v”
::
g‘_£rv”_ds
(
äom_vec_ds_id
))

180 ->
vec_
;

181 
vec_
.
»size
(
size
);

182 
memıy
(
vec_
.
d©a
(), 
äom_vec
.d©a(è+ 
äom_vec_begš_idx
, 
size
 * (
T
));

183 *
ouut_Ën
 = (
ušt64_t
);

184 *
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
èğ
vec_
.
ÿ·c™y
();

187 
‹m¶©e
 <
ty³Çme
 
T
>

188 
S”v”D©aF¿meVeùÜ
<
T
>::
compu‹_agg»g©e
(
ušt8_t
 
İcode
,

189 
ušt16_t
 
šput_Ën
,

190 cÚ¡ 
ušt8_t
 *
šput_buf
,

191 
ušt16_t
 *
ouut_Ën
,

193 
ušt8_t
 *
ouut_buf
) {

194 
ušt8_t
 
»suÉ_ds
 = 
šput_buf
[0];

195 
ušt8_t
 
key_ds
 = 
šput_buf
[(
»suÉ_ds
)];

196 
ušt64_t
 
size
 = *
»š‹½»t_ÿ¡
<const uint64_t *>(

197 
šput_buf
 + (
»suÉ_ds
è+ (
key_ds
));

198 
ušt8_t
 
key_dt_id
 =

199 
šput_buf
[(
»suÉ_ds
è+ (
key_ds
è+ (
size
)];

200 
ušt64_t
 
»suÉ_size
, 
»suÉ_ÿ·c™y
;

201 
key_dt_id
) {

202 
D©aF¿meTy³ID
::
Ch¬
:

203 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

204 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

206 
D©aF¿meTy³ID
::
ShÜt
:

207 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

208 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

210 
D©aF¿meTy³ID
::
IÁ
:

211 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

212 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

214 
D©aF¿meTy³ID
::
UnsigÃdIÁ
:

215 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

216 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

218 
D©aF¿meTy³ID
::
LÚg
:

219 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

220 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

222 
D©aF¿meTy³ID
::
UnsigÃdLÚg
:

223 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

224 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

226 
D©aF¿meTy³ID
::
LÚgLÚg
:

227 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

228 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

230 
D©aF¿meTy³ID
::
UnsigÃdLÚgLÚg
:

231 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

232 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

234 
D©aF¿meTy³ID
::
Flßt
:

235 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

236 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

238 
D©aF¿meTy³ID
::
DoubË
:

239 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

240 
_compu‹_agg»g©e
<>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

242 
D©aF¿meTy³ID
::
Time
:

243 
¡d
::
t›
(
»suÉ_size
, 
»suÉ_ÿ·c™y
) =

244 
_compu‹_agg»g©e
<
Sim¶eTime
>(
İcode
, 
»suÉ_ds
, 
key_ds
, 
size
);

247 
BUG
();

249 *
ouut_Ën
 = 2 * (
ušt64_t
);

250 *
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
èğ
»suÉ_size
;

251 *(
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
ouut_buf
è+ 1èğ
»suÉ_ÿ·c™y
;

254 
‹m¶©e
 <
ty³Çme
 
T
>

255 
‹m¶©e
 <
ty³Çme
 
Key_t
>

256 
¡d
::
·œ
<
ušt64_t
, uint64_t>

257 
S”v”D©aF¿meVeùÜ
<
T
>::
_compu‹_agg»g©e
(
ušt8_t
 
İcode
, ušt8_ˆ
»suÉ_ds
,

258 
ušt8_t
 
key_ds
, 
ušt64_t
 
size
) {

259 autØ&
»suÉ_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<
T
> *>(

260 
S”v”
::
g‘_£rv”_ds
(
»suÉ_ds
))

261 ->
vec_
;

262 autØ&
key_vec
 = 
»š‹½»t_ÿ¡
<
S”v”D©aF¿meVeùÜ
<
Key_t
> *>(

263 
S”v”
::
g‘_£rv”_ds
(
key_ds
))

264 ->
vec_
;

265 
¡d
::
unique_±r
<
Agg»g©Ü
<
T
>> 
agg»g©Ü
(

266 
Agg»g©ÜFaùÜy
<
T
>::
bud
(
İcode
, 
çl£
, 
nuÎ±r
));

267 
D”efScİe
 *
scİe
 =

268 
nuÎ±r
;

269 
Key_t
 
Ï¡_key
 = 
key_vec
[0];

270 
ušt64_t
 
i
 = 0; i < 
size
; i++) {

271 autØ
cur_key
 = 
key_vec
[
i
];

272 ià(
Ï¡_key
 !ğ
cur_key
) {

273 
»suÉ_vec
.
push_back
(
agg»g©Ü
->
agg»g©e
());

274 
Ï¡_key
 = 
cur_key
;

276 
agg»g©Ü
->
add
(
scİe
, 
vec_
[
i
]);

278 
»suÉ_vec
.
push_back
(
agg»g©Ü
->
agg»g©e
());

279  
¡d
::
make_·œ
(
»suÉ_vec
.
size
(),„esuÉ_vec.
ÿ·c™y
());

282 
‹m¶©e
 <
ty³Çme
 
T
>

283 
S”v”D©aF¿meVeùÜ
<
T
>::
compu‹
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
,

284 cÚ¡ 
ušt8_t
 *
šput_buf
,

285 
ušt16_t
 *
ouut_Ën
,

286 
ušt8_t
 *
ouut_buf
) {

287 
İcode
) {

288 
G’”icD©aF¿meVeùÜ
::
OpCode
::
Re£rve
:

289 
compu‹_»£rve
(
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

291 
G’”icD©aF¿meVeùÜ
::
OpCode
::
Unique
:

292 
compu‹_unique
(
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

294 
G’”icD©aF¿meVeùÜ
::
OpCode
::
CİyD©aByIdx
:

295 
compu‹_cİy_d©a_by_idx
(
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

297 
G’”icD©aF¿meVeùÜ
::
OpCode
::
ShufæeD©aByIdx
:

298 
compu‹_shufæe_d©a_by_idx
(
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

300 
G’”icD©aF¿meVeùÜ
::
OpCode
::
Assign
:

301 
compu‹_assign
(
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

303 
G’”icD©aF¿meVeùÜ
::
OpCode
::
Agg»g©eMax
:

304 
G’”icD©aF¿meVeùÜ
::
OpCode
::
Agg»g©eMš
:

305 
G’”icD©aF¿meVeùÜ
::
OpCode
::
Agg»g©eMedŸn
:

306 
compu‹_agg»g©e
(
İcode
, 
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

309 
BUG
();

313 
S”v”DS
 *
S”v”D©aF¿meVeùÜFaùÜy
::
bud
(
ušt32_t
 
·¿m_Ën
,

314 
ušt8_t
 *
·¿ms
) {

315 
ušt8_t
 
dt_id
;

316 
BUG_ON
(
·¿m_Ën
 !ğ(
dt_id
));

317 
dt_id
 = *
·¿ms
;

319 
dt_id
) {

320 
D©aF¿meTy³ID
::
Ch¬
:

321  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

322 
D©aF¿meTy³ID
::
ShÜt
:

323  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

324 
D©aF¿meTy³ID
::
IÁ
:

325  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

326 
D©aF¿meTy³ID
::
UnsigÃdIÁ
:

327  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

328 
D©aF¿meTy³ID
::
LÚg
:

329  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

330 
D©aF¿meTy³ID
::
UnsigÃdLÚg
:

331  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

332 
D©aF¿meTy³ID
::
LÚgLÚg
:

333  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

334 
D©aF¿meTy³ID
::
UnsigÃdLÚgLÚg
:

335  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

336 
D©aF¿meTy³ID
::
Flßt
:

337  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

338 
D©aF¿meTy³ID
::
DoubË
:

339  
Ãw
 
S”v”D©aF¿meVeùÜ
<>();

340 
D©aF¿meTy³ID
::
Time
:

341  
Ãw
 
S”v”D©aF¿meVeùÜ
<
Sim¶eTime
>();

343 
BUG
();

	@src/server_hashtable.cpp

1 
	~"£rv”_hashbË.hµ
"

2 
	~"h–³rs.hµ
"

4 
	~<c¡ršg
>

6 
Çme¥aû
 
	gçr_memÜy
 {

8 
	gS”v”HashTabË
::
S”v”HashTabË
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
) {

9 autØ
	g»mÙe_num_’Œ›s_shiá
 = *
»š‹½»t_ÿ¡
<
ušt32_t
 *>(&
·¿ms
[0]);

10 autØ
	g»mÙe_d©a_size
 =

11 *
»š‹½»t_ÿ¡
<
ušt64_t
 *>(&
·¿ms
[(
»mÙe_num_’Œ›s_shiá
)]);

12 
	gloÿl_hİscÙch_
.
»£t
(
Ãw
 
LoÿlG’”icCÚcu¼’tHİscÙch
(

13 
»mÙe_num_’Œ›s_shiá
, 
»mÙe_d©a_size
));

16 
	gS”v”HashTabË
::~
S”v”HashTabË
() {}

18 
S”v”HashTabË
::
»ad_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

19 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
) {

20 #ifdeà
HASHTABLE_EXCLUSIVE


21 
	gloÿl_hİscÙch_
->
g‘
(
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
,

22  
Œue
);

24 
	gloÿl_hİscÙch_
->
g‘
(
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
,

25  
çl£
);

29 
	gS”v”HashTabË
::
wr™e_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

30 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
) {

31 
	gloÿl_hİscÙch_
->
put
(
obj_id_Ën
, 
obj_id
, 
d©a_Ën
, 
d©a_buf
);

34 
boŞ
 
	gS”v”HashTabË
::
»move_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
) {

35  
	gloÿl_hİscÙch_
->
»move
(
obj_id_Ën
, 
obj_id
);

38 
	gS”v”HashTabË
::
compu‹
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
,

39 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

40 
ušt8_t
 *
ouut_buf
) {

41 
BUG
();

44 
S”v”DS
 *
	gS”v”HashTabËFaùÜy
::
bud
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
) {

45  
Ãw
 
S”v”HashTabË
(
·¿m_Ën
, 
·¿ms
);

	@src/server_ptr.cpp

2 
	~<ba£/as£¹.h
>

3 
	~<ba£/comp”.h
>

4 
	~<ba£/lim™s.h
>

5 
	~<ba£/¡ddef.h
>

8 
	~"objeù.hµ
"

9 
	~"£rv”_±r.hµ
"

11 
Çme¥aû
 
çr_memÜy
 {

13 
S”v”PŒ
::S”v”PŒ(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
) {

14 
ušt64_t
 
size
;

15 
BUG_ON
(
·¿m_Ën
 !ğ(
deşty³
(
size
)));

16 
size
 = *(
»š‹½»t_ÿ¡
<
deşty³
(sizeè*>(
·¿ms
));

17 
buf_
.
»£t
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
m®loc
(
size
)));

20 
S”v”PŒ
::~ServerPtr() {}

22 
S”v”PŒ
::
»ad_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

23 
ušt16_t
 *
d©a_Ën
, 
ušt8_t
 *
d©a_buf
) {

24 cÚ¡ 
ušt64_t
 &
objeù_id
 = *(
»š‹½»t_ÿ¡
<cÚ¡ ušt64_ˆ*>(
obj_id
));

25 
as£¹
(
obj_id_Ën
 =ğ(
deşty³
(
objeù_id
)));

26 autØ
»mÙe_objeù_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(
buf_
.
g‘
()è+ 
objeù_id
;

27 
Objeù
 
»mÙe_objeù
(
»mÙe_objeù_addr
);

28 *
d©a_Ën
 = 
»mÙe_objeù
.
g‘_d©a_Ën
();

29 
memıy
(
d©a_buf
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
»mÙe_objeù
.
g‘_d©a_addr
()),

30 *
d©a_Ën
);

33 
S”v”PŒ
::
wr™e_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
,

34 
ušt16_t
 
d©a_Ën
, cÚ¡ 
ušt8_t
 *
d©a_buf
) {

35 cÚ¡ 
ušt64_t
 &
objeù_id
 = *(
»š‹½»t_ÿ¡
<cÚ¡ ušt64_ˆ*>(
obj_id
));

36 
as£¹
(
obj_id_Ën
 =ğ(
deşty³
(
objeù_id
)));

37 autØ
»mÙe_objeù_addr
 = 
»š‹½»t_ÿ¡
<
ušt64_t
>(
buf_
.
g‘
()è+ 
objeù_id
;

38 
Objeù
 
»mÙe_objeù
(
»mÙe_objeù_addr
);

39 
memıy
(
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
»mÙe_objeù
.
g‘_d©a_addr
()), 
d©a_buf
,

40 
d©a_Ën
);

41 
»mÙe_objeù
.
£t_d©a_Ën
(
d©a_Ën
);

42 
»mÙe_objeù
.
£t_obj_id_Ën
(
obj_id_Ën
);

45 
boŞ
 
S”v”PŒ
::
»move_objeù
(
ušt8_t
 
obj_id_Ën
, cÚ¡ ušt8_ˆ*
obj_id
) {

46 
BUG
();

49 
S”v”PŒ
::
compu‹
(
ušt8_t
 
İcode
, 
ušt16_t
 
šput_Ën
,

50 cÚ¡ 
ušt8_t
 *
šput_buf
, 
ušt16_t
 *
ouut_Ën
,

51 
ušt8_t
 *
ouut_buf
) {

52 
BUG
();

55 
S”v”DS
 *
S”v”PŒFaùÜy
::
bud
(
ušt32_t
 
·¿m_Ën
, 
ušt8_t
 *
·¿ms
) {

56  
Ãw
 
S”v”PŒ
(
·¿m_Ën
, 
·¿ms
);

	@src/slab.cpp

1 
	~"¦ab.hµ
"

3 
Çme¥aû
 
	gçr_memÜy
 {

5 
	gSÏb
::
SÏb
(
ušt8_t
 *
ba£
, 
ušt64_t
 
Ën
è: 
ba£_
(ba£), 
Ën_
Ö’), 
cur_
(base) {}

7 
	gSÏb
::~
SÏb
() {}

9 
SÏb
::
»¶’ish
(
ušt32_t
 
¦ab_idx
) {

10 
¥š_
.
Lock
();

11 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
¥š_
.
UÆock
(); });

13 autØ
	g¦ab_size
 = 
g‘_¦ab_size
(
¦ab_idx
);

14 
ušt32_t
 
	gi
 = 0;

15 
	gi
 < 
	gkR•ËnishChunkSize
 && 
	gcur_
 + 
	g¦ab_size
 <ğ
ba£_
.
g‘
(è+ 
Ën_
;

16 
	gi
++, 
	gcur_
 +ğ
¦ab_size
) {

17 
¦abs_
[
g‘_cÜe_num
()][
¦ab_idx
].
push_back
(
cur_
);

21 
ušt8_t
 *
	gSÏb
::
®loÿ‹
(
ušt32_t
 
size
) {

22 
´“m±_di§bË
();

23 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

25 autØ
	g¦ab_idx
 = 
g‘_¦ab_idx
(
size
);

26 autØ&
	g¦ab
 = 
¦abs_
[
g‘_cÜe_num
()][
¦ab_idx
];

27 ià(
uÆik–y
(
¦ab
.
em±y
())) {

28 
»¶’ish
(
¦ab_idx
);

29 ià(
uÆik–y
(
¦ab
.
em±y
())) {

30  
	gnuÎ±r
;

33 autØ
	g»t
 = 
¦ab
.
back
();

34 
	g¦ab
.
pİ_back
();

35  
	g»t
;

38 
	gSÏb
::
ä“
(
ušt8_t
 *
±r
, 
ušt32_t
 
size
) {

39 
´“m±_di§bË
();

40 autØ
	ggu¬d
 = 
h–³rs
::
fš®ly
([&](è{ 
´“m±_’abË
(); });

42 autØ
	g¦ab_idx
 = 
g‘_¦ab_idx
(
size
);

43 
	g¦abs_
[
g‘_cÜe_num
()][
¦ab_idx
].
push_back
(
±r
);

	@src/stats.cpp

1 
	~"¡©s.hµ
"

2 
	~"h–³rs.hµ
"

3 
	~"mªag”.hµ
"

5 
	~<®gÜ™hm
>

7 
Çme¥aû
 
	gçr_memÜy
 {

8 
boŞ
 
	gSts
::
’abË_sw­_
;

9 #ifdeà
MONITOR_FREE_MEM_RATIO


10 
	g¡d
::
veùÜ
<
¡d
::
·œ
<
ušt64_t
, >>

11 
	gSts
::
ä“_mem_¿tio_»cÜds_
[
h–³rs
::
kNumCPUs
];

14 #ifdeà
MONITOR_READ_OBJECT_CYCLES


15 
	gSts
::
»ad_objeù_cyşes_high_¡¬t_
;

16 
	gSts
::
»ad_objeù_cyşes_low_¡¬t_
;

17 
	gSts
::
»ad_objeù_cyşes_high_’d_
;

18 
	gSts
::
»ad_objeù_cyşes_low_’d_
;

21 #ifdeà
MONITOR_WRITE_OBJECT_CYCLES


22 
	gSts
::
wr™e_objeù_cyşes_high_¡¬t_
;

23 
	gSts
::
wr™e_objeù_cyşes_low_¡¬t_
;

24 
	gSts
::
wr™e_objeù_cyşes_high_’d_
;

25 
	gSts
::
wr™e_objeù_cyşes_low_’d_
;

28 
	gSts
::
_add_ä“_mem_¿tio_»cÜd
() {

29 #ifdeà
MONITOR_FREE_MEM_RATIO


30 
´“m±_di§bË
();

31 
ušt64_t
 
	gt_us
 =

32 
h–³rs
::
chrÚo_to_time¡amp
(
¡d
::
chrÚo
::
¡—dy_şock
::
now
());

33 
	gä“_mem_¿tio
 = 
F¬MemMªag”FaùÜy
::
g‘
()->
g‘_ä“_mem_¿tio
();

34 
	gä“_mem_¿tio_»cÜds_
[
g‘_cÜe_num
()].
push_back
(

35 
¡d
::
make_·œ
(
t_us
, 
ä“_mem_¿tio
));

36 
´“m±_’abË
();

40 
	gSts
::
´št_ä“_mem_¿tio_»cÜds
() {

41 #ifdeà
MONITOR_FREE_MEM_RATIO


42 
¡d
::
veùÜ
<¡d::
·œ
<
ušt64_t
, >> 
	g®l_»cÜds
;

43 
FOR_ALL_SOCKET0_CORES
(
cÜe_id
) {

44 
	g®l_»cÜds
.
š£¹
(
®l_»cÜds
.
’d
(),

45 
ä“_mem_¿tio_»cÜds_
[
cÜe_id
].
begš
(),

46 
ä“_mem_¿tio_»cÜds_
[
cÜe_id
].
’d
());

48 
sÜt
(
®l_»cÜds
.
begš
(),‡Î_»cÜds.
’d
());

49 autØ[
t_us
, 
¿tio
] : 
®l_»cÜds
) {

50 
¡d
::
cout
 << 
t_us
 << " " << 
¿tio
 << std::
’dl
;

55 
	gSts
::
ş—r_ä“_mem_¿tio_»cÜds
() {

56 #ifdeà
MONITOR_FREE_MEM_RATIO


57 
FOR_ALL_SOCKET0_CORES
(
cÜe_id
è{ 
ä“_mem_¿tio_»cÜds_
[cÜe_id].
ş—r
(); }

	@src/tcp_device_server.cpp

2 
	~<Ãt/.h
>

3 
	~<ruÁime/ruÁime.h
>

4 
	~<ruÁime/tı.h
>

5 
	~<ruÁime/th»ad.h
>

7 
	~"th»ad.h
"

9 
	~"deviû.hµ
"

10 
	~"h–³rs.hµ
"

11 
	~"objeù.hµ
"

12 
	~"£rv”.hµ
"

14 
	~<©omic
>

15 
	~<c¡dlib
>

16 
	~<c¡ršg
>

17 
	~<io¡»am
>

18 
	~<lim™s
>

19 
	~<memÜy
>

20 
	~<veùÜ
>

22 
usšg
 
Çme¥aû
 
çr_memÜy
;

24 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
¦ave_th»ads
;

25 
	g¡d
::
unique_±r
<
ušt8_t
> 
çr_mem
;

27 
	g¡d
::
©omic
<
boŞ
> 
has_shutdown
{
Œue
};

28 
	g¹
::
Th»ad
 
ma¡”_th»ad
;

29 
S”v”
 
	g£rv”
;

35 
	$´oûss_š™
(
tıcÚn_t
 *
c
) {

36 
ušt64_t
 *
çr_mem_size
;

37 
ušt8_t
 
»q
[(
	`deşty³
(*
çr_mem_size
))];

38 
h–³rs
::
	`tı_»ad_uÁ
(
c
, 
»q
, (req));

40 
çr_mem_size
 = 
»š‹½»t_ÿ¡
<
ušt64_t
 *>(
»q
);

41 *
çr_mem_size
 = ((*çr_mem_siz- 1è/ 
h–³rs
::
kHug•ageSize
 + 1) *

42 
h–³rs
::
kHug•ageSize
;

43 autØ
çr_mem_±r
 =

44 
¡©ic_ÿ¡
<
ušt8_t
 *>(
h–³rs
::
	`®loÿ‹_hug•age
(*
çr_mem_size
));

45 
	`BUG_ON
(
çr_mem_±r
 =ğ
nuÎ±r
);

46 
çr_mem
.
	`»£t
(
çr_mem_±r
);

48 
	`b¬r›r
();

49 
ušt8_t
 
ack
;

50 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, &
ack
, (ack));

51 
	}
}

57 
	$´oûss_shutdown
(
tıcÚn_t
 *
c
) {

58 
çr_mem
.
	`»£t
();

60 
ušt8_t
 
ack
;

61 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, &
ack
, (ack));

63 autØ&
th»ad
 : 
¦ave_th»ads
) {

64 
th»ad
.
	`Još
();

66 
¦ave_th»ads
.
	`ş—r
();

67 
	}
}

73 
	$´oûss_»ad_objeù
(
tıcÚn_t
 *
c
) {

74 
ušt8_t


75 
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 + Objeù::
kMaxObjeùIDSize
];

76 
ušt8_t
 
»¥
[
Objeù
::
kD©aL’Size
 + Objeù::
kMaxObjeùD©aSize
];

78 
h–³rs
::
	`tı_»ad_uÁ
(
c
, 
»q
, 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
);

79 autØ
ds_id
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[0]);

80 autØ
objeù_id_Ën
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[
Objeù
::
kDSIDSize
]);

81 autØ*
objeù_id
 = &
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
];

82 
h–³rs
::
	`tı_»ad_uÁ
(
c
, 
objeù_id
, 
objeù_id_Ën
);

84 autØ*
d©a_Ën
 = 
»š‹½»t_ÿ¡
<
ušt16_t
 *>(&
»¥
);

85 autØ*
d©a_buf
 = &
»¥
[
Objeù
::
kD©aL’Size
];

86 
£rv”
.
	`»ad_objeù
(
ds_id
, 
objeù_id_Ën
, 
objeù_id
, 
d©a_Ën
, 
d©a_buf
);

88 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, 
»¥
, 
Objeù
::
kD©aL’Size
 + *
d©a_Ën
);

89 
	}
}

96 
	$´oûss_wr™e_objeù
(
tıcÚn_t
 *
c
) {

97 
ušt8_t
 
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 + Objeù::
kD©aL’Size
 +

98 
Objeù
::
kMaxObjeùIDSize
 + Objeù::
kMaxObjeùD©aSize
];

100 
h–³rs
::
	`tı_»ad_uÁ
(

101 
c
, 
»q
, 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 + Objeù::
kD©aL’Size
);

103 autØ
ds_id
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[0]);

104 autØ
objeù_id_Ën
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[
Objeù
::
kDSIDSize
]);

105 autØ
d©a_Ën
 = *
»š‹½»t_ÿ¡
<
ušt16_t
 *>(

106 &
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
]);

108 
h–³rs
::
	`tı_»ad_uÁ
(

109 
c
, &
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 + Objeù::
kD©aL’Size
],

110 
objeù_id_Ën
 + 
d©a_Ën
);

112 autØ*
objeù_id
 = 
cÚ¡_ÿ¡
<
ušt8_t
 *>(

113 &
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 + Objeù::
kD©aL’Size
]);

114 autØ*
d©a_buf
 =

115 
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 +

116 
Objeù
::
kD©aL’Size
 + 
objeù_id_Ën
]);

118 
£rv”
.
	`wr™e_objeù
(
ds_id
, 
objeù_id_Ën
, 
objeù_id
, 
d©a_Ën
, 
d©a_buf
);

120 
ušt8_t
 
ack
;

121 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, &
ack
, (ack));

122 
	}
}

128 
	$´oûss_»move_objeù
(
tıcÚn_t
 *
c
) {

129 
ušt8_t


130 
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
 + Objeù::
kMaxObjeùIDSize
];

132 
h–³rs
::
	`tı_»ad_uÁ
(
c
, 
»q
, 
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
);

133 autØ
ds_id
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[0]);

134 autØ
obj_id_Ën
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[
Objeù
::
kDSIDSize
]);

136 
h–³rs
::
	`tı_»ad_uÁ
(
c
, &
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
],

137 
obj_id_Ën
);

139 autØ*
obj_id
 =

140 
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[
Objeù
::
kDSIDSize
 + Objeù::
kIDL’Size
]);

141 
boŞ
 
exi¡s
 = 
£rv”
.
	`»move_objeù
(
ds_id
, 
obj_id_Ën
, 
obj_id
);

143 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, &
exi¡s
, (exists));

144 
	}
}

151 
	$´oûss_cÚ¡ruù
(
tıcÚn_t
 *
c
) {

152 
ušt8_t
 
ds_ty³
;

153 
ušt8_t
 
ds_id
;

154 
ušt8_t
 
·¿m_Ën
;

155 
ušt8_t
 *
·¿ms
;

156 
ušt8_t
 
»q
[(
ds_ty³
è+ 
Objeù
::
kDSIDSize
 + (
·¿m_Ën
) +

157 
¡d
::
num”ic_lim™s
<
	`deşty³
(
·¿m_Ën
)>::
	`max
()];

159 
h–³rs
::
	`tı_»ad_uÁ
(

160 
c
, 
»q
, (
ds_ty³
è+ 
Objeù
::
kDSIDSize
 + (
·¿m_Ën
));

161 
ds_ty³
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[0]);

162 
ds_id
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[(
ds_ty³
)]);

163 
·¿m_Ën
 = *
cÚ¡_ÿ¡
<
ušt8_t
 *>(&
»q
[(
ds_ty³
è+ 
Objeù
::
kDSIDSize
]);

164 
h–³rs
::
	`tı_»ad_uÁ
(

165 
c
, &
»q
[(
ds_ty³
è+ 
Objeù
::
kDSIDSize
 + (
·¿m_Ën
)],

166 
·¿m_Ën
);

167 
·¿ms
 = 
cÚ¡_ÿ¡
<
ušt8_t
 *>(

168 &
»q
[(
ds_ty³
è+ 
Objeù
::
kDSIDSize
 + (
·¿m_Ën
)]);

170 
£rv”
.
	`cÚ¡ruù
(
ds_ty³
, 
ds_id
, 
·¿m_Ën
, 
·¿ms
);

172 
ušt8_t
 
ack
;

173 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, &
ack
, (ack));

174 
	}
}

180 
	$´oûss_de¡ruù
(
tıcÚn_t
 *
c
) {

181 
ušt8_t
 
ds_id
;

183 
h–³rs
::
	`tı_»ad_uÁ
(
c
, &
ds_id
, 
Objeù
::
kDSIDSize
);

185 
£rv”
.
	`de¡ruù
(
ds_id
);

187 
ušt8_t
 
ack
;

188 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, &
ack
, (ack));

189 
	}
}

196 
	$´oûss_compu‹
(
tıcÚn_t
 *
c
) {

197 
ušt8_t
 
İcode
;

198 
ušt16_t
 
šput_Ën
;

199 
ušt8_t
 
»q
[
Objeù
::
kDSIDSize
 + (
İcode
è+ (
šput_Ën
) +

200 
TCPDeviû
::
kMaxCompu‹D©aL’
];

202 
h–³rs
::
	`tı_»ad_uÁ
(

203 
c
, 
»q
, 
Objeù
::
kDSIDSize
 + (
İcode
è+ (
šput_Ën
));

205 autØ
ds_id
 = *
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
»q
[0]);

206 
İcode
 = *
»š‹½»t_ÿ¡
<
ušt8_t
 *>(&
»q
[
Objeù
::
kDSIDSize
]);

207 
šput_Ën
 =

208 *
»š‹½»t_ÿ¡
<
ušt16_t
 *>(&
»q
[
Objeù
::
kDSIDSize
 + (
İcode
)]);

209 
	`as£¹
(
šput_Ën
 <ğ
TCPDeviû
::
kMaxCompu‹D©aL’
);

211 ià(
šput_Ën
) {

212 
h–³rs
::
	`tı_»ad_uÁ
(

213 
c
, &
»q
[
Objeù
::
kDSIDSize
 + (
İcode
è+ (
šput_Ën
)],

214 
šput_Ën
);

217 autØ*
šput_buf
 = 
cÚ¡_ÿ¡
<
ušt8_t
 *>(

218 &
»q
[
Objeù
::
kDSIDSize
 + (
İcode
è+ (
šput_Ën
)]);

220 
ušt16_t
 *
ouut_Ën
;

221 
ušt8_t
 
»¥
[(*
ouut_Ën
è+ 
TCPDeviû
::
kMaxCompu‹D©aL’
];

222 
ouut_Ën
 = 
»š‹½»t_ÿ¡
<
ušt16_t
 *>(&
»¥
[0]);

223 
ušt8_t
 *
ouut_buf
 = &
»¥
[(*
ouut_Ën
)];

224 
£rv”
.
	`compu‹
(
ds_id
, 
İcode
, 
šput_Ën
, 
šput_buf
, 
ouut_Ën
, 
ouut_buf
);

226 
h–³rs
::
	`tı_wr™e_uÁ
(
c
, 
»¥
, (*
ouut_Ën
) + *output_len);

227 
	}
}

229 
	$¦ave_â
(
tıcÚn_t
 *
c
) {

231 
ušt8_t
 
İcode
;

232 
»t
;

233 (
»t
 = 
	`tı_»ad
(
c
, &
İcode
, 
TCPDeviû
::
kOpcodeSize
)) > 0) {

234 
	`BUG_ON
(
»t
 !ğ
TCPDeviû
::
kOpcodeSize
);

235 
İcode
) {

236 
TCPDeviû
::
kOpR—dObjeù
:

237 
	`´oûss_»ad_objeù
(
c
);

239 
TCPDeviû
::
kOpWr™eObjeù
:

240 
	`´oûss_wr™e_objeù
(
c
);

242 
TCPDeviû
::
kOpRemoveObjeù
:

243 
	`´oûss_»move_objeù
(
c
);

245 
TCPDeviû
::
kOpCÚ¡ruù
:

246 
	`´oûss_cÚ¡ruù
(
c
);

248 
TCPDeviû
::
kOpDecÚ¡ruù
:

249 
	`´oûss_de¡ruù
(
c
);

251 
TCPDeviû
::
kOpCompu‹
:

252 
	`´oûss_compu‹
(
c
);

255 
	`BUG
();

258 
	`tı_şo£
(
c
);

259 
	}
}

261 
	$ma¡”_â
(
tıcÚn_t
 *
c
) {

262 
ušt8_t
 
İcode
;

263 
h–³rs
::
	`tı_»ad_uÁ
(
c
, &
İcode
, 
TCPDeviû
::
kOpcodeSize
);

264 
	`BUG_ON
(
İcode
 !ğ
TCPDeviû
::
kOpIn™
);

265 
	`´oûss_š™
(
c
);

267 
h–³rs
::
	`tı_»ad_uÁ
(
c
, &
İcode
, 
TCPDeviû
::
kOpcodeSize
);

268 
	`BUG_ON
(
İcode
 !ğ
TCPDeviû
::
kOpShutdown
);

269 
	`´oûss_shutdown
(
c
);

270 
	`tı_şo£
(
c
);

271 
has_shutdown
 = 
Œue
;

272 
	}
}

274 
	$do_wÜk
(
ušt16_t
 
pÜt
) {

275 
tıqueue_t
 *
q
;

276 
Ãddr
 
£rv”_addr
 = {.

 = 0, .
pÜt
 =…ort};

277 
	`tı_li¡’
(
£rv”_addr
, 1, &
q
);

279 
tıcÚn_t
 *
c
;

280 
	`tı_acû±
(
q
, &
c
) == 0) {

281 ià(
has_shutdown
) {

282 
ma¡”_th»ad
 = 
¹
::
	`Th»ad
([
c
](è{ 
	`ma¡”_â
(c); });

283 
has_shutdown
 = 
çl£
;

285 
¦ave_th»ads
.
	`em¶aû_back
(
¹
::
	`Th»ad
([
c
](è{ 
	`¦ave_â
(c); }));

288 
	}
}

290 
	g¬gc
;

292 
	$my_maš
(*
¬g
) {

293 **
¬gv
 = 
¡©ic_ÿ¡
<**>(
¬g
);

294 
pÜt
 = 
	`©oi
(
¬gv
[1]);

295 
	`do_wÜk
(
pÜt
);

296 
	}
}

298 
	$maš
(
_¬gc
, *
¬gv
[]) {

299 
»t
;

301 ià(
_¬gc
 < 3) {

302 
¡d
::
û¼
 << "u§ge: [cfg_fe] [pÜt]" << std::
’dl
;

303  -
EINVAL
;

306 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

307 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

308 
i
 = 2; i < 
_¬gc
; i++) {

309 
¬gv
[
i
 - 1] =‡rgv[i];

311 
¬gc
 = 
_¬gc
 - 1;

313 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
my_maš
, 
¬gv
);

314 ià(
»t
) {

315 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

316  
»t
;

320 
	}
}

	@test/test_array_add.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"¬¿y.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dšt
>

10 
	~<io¡»am
>

11 
	~<memÜy
>

12 
	~<¿ndom
>

14 
usšg
 
Çme¥aû
 
çr_memÜy
;

15 
usšg
 
Çme¥aû
 
	g¡d
;

17 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

18 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (4ULL << 30);

19 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

20 
cÚ¡ex´
 
ušt32_t
 
	gkNumEÁr›s
 =

23 
ušt64_t
 
	g¿w_¬¿y_A
[
kNumEÁr›s
];

24 
ušt64_t
 
	g¿w_¬¿y_B
[
kNumEÁr›s
];

25 
ušt64_t
 
	g¿w_¬¿y_C
[
kNumEÁr›s
];

27 
	g‹m¶©e
 <
ušt64_t
 
	gN
, 
ty³Çme
 
	gT
>

28 
cİy_¬¿y
(
A¼ay
<
T
, 
N
> *
¬¿y
, T *
¿w_¬¿y
) {

29 
ušt64_t
 
	gi
 = 0; i < 
	gN
; i++) {

30 
D”efScİe
 
	gscİe
;

31 (*
	g¬¿y
).
©_mut
(
scİe
, 
i
èğ
¿w_¬¿y
[i];

35 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
ušt64_t
 
	gN
>

36 
add_¬¿y
(
A¼ay
<
T
, 
N
> *
¬¿y_C
, A¼ay<T, N> *
¬¿y_A
,

37 
A¼ay
<
T
, 
N
> *
¬¿y_B
) {

38 
ušt64_t
 
	gi
 = 0; i < 
	gN
; i++) {

39 
D”efScİe
 
	gscİe
;

40 (*
	g¬¿y_C
).
©_mut
(
scİe
, 
i
) =

41 (*
¬¿y_A
).
©
(
scİe
, 
i
è+ (*
	g¬¿y_B
).at(scope, i);

45 
	$g’_¿ndom_¬¿y
(
ušt64_t
 
num_’Œ›s
, ušt64_ˆ*
¿w_¬¿y
) {

46 
¡d
::
¿ndom_deviû
 
rd
;

47 
¡d
::
mt19937_64
 
	`’g
(
	`rd
());

48 
¡d
::
unifÜm_št_di¡ributiÚ
<
ušt64_t
> 
di¡r
;

50 
ušt64_t
 
i
 = 0; i < 
num_’Œ›s
; i++) {

51 
¿w_¬¿y
[
i
] = 
	`di¡r
(
’g
);

53 
	}
}

55 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

56 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

58 autØ
¬¿y_A
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

59 autØ
¬¿y_B
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

60 autØ
¬¿y_C
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

62 
	`g’_¿ndom_¬¿y
(
kNumEÁr›s
, 
¿w_¬¿y_A
);

63 
	`g’_¿ndom_¬¿y
(
kNumEÁr›s
, 
¿w_¬¿y_B
);

64 
	`cİy_¬¿y
(&
¬¿y_A
, 
¿w_¬¿y_A
);

65 
	`cİy_¬¿y
(&
¬¿y_B
, 
¿w_¬¿y_B
);

66 
	`add_¬¿y
(&
¬¿y_C
, &
¬¿y_A
, &
¬¿y_B
);

68 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

69 
D”efScİe
 
scİe
;

70 ià(
¬¿y_C
.
	`©
(
scİe
, 
i
è!ğ
¿w_¬¿y_A
[i] + 
¿w_¬¿y_B
[i]) {

71 
ç
;

75 
cout
 << "Pas£d" << 
’dl
;

78 
ç
:

79 
cout
 << "Faed" << 
’dl
;

81 
	}
}

83 
	$_maš
(*
¬g
) {

84 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

85 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

86 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

87 
	`do_wÜk
(
mªag”
.
	`g‘
());

88 
	}
}

90 
	$maš
(
¬gc
, *
¬gv
[]) {

91 
»t
;

93 ià(
¬gc
 < 2) {

94 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

95  -
EINVAL
;

98 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

99 ià(
»t
) {

100 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

101  
»t
;

105 
	}
}

	@test/test_array_add_rw_api.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"¬¿y.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dšt
>

10 
	~<io¡»am
>

11 
	~<memÜy
>

12 
	~<¿ndom
>

14 
usšg
 
Çme¥aû
 
çr_memÜy
;

15 
usšg
 
Çme¥aû
 
	g¡d
;

17 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

18 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (4ULL << 30);

19 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

20 
cÚ¡ex´
 
ušt32_t
 
	gkNumEÁr›s
 =

23 
ušt64_t
 
	g¿w_¬¿y_A
[
kNumEÁr›s
];

24 
ušt64_t
 
	g¿w_¬¿y_B
[
kNumEÁr›s
];

25 
ušt64_t
 
	g¿w_¬¿y_C
[
kNumEÁr›s
];

27 
	g‹m¶©e
 <
ušt64_t
 
	gN
, 
ty³Çme
 
	gT
>

28 
cİy_¬¿y
(
A¼ay
<
T
, 
N
> *
¬¿y
, T *
¿w_¬¿y
) {

29 
ušt64_t
 
	gi
 = 0; i < 
	gN
; i++) {

30 
	g¬¿y
->
wr™e
(
¿w_¬¿y
[
i
], i);

34 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
ušt64_t
 
	gN
>

35 
add_¬¿y
(
A¼ay
<
T
, 
N
> *
¬¿y_C
, A¼ay<T, N> *
¬¿y_A
,

36 
A¼ay
<
T
, 
N
> *
¬¿y_B
) {

37 
ušt64_t
 
	gi
 = 0; i < 
	gN
; i++) {

38 
	g¬¿y_C
->
wr™e
(
¬¿y_A
->
»ad
(
i
è+ 
¬¿y_B
->read(i), i);

42 
	$g’_¿ndom_¬¿y
(
ušt64_t
 
num_’Œ›s
, ušt64_ˆ*
¿w_¬¿y
) {

43 
¡d
::
¿ndom_deviû
 
rd
;

44 
¡d
::
mt19937_64
 
	`’g
(
	`rd
());

45 
¡d
::
unifÜm_št_di¡ributiÚ
<
ušt64_t
> 
di¡r
;

47 
ušt64_t
 
i
 = 0; i < 
num_’Œ›s
; i++) {

48 
¿w_¬¿y
[
i
] = 
	`di¡r
(
’g
);

50 
	}
}

52 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

53 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

55 autØ
¬¿y_A
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

56 autØ
¬¿y_B
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

57 autØ
¬¿y_C
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

59 
	`g’_¿ndom_¬¿y
(
kNumEÁr›s
, 
¿w_¬¿y_A
);

60 
	`g’_¿ndom_¬¿y
(
kNumEÁr›s
, 
¿w_¬¿y_B
);

61 
	`cİy_¬¿y
(&
¬¿y_A
, 
¿w_¬¿y_A
);

62 
	`cİy_¬¿y
(&
¬¿y_B
, 
¿w_¬¿y_B
);

63 
	`add_¬¿y
(&
¬¿y_C
, &
¬¿y_A
, &
¬¿y_B
);

65 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

66 
D”efScİe
 
scİe
;

67 ià(
¬¿y_C
.
	`©
(
scİe
, 
i
è!ğ
¿w_¬¿y_A
[i] + 
¿w_¬¿y_B
[i]) {

68 
ç
;

72 
cout
 << "Pas£d" << 
’dl
;

75 
ç
:

76 
cout
 << "Faed" << 
’dl
;

78 
	}
}

80 
	$_maš
(*
¬g
) {

81 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

82 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

83 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

84 
	`do_wÜk
(
mªag”
.
	`g‘
());

85 
	}
}

87 
	$maš
(
¬gc
, *
¬gv
[]) {

88 
»t
;

90 ià(
¬gc
 < 2) {

91 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

92  -
EINVAL
;

95 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

96 ià(
»t
) {

97 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

98  
»t
;

102 
	}
}

	@test/test_array_clock_replacement.cpp

2 
	~<ruÁime/ruÁime.h
>

3 
	~<ruÁime/tim”.h
>

6 
	~"th»ad.h
"

8 
	~"d”ef_scİe.hµ
"

9 
	~"deviû.hµ
"

10 
	~"h–³rs.hµ
"

11 
	~"mªag”.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<¬¿y
>

15 
	~<chrÚo
>

16 
	~<c¡dšt
>

17 
	~<c¡dlib
>

18 
	~<io¡»am
>

19 
	~<memÜy
>

20 
	~<uni¡d.h
>

22 
usšg
 
Çme¥aû
 
çr_memÜy
;

23 
usšg
 
Çme¥aû
 
	g¡d
;

25 
	#ACCESS_ONCE
(
x
è(*(vŞ©
	`ty³of
(xè*)&(x))

	)

26 
	#DEFINE_DATA_TYPE
(
width
) \

27 
D©a_
##
width
 { \

28 
ušt8_t
 
buf
[
width
]; \

30 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

32 
DEFINE_DATA_TYPE
(4096);

34 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 1ULL << 30;

35 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 20ULL << 30;

36 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 4;

37 
cÚ¡ex´
 
ušt64_t
 
	gkL¬gePŒsNumEÁr›s
 = 1 << 20;

38 
cÚ¡ex´
 
ušt64_t
 
	gkSm®lPŒsNumEÁr›s
 = 1 << 4;

39 
cÚ¡ex´
 
ušt32_t
 
	gkNumAcûs£dL¬gePŒsP”I‹r
 = 1 << 10;

40 
cÚ¡ex´
 
ušt64_t
 
	gkTe¡Times
 = 16;

41 
cÚ¡ex´
 
ušt64_t
 
	gkMaxAÎowedMissCÁs
 = 5;

43 
¡©ic_as£¹
(
kL¬gePŒsNumEÁr›s
 % 
kNumAcûs£dL¬gePŒsP”I‹r
 == 0);

45 
	g‹m¶©e
 <
št64_t
 
	gN
> 
šlše
 
	$»ad_¿w_¬¿y
(cÚ¡ 
ušt8_t
 *
±r
) {

46 
	`cÚ¡ex´
 (
N
 >= 8) {

47 
	`ACCESS_ONCE
(*
»š‹½»t_ÿ¡
<cÚ¡ 
ušt64_t
 *>(
±r
));

48 
»ad_¿w_¬¿y
<
N
 - 8>(
±r
 + 8);

49 } 
	`cÚ¡ex´
 (
N
 >= 4) {

50 
	`ACCESS_ONCE
(*
»š‹½»t_ÿ¡
<cÚ¡ 
ušt32_t
 *>(
±r
));

51 
»ad_¿w_¬¿y
<
N
 - 4>(
±r
 + 4);

52 } 
	`cÚ¡ex´
 (
N
 >= 2) {

53 
	`ACCESS_ONCE
(*
»š‹½»t_ÿ¡
<cÚ¡ 
ušt16_t
 *>(
±r
));

54 
»ad_¿w_¬¿y
<
N
 - 2>(
±r
 + 2);

55 } 
	`cÚ¡ex´
 (
N
 == 1) {

56 
	`ACCESS_ONCE
(*
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
±r
));

57 
»ad_¿w_¬¿y
<
N
 - 1>(
±r
 + 1);

59 
	}
}

61 
Çme¥aû
 
	gçr_memÜy
 {

62 şas 
	cF¬MemTe¡
 {

63 
	gpublic
:

64 
UniquePŒ
<
D©a_t
> 
Ïrge_±rs
[
kL¬gePŒsNumEÁr›s
];

65 
	gUniquePŒ
<
	gD©a_t
> 
	gsm®l_±rs
[
kSm®lPŒsNumEÁr›s
];

66 
ušt64_t
 
	gsm®l_±rs_miss_út
[
kSm®lPŒsNumEÁr›s
];

68 
æush_cÜe_loÿl_»giÚs
(
F¬MemMªag”
 *
mgr
) {

69 
	gi
 = 0; i < 
	gh–³rs
::
kNumCPUs
; i++) {

70 
	gmgr
->
	gÿche_»giÚ_mªag”_
.
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

71 0, &(
mgr
->
ÿche_»giÚ_mªag”_
.
cÜe_loÿl_ä“_»giÚs_
[
i
]));

72 
	gmgr
->
	gÿche_»giÚ_mªag”_
.
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

73 1, &(
mgr
->
ÿche_»giÚ_mªag”_
.
cÜe_loÿl_ä“_Á_»giÚs_
[
i
]));

77 
run
(
F¬MemMªag”
 *
mªag”
) {

78 
ušt64_t
 
	gi
 = 0; i < 
	gkL¬gePŒsNumEÁr›s
; i++) {

79 
	gÏrge_±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

81 
æush_cÜe_loÿl_»giÚs
(
mªag”
);

83 
ušt64_t
 
	gi
 = 0; i < 
	gkSm®lPŒsNumEÁr›s
; i++) {

84 
	gsm®l_±rs
[
i
] = 
¡d
::
move
(
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>());

87 
ušt8_t
 
	gk
 = 0; k < 
	gkTe¡Times
; k++) {

88 
ušt32_t
 
	gÏrge_±rs_idx
 = 0;

89 
ušt32_t
 
	gsm®l_±rs_idx
 = 0;

90 
	gÏrge_±rs_idx
 !ğ
kL¬gePŒsNumEÁr›s
) {

91 
D”efScİe
 
scİe
;

92 
ušt32_t
 
	gi
 = 0; i < 
	gkNumAcûs£dL¬gePŒsP”I‹r
; i++) {

93 cÚ¡‡utØ
	gcÚ¡_Ïrge_±r
 =

94 
Ïrge_±rs
[
Ïrge_±rs_idx
++].
d”ef
(
scİe
);

95 
	g»ad_¿w_¬¿y
<(
	gD©a_t
)>(

96 
	g»š‹½»t_ÿ¡
<cÚ¡ 
	gušt8_t
 *>(
	gcÚ¡_Ïrge_±r
));

98 
	gsm®l_±rs_miss_út
[
sm®l_±rs_idx
] +=

99 !
sm®l_±rs
[
sm®l_±rs_idx
].
m‘a
().
is_´e£Á
();

100 cÚ¡‡utØ
	gcÚ¡_sm®l_±r
 = 
sm®l_±rs
[
sm®l_±rs_idx
].
d”ef
(
scİe
);

101 
	g»ad_¿w_¬¿y
<(
	gD©a_t
)>(

102 
	g»š‹½»t_ÿ¡
<cÚ¡ 
	gušt8_t
 *>(
	gcÚ¡_sm®l_±r
));

103 
	gsm®l_±rs_idx
 = (
sm®l_±rs_idx
 + 1è% 
kSm®lPŒsNumEÁr›s
;

107 
ušt32_t
 
	gi
 = 0; i < 
	gkSm®lPŒsNumEÁr›s
; i++) {

108 ià(
	gsm®l_±rs_miss_út
[
i
] > 
	gkMaxAÎowedMissCÁs
) {

112 
	g¡d
::
cout
 << "Faed " << 
sm®l_±rs_miss_út
[
i
] << 
¡d
::
’dl
;

117 
	g¡d
::
cout
 << "Pas£d" << 
¡d
::
’dl
;

122 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

123 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

124 autØ
‹¡
 = 
¡d
::
make_unique
<
F¬MemTe¡
>();

125 
‹¡
->
	`run
(
mªag”
);

126 
	}
}

128 
	$_maš
(*
¬g
) {

129 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

130 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

131 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

132 
	`do_wÜk
(
mªag”
.
	`g‘
());

133 
	}
}

135 
	$maš
(
¬gc
, *
¬gv
[]) {

136 
»t
;

138 ià(
¬gc
 < 2) {

139 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

140  -
EINVAL
;

143 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

144 ià(
»t
) {

145 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

146  
»t
;

150 
	}
}

	@test/test_array_nt.cpp

2 
	~<ruÁime/ruÁime.h
>

3 
	~<ruÁime/tim”.h
>

6 
	~"th»ad.h
"

8 
	~"¬¿y.hµ
"

9 
	~"d”ef_scİe.hµ
"

10 
	~"deviû.hµ
"

11 
	~"mªag”.hµ
"

13 
	~<®gÜ™hm
>

14 
	~<chrÚo
>

15 
	~<c¡dšt
>

16 
	~<c¡dlib
>

17 
	~<io¡»am
>

18 
	~<memÜy
>

19 
	~<uni¡d.h
>

21 
usšg
 
Çme¥aû
 
çr_memÜy
;

22 
usšg
 
Çme¥aû
 
	g¡d
;

24 
	#DEFINE_DATA_TYPE
(
width
) \

25 
D©a_
##
width
 { \

26 
ušt8_t
 
buf
[
width
]; \

28 
usšg
 
D©a_t
 = 
D©a_
##
width
;

	)

30 
DEFINE_DATA_TYPE
(4096);

32 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 1ULL << 30;

33 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 8ULL << 30;

34 
cÚ¡ex´
 
ušt64_t
 
	gkA¼aySize
 = 660ULL << 20;

35 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 21;

36 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kA¼aySize
 / (
D©a_t
);

38 
Çme¥aû
 
	gçr_memÜy
 {

39 şas 
	cF¬MemTe¡
 {

40 
	gpublic
:

41 
æush_cÜe_loÿl_»giÚs
(
F¬MemMªag”
 *
mgr
) {

42 
i
 = 0; 
	gi
 < 
	gh–³rs
::
kNumCPUs
; i++) {

43 
	gmgr
->
	gÿche_»giÚ_mªag”_
.
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

44 0, &(
mgr
->
ÿche_»giÚ_mªag”_
.
cÜe_loÿl_ä“_»giÚs_
[
i
]));

45 
	gmgr
->
	gÿche_»giÚ_mªag”_
.
Œy_»fl_cÜe_loÿl_ä“_»giÚ
(

46 1, &(
mgr
->
ÿche_»giÚ_mªag”_
.
cÜe_loÿl_ä“_Á_»giÚs_
[
i
]));

50 
ušt64_t
 
»ad_¬¿y
(
A¼ay
<
D©a_t
, 
kNumEÁr›s
> *
¬¿y
, 
boŞ
 
Á
) {

51 
ušt64_t
 
	gnum_nÙ_´e£Á
 = 0;

52 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

53 
D”efScİe
 
	gscİe
;

54 
	gnum_nÙ_´e£Á
 +ğ!(
¬¿y
->
G’”icA¼ay
::
©
(
Á
, 
i
)->
m‘a
().
is_´e£Á
());

55 ià(
	gÁ
) {

56 
	g¬¿y
->
	g©
<
	gŒue
>(
	gscİe
, 
	gi
);

58 
	g¬¿y
->
	g©
<
	gçl£
>(
	gscİe
, 
	gi
);

61  
	gnum_nÙ_´e£Á
;

64 
ušt64_t
 
wr™e_¬¿y
(
A¼ay
<
D©a_t
, 
kNumEÁr›s
> *
¬¿y
, 
boŞ
 
Á
) {

65 
ušt64_t
 
	gnum_nÙ_´e£Á
 = 0;

66 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

67 
D”efScİe
 
	gscİe
;

68 
	gnum_nÙ_´e£Á
 +ğ!(
¬¿y
->
G’”icA¼ay
::
©
(
Á
, 
i
)->
m‘a
().
is_´e£Á
());

69 ià(
	gÁ
) {

70 
	g¬¿y
->
	g©_mut
<
	gŒue
>(
	gscİe
, 
	gi
);

72 
	g¬¿y
->
	g©_mut
<
	gçl£
>(
	gscİe
, 
	gi
);

75  
	gnum_nÙ_´e£Á
;

78 
ş—r_hÙ
(
A¼ay
<
D©a_t
, 
kNumEÁr›s
> *
¬¿y
) {

79 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

80 autØ*
	g±r
 = 
¬¿y
->
G’”icA¼ay
::
©
(
çl£
, 
i
);

81 ià(
	g±r
->
m‘a
().
is_´e£Á
()) {

82 
D”efScİe
 
	gscİe
;

83 
	g±r
->
d”ef
(
scİe
);

84 
	g±r
->
m‘a
().
ş—r_hÙ
();

89 
run
(
F¬MemMªag”
 *
mªag”
) {

90 autØ
	g¬¿y_A
 = 
mªag”
->
®loÿ‹_¬¿y
<
D©a_t
, 
	gkNumEÁr›s
>();

91 autØ
	g¬¿y_B
 = 
mªag”
->
®loÿ‹_¬¿y
<
D©a_t
, 
	gkNumEÁr›s
>();

92 autØ
	g¬¿y_C
 = 
mªag”
->
®loÿ‹_¬¿y
<
D©a_t
, 
	gkNumEÁr›s
>();

95 
»ad_¬¿y
(&
¬¿y_A
, 
çl£
);

96 
»ad_¬¿y
(&
¬¿y_B
, 
çl£
);

97 
æush_cÜe_loÿl_»giÚs
(
mªag”
);

98 
»ad_¬¿y
(&
¬¿y_C
, 
çl£
);

99 
»ad_¬¿y
(&
¬¿y_A
, 
çl£
);

100 
»ad_¬¿y
(&
¬¿y_B
, 
çl£
);

103 
»ad_¬¿y
(&
¬¿y_C
, 
Œue
);

104 
»ad_¬¿y
(&
¬¿y_A
, 
Œue
);

107 
	g¬¿y_B
.
di§bË_´eãtch
();

108 autØ
	gnum_nÙ_´e£Á
 = 
»ad_¬¿y
(&
¬¿y_B
, 
çl£
);

109 ià(
	gnum_nÙ_´e£Á
) {

110 
	gç
;

114 
ş—r_hÙ
(&
¬¿y_A
);

115 
ş—r_hÙ
(&
¬¿y_B
);

116 
ş—r_hÙ
(&
¬¿y_C
);

118 
æush_cÜe_loÿl_»giÚs
(
mªag”
);

119 
»ad_¬¿y
(&
¬¿y_C
, 
çl£
);

120 
»ad_¬¿y
(&
¬¿y_A
, 
çl£
);

121 
»ad_¬¿y
(&
¬¿y_B
, 
çl£
);

124 
wr™e_¬¿y
(&
¬¿y_C
, 
Œue
);

125 
wr™e_¬¿y
(&
¬¿y_A
, 
Œue
);

128 
	gnum_nÙ_´e£Á
 = 
»ad_¬¿y
(&
¬¿y_B
, 
çl£
);

129 ià(
	gnum_nÙ_´e£Á
) {

130 
	gç
;

133 
	g¡d
::
cout
 << "Pas£d" << 
¡d
::
’dl
;

135 
	gç
:

136 
¡d
::
cout
 << "Faed" << std::
’dl
;

137 
	g¡d
::
cout
 << 
num_nÙ_´e£Á
 << 
¡d
::
’dl
;

142 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

143 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

144 
F¬MemTe¡
 
‹¡
;

145 
‹¡
.
	`run
(
mªag”
);

146 
	}
}

148 
	$_maš
(*
¬g
) {

149 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

150 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

151 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

152 
	`do_wÜk
(
mªag”
.
	`g‘
());

153 
	}
}

155 
	$maš
(
¬gc
, *
¬gv
[]) {

156 
»t
;

158 ià(
¬gc
 < 2) {

159 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

160  -
EINVAL
;

163 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

164 ià(
»t
) {

165 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

166  
»t
;

170 
	}
}

	@test/test_csv_reader.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"CSV/csv.hµ
"

6 
	~"d©aäame_veùÜ.hµ
"

7 
	~"d”ef_scİe.hµ
"

8 
	~"deviû.hµ
"

9 
	~"h–³rs.hµ
"

10 
	~"mªag”.hµ
"

12 
	~<c¡dlib
>

13 
	~<c¡ršg
>

14 
	~<io¡»am
>

15 
	~<memÜy
>

16 
	~<veùÜ
>

18 
usšg
 
Çme¥aû
 
çr_memÜy
;

19 
usšg
 
Çme¥aû
 
	g¡d
;

21 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 512 * 
RegiÚ
::
kSize
;

22 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 33);

23 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1 << 30;

24 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 12;

25 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 64 << 20;

27 
Çme¥aû
 
	gçr_memÜy
 {

28 şas 
	cF¬MemTe¡
 {

29 
	g´iv©e
:

30 
public
:

31 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

32 autØ
my_tu¶e
 =

33 
io
::
·r£_csv_to_veùÜs
<, 
	gSim¶eTime
, SimpleTime, , ,

37 
	gmªag”
, "test/test_csv_reader.csv", "VendorID",

45 
D”efScİe
 
	gscİe
;

46 
TEST_ASSERT
(
¡d
::
g‘
<0>(
my_tu¶e
).
©
(
scİe
, 0) == 2);

47 
TEST_ASSERT
(
¡d
::
g‘
<1>(
my_tu¶e
).
©
(
scİe
, 0) ==

48 
Sim¶eTime
(2016, 1, 1, 0, 0, 0));

50 
TEST_ASSERT
(
¡d
::
g‘
<0>(
my_tu¶e
).
©
(
scİe
, 7) == 1);

51 
TEST_ASSERT
(
¡d
::
g‘
<1>(
my_tu¶e
).
©
(
scİe
, 7) ==

52 
Sim¶eTime
(2016, 1, 1, 0, 0, 1));

54 
TEST_ASSERT
(
¡d
::
g‘
<0>(
my_tu¶e
).
©
(
scİe
, 17) == 1);

55 
TEST_ASSERT
(
¡d
::
g‘
<1>(
my_tu¶e
).
©
(
scİe
, 17) ==

56 
Sim¶eTime
(2016, 1, 1, 0, 0, 6));

57 
TEST_ASSERT
(
¡d
::
g‘
<2>(
my_tu¶e
).
©
(
scİe
, 17) ==

58 
Sim¶eTime
(2016, 1, 1, 0, 7, 14));

59 
TEST_ASSERT
(
¡d
::
g‘
<3>(
my_tu¶e
).
©
(
scİe
, 17) == 1);

60 
TEST_ASSERT
(
¡d
::
abs
(¡d::
g‘
<4>(
my_tu¶e
).
©
(
scİe
, 17) - 1.7) < 1E-5);

61 
TEST_ASSERT
(
¡d
::
g‘
<8>(
my_tu¶e
).
©
(
scİe
, 17) == 'Y');

62 
TEST_ASSERT
(

63 
¡d
::
abs
(

64 
¡d
::
g‘
<¡d::
tu¶e_size
<
deşty³
(
my_tu¶e
)>::
v®ue
 - 1>(my_tuple)

65 .
©
(
scİe
, 17) -

68 
	gcout
 << "Pas£d" << 
	g’dl
;

74 
	$_maš
(*
¬g
) {

75 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

76 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

77 
F¬MemTe¡
 
‹¡
;

78 
‹¡
.
	`do_wÜk
(
mªag”
.
	`g‘
());

79 
	}
}

81 
	$maš
(
¬gc
, *
¬gv
[]) {

82 
»t
;

84 ià(
¬gc
 < 2) {

85 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

86  -
EINVAL
;

89 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

90 ià(
»t
) {

91 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

92  
»t
;

96 
	}
}

	@test/test_dataframe_vector.cpp

3 
	~"d©aäame_veùÜ.hµ
"

4 
	~"d”ef_scİe.hµ
"

5 
	~"deviû.hµ
"

6 
	~"h–³rs.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dlib
>

10 
	~<c¡ršg
>

11 
	~<io¡»am
>

12 
	~<lim™s
>

13 
	~<memÜy
>

14 
	~<unÜd”ed_£t
>

15 
	~<veùÜ
>

17 
usšg
 
Çme¥aû
 
çr_memÜy
;

18 
usšg
 
Çme¥aû
 
	g¡d
;

20 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 512 * 
RegiÚ
::
kSize
;

21 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 34);

22 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 12;

23 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 256 << 20;

24 
cÚ¡ex´
 
ušt64_t
 
	gkNumEËm’tsP”Scİe
 = 1024;

26 
Çme¥aû
 
	gçr_memÜy
 {

27 şas 
	cF¬MemTe¡
 {

28 
	g´iv©e
:

29 
public
:

30 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

31 autØ
d©aäame_veùÜ
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

33 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

34 
D”efScİe
 
	gscİe
;

35 
	gd©aäame_veùÜ
.
push_back
(
scİe
, 
¡©ic_ÿ¡
<>(
i
));

38 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

39 
D”efScİe
 
	gscİe
;

40 
TEST_ASSERT
(
d©aäame_veùÜ
.
©
(
scİe
, 
i
è=ğ
¡©ic_ÿ¡
<>(i));

44 
D”efScİe
 
	gscİe
;

45 
TEST_ASSERT
(
d©aäame_veùÜ
.
äÚt
(
scİe
) == 0);

46 
TEST_ASSERT
(
d©aäame_veùÜ
.
back
(
scİe
è=ğ
kNumEÁr›s
 - 1);

50 
D”efScİe
 
	gscİe
;

51 autØ
	g™
 = 
d©aäame_veùÜ
.
fbegš
(
scİe
);

52 
ušt64_t
 
	gi
 = 0; i < 
	gd©aäame_veùÜ
.
size
(); i++) {

53 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

54 
scİe
.
ex™
();

55 
	gscİe
.
’‹r
();

56 
	g™
.
»Ãw
(
scİe
);

58 *
	g™
 = 
d©aäame_veùÜ
.
size
(è- 
i
 - 1;

59 ++
	g™
;

64 
D”efScİe
 
	gscİe
;

65 autØ
	g™
 = 
d©aäame_veùÜ
.
cfbegš
(
scİe
);

66 
ušt64_t
 
	gi
 = 0; i < 
	gd©aäame_veùÜ
.
size
(); i++) {

67 ià(
uÆik–y
(
i
 % 
kNumEËm’tsP”Scİe
 == 0)) {

68 
scİe
.
ex™
();

69 
	gscİe
.
’‹r
();

70 
	g™
.
»Ãw
(
scİe
);

72 
TEST_ASSERT
(*
™
 ==

73 
¡©ic_ÿ¡
<>(
d©aäame_veùÜ
.
size
(è- 
i
 - 1));

74 ++
	g™
;

78 
TEST_ASSERT
(!
d©aäame_veùÜ
.
em±y
());

79 
TEST_ASSERT
(
d©aäame_veùÜ
.
size
(è=ğ
kNumEÁr›s
);

80 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
; i++) {

81 
D”efScİe
 
	gscİe
;

82 
	gd©aäame_veùÜ
.
pİ_back
(
scİe
);

83 
TEST_ASSERT
(
d©aäame_veùÜ
.
size
(è=ğ
kNumEÁr›s
 - 1 - 
i
);

85 
TEST_ASSERT
(
d©aäame_veùÜ
.
em±y
());

87 
	gd©aäame_veùÜ
.
»£rve
(
kNumEÁr›s
 * 2);

88 
TEST_ASSERT
(
d©aäame_veùÜ
.
ÿ·c™y
(è>ğ
kNumEÁr›s
 * 2);

89 
	gd©aäame_veùÜ
.
»size
(
kNumEÁr›s
 * 2 + 1);

90 
TEST_ASSERT
(
d©aäame_veùÜ
.
ÿ·c™y
(è>ğ
kNumEÁr›s
 * 2 + 1);

91 
TEST_ASSERT
(
d©aäame_veùÜ
.
size
(è=ğ
kNumEÁr›s
 * 2 + 1);

93 
	gd©aäame_veùÜ
.
ş—r
();

94 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
 / 2; i++) {

95 
D”efScİe
 
	gscİe
;

96 
	gd©aäame_veùÜ
.
push_back
(
scİe
, 
¡©ic_ÿ¡
<>(
i
));

97 
	gd©aäame_veùÜ
.
push_back
(
scİe
, 
¡©ic_ÿ¡
<>(
i
));

100 autØ
	gunique_veùÜ
 = 
d©aäame_veùÜ
.
g‘_cŞ_unique_v®ues
(
mªag”
);

101 
TEST_ASSERT
(
unique_veùÜ
.
size
(è=ğ
kNumEÁr›s
 / 2);

102 
	g¡d
::
unÜd”ed_£t
<> 
hash£t
;

103 
ušt64_t
 
	gi
 = 0; i < 
	gkNumEÁr›s
 / 2; i++) {

104 
D”efScİe
 
	gscİe
;

105 autØ
	gv®
 = 
unique_veùÜ
.
©
(
scİe
, 
i
);

106 
TEST_ASSERT
(
v®
 >ğ0 && v® < 
¡©ic_ÿ¡
<>(
kNumEÁr›s
 / 2));

107 autØ
	gš£¹_·œ
 = 
hash£t
.
š£¹
(
v®
);

108 
TEST_ASSERT
(
š£¹_·œ
.
£cÚd
 =ğ
Œue
);

111 autØ
	gšdex_veùÜ
 =

112 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

113 
cÚ¡ex´
‡utØ
	g¦iû_size
 = 
kNumEÁr›s
 / 4;

114 
	gi
 = 0; i < 
	g¦iû_size
; i++) {

115 
D”efScİe
 
	gscİe
;

116 
	gšdex_veùÜ
.
push_back
(
scİe
, 
i
);

119 autØ
	g¦iû
 = 
d©aäame_veùÜ
.
cİy_d©a_by_idx
(
mªag”
, 
šdex_veùÜ
);

120 
TEST_ASSERT
(
¦iû
.
size
(è=ğ
¦iû_size
);

122 
	gi
 = 0; i < 
	g¦iû_size
; i++) {

123 
D”efScİe
 
	gscİe
;

124 autØ
	gidx
 = 
šdex_veùÜ
.
©
(
scİe
, 
i
);

125 
TEST_ASSERT
(
¦iû
.
©
(
scİe
, 
idx
è=ğ
d©aäame_veùÜ
.at(scope, idx));

128 
TEST_ASSERT
(
¦iû
.
’d
(è- sliû.
begš
() ==

129 
¡©ic_ÿ¡
<
št64_t
>(
¦iû
.
size
()));

130 
TEST_ASSERT
(
¦iû
.
begš
(è- sliû.
’d
() ==

131 -
¡©ic_ÿ¡
<
št64_t
>(
¦iû
.
size
()));

132 autØ
	g™”
 = 
¦iû
.
begš
();

133 
	g™”
 +ğ
¦iû
.
size
();

134 
TEST_ASSERT
(
™”
 =ğ
¦iû
.
’d
());

135 
	g™”
--;

136 
TEST_ASSERT
(
™”
 !ğ
¦iû
.
’d
());

138 
	gút
 = 0;

139 autØ
	gd©a
 : 
¦iû
) {

140 
D”efScİe
 
scİe
;

141 
TEST_ASSERT
(
d©a
 =ğ
¦iû
.
©
(
scİe
, 
út
++));

143 
TEST_ASSERT
(
út
 =ğ
¦iû
.
size
());

145 autØ
	g¦iû_cİy
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

146 
	g¦iû_cİy
 = 
¦iû
;

147 
TEST_ASSERT
(
¦iû_cİy
.
size
(è=ğ
¦iû
.size());

148 
	gi
 = 0; i < 
	g¦iû
.
size
(); i++) {

149 
D”efScİe
 
	gscİe
;

150 
TEST_ASSERT
(
¦iû_cİy
.
©
(
scİe
, 
i
è=ğ
¦iû
.at(scope, i));

153 autØ
	gsm®l_veùÜ
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

154 
	gi
 = 
¡d
::
num”ic_lim™s
<>::
max
();

155 
	gi
 >ğ
¡d
::
num”ic_lim™s
<>::
mš
(); i--) {

156 
D”efScİe
 
	gscİe
;

157 
	gsm®l_veùÜ
.
push_back
(
scİe
, 
¡©ic_ÿ¡
<>(
i
));

159 autØ
	gsÜ‹d_šdiûs
 = 
sm®l_veùÜ
.
g‘_sÜ‹d_šdiûs
(
mªag”
, 
çl£
);

160 autØ
	ghighe¡_¿nk
 =

161 
¡©ic_ÿ¡
<
ušt64_t
>(
¡d
::
num”ic_lim™s
<>::
max
()) -

162 
¡©ic_ÿ¡
<
ušt64_t
>(
¡d
::
num”ic_lim™s
<>::
mš
());

163 
ušt64_t
 
	gi
 = 0; i < 
	gsÜ‹d_šdiûs
.
size
(); i++) {

164 
D”efScİe
 
	gscİe
;

165 
TEST_ASSERT
(
sÜ‹d_šdiûs
.
©
(
scİe
, 
i
è=ğ
highe¡_¿nk
 - i);

167 
	gsÜ‹d_šdiûs
 = 
sm®l_veùÜ
.
g‘_sÜ‹d_šdiûs
<
çl£
>(
mªag”
, 
	gçl£
);

168 
ušt64_t
 
	gi
 = 0; i < 
	gsÜ‹d_šdiûs
.
size
(); i++) {

169 
D”efScİe
 
	gscİe
;

170 
TEST_ASSERT
(
sÜ‹d_šdiûs
.
©
(
scİe
, 
i
) == i);

174 
	gkey
[] = {1, 1, 1, 3, 3, 4, 4, 5, 5, 5, 5};

175 
	gd©a
[] = {9, 2, 3, 2, 0, 1, 3, 4, 9, 8, 3};

182 autØ
	gkey_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

183 autØ
	gd©a_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

185 
D”efScİe
 
	gscİe
;

186 
ušt32_t
 
	gi
 = 0; i < 
	g¡d
::
size
(
key
); i++) {

187 
	gkey_vec
.
push_back
(
scİe
, 
key
[
i
]);

188 
	gd©a_vec
.
push_back
(
scİe
, 
d©a
[
i
]);

191 autØ
	gagg_max_vec
 = 
d©a_vec
.
agg»g©e_max
(
mªag”
, 
key_vec
);

192 
TEST_ASSERT
(
agg_max_vec
.
size
() == 4);

194 
D”efScİe
 
	gscİe
;

195 
TEST_ASSERT
(
agg_max_vec
.
©
(
scİe
, 0) == 9);

196 
TEST_ASSERT
(
agg_max_vec
.
©
(
scİe
, 1) == 2);

197 
TEST_ASSERT
(
agg_max_vec
.
©
(
scİe
, 2) == 3);

198 
TEST_ASSERT
(
agg_max_vec
.
©
(
scİe
, 3) == 9);

200 autØ
	gagg_mš_vec
 = 
d©a_vec
.
agg»g©e_mš
(
mªag”
, 
key_vec
);

202 
D”efScİe
 
	gscİe
;

203 
TEST_ASSERT
(
agg_mš_vec
.
size
() == 4);

204 
TEST_ASSERT
(
agg_mš_vec
.
©
(
scİe
, 0) == 2);

205 
TEST_ASSERT
(
agg_mš_vec
.
©
(
scİe
, 1) == 0);

206 
TEST_ASSERT
(
agg_mš_vec
.
©
(
scİe
, 2) == 1);

207 
TEST_ASSERT
(
agg_mš_vec
.
©
(
scİe
, 3) == 3);

209 autØ
	gagg_medŸn_vec
 = 
d©a_vec
.
agg»g©e_medŸn
(
mªag”
, 
key_vec
);

211 
D”efScİe
 
	gscİe
;

212 
TEST_ASSERT
(
agg_medŸn_vec
.
size
() == 4);

213 
TEST_ASSERT
(
agg_medŸn_vec
.
©
(
scİe
, 0) == 3);

214 
TEST_ASSERT
(
agg_medŸn_vec
.
©
(
scİe
, 1) == 1);

215 
TEST_ASSERT
(
agg_medŸn_vec
.
©
(
scİe
, 2) == 2);

216 
TEST_ASSERT
(
agg_medŸn_vec
.
©
(
scİe
, 3) == 6);

221 
	gd©a
[] = {2, 5, 3, 7, 4, 6, 2, 6, 9, 0, -3, -5, -4, 3, -9};

222 autØ
	gd©a_vec
 = 
mªag”
->
®loÿ‹_d©aäame_veùÜ
<>();

223 
ušt32_t
 
	gi
 = 0; i < 
	g¡d
::
size
(
d©a
); i++) {

224 
D”efScİe
 
	gscİe
;

225 
	gd©a_vec
.
push_back
(
scİe
, 
d©a
[
i
]);

227 autØ
	gsÜ‹d_šdiûs
 = 
d©a_vec
.
g‘_sÜ‹d_šdiûs
(
mªag”
, 
çl£
);

228 autØ
	gshufæed_d©a_vec
 =

229 
d©a_vec
.
shufæe_d©a_by_idx
(
mªag”
, 
sÜ‹d_šdiûs
);

230 
TEST_ASSERT
(
shufæed_d©a_vec
.
size
(è=ğ
¡d
::size(
d©a
));

231 
	g¡d
::
sÜt
(
d©a
, d©¨+ 
¡d
::
size
(data));

232 
ušt32_t
 
	gi
 = 0; i < 
	g¡d
::
size
(
d©a
); i++) {

233 
D”efScİe
 
	gscİe
;

234 
TEST_ASSERT
(
d©a
[
i
] =ğ
shufæed_d©a_vec
.
©
(
scİe
, i));

238 
	gcout
 << "Pas£d" << 
	g’dl
;

243 
	$_maš
(*
¬g
) {

244 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

245 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

246 
F¬MemTe¡
 
‹¡
;

247 
‹¡
.
	`do_wÜk
(
mªag”
.
	`g‘
());

248 
	}
}

250 
	$maš
(
¬gc
, *
¬gv
[]) {

251 
»t
;

253 ià(
¬gc
 < 2) {

254 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

255  -
EINVAL
;

258 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

259 ià(
»t
) {

260 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

261  
»t
;

265 
	}
}

	@test/test_embedded_pointer.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dlib
>

10 
	~<c¡ršg
>

11 
	~<io¡»am
>

12 
	~<memÜy
>

13 
	~<veùÜ
>

15 
usšg
 
Çme¥aû
 
çr_memÜy
;

16 
usšg
 
Çme¥aû
 
	g¡d
;

18 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256 * 
RegiÚ
::
kSize
;

19 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 33);

20 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 12;

21 
cÚ¡ex´
 
ušt64_t
 
	gkEÁrySize
 = 4096;

22 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkšgS‘Size
 = (1ULL << 30);

23 
cÚ¡ex´
 
ušt64_t
 
	gkA¼ayDim1L’
 = 64;

24 
cÚ¡ex´
 
ušt64_t
 
	gkA¼ayDim2L’
 = 
kWÜkšgS‘Size
 / 
kA¼ayDim1L’
 / 
kEÁrySize
;

25 
cÚ¡ex´
 
ušt8_t
 
	gkDSID
 = 128;

27 
	sD©a_t
 {

28 
ušt8_t
 
	md©a
[
kEÁrySize
];

31 
	sA¼ayDim1
 {

32 
	mUniquePŒ
<
	mD©a_t
> 
	m±rs
[
kA¼ayDim1L’
];

35 
	g‹m¶©e
 <
	gN
> 
	sA¼ayDim2
 { 
	mUniquePŒ
<
	mA¼ayDim1
> 
	m±rs
[
N
]; };

37 
Çme¥aû
 
	gçr_memÜy
 {

38 şas 
	cF¬MemTe¡
 {

39 
	gpublic
:

40 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

41 
F¬MemMªag”
::
EvacNÙif›r
 
evac_nÙif›r_â
 =

42 [&](
Objeù
 
obj
, 
	gF¬MemMªag”
::
Wr™eObjeùFn
 
wr™e_obj_â
è-> 
boŞ
 {

43 autØ*
¬¿y_d©a_dim1
 =

44 
»š‹½»t_ÿ¡
<
A¼ayDim1
 *>(
obj
.
g‘_d©a_addr
());

45 
ušt32_t
 
	gi
 = 0; i < 
	gkA¼ayDim1L’
; i++) {

46 
	g¬¿y_d©a_dim1
->
	g±rs
[
i
].
evacu©e
();

48 
wr™e_obj_â
((
A¼ayDim1
));

49  
	gçl£
;

51 
	gF¬MemMªag”
::
CİyNÙif›r
 
cİy_nÙif›r_â
 = [&](
Objeù
 
de¡
,

52 
Objeù
 
	g¤c
) -> {

53 autØ*
	gde¡_¬¿y_d©a_dim1
 =

54 
»š‹½»t_ÿ¡
<
A¼ayDim1
 *>(
de¡
.
g‘_d©a_addr
());

55 autØ*
	g¤c_¬¿y_d©a_dim1
 =

56 
»š‹½»t_ÿ¡
<
A¼ayDim1
 *>(
¤c
.
g‘_d©a_addr
());

57 
ušt32_t
 
	gi
 = 0; i < 
	gkA¼ayDim1L’
; i++) {

58 
	gde¡_¬¿y_d©a_dim1
->
	g±rs
[
i
] = 
¡d
::
move
(
¤c_¬¿y_d©a_dim1
->
±rs
[i]);

61 
	gmªag”
->
»gi¡”_ev®_nÙif›r
(
kDSID
, 
evac_nÙif›r_â
);

62 
	gmªag”
->
»gi¡”_cİy_nÙif›r
(
kDSID
, 
cİy_nÙif›r_â
);

64 autØ
	g¬¿y_dim2
 = 
¡d
::
make_unique
<
A¼ayDim2
<
kA¼ayDim2L’
>>();

65 
ušt32_t
 
	gi
 = 0; i < 
	gkA¼ayDim2L’
; i++) {

66 
	g¬¿y_dim2
->
	g±rs
[
i
] = 
mªag”
->
®loÿ‹_unique_±r
<
A¼ayDim1
>(
kDSID
);

67 
D”efScİe
 
	gscİe
;

68 autØ*
	g¬¿y_d©a_dim1
 = 
¬¿y_dim2
->
±rs
[
i
].
d”ef_mut
(
scİe
);

69 
ušt32_t
 
	gj
 = 0; j < 
	gkA¼ayDim1L’
; j++) {

70 
	g¬¿y_d©a_dim1
->
	g±rs
[
j
] = 
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>();

71 autØ*
	gd©a
 = 
¬¿y_d©a_dim1
->
±rs
[
j
].
d”ef_mut
(
scİe
);

72 
ušt32_t
 
	gk
 = 0; k < 
	gkEÁrySize
; k++) {

73 
	gd©a
->d©a[
k
] = 
i
 + 
j
 + k;

78 
ušt32_t
 
	gi
 = 0; i < 
	gkA¼ayDim2L’
; i++) {

79 
D”efScİe
 
	gscİe
;

80 autØ*
	g¬¿y_d©a_dim1
 = 
¬¿y_dim2
->
±rs
[
i
].
d”ef
(
scİe
);

81 
ušt32_t
 
	gj
 = 0; j < 
	gkA¼ayDim1L’
; j++) {

82 autØ*
	gd©a
 =

83 
cÚ¡_ÿ¡
<
UniquePŒ
<
D©a_t
> *>(&(
¬¿y_d©a_dim1
->
±rs
[
j
]))

84 ->
d”ef
(
scİe
);

85 
ušt32_t
 
	gk
 = 0; k < 
	gkEÁrySize
; k++) {

86 ià(
	gd©a
->d©a[
k
] !ğ
¡©ic_ÿ¡
<
ušt8_t
>(
i
 + 
j
 + k)) {

87 
ç
;

93 
	gcout
 << "Pas£d" << 
	g’dl
;

96 
	gç
:

97 
cout
 << "Faed" << 
’dl
;

103 
	$_maš
(*
¬g
) {

104 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

105 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

106 
F¬MemTe¡
 
t
;

107 
t
.
	`do_wÜk
(
mªag”
.
	`g‘
());

108 
	}
}

110 
	$maš
(
¬gc
, *
¬gv
[]) {

111 
»t
;

113 ià(
¬gc
 < 2) {

114 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

115  -
EINVAL
;

118 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

119 ià(
»t
) {

120 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

121  
»t
;

125 
	}
}

	@test/test_hashtable_clock_replacement.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"cÚcu¼’t_hİscÙch.hµ
"

7 
	~"deviû.hµ
"

8 
	~"h–³rs.hµ
"

9 
	~"mªag”.hµ
"

10 
	~"¦ab.hµ
"

12 
	~<c¡dlib
>

13 
	~<c¡ršg
>

14 
	~<io¡»am
>

15 
	~<m­
>

16 
	~<¿ndom
>

17 
	~<¡ršg
>

18 
	~<veùÜ
>

20 
usšg
 
Çme¥aû
 
çr_memÜy
;

21 
usšg
 
Çme¥aû
 
	g¡d
;

23 
Çme¥aû
 
	gçr_memÜy
 {

25 şas 
	cF¬MemTe¡
 {

27 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 128;

28 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 400;

29 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.3;

30 
cÚ¡ex´
 
ušt64_t
 
	gkHashTabËNumEÁr›sShiá
 = 23;

31 
cÚ¡ex´
 
ušt64_t
 
	gkHashTabËRemÙeD©aSize
 = 8ULL << 30;

32 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

33 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

34 
cÚ¡ex´
 
ušt32_t
 
	gkHÙKVSL’
 = 64;

35 
cÚ¡ex´
 
ušt32_t
 
	gkNumNÜm®G‘sToTrigg”HÙLookup
 = 256;

37 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 400ULL << 20;

38 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = 1ULL << 30;

39 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 21;

41 
	sKey
 {

42 
	gd©a
[
kKeyL’
];

44 
	g¡d
::
veùÜ
<
Key
> 
keys
;

45 
	g¡d
::
veùÜ
<
Key
> 
hÙ_keys
;

47 
	sV®ue
 {

48 
	gd©a
[
kV®ueL’
];

50 
	g¡d
::
veùÜ
<
V®ue
> 
v®ues
;

52 
šlše
 
¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

53 
	g¡d
::
¿ndom_deviû
 
rd
;

54 
	g¡d
::
mt19937
 
g’”©Ü
(
rd
());

55 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
('a', 'z' + 1);

56 
ušt32_t
 
	gi
 = 0; i < 
	gËn
; i++) {

57 
	gd©a
[
i
] = (
di¡ributiÚ
(
g’”©Ü
));

61 
g’”©e_kvs
() {

62 
Key
 
	gkey
;

63 
V®ue
 
	gv®ue
;

64 
ušt32_t
 
	gi
 = 0; i < 
	gkNumKVPaœs
; i++) {

65 
¿ndom_¡ršg
(
key
.
d©a
, 
kKeyL’
);

66 
¿ndom_¡ršg
(
v®ue
.
d©a
, 
kV®ueL’
);

67 
	gkeys
.
push_back
(
key
);

68 
	gv®ues
.
push_back
(
v®ue
);

72 
choo£_hÙ_kvs
() {

73 
ušt32_t
 
	gi
 = 0; i < 
	gkHÙKVSL’
; i++) {

74 
	ghÙ_keys
.
push_back
(
keys
[
i
]);

78 
put_kvs
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

79 
ušt32_t
 
	gi
 = 0; i < 
	gkeys
.
size
(); i++) {

80 autØ&
	gkey
 = 
keys
[
i
];

81 autØ&
	gv®ue
 = 
v®ues
[
i
];

82 
	ghİscÙch
->
put_
(
kKeyL’
, 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
key
.
d©a
),

83 
kV®ueL’
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®ue
.
d©a
));

87 
g‘_kvs
(
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

88 
ušt32_t
 
	gsum_fÜw¬ded
 = 0;

89 
ušt32_t
 
	gi
 = 0; i < 
	gkeys
.
size
(); i++) {

90 autØ
	gkey
 = 
keys
[
i
];

91 
V®ue
 
	gv®ue
;

92 
ušt16_t
 
	gv®ue_Ën
;

93 ià(
	gi
 == 0) {

95 cÚ¡‡utØ&
key
 : 
hÙ_keys
) {

96 
hİscÙch
->
g‘_
(

97 
kKeyL’
, 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
key
.
d©a
), &
v®ue_Ën
,

98 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®ue
.
d©a
));

102 ià(
	gi
 % 
	gkNumNÜm®G‘sToTrigg”HÙLookup
 == 0) {

103 cÚ¡‡utØ&
key
 : 
hÙ_keys
) {

104 
D”efScİe
 
scİe
;

105 
boŞ
 
	gfÜw¬ded
 = 
çl£
;

106 
	ghİscÙch
->
_g‘
(
kKeyL’
, 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
key
.
d©a
),

107 &
v®ue_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®ue
.
d©a
),

108 &
fÜw¬ded
);

109 
	gsum_fÜw¬ded
 +ğ
fÜw¬ded
;

112 
	ghİscÙch
->
g‘_
(
kKeyL’
, 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
key
.
d©a
),

113 &
v®ue_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®ue
.
d©a
));

114 ià(
	gv®ue_Ën
 !ğ
kV®ueL’
 ||

115 
¡ºcmp
(
v®ues
[
i
].
d©a
, 
v®ue
.d©a, 
v®ue_Ën
) != 0) {

116 
unm©ched
;

120 ià(
	gsum_fÜw¬ded
 == 0) {

121 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

123 
	g¡d
::
cout
 << "Faed" << 
¡d
::
’dl
;

126 
	gunm©ched
:

127 
¡d
::
cout
 << "V®udÛ nÙ m©ch" << std::
’dl
;

130 
	gpublic
:

131 
do_wÜk
() {

132 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

134 
	g¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

135 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
bud
(

136 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
FakeDeviû
(
kF¬MemSize
)));

138 autØ
	ghİscÙch
 = 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch
(

139 
kHashTabËNumEÁr›sShiá
, kHashTableNumEntriesShift,

140 
kHashTabËRemÙeD©aSize
);

141 
g’”©e_kvs
();

142 
choo£_hÙ_kvs
();

143 
put_kvs
(&
hİscÙch
);

144 
g‘_kvs
(&
hİscÙch
);

149 
	$_maš
(*
¬gs
) {

150 
F¬MemTe¡
 
‹¡
;

151 
‹¡
.
	`do_wÜk
();

152 
	}
}

154 
	$maš
(
¬gc
, **
¬gv
) {

155 
»t
;

157 ià(
¬gc
 < 2) {

158 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

159  -
EINVAL
;

162 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

163 ià(
»t
) {

164 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

165  
»t
;

169 
	}
}

	@test/test_hopscotch_gc_parallel.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"cÚcu¼’t_hİscÙch.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<c¡dlib
>

12 
	~<io¡»am
>

13 
	~<¡ršg
>

14 
	~<veùÜ
>

16 
usšg
 
Çme¥aû
 
çr_memÜy
;

17 
usšg
 
Çme¥aû
 
	g¡d
;

19 
cÚ¡ex´
 
ušt32_t
 
	gkNumTh»ads
 = 23;

20 
cÚ¡ex´
 
ušt32_t
 
	gkKeyMaxL’
 = 5;

21 
cÚ¡ex´
 
ušt32_t
 
	gkV®MaxL’
 = 10;

22 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËNumEÁr›sShiá
 = 19;

23 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËRemÙeD©aSize
 =

24 (
Objeù
::
kH—d”Size
 + 
kKeyMaxL’
 + 
kV®MaxL’
) *

25 (1 << 
kHashTabËNumEÁr›sShiá
è* 
kNumTh»ads
;

26 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.85;

27 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

28 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

30 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

31 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (4ULL << 30);

32 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

34 
	sOp
 {

35 
	eOpCode
 { 
	mG‘
, 
	mPut
, 
	mRemove
 } 
	mİcode
;

36 
	m¡d
::
¡ršg
 
key
;

37 
	m¡d
::
¡ršg
 
v®
;

40 
	g¡d
::
veùÜ
<
Op
> 
İs
[
kNumTh»ads
];

41 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

43 
	g¡d
::
¡ršg
 
	$¿ndom_¡ršg
(
ušt32_t
 
max_Ën
) {

44 
¡d
::
¡ršg
 
¡r
;

45 autØ
Ën
 = 
	`¿nd
(è% 
max_Ën
 + 1;

46 
ušt32_t
 
i
 = 0; i < 
Ën
; i++) {

47 
¡r
 +ğ
	`¿nd
() % ('z' - 'a' + 1) + 'a';

49  
¡r
;

50 
	}
}

52 
	$th»ad_wÜk_â
(
tid
, 
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

53 autØ&
İ
 : 
İs
[
tid
]) {

54 ià(
İ
.
İcode
 =ğ
Op
::
G‘
) {

55 
ušt16_t
 
v®_Ën
;

56 
¿w_v®
[
kV®MaxL’
];

57 
hİscÙch
->
	`g‘_
(
İ
.
key
.
	`size
(),

58 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
İ
.
key
.
	`c_¡r
()),

59 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
¿w_v®
));

60 ià(!
v®_Ën
) {

63 autØ
v®
 = 
¡d
::
	`¡ršg
(
¿w_v®
, 
v®_Ën
);

64 autØ
´efix_’d
 = 
v®
.
	`fšd
("_");

65 
	`BUG_ON
(
´efix_’d
 =ğ
¡d
::
¡ršg
::
Åos
);

66 
¡d
::
¡ršg
 
´efix
 = 
v®
.
	`sub¡r
(0, 
´efix_’d
);

67 autØ
suffix_begš
 = 
v®
.
	`fšd
("_");

68 
	`BUG_ON
(
suffix_begš
 =ğ
¡d
::
¡ršg
::
Åos
);

69 autØ
suffix
 = 
¡d
::
	`¡oi
(
v®
.
	`sub¡r
(
suffix_begš
 + 1));

70 ià(
´efix
 !ğ
İ
.
key
 || 
suffix
 < 0 ||

71 
suffix
 >ğ
¡©ic_ÿ¡
<>(
kNumTh»ads
)) {

72 
¡d
::
cout
 << "Faed" << std::
’dl
;

75 } ià(
İ
.
İcode
 =ğ
Op
::
Put
) {

76 
hİscÙch
->
	`put_
(

77 
İ
.
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(İ.key.
	`c_¡r
()),

78 
İ
.
v®
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(İ.v®.
	`c_¡r
()));

79 } ià(
İ
.
İcode
 =ğ
Op
::
Remove
) {

80 
hİscÙch
->
	`»move_
(
İ
.
key
.
	`size
(),

81 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
İ
.
key
.
	`c_¡r
()));

84 
	}
}

86 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

87 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

89 autØ
hİscÙch
 = 
mªag”
->
	`®loÿ‹_cÚcu¼’t_hİscÙch
(

90 
kHashTabËNumEÁr›sShiá
, kHashTableNumEntriesShift,

91 
kHashTabËRemÙeD©aSize
);

93 
ušt32_t
 
i
 = 0; i < 
kNumKVPaœs
; i++) {

94 autØ
key
 = 
	`¿ndom_¡ršg
(
kKeyMaxL’
);

95 
ušt32_t
 
j
 = 0; j < 
kNumTh»ads
; j++) {

96 autØ
v®
 = 
key
 + "_" + 
¡d
::
	`to_¡ršg
(
j
);

97 
Op
 
İ
 {

98 .
İcode
 = 
Op
::
G‘
, .
key
 = key, .
v®
 = val

100 
İs
[
j
].
	`push_back
(
İ
);

101 
İ
.
İcode
 = 
Op
::
Put
;

102 
İs
[
j
].
	`push_back
(
İ
);

103 
İ
.
İcode
 = 
Op
::
Remove
;

104 
İs
[
j
].
	`push_back
(
İ
);

108 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

109 
¡d
::
	`¿ndom_shufæe
(
İs
[
i
].
	`begš
(), ops[i].
	`’d
());

112 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

113 
th»ads
.
	`push_back
(
¹
::
	`Th»ad
([&, 
i
](è{ 
	`th»ad_wÜk_â
(i, &
hİscÙch
); }));

116 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

117 
th»ads
[
i
].
	`Još
();

120 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

121 
	}
}

123 
	$_maš
(*
¬g
) {

124 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

125 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

126 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

127 
	`do_wÜk
(
mªag”
.
	`g‘
());

128 
	}
}

130 
	$maš
(
¬gc
, **
¬gv
) {

131 
»t
;

133 ià(
¬gc
 < 2) {

134 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

135  -
EINVAL
;

138 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

139 ià(
»t
) {

140 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

141  
»t
;

145 
	}
}

	@test/test_hopscotch_gc_serial.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"cÚcu¼’t_hİscÙch.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<c¡dlib
>

11 
	~<c¡ršg
>

12 
	~<io¡»am
>

13 
	~<m­
>

14 
	~<¡ršg
>

16 
usšg
 
Çme¥aû
 
çr_memÜy
;

17 
usšg
 
Çme¥aû
 
	g¡d
;

19 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 200;

20 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 700;

21 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËNumEÁr›sShiá
 = 19;

22 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËRemÙeD©aSize
 =

23 (
Objeù
::
kH—d”Size
 + 
kKeyL’
 + 
kV®ueL’
) *

24 (1 << 
kHashTabËNumEÁr›sShiá
);

25 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.80;

26 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

27 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

29 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

30 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

31 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

33 
	sKey
 {

34 
	md©a
[
kKeyL’
];

35 
boŞ
 
	mİ”©Ü
<(cÚ¡ 
	mKey
 &
	mÙh”
) const {

36  
¡ºcmp
(
d©a
, 
Ùh”
.d©a, 
kKeyL’
) < 0;

40 
	sV®ue
 {

41 
	md©a
[
kV®ueL’
];

42 
boŞ
 
	mİ”©Ü
<(cÚ¡ 
	mV®ue
 &
	mÙh”
) const {

43  
¡ºcmp
(
d©a
, 
Ùh”
.d©a, 
kV®ueL’
) < 0;

47 
	g¡d
::
m­
<
Key
, 
	gV®ue
> 
	gkvs
;

49 
	$¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

50 
ušt32_t
 
i
 = 0; i < 
Ën
; i++) {

51 
d©a
[
i
] = 
	`¿nd
() % ('z' - 'a' + 1) + 'a';

53 
	}
}

55 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

56 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

58 autØ
hİscÙch
 = 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch
<
Key
, 
V®ue
>(

59 
kHashTabËNumEÁr›sShiá
, kHashTableNumEntriesShift,

60 
kHashTabËRemÙeD©aSize
);

62 
ušt32_t
 
i
 = 0; i < 
kNumKVPaœs
; i++) {

63 
Key
 
key
;

64 
V®ue
 
v®ue
;

65 
	`¿ndom_¡ršg
(
key
.
d©a
, 
kKeyL’
);

66 
	`¿ndom_¡ršg
(
v®ue
.
d©a
, 
kV®ueL’
);

67 
hİscÙch
.
	`š£¹_
(
key
, 
v®ue
);

68 
kvs
[
key
] = 
v®ue
;

71 autØ&[
key
, 
v®ue
] : 
kvs
) {

72 
¡d
::
İtiÚ®
<
V®ue
> 
İtiÚ®_v®ue
;

73 
İtiÚ®_v®ue
 = 
hİscÙch
.
	`fšd_
(
key
);

74 
	`TEST_ASSERT
(
İtiÚ®_v®ue
);

75 
	`TEST_ASSERT
(
	`¡ºcmp
(
İtiÚ®_v®ue
->
d©a
, 
v®ue
.d©a, 
kV®ueL’
) == 0);

78 autØ&[
key
, 
v®ue
] : 
kvs
) {

79 
	`TEST_ASSERT
(
hİscÙch
.
	`”a£_
(
key
));

82 autØ&[
key
, 
v®ue
] : 
kvs
) {

83 
¡d
::
İtiÚ®
<
V®ue
> 
İtiÚ®_v®ue
;

84 
hİscÙch
.
	`fšd_
(
key
);

85 
	`TEST_ASSERT
(!
İtiÚ®_v®ue
);

88 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

89 
	}
}

91 
	$_maš
(*
¬gs
) {

92 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

93 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

94 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

95 
	`do_wÜk
(
mªag”
.
	`g‘
());

96 
	}
}

98 
	$maš
(
¬gc
, **
¬gv
) {

99 
»t
;

101 ià(
¬gc
 < 2) {

102 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

103  -
EINVAL
;

106 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

107 ià(
»t
) {

108 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

109  
»t
;

113 
	}
}

	@test/test_hopscotch_parallel.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"cÚcu¼’t_hİscÙch.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<c¡dlib
>

12 
	~<io¡»am
>

13 
	~<¡ršg
>

14 
	~<veùÜ
>

16 
usšg
 
Çme¥aû
 
çr_memÜy
;

17 
usšg
 
Çme¥aû
 
	g¡d
;

19 
cÚ¡ex´
 
ušt32_t
 
	gkNumTh»ads
 = 23;

20 
cÚ¡ex´
 
ušt32_t
 
	gkKeyMaxL’
 = 5;

21 
cÚ¡ex´
 
ušt32_t
 
	gkV®MaxL’
 = 10;

22 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËNumEÁr›sShiá
 = 17;

23 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËRemÙeD©aSize
 =

24 (
Objeù
::
kH—d”Size
 + 
kKeyMaxL’
 + 
kV®MaxL’
) *

25 (1 << 
kHashTabËNumEÁr›sShiá
è* 
kNumTh»ads
;

26 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.85;

27 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

28 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

30 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (4ULL << 30);

31 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (4ULL << 30);

32 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

34 
	sOp
 {

35 
	eOpCode
 { 
	mG‘
, 
	mPut
, 
	mRemove
 } 
	mİcode
;

36 
	m¡d
::
¡ršg
 
key
;

37 
	m¡d
::
¡ršg
 
v®
;

40 
	g¡d
::
veùÜ
<
Op
> 
İs
[
kNumTh»ads
];

41 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

43 
	g¡d
::
¡ršg
 
	$¿ndom_¡ršg
(
ušt32_t
 
max_Ën
) {

44 
¡d
::
¡ršg
 
¡r
;

45 autØ
Ën
 = 
	`¿nd
(è% 
max_Ën
 + 1;

46 
ušt32_t
 
i
 = 0; i < 
Ën
; i++) {

47 
¡r
 +ğ
	`¿nd
() % ('z' - 'a' + 1) + 'a';

49  
¡r
;

50 
	}
}

52 
	$th»ad_wÜk_â
(
tid
, 
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

53 autØ&
İ
 : 
İs
[
tid
]) {

54 ià(
İ
.
İcode
 =ğ
Op
::
G‘
) {

55 
ušt16_t
 
v®_Ën
;

56 
¿w_v®
[
kV®MaxL’
];

57 
hİscÙch
->
	`g‘_
(
İ
.
key
.
	`size
(),

58 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
İ
.
key
.
	`c_¡r
()),

59 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
¿w_v®
));

60 ià(!
v®_Ën
) {

63 autØ
v®
 = 
¡d
::
	`¡ršg
(
¿w_v®
, 
v®_Ën
);

64 
¡d
::
¡ršg
 
´efix
 = 
v®
.
	`sub¡r
(0, v®.
	`fšd
("_"));

65 autØ
suffix
 = 
¡d
::
	`¡oi
(
v®
.
	`sub¡r
(v®.
	`fšd
("_") + 1));

66 ià(
´efix
 !ğ
İ
.
key
 || 
suffix
 < 0 ||

67 
suffix
 >ğ
¡©ic_ÿ¡
<>(
kNumTh»ads
)) {

68 
hİscÙch
->
	`g‘_
(
İ
.
key
.
	`size
(),

69 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
İ
.
key
.
	`c_¡r
()),

70 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
¿w_v®
));

71 
¡d
::
cout
 << "Faed" << std::
’dl
;

74 } ià(
İ
.
İcode
 =ğ
Op
::
Put
) {

75 
hİscÙch
->
	`put_
(

76 
İ
.
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(İ.key.
	`c_¡r
()),

77 
İ
.
v®
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(İ.v®.
	`c_¡r
()));

78 } ià(
İ
.
İcode
 =ğ
Op
::
Remove
) {

79 
hİscÙch
->
	`»move_
(
İ
.
key
.
	`size
(),

80 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
İ
.
key
.
	`c_¡r
()));

83 
	}
}

85 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

86 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

88 autØ
hİscÙch
 = 
mªag”
->
	`®loÿ‹_cÚcu¼’t_hİscÙch
(

89 
kHashTabËNumEÁr›sShiá
, kHashTableNumEntriesShift,

90 
kHashTabËRemÙeD©aSize
);

92 
ušt32_t
 
i
 = 0; i < 
kNumKVPaœs
; i++) {

93 autØ
key
 = 
	`¿ndom_¡ršg
(
kKeyMaxL’
);

94 
ušt32_t
 
j
 = 0; j < 
kNumTh»ads
; j++) {

95 autØ
v®
 = 
key
 + "_" + 
¡d
::
	`to_¡ršg
(
j
);

96 
Op
 
İ
 {

97 .
İcode
 = 
Op
::
G‘
, .
key
 = key, .
v®
 = val

99 
İs
[
j
].
	`push_back
(
İ
);

100 
İ
.
İcode
 = 
Op
::
Put
;

101 
İs
[
j
].
	`push_back
(
İ
);

102 
İ
.
İcode
 = 
Op
::
Remove
;

103 
İs
[
j
].
	`push_back
(
İ
);

107 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

108 
¡d
::
	`¿ndom_shufæe
(
İs
[
i
].
	`begš
(), ops[i].
	`’d
());

111 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

112 
th»ads
.
	`push_back
(
¹
::
	`Th»ad
([&, 
i
](è{ 
	`th»ad_wÜk_â
(i, &
hİscÙch
); }));

115 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

116 
th»ads
[
i
].
	`Još
();

119 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

120 
	}
}

122 
	$_maš
(*
¬g
) {

123 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

124 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

125 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

126 
	`do_wÜk
(
mªag”
.
	`g‘
());

127 
	}
}

129 
	$maš
(
¬gc
, **
¬gv
) {

130 
»t
;

132 ià(
¬gc
 < 2) {

133 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

134  -
EINVAL
;

137 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

138 ià(
»t
) {

139 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

140  
»t
;

144 
	}
}

	@test/test_hopscotch_serial.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"cÚcu¼’t_hİscÙch.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<c¡dlib
>

11 
	~<c¡ršg
>

12 
	~<io¡»am
>

13 
	~<m­
>

14 
	~<¡ršg
>

16 
usšg
 
Çme¥aû
 
çr_memÜy
;

17 
usšg
 
Çme¥aû
 
	g¡d
;

19 
cÚ¡ex´
 
ušt32_t
 
	gkKeyL’
 = 200;

20 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueL’
 = 700;

21 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËNumEÁr›sShiá
 = 16;

22 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËRemÙeD©aSize
 =

23 (
Objeù
::
kH—d”Size
 + 
kKeyL’
 + 
kV®ueL’
) *

24 (1 << 
kHashTabËNumEÁr›sShiá
);

25 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.80;

26 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

27 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

29 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (1ULL << 30);

30 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

31 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

33 
	sKey
 {

34 
	md©a
[
kKeyL’
];

35 
boŞ
 
	mİ”©Ü
<(cÚ¡ 
	mKey
 &
	mÙh”
) const {

36  
¡ºcmp
(
d©a
, 
Ùh”
.d©a, 
kKeyL’
) < 0;

40 
	sV®ue
 {

41 
	md©a
[
kV®ueL’
];

42 
boŞ
 
	mİ”©Ü
<(cÚ¡ 
	mV®ue
 &
	mÙh”
) const {

43  
¡ºcmp
(
d©a
, 
Ùh”
.d©a, 
kV®ueL’
) < 0;

47 
	g¡d
::
m­
<
Key
, 
	gV®ue
> 
	gkvs
;

49 
	$¿ndom_¡ršg
(*
d©a
, 
ušt32_t
 
Ën
) {

50 
ušt32_t
 
i
 = 0; i < 
Ën
; i++) {

51 
d©a
[
i
] = 
	`¿nd
() % ('z' - 'a' + 1) + 'a';

53 
	}
}

55 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

56 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

58 autØ
hİscÙch
 = 
mªag”
->
®loÿ‹_cÚcu¼’t_hİscÙch
<
Key
, 
V®ue
>(

59 
kHashTabËNumEÁr›sShiá
, kHashTableNumEntriesShift,

60 
kHashTabËRemÙeD©aSize
);

62 
ušt32_t
 
i
 = 0; i < 
kNumKVPaœs
; i++) {

63 
Key
 
key
;

64 
V®ue
 
v®ue
;

65 
	`¿ndom_¡ršg
(
key
.
d©a
, 
kKeyL’
);

66 
	`¿ndom_¡ršg
(
v®ue
.
d©a
, 
kV®ueL’
);

67 
hİscÙch
.
	`š£¹_
(
key
, 
v®ue
);

68 
kvs
[
key
] = 
v®ue
;

71 autØ&[
key
, 
v®ue
] : 
kvs
) {

72 
¡d
::
İtiÚ®
<
V®ue
> 
İtiÚ®_v®ue
;

73 
İtiÚ®_v®ue
 = 
hİscÙch
.
	`fšd_
(
key
);

74 
	`TEST_ASSERT
(
İtiÚ®_v®ue
);

75 
	`TEST_ASSERT
(
	`¡ºcmp
(
İtiÚ®_v®ue
->
d©a
, 
v®ue
.d©a, 
kV®ueL’
) == 0);

78 autØ&[
key
, 
v®ue
] : 
kvs
) {

79 
	`TEST_ASSERT
(
hİscÙch
.
	`”a£_
(
key
));

82 autØ&[
key
, 
v®ue
] : 
kvs
) {

83 
¡d
::
İtiÚ®
<
V®ue
> 
İtiÚ®_v®ue
;

84 
hİscÙch
.
	`fšd_
(
key
);

85 
	`TEST_ASSERT
(!
İtiÚ®_v®ue
);

88 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

89 
	}
}

91 
	$_maš
(*
¬gs
) {

92 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

93 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

94 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

95 
	`do_wÜk
(
mªag”
.
	`g‘
());

96 
	}
}

98 
	$maš
(
¬gc
, **
¬gv
) {

99 
»t
;

101 ià(
¬gc
 < 2) {

102 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

103  -
EINVAL
;

106 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

107 ià(
»t
) {

108 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

109  
»t
;

113 
	}
}

	@test/test_ht_client.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"ht_ş›Á.hµ
"

7 
	~<c¡dšt
>

8 
	~<io¡»am
>

9 
	~<memÜy
>

11 
usšg
 
Çme¥aû
 
çr_memÜy
;

12 
usšg
 
Çme¥aû
 
	g¡d
;

14 
	g¡d
::
unique_±r
<
HashTabË
> 
ht
;

16 
	$do_wÜk
(*
¬g
) {

17 
ht
 = 
¡d
::
make_unique
<
HashTabË
>();

18 
¡ršg
 
»®_key
 = "key";

19 
¡ršg
 
»®_v®ue
 = "value";

20 ià(
ht
->
	`g‘
(
»®_key
) != "") {

21 
ç
;

23 
ht
->
	`put
(
»®_key
, 
»®_v®ue
);

24 ià(
ht
->
	`g‘
(
»®_key
) != "value") {

25 
ç
;

27 
ht
->
	`»move
(
»®_key
);

28 ià(
ht
->
	`g‘
(
»®_key
) != "") {

29 
ç
;

32 
cout
 << "Pas£d" << 
’dl
;

35 
ç
:

36 
cout
 << "Faed" << 
’dl
;

38 
	}
}

40 
	$maš
(
¬gc
, *
¬gv
[]) {

41 
»t
;

43 ià(
¬gc
 < 2) {

44 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

45  -
EINVAL
;

48 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

49 ià(
»t
) {

50 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

51  
»t
;

55 
	}
}

	@test/test_list.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"li¡.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<io¡»am
>

11 
usšg
 
Çme¥aû
 
çr_memÜy
;

13 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

14 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (4ULL << 30);

15 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

17 
Çme¥aû
 
	gçr_memÜy
 {

19 şas 
	cF¬MemTe¡
 {

20 
	gpublic
:

21 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

22 
¡d
::
cout
 << "RuÂšg " << 
__FILE__
 "..." << std::
’dl
;

23 
D”efScİe
 
	gscİe
;

24 
	gLi¡
<> 
	gli¡
 = 
F¬MemMªag”FaùÜy
::
g‘
()->
®loÿ‹_li¡
<>(

25 
scİe
, 
	gŒue
);

26 
	gli¡
.
push_back
(
scİe
, 1);

27 
	gli¡
.
push_back
(
scİe
, 2);

28 
	gli¡
.
push_back
(
scİe
, 3);

29 
TEST_ASSERT
(
li¡
.
cäÚt
(
scİe
) == 1);

30 
TEST_ASSERT
(
li¡
.
cback
(
scİe
) == 3);

31 
TEST_ASSERT
(
li¡
.
size
() == 3);

32 
TEST_ASSERT
(
li¡
.
em±y
(è=ğ
çl£
);

34 
	gidx
 = 0;

35 autØ
	g™”
 = 
li¡
.
begš
(
scİe
); i‹¸!ğli¡.
’d
(scope);

36 
	g™”
.
šc
(
scİe
)) {

37 
TEST_ASSERT
(++
idx
 =ğ
™”
.
d”ef
(
scİe
));

39 autØ
	g™”
 = 
li¡
.
rbegš
(
scİe
); i‹¸!ğli¡.
»nd
(scope);

40 
	g™”
.
šc
(
scİe
)) {

41 
TEST_ASSERT
(
idx
-- =ğ
™”
.
d”ef
(
scİe
));

44 
	gli¡
.
pİ_äÚt
(
scİe
);

45 
	gli¡
.
pİ_back
(
scİe
);

46 
TEST_ASSERT
(
li¡
.
cäÚt
(
scİe
) == 2);

47 
TEST_ASSERT
(
li¡
.
cback
(
scİe
) == 2);

48 
TEST_ASSERT
(
li¡
.
size
() == 1);

49 
TEST_ASSERT
(
li¡
.
em±y
(è=ğ
çl£
);

51 
	gli¡
.
pİ_äÚt
(
scİe
);

52 
TEST_ASSERT
(
li¡
.
size
() == 0);

53 
TEST_ASSERT
(
li¡
.
em±y
(è=ğ
Œue
);

55 
	gli¡
.
push_back
(
scİe
, 1);

56 
	gli¡
.
push_back
(
scİe
, 2);

57 
	gli¡
.
push_back
(
scİe
, 3);

59 autØ
	g™”
 = 
li¡
.
begš
(
scİe
);

60 
	gidx
 = 0;

61 
	g™”
 !ğ
li¡
.
’d
(
scİe
)) {

62 
TEST_ASSERT
(++
idx
 =ğ
™”
.
d”ef
(
scİe
));

63 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

66 
ušt32_t
 
	gi
 = 1; i <ğ2 * 
Li¡
<>::
kMaxNumNodesP”Chunk
; i++) {

67 
	gli¡
.
push_back
(
scİe
, 
i
);

70 
	g™”
 = 
li¡
.
begš
(
scİe
);

71 
	gidx
 = 0;

72 
	g™”
 !ğ
li¡
.
’d
(
scİe
)) {

73 
TEST_ASSERT
(++
idx
 =ğ
™”
.
d”ef
(
scİe
));

74 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

76 
TEST_ASSERT
(
idx
 =ğ2 * 
Li¡
<>::
kMaxNumNodesP”Chunk
);

78 
ušt32_t
 
	gi
 = 1; i <ğ2 * 
Li¡
<>::
kMaxNumNodesP”Chunk
; i++) {

79 
	gli¡
.
push_äÚt
(
scİe
, 
i
);

82 autØ
	g»v_™”
 = 
li¡
.
rbegš
(
scİe
);

83 
	gidx
 = 0;

84 
	g»v_™”
 !ğ
li¡
.
»nd
(
scİe
)) {

85 
TEST_ASSERT
(++
idx
 =ğ
»v_™”
.
d”ef
(
scİe
));

86 
	g»v_™”
 = 
li¡
.
”a£
(
scİe
, 
»v_™”
);

88 
TEST_ASSERT
(
idx
 =ğ2 * 
Li¡
<>::
kMaxNumNodesP”Chunk
);

90 
ušt32_t
 
	gi
 = 1; i <ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 - 1; i++) {

91 
	gli¡
.
push_back
(
scİe
, 
i
);

93 
	g™”
 = 
li¡
.
begš
(
scİe
);

94 
	g™”
.
šc
(
scİe
);

95 
	g™”
.
šc
(
scİe
);

96 
	gli¡
.
š£¹
(
scİe
, &
™”
, 0);

98 
	gidx
 = 0;

99 
	g™”
 = 
li¡
.
begš
(
scİe
);

100 
	g™”
 !ğ
li¡
.
’d
(
scİe
)) {

101 autØ
li¡_d©a
 = 
™”
.
d”ef
(
scİe
);

102 
TEST_ASSERT
(++
idx
 =ğ
li¡_d©a
);

103 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

104 ià(
uÆik–y
(
li¡_d©a
 == 2)) {

105 
TEST_ASSERT
(0 =ğ
™”
.
d”ef
(
scİe
));

106 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

109 
TEST_ASSERT
(
idx
 =ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 - 1);

110 
TEST_ASSERT
(
li¡
.
em±y
());

112 
ušt32_t
 
	gi
 = 1; i <ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 - 1; i++) {

113 
	gli¡
.
push_back
(
scİe
, 
i
);

115 
	g™”
 = 
li¡
.
’d
(
scİe
);

116 
	g™”
.
dec
(
scİe
);

117 
	g™”
.
dec
(
scİe
);

118 
	gli¡
.
š£¹
(
scİe
, &
™”
, 0);

120 
	gidx
 = 0;

121 
	g™”
 = 
li¡
.
begš
(
scİe
);

122 
	g™”
 !ğ
li¡
.
’d
(
scİe
)) {

123 autØ
li¡_d©a
 = 
™”
.
d”ef
(
scİe
);

124 
TEST_ASSERT
(++
idx
 =ğ
li¡_d©a
);

125 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

126 ià(
uÆik–y
(
li¡_d©a
 =ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 - 3)) {

127 
TEST_ASSERT
(0 =ğ
™”
.
d”ef
(
scİe
));

128 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

131 
TEST_ASSERT
(
idx
 =ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 - 1);

133 
ušt32_t
 
	gi
 = 1; i <ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 + 1; i++) {

134 
	gli¡
.
push_back
(
scİe
, 
i
);

137 
	g™”
 = 
li¡
.
’d
(
scİe
);

138 
ušt32_t
 
	gi
 = 0; i <ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 / 2; i++) {

139 
	g™”
.
dec
(
scİe
);

141 
TEST_ASSERT
(33 =ğ
™”
.
d”ef
(
scİe
));

142 
ušt32_t
 
	gi
 = 0; i <ğ
Li¡
<>::
kMaxNumNodesP”Chunk
 / 4; i++) {

143 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

145 
	g™”
 = 
li¡
.
begš
(
scİe
);

146 
ušt32_t
 
	gi
 = 0; i < 
	gLi¡
<>::
kMaxNumNodesP”Chunk
 / 4; i++) {

147 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

149 
TEST_ASSERT
(
li¡
.
loÿl_li¡_
.
size
() == 3);

150 
ušt32_t
 
	gi
 = 0; i < 
	gLi¡
<>::
kMaxNumNodesP”Chunk
 / 4; i++) {

151 
TEST_ASSERT
(
i
 + 17 =ğ
¡©ic_ÿ¡
<
ušt32_t
>(
™”
.
d”ef
(
scİe
)));

152 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

154 
ušt32_t
 
	gi
 = 0; i < 
	gLi¡
<>::
kMaxNumNodesP”Chunk
 / 4; i++) {

155 
TEST_ASSERT
(
i
 + 50 =ğ
¡©ic_ÿ¡
<
ušt32_t
>(
™”
.
d”ef
(
scİe
)));

156 
	g™”
 = 
li¡
.
”a£
(
scİe
, 
™”
);

158 
TEST_ASSERT
(
li¡
.
em±y
());

160 
	g¡d
::
cout
 << "Pas£d" << 
¡d
::
’dl
;

165 
	$_maš
(*
¬g
) {

166 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

167 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

168 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

169 
F¬MemTe¡
 
‹¡
;

170 
‹¡
.
	`do_wÜk
(
mªag”
.
	`g‘
());

171 
	}
}

173 
	$maš
(
¬gc
, *
¬gv
[]) {

174 
»t
;

176 ià(
¬gc
 < 2) {

177 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

178  -
EINVAL
;

181 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

182 ià(
»t
) {

183 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

184  
»t
;

188 
	}
}

	@test/test_list_gc.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"li¡.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<io¡»am
>

10 
	~<memÜy
>

12 
usšg
 
Çme¥aû
 
çr_memÜy
;

14 
	sD©a
 {

15 
ušt32_t
 
	md©a
;

16 
ušt32_t
 
	mdummy
[1023];

18 
D©a
(
ušt32_t
 
_d©a
è: 
d©a
(_data) {}

21 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (256ULL << 20);

22 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (8ULL << 30);

23 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

24 
cÚ¡ex´
 
ušt32_t
 
	gkNumD©aEÁr›s
 = 8 * 
kCacheSize
 / (
D©a
);

25 
cÚ¡ex´
 
ušt32_t
 
	gkScİeRe£tIÁ”v®
 = 256;

27 
Çme¥aû
 
	gçr_memÜy
 {

29 şas 
	cF¬MemTe¡
 {

30 
	gpublic
:

31 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

32 
¡d
::
cout
 << "RuÂšg " << 
__FILE__
 "..." << std::
’dl
;

33 
D”efScİe
 
	gscİe
;

34 
	gLi¡
<
	gD©a
> 
	gli¡
 = 
F¬MemMªag”FaùÜy
::
g‘
()->
®loÿ‹_li¡
<
D©a
>(
scİe
);

36 
ušt32_t
 
	gi
 = 0; i < 
	gkNumD©aEÁr›s
; i++) {

37 ià(
uÆik–y
(
i
 % 
kScİeRe£tIÁ”v®
 == 0)) {

38 
scİe
.
»Ãw
();

40 
	gli¡
.
push_back
(
scİe
, 
D©a
(
i
));

43 
ušt32_t
 
	gidx
 = 0;

44 autØ
	g™”
 = 
li¡
.
begš
(
scİe
); i‹¸!ğli¡.
’d
(scope);

45 
	g™”
.
šc
(
scİe
), 
	gidx
++) {

46 ià(
uÆik–y
(
idx
 % 
kScİeRe£tIÁ”v®
 == 0)) {

47 
scİe
.
»Ãw
();

49 
TEST_ASSERT
(
™”
.
d”ef
(
scİe
).
d©a
 =ğ
idx
);

51 
TEST_ASSERT
(
idx
 =ğ
kNumD©aEÁr›s
);

53 
	g¡d
::
cout
 << "Pas£d" << 
¡d
::
’dl
;

58 
	$_maš
(*
¬g
) {

59 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

60 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

61 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

62 
F¬MemTe¡
 
‹¡
;

63 
‹¡
.
	`do_wÜk
(
mªag”
.
	`g‘
());

64 
	}
}

66 
	$maš
(
¬gc
, *
¬gv
[]) {

67 
»t
;

69 ià(
¬gc
 < 2) {

70 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

71  -
EINVAL
;

74 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

75 ià(
»t
) {

76 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

77  
»t
;

81 
	}
}

	@test/test_local_hopscotch_serial.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"h–³rs.hµ
"

6 
	~"loÿl_cÚcu¼’t_hİscÙch.hµ
"

8 
	~<io¡»am
>

9 
	~<m­
>

10 
	~<¡ršg
>

12 
usšg
 
Çme¥aû
 
çr_memÜy
;

13 
usšg
 
Çme¥aû
 
	g¡d
;

15 
cÚ¡ex´
 
ušt64_t
 
	gkLoÿlSÏbMemSize
 = (1 << 30);

16 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËNumEÁr›sShiá
 = 16;

18 
cÚ¡ex´
 
ušt32_t
 
	gkKeyMaxL’
 = 200;

19 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueMaxL’
 = 700;

20 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.85;

21 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

22 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

24 
	g¡d
::
m­
<
¡d
::
¡ršg
, std::¡ršg> 
kvs
;

26 
	g¡d
::
¡ršg
 
	$¿ndom_¡ršg
(
ušt32_t
 
max_Ën
) {

27 
¡d
::
¡ršg
 
¡r
;

28 autØ
Ën
 = 
	`¿nd
(è% 
max_Ën
 + 1;

29 
ušt32_t
 
i
 = 0; i < 
Ën
; i++) {

30 
¡r
 +ğ
	`¿nd
() % ('z' - 'a' + 1) + 'a';

32  
¡r
;

33 
	}
}

35 
	$do_wÜk
(*
¬gs
) {

36 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

38 autØ
hİscÙch
 = 
	`LoÿlG’”icCÚcu¼’tHİscÙch
(
kHashTabËNumEÁr›sShiá
,

39 
kLoÿlSÏbMemSize
);

41 
ušt32_t
 
i
 = 0; i < 
kNumKVPaœs
; i++) {

42 autØ
key
 = 
	`¿ndom_¡ršg
(
kKeyMaxL’
);

43 autØ
v®ue
 = 
	`¿ndom_¡ršg
(
kV®ueMaxL’
);

44 
hİscÙch
.
	`put
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
()),

45 
v®ue
.
	`size
(),

46 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
v®ue
.
	`c_¡r
()));

47 
kvs
[
key
] = 
v®ue
;

50 autØ&[
key
, 
v®ue
] : 
kvs
) {

51 
ušt16_t
 
v®_Ën
;

52 
v®
[
kV®ueMaxL’
];

53 
hİscÙch
.
	`g‘
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
()),

54 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®
));

55 
	`TEST_ASSERT
(
v®_Ën
 =ğ
v®ue
.
	`size
());

56 ià(
	`¡ºcmp
(
v®
, 
v®ue
.
	`c_¡r
(), v®ue.
	`size
())) {

57 
hİscÙch
.
	`g‘
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
()),

58 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®
));

60 
	`TEST_ASSERT
(
	`¡ºcmp
(
v®
, 
v®ue
.
	`c_¡r
(), v®ue.
	`size
()) == 0);

63 autØ&[
key
, 
v®ue
] : 
kvs
) {

64 
	`TEST_ASSERT
(
hİscÙch
.
	`»move
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(

65 
key
.
	`c_¡r
())è=ğ
Œue
);

68 autØ&[
key
, 
v®ue
] : 
kvs
) {

69 
ušt16_t
 
v®_Ën
;

70 
v®
[
kV®ueMaxL’
];

71 
hİscÙch
.
	`g‘
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
()),

72 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®
));

73 
	`TEST_ASSERT
(
v®_Ën
 == 0);

76 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

77 
	}
}

79 
	$maš
(
¬gc
, *
¬gv
[]) {

80 
»t
;

82 ià(
¬gc
 < 2) {

83 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

84  -
EINVAL
;

87 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

88 ià(
»t
) {

89 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

90  
»t
;

94 
	}
}

	@test/test_local_list.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"loÿl_li¡.hµ
"

7 
	~<io¡»am
>

8 
	~<li¡
>

10 
usšg
 
Çme¥aû
 
çr_memÜy
;

12 
	$do_wÜk
(*
¬gs
) {

13 
LoÿlLi¡
<> 
loÿl_li¡
;

15 
ušt32_t
 
i
 = 0; i < 128; i++) {

16 
loÿl_li¡
.
	`push_back
(
i
);

19 
idx
 = 0;

20 cÚ¡‡utØ&
d©a
 : 
loÿl_li¡
) {

21 
	`TEST_ASSERT
(
d©a
 =ğ
idx
++);

24 autØ
Şd_idx
 = 
idx
;

25 autØ
™”
 = 
loÿl_li¡
.
	`rbegš
(); i‹¸!ğloÿl_li¡.
	`»nd
(); iter++) {

26 
	`TEST_ASSERT
(*
™”
 =ğ--
idx
);

28 
idx
 = 
Şd_idx
;

29 autØ
™”
 = 
loÿl_li¡
.
	`rbegš
(); i‹¸!ğloÿl_li¡.
	`»nd
(); ++iter) {

30 
	`TEST_ASSERT
(*
™”
 =ğ--
idx
);

32 
idx
 = 
Şd_idx
;

33 autØ
back_™”
 = 
loÿl_li¡
.
	`’d
();

34 
back_™”
--;

35 autØ
´ev_begš_™”
 = 
loÿl_li¡
.
	`begš
();

36 
´ev_begš_™”
--;

37 autØ
™”
 = 
back_™”
; i‹¸!ğ
´ev_begš_™”
; iter--) {

38 
	`TEST_ASSERT
(*
™”
 =ğ--
idx
);

42 
	`TEST_ASSERT
(
loÿl_li¡
.
	`size
() == 128);

43 
	`TEST_ASSERT
(
loÿl_li¡
.
	`äÚt
() == 0);

44 
	`TEST_ASSERT
(
loÿl_li¡
.
	`back
() == 127);

45 
	`TEST_ASSERT
(!
loÿl_li¡
.
	`em±y
());

46 
loÿl_li¡
.
	`pİ_äÚt
();

47 
loÿl_li¡
.
	`pİ_back
();

50 
	`TEST_ASSERT
(
loÿl_li¡
.
	`size
() == 126);

51 
	`TEST_ASSERT
(
loÿl_li¡
.
	`äÚt
() == 1);

52 
	`TEST_ASSERT
(
loÿl_li¡
.
	`back
() == 126);

54 autØ
™”
 = 
loÿl_li¡
.
	`begš
();

55 ++
™”
;

56 
™”
++;

57 
loÿl_li¡
.
	`š£¹
(
™”
, 0);

60 
	`TEST_ASSERT
(
loÿl_li¡
.
	`size
() == 127);

61 
™”
--;

62 --
™”
;

63 
™”
--;

64 
	`TEST_ASSERT
(
loÿl_li¡
.
	`äÚt
(è=ğ*
™”
);

65 
™”
 = 
loÿl_li¡
.
	`”a£
(iter);

66 
™”
 = 
loÿl_li¡
.
	`”a£
(iter);

69 
	`TEST_ASSERT
(
loÿl_li¡
.
	`äÚt
() == 0);

70 
	`TEST_ASSERT
(
loÿl_li¡
.
	`size
() == 125);

72 autØ
»v_™”
 = 
loÿl_li¡
.
	`rbegš
();

73 
»v_™”
 = 
loÿl_li¡
.
	`”a£
(rev_iter);

74 
»v_™”
 = 
loÿl_li¡
.
	`”a£
(rev_iter);

77 
	`TEST_ASSERT
(
loÿl_li¡
.
	`back
() == 124);

78 
»v_™”
++;

79 ++
»v_™”
;

80 
loÿl_li¡
.
	`š£¹
(
»v_™”
, 0);

83 
»v_™”
--;

84 --
»v_™”
;

85 
»v_™”
--;

86 
	`TEST_ASSERT
(
loÿl_li¡
.
	`back
(è=ğ*
»v_™”
);

88 
»v_™”
 = 
loÿl_li¡
.
	`”a£
(rev_iter);

89 
»v_™”
 = 
loÿl_li¡
.
	`”a£
(rev_iter);

90 
	`TEST_ASSERT
(*
»v_™”
 == 0);

93 
ušt32_t
 
út
 = 0;

94 
™”
 = 
loÿl_li¡
.
	`begš
(); i‹¸!ğloÿl_li¡.
	`’d
();

95 
™”
 = 
loÿl_li¡
.
	`”a£
(™”), ++
út
)

97 
	`TEST_ASSERT
(
út
 == 122);

98 
	`TEST_ASSERT
(
loÿl_li¡
.
	`size
() == 0);

99 
	`TEST_ASSERT
(
loÿl_li¡
.
	`em±y
());

101 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

102 
	}
}

104 
	$maš
(
¬gc
, *
¬gv
[]) {

105 
»t
;

107 ià(
¬gc
 < 2) {

108 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

109  -
EINVAL
;

112 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

113 ià(
»t
) {

114 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

115  
»t
;

119 
	}
}

	@test/test_local_skiplist_serial.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"h–³rs.hµ
"

6 
	~"loÿl_skli¡.hµ
"

8 
	~<io¡»am
>

9 
	~<lim™s
>

10 
	~<£t
>

11 
	~<¡ršg
>

12 
	~<ut™y
>

14 
usšg
 
Çme¥aû
 
çr_memÜy
;

15 
usšg
 
Çme¥aû
 
	g¡d
;

17 
cÚ¡ex´
 
ušt64_t
 
	gkLoÿlSkli¡D©aSize
 = (1 << 30);

19 
cÚ¡ex´
 
ušt32_t
 
	gkKeyMaxL’
 = 10;

20 
cÚ¡ex´
 
ušt32_t
 
	gkNumEÁr›s
 = 1 << 20;

22 
	g¡d
::
£t
<
ušt32_t
> 
my_£t
;

24 
	$do_wÜk
(*
¬g
) {

25 
LoÿlSkli¡
<
ušt32_t
> 
	`loÿl_skli¡
(
kLoÿlSkli¡D©aSize
);

26 
ušt32_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

27 
ušt32_t
 
key
 = 
	`¿nd
();

28 
boŞ
 
nÙ_exi¡
 = (
my_£t
.
	`couÁ
(
key
) == 0);

29 
	`TEST_ASSERT
(
loÿl_skli¡
.
	`š£¹
(
key
è=ğ
nÙ_exi¡
);

30 
my_£t
.
	`š£¹
(
key
);

33 cÚ¡‡utØ&
key
 : 
my_£t
) {

34 
	`TEST_ASSERT
(
loÿl_skli¡
.
	`exi¡
(
key
));

35 
	`TEST_ASSERT
(
loÿl_skli¡
.
	`»move
(
key
));

38 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

39 
	}
}

41 
	$maš
(
¬gc
, *
¬gv
[]) {

42 
»t
;

44 ià(
¬gc
 < 2) {

45 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

46  -
EINVAL
;

49 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
do_wÜk
, 
NULL
);

50 ià(
»t
) {

51 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

52  
»t
;

56 
	}
}

	@test/test_pointer_concurrent.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"d”ef_scİe.hµ
"

7 
	~"deviû.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<c¡dlib
>

11 
	~<c¡ršg
>

12 
	~<io¡»am
>

13 
	~<memÜy
>

14 
	~<veùÜ
>

16 
usšg
 
Çme¥aû
 
çr_memÜy
;

17 
usšg
 
Çme¥aû
 
	g¡d
;

19 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 128 * 
RegiÚ
::
kSize
;

20 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (2ULL << 30);

21 
cÚ¡ex´
 
ušt32_t
 
	gkNumMutÜs
 = 32;

22 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

23 
cÚ¡ex´
 
ušt64_t
 
	gkNumTe¡I‹¿tiÚs
 = 64;

25 
	sD©a4096
 {

26 
ušt8_t
 
	md©a
[4096];

29 
cÚ¡ex´
 
ušt32_t
 
	gkChunkSize
 = (
D©a4096
è/ 
kNumMutÜs
;

30 
¡©ic_as£¹
((
D©a4096
è% 
kNumMutÜs
 == 0, "");

32 
usšg
 
	gD©a_t
 = 
D©a4096
;

34 
th»ad_â
(
tid
, 
UniquePŒ
<
D©a_t
> *
sh¬ed_d©a_±r
) {

37 
D”efScİe
 
	gscİe
;

38 autØ
	g¿w_mut_±r
 = 
sh¬ed_d©a_±r
->
d”ef_mut
(
scİe
);

39 
	gbegš_idx
 = 
tid
 * 
kChunkSize
;

40 
	g’d_idx
 = 
begš_idx
 + 
kChunkSize
;

41 
	gi
 = 
begš_idx
; i < 
	g’d_idx
; i++) {

42 
	g¿w_mut_±r
->
	gd©a
[
i
] = 
tid
;

46 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

47 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

49 
¡d
::
veùÜ
<
UniquePŒ
<
D©a_t
>> 
æush_ÿche_vec
;

50 
UniquePŒ
<
D©a_t
> 
sh¬ed_d©a_±r
;

52 
ušt64_t
 
i
 = 0; i < 
kCacheSize
 / (
D©a_t
); i++) {

53 autØ
çr_mem_±r
 = 
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>();

55 
D”efScİe
 
scİe
;

56 autØ
¿w_mut_±r
 = 
çr_mem_±r
.
	`d”ef_mut
(
scİe
);

57 
	`mem£t
(
¿w_mut_±r
->
d©a
, 
¡©ic_ÿ¡
<>(
i
), (
D©a_t
));

59 
æush_ÿche_vec
.
	`push_back
(
¡d
::
	`move
(
çr_mem_±r
));

61 
sh¬ed_d©a_±r
 = 
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>();

63 
ušt32_t
 
i
 = 0; i < 
kNumTe¡I‹¿tiÚs
; i++) {

65 autØ&
çr_mem_±r
 : 
æush_ÿche_vec
) {

66 
D”efScİe
 
scİe
;

67 cÚ¡‡utØ
¿w_cÚ¡_±r
 = 
çr_mem_±r
.
	`d”ef
(
scİe
);

68 
	`DONT_OPTIMIZE
(
¿w_cÚ¡_±r
);

70 
¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

71 
th»ads
.
	`»£rve
(
kNumMutÜs
);

72 
ušt32_t
 
j
 = 0; j < 
kNumMutÜs
; j++) {

73 
th»ads
.
	`em¶aû_back
(

74 
¹
::
	`Th»ad
([&, 
j
] { 
	`th»ad_â
(j, &
sh¬ed_d©a_±r
); }));

76 autØ&
th»ad
 : 
th»ads
) {

77 
th»ad
.
	`Još
();

79 
D”efScİe
 
scİe
;

80 autØ
¿w_mut_±r
 = 
sh¬ed_d©a_±r
.
	`d”ef_mut
(
scİe
);

81 
ušt32_t
 
tid
 = 0;id < 
kNumMutÜs
;id++) {

82 
begš_idx
 = 
tid
 * 
kChunkSize
;

83 
’d_idx
 = 
begš_idx
 + 
kChunkSize
;

84 
j
 = 
begš_idx
; j < 
’d_idx
; j++) {

85 ià(
¿w_mut_±r
->
d©a
[
j
] !ğ
tid
) {

86 
ç
;

92 
cout
 << "Pas£d" << 
’dl
;

95 
ç
:

96 
cout
 << "Faed" << 
’dl
;

98 
	}
}

100 
	$_maš
(*
¬g
) {

101 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

102 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

103 
	`do_wÜk
(
mªag”
.
	`g‘
());

104 
	}
}

106 
	$maš
(
¬gc
, *
¬gv
[]) {

107 
»t
;

109 ià(
¬gc
 < 2) {

110 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

111  -
EINVAL
;

114 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

115 ià(
»t
) {

116 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

117  
»t
;

121 
	}
}

	@test/test_pointer_noswap.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dlib
>

10 
	~<io¡»am
>

11 
	~<memÜy
>

13 
usšg
 
Çme¥aû
 
çr_memÜy
;

14 
usšg
 
Çme¥aû
 
	g¡d
;

16 
	sD©a512
 {

17 
	md©a
[512];

20 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

21 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

23 autØ
çr_mem_±r_0
 = 
mªag”
->
®loÿ‹_unique_±r
<
D©a512
>();

24 autØ
çr_mem_±r_1
 = 
mªag”
->
®loÿ‹_unique_±r
<>();

26 
D”efScİe
 
scİe
;

28 autØ
¿w_±r_0
 = 
çr_mem_±r_0
.
	`d”ef_mut
(
scİe
);

29 autØ
¿w_±r_1
 = 
çr_mem_±r_1
.
	`d”ef_mut
(
scİe
);

30 
i
 = 0; i < 512; i++) {

31 
¿w_±r_0
->
d©a
[
i
] = 
¡©ic_ÿ¡
<>(i);

33 *
¿w_±r_1
 = 0xDEADBEEF;

37 cÚ¡‡utØ
¿w_±r_0
 = 
çr_mem_±r_0
.
	`d”ef
(
scİe
);

38 cÚ¡‡utØ
¿w_±r_1
 = 
çr_mem_±r_1
.
	`d”ef
(
scİe
);

39 
i
 = 0; i < 512; i++) {

40 ià(
¿w_±r_0
->
d©a
[
i
] !ğ
¡©ic_ÿ¡
<>(i)) {

41 
ç
;

44 ià((*
¿w_±r_1
) != 0xDEADBEEF) {

45 
ç
;

49 
cout
 << "Pas£d" << 
’dl
;

52 
ç
:

53 
cout
 << "Faed" << 
’dl
;

55 
	}
}

57 
	$_maš
(*
¬g
) {

58 
ušt64_t
 
ÿche_size
 = 1ULL << 32;

59 
ušt64_t
 
çr_mem_size
 = 1ULL << 33;

60 
ušt8_t
 
num_gc_th»ads
 = 12;

62 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

63 
ÿche_size
, 
num_gc_th»ads
, 
Ãw
 
	`FakeDeviû
(
çr_mem_size
)));

64 
	`do_wÜk
(
mªag”
.
	`g‘
());

65 
	}
}

67 
	$maš
(
¬gc
, *
¬gv
[]) {

68 
»t
;

70 ià(
¬gc
 < 2) {

71 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

72  -
EINVAL
;

75 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

76 ià(
»t
) {

77 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

78  
»t
;

82 
	}
}

	@test/test_pointer_swap.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dlib
>

10 
	~<c¡ršg
>

11 
	~<io¡»am
>

12 
	~<memÜy
>

13 
	~<veùÜ
>

15 
usšg
 
Çme¥aû
 
çr_memÜy
;

16 
usšg
 
Çme¥aû
 
	g¡d
;

18 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256 * 
RegiÚ
::
kSize
;

19 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 33);

20 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1 << 30;

21 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 12;

23 
	sD©a4096
 {

24 
	md©a
[4096];

27 
usšg
 
	gD©a_t
 = 
D©a4096
;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

31 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

32 
¡d
::
veùÜ
<
UniquePŒ
<
D©a_t
>> 
vec
;

33 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

35 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

36 autØ
çr_mem_±r
 = 
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>();

38 
D”efScİe
 
scİe
;

39 autØ
¿w_mut_±r
 = 
çr_mem_±r
.
	`d”ef_mut
(
scİe
);

40 
	`mem£t
(
¿w_mut_±r
->
d©a
, 
¡©ic_ÿ¡
<>(
i
), (
D©a_t
));

42 
vec
.
	`em¶aû_back
(
¡d
::
	`move
(
çr_mem_±r
));

45 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

47 
D”efScİe
 
scİe
;

48 cÚ¡‡utØ
¿w_cÚ¡_±r
 = 
vec
[
i
].
	`d”ef
(
scİe
);

49 
ušt32_t
 
j
 = 0; j < (
D©a_t
); j++) {

50 ià(
¿w_cÚ¡_±r
->
d©a
[
j
] !ğ
¡©ic_ÿ¡
<>(
i
)) {

51 
ç
;

57 
cout
 << "Pas£d" << 
’dl
;

60 
ç
:

61 
cout
 << "Faed" << 
’dl
;

63 
	}
}

65 
	$_maš
(*
¬g
) {

66 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

67 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

68 
	`do_wÜk
(
mªag”
.
	`g‘
());

69 
	}
}

71 
	$maš
(
¬gc
, *
¬gv
[]) {

72 
»t
;

74 ià(
¬gc
 < 2) {

75 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

76  -
EINVAL
;

79 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

80 ià(
»t
) {

81 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

82  
»t
;

86 
	}
}

	@test/test_pointer_swap_rw_api.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dlib
>

10 
	~<c¡ršg
>

11 
	~<io¡»am
>

12 
	~<memÜy
>

13 
	~<veùÜ
>

15 
usšg
 
Çme¥aû
 
çr_memÜy
;

16 
usšg
 
Çme¥aû
 
	g¡d
;

18 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256 * 
RegiÚ
::
kSize
;

19 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 33);

20 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1 << 30;

21 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 12;

23 
	sD©a4096
 {

24 
	md©a
[4096];

27 
usšg
 
	gD©a_t
 = 
D©a4096
;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

31 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

32 
¡d
::
veùÜ
<
UniquePŒ
<
D©a_t
>> 
vec
;

33 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

35 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

36 autØ
çr_mem_±r
 = 
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>();

37 
D©a4096
 
d©a_4096
;

38 
	`mem£t
(&
d©a_4096
, 
¡©ic_ÿ¡
<>(
i
), (
D©a_t
));

39 
çr_mem_±r
.
	`wr™e
(
d©a_4096
);

40 
vec
.
	`em¶aû_back
(
¡d
::
	`move
(
çr_mem_±r
));

43 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

44 autØ
d©a_4096
 = 
vec
[
i
].
	`»ad
();

45 
ušt32_t
 
j
 = 0; j < (
D©a_t
); j++) {

46 ià(
d©a_4096
.
d©a
[
j
] !ğ
¡©ic_ÿ¡
<>(
i
)) {

47 
ç
;

52 
cout
 << "Pas£d" << 
’dl
;

55 
ç
:

56 
cout
 << "Faed" << 
’dl
;

58 
	}
}

60 
	$_maš
(*
¬g
) {

61 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

62 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

63 
	`do_wÜk
(
mªag”
.
	`g‘
());

64 
	}
}

66 
	$maš
(
¬gc
, *
¬gv
[]) {

67 
»t
;

69 ià(
¬gc
 < 2) {

70 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

71  -
EINVAL
;

74 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

75 ià(
»t
) {

76 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

77  
»t
;

81 
	}
}

	@test/test_queue_gc.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"li¡.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<io¡»am
>

10 
	~<memÜy
>

12 
usšg
 
Çme¥aû
 
çr_memÜy
;

14 
	sD©a
 {

15 
ušt32_t
 
	md©a
;

16 
ušt32_t
 
	mdummy
[1023];

18 
D©a
(
ušt32_t
 
_d©a
è: 
d©a
(_data) {}

21 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (256ULL << 20);

22 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (8ULL << 30);

23 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

24 
cÚ¡ex´
 
ušt32_t
 
	gkNumD©aEÁr›s
 = 8 * 
kCacheSize
 / (
D©a
);

25 
cÚ¡ex´
 
ušt32_t
 
	gkScİeRe£tIÁ”v®
 = 256;

27 
Çme¥aû
 
	gçr_memÜy
 {

29 şas 
	cF¬MemTe¡
 {

30 
	gpublic
:

31 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

32 
¡d
::
cout
 << "RuÂšg " << 
__FILE__
 "..." << std::
’dl
;

33 
D”efScİe
 
	gscİe
;

34 
	gQueue
<
	gD©a
> 
	gqueue
 =

35 
F¬MemMªag”FaùÜy
::
g‘
()->
®loÿ‹_queue
<
D©a
>(
scİe
);

37 
ušt32_t
 
	gi
 = 0; i < 
	gkNumD©aEÁr›s
; i++) {

38 ià(
uÆik–y
(
i
 % 
kScİeRe£tIÁ”v®
 == 0)) {

39 
scİe
.
»Ãw
();

41 
	gqueue
.
push
(
scİe
, 
D©a
(
i
));

44 
ušt32_t
 
	gi
 = 0; i < 
	gkNumD©aEÁr›s
; i++) {

45 ià(
uÆik–y
(
i
 % 
kScİeRe£tIÁ”v®
 == 0)) {

46 
scİe
.
»Ãw
();

48 
TEST_ASSERT
(
queue
.
cäÚt
(
scİe
).
d©a
 =ğ
i
);

49 
	gqueue
.
pİ
(
scİe
);

52 
	g¡d
::
cout
 << "Pas£d" << 
¡d
::
’dl
;

57 
	$_maš
(*
¬g
) {

58 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

59 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

60 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

61 
F¬MemTe¡
 
‹¡
;

62 
‹¡
.
	`do_wÜk
(
mªag”
.
	`g‘
());

63 
	}
}

65 
	$maš
(
¬gc
, *
¬gv
[]) {

66 
»t
;

68 ià(
¬gc
 < 2) {

69 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

70  -
EINVAL
;

73 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

74 ià(
»t
) {

75 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

76  
»t
;

80 
	}
}

	@test/test_shared_pointer.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dlib
>

10 
	~<c¡ršg
>

11 
	~<io¡»am
>

12 
	~<memÜy
>

13 
	~<veùÜ
>

15 
usšg
 
Çme¥aû
 
çr_memÜy
;

16 
usšg
 
Çme¥aû
 
	g¡d
;

18 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256 * 
RegiÚ
::
kSize
;

19 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 33);

20 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1 << 30;

21 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 12;

23 
	sD©a4096
 {

24 
	md©a
[4096];

27 
usšg
 
	gD©a_t
 = 
D©a4096
;

29 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

31 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

32 
¡d
::
veùÜ
<
Sh¬edPŒ
<
D©a_t
>> 
vec0
;

33 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

35 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

36 autØ
çr_mem_±r
 = 
mªag”
->
®loÿ‹_sh¬ed_±r
<
D©a_t
>();

38 
D”efScİe
 
scİe
;

39 autØ
¿w_mut_±r
 = 
çr_mem_±r
.
	`d”ef_mut
(
scİe
);

40 
	`mem£t
(
¿w_mut_±r
->
d©a
, 
¡©ic_ÿ¡
<>(
i
), (
D©a_t
));

42 
vec0
.
	`em¶aû_back
(
¡d
::
	`move
(
çr_mem_±r
));

44 autØ
vec1
 = 
vec0
;

46 autØ
check_â
 = []×utØ
vec
) {

47 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

49 
D”efScİe
 
scİe
;

50 cÚ¡‡utØ
¿w_cÚ¡_±r
 = 
vec
[
i
].
	`d”ef
(
scİe
);

51 
ušt32_t
 
j
 = 0; j < (
D©a_t
); j++) {

52 ià(
¿w_cÚ¡_±r
->
d©a
[
j
] !ğ
¡©ic_ÿ¡
<>(
i
)) {

53  
çl£
;

58  
Œue
;

61 ià(!
	`check_â
(
vec0
)) {

62 
ç
;

64 ià(!
	`check_â
(
vec1
)) {

65 
ç
;

68 
cout
 << "Pas£d" << 
’dl
;

71 
ç
:

72 
cout
 << "Faed" << 
’dl
;

74 
	}
}

76 
	$_maš
(*
¬g
) {

77 autØ
mªag”
 = 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

78 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

79 
	`do_wÜk
(
mªag”
.
	`g‘
());

80 
	}
}

82 
	$maš
(
¬gc
, *
¬gv
[]) {

83 
»t
;

85 ià(
¬gc
 < 2) {

86 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

87  -
EINVAL
;

90 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

91 ià(
»t
) {

92 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

93  
»t
;

97 
	}
}

	@test/test_slab.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"h–³rs.hµ
"

6 
	~"¦ab.hµ
"

8 
	~<c¡dlib
>

9 
	~<io¡»am
>

10 
	~<memÜy
>

12 
usšg
 
Çme¥aû
 
çr_memÜy
;

14 
Çme¥aû
 
	gçr_memÜy
 {

16 
cÚ¡ex´
 
ušt32_t
 
	gkAÎoÿ‹MemSize
 = (1 << 30);

18 şas 
	cF¬MemTe¡
 {

19 
	gpublic
:

20 
run
() {

21 
¡d
::
cout
 << "RuÂšg " << 
__FILE__
 "..." << std::
’dl
;

23 
´“m±_’abË
();

25 autØ
	gba£_±r
 =

26 
¡©ic_ÿ¡
<
ušt8_t
 *>(
h–³rs
::
®loÿ‹_hug•age
(
kAÎoÿ‹MemSize
));

27 autØ
	gcur_±r
 = 
ba£_±r
;

28 autØ
	g¦ab
 = 
SÏb
(
cur_±r
, 
kAÎoÿ‹MemSize
);

30 
	gcur_±r
 +ğ
SÏb
::
kR•ËnishChunkSize
 * SÏb::
kMšSÏbCÏssSize
;

31 
TEST_ASSERT
(
¦ab
.
®loÿ‹
(
SÏb
::
kMšSÏbCÏssSize
 - 1) ==

32 
cur_±r
 - 
SÏb
::
kMšSÏbCÏssSize
);

33 
TEST_ASSERT
(
¦ab
.
®loÿ‹
(
SÏb
::
kMšSÏbCÏssSize
) ==

34 
cur_±r
 - 
SÏb
::
kMšSÏbCÏssSize
 * 2);

35 
TEST_ASSERT
(
¦ab
.
¦abs_
[
g‘_cÜe_num
()][0].
size
() ==

36 
SÏb
::
kR•ËnishChunkSize
 - 2);

38 
	gcur_±r
 +ğ
SÏb
::
kR•ËnishChunkSize
 * SÏb::
kMaxSÏbCÏssSize
;

39 
TEST_ASSERT
(
¦ab
.
®loÿ‹
(
SÏb
::
kMaxSÏbCÏssSize
 / 2 + 1) ==

40 
cur_±r
 - 
SÏb
::
kMaxSÏbCÏssSize
);

41 
TEST_ASSERT
(

42 
¦ab
.
¦abs_
[
g‘_cÜe_num
()][
h–³rs
::
b¤_32
(
SÏb
::
kMaxSÏbCÏssSize
 >>

43 
SÏb
::
kMšSÏbCÏssShiá
)]

44 .
size
(è=ğ
SÏb
::
kR•ËnishChunkSize
 - 1);

46 
TEST_ASSERT
(
¦ab
.
cur_
 - sÏb.
ba£_
.
g‘
(è=ğ
cur_±r
 - 
ba£_±r
);

48 
	g¦ab
.
ä“
(
cur_±r
 - 
SÏb
::
kMaxSÏbCÏssSize
, Slab::kMaxSlabClassSize);

49 
TEST_ASSERT
(
¦ab
.
®loÿ‹
(
SÏb
::
kMaxSÏbCÏssSize
) ==

50 
cur_±r
 - 
SÏb
::
kMaxSÏbCÏssSize
);

52 
´“m±_di§bË
();

54 
	g¡d
::
cout
 << "Pas£d" << 
¡d
::
’dl
;

59 
	$_maš
(*
¬gs
) {

60 
F¬MemTe¡
 
ts
;

61 
ts
.
	`run
();

62 
	}
}

64 
	$maš
(
¬gc
, **
¬gv
) {

65 
»t
;

67 ià(
¬gc
 < 2) {

68 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

69  -
EINVAL
;

72 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

73 ià(
»t
) {

74 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

75  
»t
;

79 
	}
}

	@test/test_stack_gc.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"li¡.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<io¡»am
>

10 
	~<memÜy
>

12 
usšg
 
Çme¥aû
 
çr_memÜy
;

14 
	sD©a
 {

15 
ušt32_t
 
	md©a
;

16 
ušt32_t
 
	mdummy
[1023];

18 
D©a
(
ušt32_t
 
_d©a
è: 
d©a
(_data) {}

21 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (256ULL << 20);

22 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (8ULL << 30);

23 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

24 
cÚ¡ex´
 
ušt32_t
 
	gkNumD©aEÁr›s
 = 8 * 
kCacheSize
 / (
D©a
);

25 
cÚ¡ex´
 
ušt32_t
 
	gkScİeRe£tIÁ”v®
 = 256;

27 
Çme¥aû
 
	gçr_memÜy
 {

29 şas 
	cF¬MemTe¡
 {

30 
	gpublic
:

31 
do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

32 
¡d
::
cout
 << "RuÂšg " << 
__FILE__
 "..." << std::
’dl
;

33 
D”efScİe
 
	gscİe
;

34 
	gSck
<
	gD©a
> 
	g¡ack
 =

35 
F¬MemMªag”FaùÜy
::
g‘
()->
®loÿ‹_¡ack
<
D©a
>(
scİe
);

37 
ušt32_t
 
	gi
 = 0; i < 
	gkNumD©aEÁr›s
; i++) {

38 ià(
uÆik–y
(
i
 % 
kScİeRe£tIÁ”v®
 == 0)) {

39 
scİe
.
»Ãw
();

41 
	g¡ack
.
push
(
scİe
, 
D©a
(
i
));

44 
ušt32_t
 
	gi
 = 0; i < 
	gkNumD©aEÁr›s
; i++) {

45 ià(
uÆik–y
(
i
 % 
kScİeRe£tIÁ”v®
 == 0)) {

46 
scİe
.
»Ãw
();

48 
TEST_ASSERT
(
¡ack
.
ùİ
(
scİe
).
d©a
 =ğ
kNumD©aEÁr›s
 - 
i
 - 1);

49 
	g¡ack
.
pİ
(
scİe
);

52 
	g¡d
::
cout
 << "Pas£d" << 
¡d
::
’dl
;

57 
	$_maš
(*
¬g
) {

58 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

59 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

60 
kCacheSize
, 
kNumGCTh»ads
, 
Ãw
 
	`FakeDeviû
(
kF¬MemSize
)));

61 
F¬MemTe¡
 
‹¡
;

62 
‹¡
.
	`do_wÜk
(
mªag”
.
	`g‘
());

63 
	}
}

65 
	$maš
(
¬gc
, *
¬gv
[]) {

66 
»t
;

68 ià(
¬gc
 < 2) {

69 
¡d
::
û¼
 << "u§ge: [cfg_fe]" << std::
’dl
;

70  -
EINVAL
;

73 
»t
 = 
	`ruÁime_š™
(
¬gv
[1], 
_maš
, 
NULL
);

74 ià(
»t
) {

75 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

76  
»t
;

80 
	}
}

	@test/test_tcp_array_add.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"¬¿y.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<c¡dšt
>

11 
	~<c¡ršg
>

12 
	~<io¡»am
>

13 
	~<memÜy
>

14 
	~<¿ndom
>

15 
	~<¡ršg
>

17 
usšg
 
Çme¥aû
 
çr_memÜy
;

18 
usšg
 
Çme¥aû
 
	g¡d
;

20 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

21 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (4ULL << 30);

22 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

23 
cÚ¡ex´
 
ušt32_t
 
	gkNumEÁr›s
 =

25 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 300;

27 
ušt64_t
 
	g¿w_¬¿y_A
[
kNumEÁr›s
];

28 
ušt64_t
 
	g¿w_¬¿y_B
[
kNumEÁr›s
];

29 
ušt64_t
 
	g¿w_¬¿y_C
[
kNumEÁr›s
];

31 
	g‹m¶©e
 <
ušt64_t
 
	gN
, 
ty³Çme
 
	gT
>

32 
cİy_¬¿y
(
A¼ay
<
T
, 
N
> *
¬¿y
, T *
¿w_¬¿y
) {

33 
ušt64_t
 
	gi
 = 0; i < 
	gN
; i++) {

34 
D”efScİe
 
	gscİe
;

35 (*
	g¬¿y
).
©_mut
(
scİe
, 
i
èğ
¿w_¬¿y
[i];

39 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
ušt64_t
 
	gN
>

40 
add_¬¿y
(
A¼ay
<
T
, 
N
> *
¬¿y_C
, A¼ay<T, N> *
¬¿y_A
,

41 
A¼ay
<
T
, 
N
> *
¬¿y_B
) {

42 
ušt64_t
 
	gi
 = 0; i < 
	gN
; i++) {

43 
D”efScİe
 
	gscİe
;

44 (*
	g¬¿y_C
).
©_mut
(
scİe
, 
i
) =

45 (*
¬¿y_A
).
©
(
scİe
, 
i
è+ (*
	g¬¿y_B
).at(scope, i);

49 
	$g’_¿ndom_¬¿y
(
ušt64_t
 
num_’Œ›s
, ušt64_ˆ*
¿w_¬¿y
) {

50 
¡d
::
¿ndom_deviû
 
rd
;

51 
¡d
::
mt19937_64
 
	`’g
(
	`rd
());

52 
¡d
::
unifÜm_št_di¡ributiÚ
<
ušt64_t
> 
di¡r
;

54 
ušt64_t
 
i
 = 0; i < 
num_’Œ›s
; i++) {

55 
¿w_¬¿y
[
i
] = 
	`di¡r
(
’g
);

57 
	}
}

59 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

60 autØ
¬¿y_A
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

61 autØ
¬¿y_B
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

62 autØ
¬¿y_C
 = 
mªag”
->
®loÿ‹_¬¿y
<
ušt64_t
, 
kNumEÁr›s
>();

64 
	`g’_¿ndom_¬¿y
(
kNumEÁr›s
, 
¿w_¬¿y_A
);

65 
	`g’_¿ndom_¬¿y
(
kNumEÁr›s
, 
¿w_¬¿y_B
);

66 
	`cİy_¬¿y
(&
¬¿y_A
, 
¿w_¬¿y_A
);

67 
	`cİy_¬¿y
(&
¬¿y_B
, 
¿w_¬¿y_B
);

68 
	`add_¬¿y
(&
¬¿y_C
, &
¬¿y_A
, &
¬¿y_B
);

70 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

71 
D”efScİe
 
scİe
;

72 ià(
¬¿y_C
.
	`©
(
scİe
, 
i
è!ğ
¿w_¬¿y_A
[i] + 
¿w_¬¿y_B
[i]) {

73 
ç
;

77 
cout
 << "Pas£d" << 
’dl
;

80 
ç
:

81 
cout
 << "Faed" << 
’dl
;

82 
	}
}

84 
	g¬gc
;

85 
	$_maš
(*
¬g
) {

86 **
¬gv
 = 
¡©ic_ÿ¡
<**>(
¬g
);

87 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

88 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

89 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

90 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

91 
kCacheSize
, 
kNumGCTh»ads
,

92 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

93 
	`do_wÜk
(
mªag”
.
	`g‘
());

94 
	}
}

96 
	$maš
(
_¬gc
, *
¬gv
[]) {

97 
»t
;

99 ià(
_¬gc
 < 3) {

100 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

101  -
EINVAL
;

104 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

105 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

106 
i
 = 2; i < 
_¬gc
; i++) {

107 
¬gv
[
i
 - 1] =‡rgv[i];

109 
¬gc
 = 
_¬gc
 - 1;

111 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

112 ià(
»t
) {

113 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

114  
»t
;

118 
	}
}

	@test/test_tcp_hopscotch_gc_parallel.cpp

2 
	~<ruÁime/ruÁime.h
>

4 
	~"th»ad.h
"

6 
	~"cÚcu¼’t_hİscÙch.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<®gÜ™hm
>

11 
	~<c¡dlib
>

12 
	~<io¡»am
>

13 
	~<¡ršg
>

14 
	~<veùÜ
>

16 
usšg
 
Çme¥aû
 
çr_memÜy
;

17 
usšg
 
Çme¥aû
 
	g¡d
;

19 
cÚ¡ex´
 
ušt32_t
 
	gkNumTh»ads
 = 23;

20 
cÚ¡ex´
 
ušt32_t
 
	gkKeyMaxL’
 = 50;

21 
cÚ¡ex´
 
ušt32_t
 
	gkV®MaxL’
 = 100;

22 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËNumEÁr›sShiá
 = 19;

23 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËRemÙeD©aSize
 =

24 (
Objeù
::
kH—d”Size
 + 
kKeyMaxL’
 + 
kV®MaxL’
) *

25 (1 << 
kHashTabËNumEÁr›sShiá
è* 
kNumTh»ads
;

26 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.85;

27 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

28 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

30 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

31 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (4ULL << 30);

32 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

33 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 300;

35 
	sOp
 {

36 
	eOpCode
 { 
	mG‘
, 
	mPut
, 
	mRemove
 } 
	mİcode
;

37 
	m¡d
::
¡ršg
 
key
;

38 
	m¡d
::
¡ršg
 
v®
;

41 
	g¡d
::
veùÜ
<
Op
> 
İs
[
kNumTh»ads
];

42 
	g¡d
::
veùÜ
<
¹
::
Th»ad
> 
th»ads
;

44 
	g¡d
::
¡ršg
 
	$¿ndom_¡ršg
(
ušt32_t
 
max_Ën
) {

45 
¡d
::
¡ršg
 
¡r
;

46 autØ
Ën
 = 
	`¿nd
(è% 
max_Ën
 + 1;

47 
ušt32_t
 
i
 = 0; i < 
Ën
; i++) {

48 
¡r
 +ğ
	`¿nd
() % ('z' - 'a' + 1) + 'a';

50  
¡r
;

51 
	}
}

53 
	$th»ad_wÜk_â
(
tid
, 
G’”icCÚcu¼’tHİscÙch
 *
hİscÙch
) {

54 autØ&
İ
 : 
İs
[
tid
]) {

55 ià(
İ
.
İcode
 =ğ
Op
::
G‘
) {

56 
ušt16_t
 
v®_Ën
;

57 
¿w_v®
[
kV®MaxL’
];

58 
hİscÙch
->
	`g‘_
(
İ
.
key
.
	`size
(),

59 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
İ
.
key
.
	`c_¡r
()),

60 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
¿w_v®
));

61 ià(!
v®_Ën
) {

64 autØ
v®
 = 
¡d
::
	`¡ršg
(
¿w_v®
, 
v®_Ën
);

65 autØ
´efix_’d
 = 
v®
.
	`fšd
("_");

66 
	`BUG_ON
(
´efix_’d
 =ğ
¡d
::
¡ršg
::
Åos
);

67 
¡d
::
¡ršg
 
´efix
 = 
v®
.
	`sub¡r
(0, 
´efix_’d
);

68 autØ
suffix_begš
 = 
v®
.
	`fšd
("_");

69 
	`BUG_ON
(
suffix_begš
 =ğ
¡d
::
¡ršg
::
Åos
);

70 autØ
suffix
 = 
¡d
::
	`¡oi
(
v®
.
	`sub¡r
(
suffix_begš
 + 1));

71 ià(
´efix
 !ğ
İ
.
key
 || 
suffix
 < 0 ||

72 
suffix
 >ğ
¡©ic_ÿ¡
<>(
kNumTh»ads
)) {

73 
¡d
::
cout
 << "Faed" << std::
’dl
;

76 } ià(
İ
.
İcode
 =ğ
Op
::
Put
) {

77 
hİscÙch
->
	`put_
(

78 
İ
.
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(İ.key.
	`c_¡r
()),

79 
İ
.
v®
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(İ.v®.
	`c_¡r
()));

80 } ià(
İ
.
İcode
 =ğ
Op
::
Remove
) {

81 
hİscÙch
->
	`»move_
(
İ
.
key
.
	`size
(),

82 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
İ
.
key
.
	`c_¡r
()));

85 
	}
}

87 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

88 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

90 autØ
hİscÙch
 = 
mªag”
->
	`®loÿ‹_cÚcu¼’t_hİscÙch
(

91 
kHashTabËNumEÁr›sShiá
, kHashTableNumEntriesShift,

92 
kHashTabËRemÙeD©aSize
);

94 
ušt32_t
 
i
 = 0; i < 
kNumKVPaœs
; i++) {

95 autØ
key
 = 
	`¿ndom_¡ršg
(
kKeyMaxL’
);

96 
ušt32_t
 
j
 = 0; j < 
kNumTh»ads
; j++) {

97 autØ
v®
 = 
key
 + "_" + 
¡d
::
	`to_¡ršg
(
j
);

98 
Op
 
İ
 {

99 .
İcode
 = 
Op
::
G‘
, .
key
 = key, .
v®
 = val

101 
İs
[
j
].
	`push_back
(
İ
);

102 
İ
.
İcode
 = 
Op
::
Put
;

103 
İs
[
j
].
	`push_back
(
İ
);

104 
İ
.
İcode
 = 
Op
::
Remove
;

105 
İs
[
j
].
	`push_back
(
İ
);

109 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

110 
¡d
::
	`¿ndom_shufæe
(
İs
[
i
].
	`begš
(), ops[i].
	`’d
());

113 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

114 
th»ads
.
	`push_back
(
¹
::
	`Th»ad
([&, 
i
](è{ 
	`th»ad_wÜk_â
(i, &
hİscÙch
); }));

117 
ušt32_t
 
i
 = 0; i < 
kNumTh»ads
; i++) {

118 
th»ads
[
i
].
	`Još
();

121 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

122 
	}
}

124 
	g¬gc
;

125 
	$_maš
(*
¬g
) {

126 **
¬gv
 = 
¡©ic_ÿ¡
<**>(
¬g
);

127 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

128 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

129 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

130 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

131 
kCacheSize
, 
kNumGCTh»ads
,

132 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

133 
	`do_wÜk
(
mªag”
.
	`g‘
());

134 
	}
}

136 
	$maš
(
_¬gc
, *
¬gv
[]) {

137 
»t
;

139 ià(
_¬gc
 < 3) {

140 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

141  -
EINVAL
;

144 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

145 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

146 
i
 = 2; i < 
_¬gc
; i++) {

147 
¬gv
[
i
 - 1] =‡rgv[i];

149 
¬gc
 = 
_¬gc
 - 1;

151 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

152 ià(
»t
) {

153 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

154  
»t
;

158 
	}
}

	@test/test_tcp_hopscotch_gc_serial.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"cÚcu¼’t_hİscÙch.hµ
"

6 
	~"deviû.hµ
"

7 
	~"h–³rs.hµ
"

8 
	~"mªag”.hµ
"

10 
	~<c¡dlib
>

11 
	~<c¡ršg
>

12 
	~<io¡»am
>

13 
	~<m­
>

14 
	~<¡ršg
>

16 
usšg
 
Çme¥aû
 
çr_memÜy
;

17 
usšg
 
Çme¥aû
 
	g¡d
;

19 
cÚ¡ex´
 
ušt32_t
 
	gkKeyMaxL’
 = 200;

20 
cÚ¡ex´
 
ušt32_t
 
	gkV®ueMaxL’
 = 700;

21 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËNumEÁr›sShiá
 = 19;

22 
cÚ¡ex´
 
ušt32_t
 
	gkHashTabËRemÙeD©aSize
 =

23 (
Objeù
::
kH—d”Size
 + 
kKeyMaxL’
 + 
kV®ueMaxL’
) *

24 (1 << 
kHashTabËNumEÁr›sShiá
);

25 
cÚ¡ex´
 
	gkLßdFaùÜ
 = 0.80;

26 
cÚ¡ex´
 
ušt32_t
 
	gkNumKVPaœs
 =

27 
kLßdFaùÜ
 * (1 << 
kHashTabËNumEÁr›sShiá
);

29 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = (128ULL << 20);

30 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 30);

31 
cÚ¡ex´
 
ušt32_t
 
	gkNumGCTh»ads
 = 12;

32 
cÚ¡ex´
 
ušt32_t
 
	gkNumCÚÃùiÚs
 = 300;

34 
	g¡d
::
m­
<
¡d
::
¡ršg
, std::¡ršg> 
kvs
;

36 
	g¡d
::
¡ršg
 
	$¿ndom_¡ršg
(
ušt32_t
 
max_Ën
) {

37 
¡d
::
¡ršg
 
¡r
;

38 autØ
Ën
 = 
	`¿nd
(è% 
max_Ën
 + 1;

39 
ušt32_t
 
i
 = 0; i < 
Ën
; i++) {

40 
¡r
 +ğ
	`¿nd
() % ('z' - 'a' + 1) + 'a';

42  
¡r
;

43 
	}
}

45 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

46 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

48 autØ
hİscÙch
 = 
mªag”
->
	`®loÿ‹_cÚcu¼’t_hİscÙch
(

49 
kHashTabËNumEÁr›sShiá
, kHashTableNumEntriesShift,

50 
kHashTabËRemÙeD©aSize
);

52 
ušt32_t
 
i
 = 0; i < 
kNumKVPaœs
; i++) {

53 autØ
key
 = 
	`¿ndom_¡ršg
(
kKeyMaxL’
);

54 autØ
v®ue
 = 
	`¿ndom_¡ršg
(
kV®ueMaxL’
);

55 
hİscÙch
.
	`put_
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
()),

56 
v®ue
.
	`size
(),

57 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(
v®ue
.
	`c_¡r
()));

58 
kvs
[
key
] = 
v®ue
;

61 autØ&[
key
, 
v®ue
] : 
kvs
) {

62 
ušt16_t
 
v®_Ën
;

63 
v®
[
kV®ueMaxL’
];

64 
hİscÙch
.
	`g‘_
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
()),

65 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®
));

66 
	`TEST_ASSERT
(
v®ue
.
	`size
(è=ğ
v®_Ën
);

67 
	`TEST_ASSERT
(
	`¡ºcmp
(
v®
, 
v®ue
.
	`c_¡r
(), 
v®_Ën
) == 0);

70 autØ&[
key
, 
v®ue
] : 
kvs
) {

71 
	`TEST_ASSERT
(
hİscÙch
.
	`»move_
(

72 
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
())));

75 autØ&[
key
, 
v®ue
] : 
kvs
) {

76 
ušt16_t
 
v®_Ën
;

77 
v®
[
kV®ueMaxL’
];

78 
hİscÙch
.
	`g‘_
(
key
.
	`size
(), 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
 *>(key.
	`c_¡r
()),

79 &
v®_Ën
, 
»š‹½»t_ÿ¡
<
ušt8_t
 *>(
v®
));

80 
	`TEST_ASSERT
(
v®_Ën
 == 0);

83 
¡d
::
cout
 << "Pas£d" << std::
’dl
;

84 
	}
}

86 
	g¬gc
;

87 
	$_maš
(*
¬g
) {

88 **
¬gv
 = 
¡©ic_ÿ¡
<**>(
¬g
);

89 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

90 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

91 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

92 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

93 
kCacheSize
, 
kNumGCTh»ads
,

94 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

95 
	`do_wÜk
(
mªag”
.
	`g‘
());

96 
	}
}

98 
	$maš
(
_¬gc
, *
¬gv
[]) {

99 
»t
;

101 ià(
_¬gc
 < 3) {

102 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

103  -
EINVAL
;

106 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

107 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

108 
i
 = 2; i < 
_¬gc
; i++) {

109 
¬gv
[
i
 - 1] =‡rgv[i];

111 
¬gc
 = 
_¬gc
 - 1;

113 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

114 ià(
»t
) {

115 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

116  
»t
;

120 
	}
}

	@test/test_tcp_pointer_swap.cpp

2 
	~<ruÁime/ruÁime.h
>

5 
	~"d”ef_scİe.hµ
"

6 
	~"deviû.hµ
"

7 
	~"mªag”.hµ
"

9 
	~<c¡dlib
>

10 
	~<c¡ršg
>

11 
	~<io¡»am
>

12 
	~<memÜy
>

13 
	~<veùÜ
>

15 
usšg
 
Çme¥aû
 
çr_memÜy
;

16 
usšg
 
Çme¥aû
 
	g¡d
;

18 
cÚ¡ex´
 
ušt64_t
 
	gkCacheSize
 = 256 * 
RegiÚ
::
kSize
;

19 
cÚ¡ex´
 
ušt64_t
 
	gkF¬MemSize
 = (1ULL << 32);

20 
cÚ¡ex´
 
ušt64_t
 
	gkWÜkS‘Size
 = 1 << 30;

21 
cÚ¡ex´
 
ušt64_t
 
	gkNumGCTh»ads
 = 12;

22 
cÚ¡ex´
 
ušt64_t
 
	gkNumCÚÃùiÚs
 = 300;

24 
	sD©a4096
 {

25 
	md©a
[4096];

28 
usšg
 
	gD©a_t
 = 
D©a4096
;

30 
cÚ¡ex´
 
ušt64_t
 
	gkNumEÁr›s
 = 
kWÜkS‘Size
 / (
D©a_t
);

32 
	$do_wÜk
(
F¬MemMªag”
 *
mªag”
) {

33 
¡d
::
veùÜ
<
UniquePŒ
<
D©a_t
>> 
vec
;

35 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

36 autØ
çr_mem_±r
 = 
mªag”
->
®loÿ‹_unique_±r
<
D©a_t
>();

38 
D”efScİe
 
scİe
;

39 autØ
¿w_mut_±r
 = 
çr_mem_±r
.
	`d”ef_mut
(
scİe
);

40 
	`mem£t
(
¿w_mut_±r
->
d©a
, 
¡©ic_ÿ¡
<>(
i
), (
D©a_t
));

42 
vec
.
	`em¶aû_back
(
¡d
::
	`move
(
çr_mem_±r
));

45 
ušt64_t
 
i
 = 0; i < 
kNumEÁr›s
; i++) {

47 
D”efScİe
 
scİe
;

48 cÚ¡‡utØ
¿w_cÚ¡_±r
 = 
vec
[
i
].
	`d”ef
(
scİe
);

49 
ušt32_t
 
j
 = 0; j < (
D©a_t
); j++) {

50 ià(
¿w_cÚ¡_±r
->
d©a
[
j
] !ğ
¡©ic_ÿ¡
<>(
i
)) {

51 
ç
;

57 
cout
 << "Pas£d" << 
’dl
;

60 
ç
:

61 
cout
 << "Faed" << 
’dl
;

62 
	}
}

64 
	g¬gc
;

65 
	$_maš
(*
¬g
) {

66 
cout
 << "RuÂšg " << 
__FILE__
 "..." << 
’dl
;

67 **
¬gv
 = 
¡©ic_ÿ¡
<**>(
¬g
);

68 
¡d
::
¡ršg
 
	`_addr_pÜt
(
¬gv
[1]);

69 autØ
¿ddr
 = 
h–³rs
::
	`¡r_to_Ãddr
(
_addr_pÜt
);

70 
¡d
::
unique_±r
<
F¬MemMªag”
> 
mªag”
 =

71 
¡d
::
unique_±r
<
F¬MemMªag”
>(
F¬MemMªag”FaùÜy
::
	`bud
(

72 
kCacheSize
, 
kNumGCTh»ads
,

73 
Ãw
 
	`TCPDeviû
(
¿ddr
, 
kNumCÚÃùiÚs
, 
kF¬MemSize
)));

74 
	`do_wÜk
(
mªag”
.
	`g‘
());

75 
	}
}

77 
	$maš
(
_¬gc
, *
¬gv
[]) {

78 
»t
;

80 ià(
_¬gc
 < 3) {

81 
¡d
::
û¼
 << "u§ge: [cfg_fe] [_addr:pÜt]" << std::
’dl
;

82  -
EINVAL
;

85 
cÚf_·th
[
	`¡¾’
(
¬gv
[1]) + 1];

86 
	`¡rıy
(
cÚf_·th
, 
¬gv
[1]);

87 
i
 = 2; i < 
_¬gc
; i++) {

88 
¬gv
[
i
 - 1] =‡rgv[i];

90 
¬gc
 = 
_¬gc
 - 1;

92 
»t
 = 
	`ruÁime_š™
(
cÚf_·th
, 
_maš
, 
¬gv
);

93 ià(
»t
) {

94 
¡d
::
û¼
 << "çedØ¡¬ˆruÁime" << std::
’dl
;

95  
»t
;

99 
	}
}

	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


91 #ià
defšed
 
__ılu¥lus


92 
	#as£¹
(
ex´
) \

93 (
¡©ic_ÿ¡
 <
boŞ
> (
ex´
) \

95 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #–ià!
defšed
 
__GNUC__
 || defšed 
__STRICT_ANSI__


97 
	#as£¹
(
ex´
) \

98 ((
ex´
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

107 
	#as£¹
(
ex´
) \

108 ((è ((
ex´
è? 1 : 0), 
	`__ex‹nsiÚ__
 ({ \

109 ià(
ex´
) \

112 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
); \

113 
	}
}))

	)

116 #ifdef 
__USE_GNU


117 
	#as£¹_³¼Ü
(
”ºum
) \

118 (!(
”ºum
) \

119 ? 
	`__ASSERT_VOID_CAST
 (0) \

120 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

128 #ià
defšed
 
__ılu¥lus
 ? 
__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

129 
	#__ASSERT_FUNCTION
 
__ex‹nsiÚ__
 
__PRETTY_FUNCTION__


	)

131 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

132 
	#__ASSERT_FUNCTION
 
__func__


	)

134 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

141 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


142 #undeà
¡©ic_as£¹


143 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/byteswap.h

18 #iâdeà
_BYTESWAP_H


19 
	#_BYTESWAP_H
 1

	)

21 
	~<ã©u»s.h
>

24 
	~<b™s/by‹sw­.h
>

31 
	#bsw­_16
(
x
è
	`__bsw­_16
 (x)

	)

34 
	#bsw­_32
(
x
è
	`__bsw­_32
 (x)

	)

37 
	#bsw­_64
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/cryptopp/aes.h

6 #iâdeà
CRYPTOPP_AES_H


7 
	#CRYPTOPP_AES_H


	)

9 
	~"rijnd«l.h
"

11 
	$NAMESPACE_BEGIN
(
Cry±oPP
)

16 
	`DOCUMENTED_TYPEDEF
(
Rijnd«l
, 
AES
);

18 
Rijnd«lEnüy±iÚ
 
	tAESEnüy±iÚ
;

19 
Rijnd«lDeüy±iÚ
 
	tAESDeüy±iÚ
;

21 
NAMESPACE_END


	@/usr/include/cryptopp/filters.h

6 #iâdeà
CRYPTOPP_FILTERS_H


7 
	#CRYPTOPP_FILTERS_H


	)

9 
	~"üy±lib.h
"

11 #ià
CRYPTOPP_MSC_VERSION


12 #´agm¨
w¬nšg
(
push
)

13 #´agm¨
w¬nšg
(
di§bË
: 4127 4189 4514)

16 
	~"üy±lib.h
"

17 
	~"sim¶e.h
"

18 
	~"£cblock.h
"

19 
	~"misc.h
"

20 
	~"sm¬Œ.h
"

21 
	~"queue.h
"

22 
	~"®g·¿m.h
"

23 
	~"¡dıp.h
"

25 
	$NAMESPACE_BEGIN
(
Cry±oPP
)

36 
şass
 
CRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
F‹r
 : 
public
 
Bufã»dT¿nsfÜm©iÚ
,…ubliø
NÙCİyabË


38 
public
:

39 #iâdeà
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY_562


40 
vœtu®
 ~
	`F‹r
() {}

49 
	`F‹r
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
);

54 
boŞ
 
	`A‰achabË
(è{ 
Œue
;}

58 
Bufã»dT¿nsfÜm©iÚ
 *
	`A‰achedT¿nsfÜm©iÚ
();

62 cÚ¡ 
Bufã»dT¿nsfÜm©iÚ
 *
	`A‰achedT¿nsfÜm©iÚ
() const;

68 
	`D‘ach
(
Bufã»dT¿nsfÜm©iÚ
 *
ÃwA‰achm’t
 = 
NULL
);

73 
size_t
 
	`T¿nsãrTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
ŒªsãrBy‹s
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
);

74 
size_t
 
	`CİyRªgeTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
begš
,†wÜd 
’d
=
LWORD_MAX
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
) const;

77 
	`In™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
=
g_nuÎNameV®uePaœs
, 
´İag©iÚ
=-1);

78 
boŞ
 
	`Flush
(boŞ 
h¬dFlush
, 
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
);

79 
boŞ
 
	`Mes§geS”›sEnd
(
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
);

81 
´Ùeùed
:

82 
vœtu®
 
Bufã»dT¿nsfÜm©iÚ
 * 
	`NewDeçuÉA‰achm’t
() const;

83 
	`In£¹
(
F‹r
 *
ÃxtF‹r
);

85 
vœtu®
 
boŞ
 
	`ShouldPrİag©eMes§geEnd
(ècÚ¡ { 
Œue
;}

86 
vœtu®
 
boŞ
 
	`ShouldPrİag©eMes§geS”›sEnd
(ècÚ¡ { 
Œue
;}

88 
	`Prİag©eIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
, 
´İag©iÚ
);

98 
size_t
 
	`Ouut
(
ouutS™e
, cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
);

108 
size_t
 
	`OuutModifŸbË
(
ouutS™e
, 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
);

118 
boŞ
 
	`OuutMes§geEnd
(
ouutS™e
, 
´İag©iÚ
, boŞ 
blockšg
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
);

137 
boŞ
 
	`OuutFlush
(
ouutS™e
, boŞ 
h¬dFlush
, 
´İag©iÚ
, boŞ 
blockšg
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
);

150 
boŞ
 
	`OuutMes§geS”›sEnd
(
ouutS™e
, 
´İag©iÚ
, boŞ 
blockšg
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
);

152 
´iv©e
:

153 
memb”_±r
<
Bufã»dT¿nsfÜm©iÚ
> 
m_©chm’t
;

155 
´Ùeùed
:

156 
size_t
 
m_šputPos™iÚ
;

157 
m_cÚtšueAt
;

158 
	}
};

162 
CRYPTOPP_DLL
 
	gF‹rPutS·ûH–³r


177 
by‹
 *
H–pC»©ePutS·û
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
size_t
 
mšSize
, size_ˆ
desœedSize
, size_ˆ&
bufãrSize
)

179 
as£¹
(
desœedSize
 >ğ
mšSize
 && 
bufãrSize
 >= minSize);

180 ià(
	gm_‹mpS·û
.
size
(è< 
	gmšSize
)

182 
by‹
 *
	g»suÉ
 = 
rg‘
.
ChªÃlC»©ePutS·û
(
chªÃl
, 
desœedSize
);

183 ià(
	gdesœedSize
 >ğ
mšSize
)

185 
bufãrSize
 = 
desœedSize
;

186  
	g»suÉ
;

188 
	gm_‹mpS·û
.
New
(
bufãrSize
);

191 
	gbufãrSize
 = 
m_‹mpS·û
.
size
();

192  
	gm_‹mpS·û
.
begš
();

200 
by‹
 *
H–pC»©ePutS·û
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
size_t
 
mšSize
)

201 { 
H–pC»©ePutS·û
(
rg‘
, 
chªÃl
, 
mšSize
, minSize, minSize);}

209 
by‹
 *
H–pC»©ePutS·û
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
size_t
 
mšSize
, size_ˆ
bufãrSize
)

210 { 
H–pC»©ePutS·û
(
rg‘
, 
chªÃl
, 
mšSize
, mšSize, 
bufãrSize
);}

213 
SecBy‹Block
 
	gm_‹mpS·û
;

220 
şass
 
CRYPTOPP_DLL
 
	gM‘”F‹r
 : 
public
 
Bufã¾ess
<
F‹r
>

222 
public
:

228 
M‘”F‹r
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
=
NULL
, 
boŞ
 
Œª¥¬’t
=
Œue
)

229 : 
m_Œª¥¬’t
(
Œª¥¬’t
), 
m_cu¼’tMes§geBy‹s
(0), 
m_tÙ®By‹s
(0)

230 , 
m_cu¼’tS”›sMes§ges
(0), 
m_tÙ®Mes§ges
(0), 
m_tÙ®Mes§geS”›s
(0)

231 , 
m_begš
(
NULL
), 
m_Ëngth
(0è{
D‘ach
(
©chm’t
); 
Re£tM‘”
();}

235 
S‘T¿n¥¬’t
(
boŞ
 
Œª¥¬’t
è{
	gm_Œª¥¬’t
 =ransparent;}

244 
AddRªgeToSk
(
mes§ge
, 
lwÜd
 
pos™iÚ
,†wÜd 
size
, 
boŞ
 
sÜtNow
 = 
Œue
);

249 
Re£tM‘”
();

251 
IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
)

252 {
CRYPTOPP_UNUSED
(
·¿m‘”s
); 
Re£tM‘”
();}

254 
lwÜd
 
G‘Cu¼’tMes§geBy‹s
(ècÚ¡ { 
	gm_cu¼’tMes§geBy‹s
;}

255 
lwÜd
 
G‘TÙ®By‹s
(ècÚ¡ { 
	gm_tÙ®By‹s
;}

256 
G‘Cu¼’tS”›sMes§ges
(ècÚ¡ { 
	gm_cu¼’tS”›sMes§ges
;}

257 
G‘TÙ®Mes§ges
(ècÚ¡ { 
	gm_tÙ®Mes§ges
;}

258 
G‘TÙ®Mes§geS”›s
(ècÚ¡ { 
	gm_tÙ®Mes§geS”›s
;}

260 
by‹
 * 
C»©ePutS·û
(
size_t
 &
size
)

261 { 
A‰achedT¿nsfÜm©iÚ
()->
C»©ePutS·û
(
size
);}

262 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

263 
size_t
 
PutModifŸbË2
(
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

264 
boŞ
 
IsŞ©edMes§geS”›sEnd
(boŞ 
blockšg
);

266 
	g´iv©e
:

267 
size_t
 
PutMaybeModifŸbË
(
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
, boŞ 
modifŸbË
);

268 
boŞ
 
ShouldPrİag©eMes§geEnd
(ècÚ¡ { 
	gm_Œª¥¬’t
;}

269 
boŞ
 
ShouldPrİag©eMes§geS”›sEnd
(ècÚ¡ { 
	gm_Œª¥¬’t
;}

271 
	sMes§geRªge


273 
šlše
 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gMes§geRªge
 &
	gb
) const

274 { 
	gmes§ge
 < 
	gb
.mes§g|| (mes§g=ğ
b
.
mes§ge
 && 
pos™iÚ
 < b.position);}

275 
	gmes§ge
; 
lwÜd
 
	gpos™iÚ
;†wÜd 
	gsize
;

278 
boŞ
 
	gm_Œª¥¬’t
;

279 
lwÜd
 
	gm_cu¼’tMes§geBy‹s
, 
	gm_tÙ®By‹s
;

280 
	gm_cu¼’tS”›sMes§ges
, 
	gm_tÙ®Mes§ges
, 
	gm_tÙ®Mes§geS”›s
;

281 
	g¡d
::
deque
<
Mes§geRªge
> 
m_¿ngesToSk
;

282 
by‹
 *
	gm_begš
;

283 
size_t
 
	gm_Ëngth
;

289 şas 
	cCRYPTOPP_DLL
 
	mT¿n¥¬’tF‹r
 : 
public
 
M‘”F‹r


291 
public
:

294 
	$T¿n¥¬’tF‹r
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
=
NULL
è: 
	$M‘”F‹r
(
©chm’t
, 
Œue
) {}

295 
	}
};

300 şas 
	cCRYPTOPP_DLL
 
	mO·queF‹r
 : 
public
 
M‘”F‹r


302 
public
:

305 
	$O·queF‹r
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
=
NULL
è: 
	$M‘”F‹r
(
©chm’t
, 
çl£
) {}

306 
	}
};

315 şas 
	cCRYPTOPP_DLL
 
	mF‹rW™hBufã»dIÅut
 : 
public
 
F‹r


317 
public
:

319 #ià!
	$defšed
(
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY_562
)

321 
	`F‹rW™hBufã»dIÅut
();

326 
	`F‹rW™hBufã»dIÅut
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
);

334 
	`F‹rW™hBufã»dIÅut
(
size_t
 
fœ¡Size
, size_ˆ
blockSize
, size_ˆ
Ï¡Size
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
);

336 
	`IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

337 
size_t
 
	$Put2
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

339  
	`PutMaybeModifŸbË
(
cÚ¡_ÿ¡
<
by‹
 *>(
šSŒšg
), 
Ëngth
, 
mes§geEnd
, 
blockšg
, 
çl£
);

341 
size_t
 
	$PutModifŸbË2
(
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

343  
	`PutMaybeModifŸbË
(
šSŒšg
, 
Ëngth
, 
mes§geEnd
, 
blockšg
, 
Œue
);

344 
	}
}

346 
boŞ
 
IsŞ©edFlush
(boŞ 
h¬dFlush
, boŞ 
blockšg
);

351 
FÜûNextPut
();

353 
	g´Ùeùed
:

354 
boŞ
 
	$DidFœ¡Put
(è{ 
m_fœ¡IÅutDÚe
;
	}
}

356 
vœtu®
 
	$In™ŸlizeD”ivedAndR‘uºNewSizes
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
, 
size_t
 &
fœ¡Size
, size_ˆ&
blockSize
, size_ˆ&
Ï¡Size
)

357 {
	`CRYPTOPP_UNUSED
(
·¿m‘”s
); CRYPTOPP_UNUSED(
fœ¡Size
); CRYPTOPP_UNUSED(
blockSize
); CRYPTOPP_UNUSED(
Ï¡Size
); 
	`In™ŸlizeD”ived
Õ¬am‘”s);
	}
}

358 
vœtu®
 
	$In™ŸlizeD”ived
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
)

359 {
	`CRYPTOPP_UNUSED
(
·¿m‘”s
);
	}
}

362 
vœtu®
 
Fœ¡Put
(cÚ¡ 
by‹
 *
šSŒšg
) =0;

364 
vœtu®
 
	$NextPutSšgË
(cÚ¡ 
by‹
 *
šSŒšg
)

365 {
	`CRYPTOPP_UNUSED
(
šSŒšg
); 
	`as£¹
(
çl£
);
	}
}

368 
vœtu®
 
NextPutMuÉË
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

370 
vœtu®
 
	$NextPutModifŸbË
(
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
)

371 {
	`NextPutMuÉË
(
šSŒšg
, 
Ëngth
);
	}
}

376 
vœtu®
 
La¡Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
) =0;

377 
vœtu®
 
	$FlushD”ived
(è{
	}
}

379 
	g´Ùeùed
:

380 
size_t
 
PutMaybeModifŸbË
(
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
, boŞ 
modifŸbË
);

381 
	$NextPutMaybeModifŸbË
(
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
, 
boŞ
 
modifŸbË
)

383 ià(
modifŸbË
è
	`NextPutModifŸbË
(
šSŒšg
, 
Ëngth
);

384 
	`NextPutMuÉË
(
šSŒšg
, 
Ëngth
);

385 
	}
}

389 
vœtu®
 
	$NextPut
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
)

390 {
	`CRYPTOPP_UNUSED
(
šSŒšg
); CRYPTOPP_UNUSED(
Ëngth
); 
	`as£¹
(
çl£
);  0;
	}
}

392 şas 
	cBlockQueue


394 
	gpublic
:

395 
Re£tQueue
(
size_t
 
blockSize
, size_ˆ
maxBlocks
);

396 
by‹
 *
G‘Block
();

397 
by‹
 *
G‘CÚtigousBlocks
(
size_t
 &
numb”OfBy‹s
);

398 
size_t
 
G‘AÎ
(
by‹
 *
outSŒšg
);

399 
Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

400 
size_t
 
Cu¼’tSize
(ècÚ¡ { 
	gm_size
;}

401 
size_t
 
MaxSize
(ècÚ¡ { 
	gm_bufãr
.
size
();}

403 
	g´iv©e
:

404 
SecBy‹Block
 
m_bufãr
;

405 
size_t
 
	gm_blockSize
, 
	gm_maxBlocks
, 
	gm_size
;

406 
by‹
 *
	gm_begš
;

409 
size_t
 
	gm_fœ¡Size
, 
	gm_blockSize
, 
	gm_Ï¡Size
;

410 
boŞ
 
	gm_fœ¡IÅutDÚe
;

411 
BlockQueue
 
	gm_queue
;

419 şas 
	cCRYPTOPP_DLL
 
	mF‹rW™hIÅutQueue
 : 
public
 
F‹r


421 
public
:

424 
	$F‹rW™hIÅutQueue
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
=
NULL
è: 
	$F‹r
(
©chm’t
) {}

426 
size_t
 
	$Put2
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

428 ià(!
blockšg
)

429 
throw
 
	`BlockšgIÅutOÆy
("FilterWithInputQueue");

431 
m_šQueue
.
	`Put
(
šSŒšg
, 
Ëngth
);

432 ià(
mes§geEnd
)

434 
	`IsŞ©edMes§geEnd
(
blockšg
);

435 
	`Ouut
(0, 
NULL
, 0, 
mes§geEnd
, 
blockšg
);

438 
	}
}

440 
	g´Ùeùed
:

441 
vœtu®
 
boŞ
 
IsŞ©edMes§geEnd
(boŞ 
blockšg
) =0;

442 
	$IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
)

443 {
	`CRYPTOPP_UNUSED
(
·¿m‘”s
); 
m_šQueue
.
	`CË¬
();
	}
}

445 
By‹Queue
 
	gm_šQueue
;

450 
	sBlockPaddšgSchemeDef


459 
	eBlockPaddšgScheme
 {

461 
	mNO_PADDING
,

463 
	mZEROS_PADDING
,

465 
	mPKCS_PADDING
,

467 
	mONE_AND_ZEROS_PADDING
,

469 
	mDEFAULT_PADDING


476 
şass
 
CRYPTOPP_DLL
 
	gSŒ—mT¿nsfÜm©iÚF‹r
 : 
public
 
F‹rW™hBufã»dIÅut
,…ubliø
	gBlockPaddšgSchemeDef
, 
´iv©e
 
	gF‹rPutS·ûH–³r


478 
	gpublic
:

484 
SŒ—mT¿nsfÜm©iÚF‹r
(
SŒ—mT¿nsfÜm©iÚ
 &
c
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
, 
BlockPaddšgScheme
 
·ddšg
 = 
DEFAULT_PADDING
, 
boŞ
 
®lowAuth’tiÿ‹dSymm‘ricCh”
 = 
çl£
);

486 
	g¡d
::
¡ršg
 
AlgÜ™hmName
(ècÚ¡ { 
m_ch”
.AlgorithmName();}

488 
	g´Ùeùed
:

489 
In™ŸlizeD”ivedAndR‘uºNewSizes
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
, 
size_t
 &
fœ¡Size
, size_ˆ&
blockSize
, size_ˆ&
Ï¡Size
);

490 
Fœ¡Put
(cÚ¡ 
by‹
 *
šSŒšg
);

491 
NextPutMuÉË
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

492 
NextPutModifŸbË
(
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

493 
La¡Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

495 
size_t
 
La¡BlockSize
(
SŒ—mT¿nsfÜm©iÚ
 &
c
, 
BlockPaddšgScheme
 
·ddšg
);

497 
	gSŒ—mT¿nsfÜm©iÚ
 &
	gm_ch”
;

498 
BlockPaddšgScheme
 
	gm_·ddšg
;

499 
	gm_İtim®BufãrSize
;

502 #ifdeà
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY


503 
SŒ—mT¿nsfÜm©iÚF‹r
 
	tSŒ—mCh”F‹r
;

508 
şass
 
CRYPTOPP_DLL
 
	gHashF‹r
 : 
public
 
Bufã¾ess
<
F‹r
>, 
´iv©e
 
	gF‹rPutS·ûH–³r


510 
	gpublic
:

518 
HashF‹r
(
HashT¿nsfÜm©iÚ
 &
hm
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
, 
boŞ
 
putMes§ge
=
çl£
, 
Œunÿ‹dDige¡Size
=-1, cÚ¡ 
¡d
::
¡ršg
 &
mes§gePutChªÃl
=
DEFAULT_CHANNEL
, cÚ¡ std::¡ršg &
hashPutChªÃl
=DEFAULT_CHANNEL);

520 
	g¡d
::
¡ršg
 
AlgÜ™hmName
(ècÚ¡ { 
m_hashModuË
.AlgorithmName();}

521 
IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

522 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

523 
by‹
 * 
C»©ePutS·û
(
size_t
 &
size
è{ 
	gm_hashModuË
.
C»©eUpd©eS·û
(size);}

525 
	g´iv©e
:

526 
HashT¿nsfÜm©iÚ
 &
m_hashModuË
;

527 
boŞ
 
	gm_putMes§ge
;

528 
	gm_dige¡Size
;

529 
by‹
 *
	gm_¥aû
;

530 
	g¡d
::
¡ršg
 
m_mes§gePutChªÃl
, 
	gm_hashPutChªÃl
;

535 şas 
	cCRYPTOPP_DLL
 
	mHashV”ifiÿtiÚF‹r
 : 
public
 
F‹rW™hBufã»dIÅut


537 
public
:

540 şas 
	cHashV”ifiÿtiÚFaed
 : 
public
 
Exû±iÚ


542 
public
:

543 
HashV”ifiÿtiÚFaed
()

544 : 
Exû±iÚ
(
DATA_INTEGRITY_CHECK_FAILED
, "HashVerificationFilter: message hash or MAC‚ot valid") {}

550 
	eFÏgs
 {

552 
	gHASH_AT_END
=0,

554 
	gHASH_AT_BEGIN
=1,

556 
	gPUT_MESSAGE
=2,

558 
	gPUT_HASH
=4,

560 
	gPUT_RESULT
=8,

562 
	gTHROW_EXCEPTION
=16,

564 
	gDEFAULT_FLAGS
 = 
HASH_AT_BEGIN
 | 
PUT_RESULT


573 
HashV”ifiÿtiÚF‹r
(
HashT¿nsfÜm©iÚ
 &
hm
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
, 
wÜd32
 
æags
 = 
DEFAULT_FLAGS
, 
Œunÿ‹dDige¡Size
=-1);

575 
	g¡d
::
¡ršg
 
	$AlgÜ™hmName
(ècÚ¡ { 
m_hashModuË
.
	`AlgÜ™hmName
();
	}
}

576 
boŞ
 
	$G‘La¡ResuÉ
(ècÚ¡ { 
m_v”if›d
;
	}
}

578 
	g´Ùeùed
:

579 
In™ŸlizeD”ivedAndR‘uºNewSizes
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
, 
size_t
 &
fœ¡Size
, size_ˆ&
blockSize
, size_ˆ&
Ï¡Size
);

580 
Fœ¡Put
(cÚ¡ 
by‹
 *
šSŒšg
);

581 
NextPutMuÉË
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

582 
La¡Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

584 
	g´iv©e
:

585 
ä›nd
 
şass
 
Auth’tiÿ‹dDeüy±iÚF‹r
;

587 
	gHashT¿nsfÜm©iÚ
 &
	gm_hashModuË
;

588 
wÜd32
 
	gm_æags
;

589 
	gm_dige¡Size
;

590 
boŞ
 
	gm_v”if›d
;

591 
SecBy‹Block
 
	gm_ex³ùedHash
;

594 
HashV”ifiÿtiÚF‹r
 
	tHashV”if›r
;

599 şas 
	cCRYPTOPP_DLL
 
	mAuth’tiÿ‹dEnüy±iÚF‹r
 : 
public
 
SŒ—mT¿nsfÜm©iÚF‹r


601 
public
:

610 
Auth’tiÿ‹dEnüy±iÚF‹r
(
Auth’tiÿ‹dSymm‘ricCh”
 &
c
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
, 
boŞ
 
putAAD
=
çl£
, 
Œunÿ‹dDige¡Size
=-1, cÚ¡ 
¡d
::
¡ršg
 &
macChªÃl
=
DEFAULT_CHANNEL
, 
BlockPaddšgScheme
 
·ddšg
 = 
DEFAULT_PADDING
);

612 
IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

613 
by‹
 * 
ChªÃlC»©ePutS·û
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
size_t
 &
size
);

614 
size_t
 
ChªÃlPut2
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, cÚ¡ 
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

615 
La¡Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

617 
	m´Ùeùed
:

618 
HashF‹r
 
m_hf
;

624 
şass
 
CRYPTOPP_DLL
 
	gAuth’tiÿ‹dDeüy±iÚF‹r
 : 
public
 
F‹rW™hBufã»dIÅut
,…ubliø
	gBlockPaddšgSchemeDef


626 
	gpublic
:

630 
	eFÏgs
 {

632 
MAC_AT_END
=0,

634 
	gMAC_AT_BEGIN
=1,

636 
	gTHROW_EXCEPTION
=16,

638 
	gDEFAULT_FLAGS
 = 
THROW_EXCEPTION


649 
Auth’tiÿ‹dDeüy±iÚF‹r
(
Auth’tiÿ‹dSymm‘ricCh”
 &
c
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
, 
wÜd32
 
æags
 = 
DEFAULT_FLAGS
, 
Œunÿ‹dDige¡Size
=-1, 
BlockPaddšgScheme
 
·ddšg
 = 
DEFAULT_PADDING
);

651 
	g¡d
::
¡ršg
 
AlgÜ™hmName
(ècÚ¡ { 
m_hashV”if›r
.AlgorithmName();}

652 
by‹
 * 
ChªÃlC»©ePutS·û
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
size_t
 &
size
);

653 
size_t
 
ChªÃlPut2
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, cÚ¡ 
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

654 
boŞ
 
G‘La¡ResuÉ
(ècÚ¡ { 
	gm_hashV”if›r
.GetLastResult();}

656 
	g´Ùeùed
:

657 
In™ŸlizeD”ivedAndR‘uºNewSizes
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
, 
size_t
 &
fœ¡Size
, size_ˆ&
blockSize
, size_ˆ&
Ï¡Size
);

658 
Fœ¡Put
(cÚ¡ 
by‹
 *
šSŒšg
);

659 
NextPutMuÉË
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

660 
La¡Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

662 
HashV”ifiÿtiÚF‹r
 
	gm_hashV”if›r
;

663 
SŒ—mT¿nsfÜm©iÚF‹r
 
	gm_¡»amF‹r
;

668 
şass
 
CRYPTOPP_DLL
 
	gSigÃrF‹r
 : 
public
 
UnæushabË
<
F‹r
>

670 
public
:

676 
SigÃrF‹r
(
RªdomNumb”G’”©Ü
 &
ºg
, cÚ¡ 
PK_SigÃr
 &
sigÃr
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
, 
boŞ
 
putMes§ge
=
çl£
)

677 : 
m_ºg
(
ºg
), 
m_sigÃr
(
sigÃr
), 
m_mes§geAccumuÏtÜ
(sigÃr.
NewSigÇtu»AccumuÏtÜ
Ông)), 
m_putMes§ge
(
putMes§ge
è{
D‘ach
(
©chm’t
);}

679 
	g¡d
::
¡ršg
 
AlgÜ™hmName
(ècÚ¡ { 
m_sigÃr
.AlgorithmName();}

681 
IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

682 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

684 
	g´iv©e
:

685 
RªdomNumb”G’”©Ü
 &
m_ºg
;

686 cÚ¡ 
	gPK_SigÃr
 &
	gm_sigÃr
;

687 
	gmemb”_±r
<
	gPK_Mes§geAccumuÏtÜ
> 
	gm_mes§geAccumuÏtÜ
;

688 
boŞ
 
	gm_putMes§ge
;

689 
SecBy‹Block
 
	gm_buf
;

694 şas 
	cCRYPTOPP_DLL
 
	mSigÇtu»V”ifiÿtiÚF‹r
 : 
public
 
F‹rW™hBufã»dIÅut


696 
public
:

698 şas 
	cSigÇtu»V”ifiÿtiÚFaed
 : 
public
 
Exû±iÚ


700 
public
:

701 
SigÇtu»V”ifiÿtiÚFaed
()

702 : 
Exû±iÚ
(
DATA_INTEGRITY_CHECK_FAILED
, "VerifierFilter: digital signature‚ot valid") {}

708 
	eFÏgs
 {

710 
	gSIGNATURE_AT_END
=0,

712 
	gSIGNATURE_AT_BEGIN
=1,

714 
	gPUT_MESSAGE
=2,

716 
	gPUT_SIGNATURE
=4,

718 
	gPUT_RESULT
=8,

720 
	gTHROW_EXCEPTION
=16,

722 
	gDEFAULT_FLAGS
 = 
SIGNATURE_AT_BEGIN
 | 
PUT_RESULT


729 
SigÇtu»V”ifiÿtiÚF‹r
(cÚ¡ 
PK_V”if›r
 &
v”if›r
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
, 
wÜd32
 
æags
 = 
DEFAULT_FLAGS
);

731 
	g¡d
::
¡ršg
 
	$AlgÜ™hmName
(ècÚ¡ { 
m_v”if›r
.
	`AlgÜ™hmName
();
	}
}

735 
boŞ
 
	$G‘La¡ResuÉ
(ècÚ¡ { 
m_v”if›d
;
	}
}

737 
	g´Ùeùed
:

738 
In™ŸlizeD”ivedAndR‘uºNewSizes
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
, 
size_t
 &
fœ¡Size
, size_ˆ&
blockSize
, size_ˆ&
Ï¡Size
);

739 
Fœ¡Put
(cÚ¡ 
by‹
 *
šSŒšg
);

740 
NextPutMuÉË
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

741 
La¡Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

743 
	g´iv©e
:

744 cÚ¡ 
PK_V”if›r
 &
m_v”if›r
;

745 
	gmemb”_±r
<
	gPK_Mes§geAccumuÏtÜ
> 
	gm_mes§geAccumuÏtÜ
;

746 
wÜd32
 
	gm_æags
;

747 
SecBy‹Block
 
	gm_sigÇtu»
;

748 
boŞ
 
	gm_v”if›d
;

751 
SigÇtu»V”ifiÿtiÚF‹r
 
	tV”if›rF‹r
;

755 
şass
 
CRYPTOPP_DLL
 
	gRedœeùÜ
 : 
public
 
Cu¡omSigÇlPrİag©iÚ
<
Sšk
>

757 
public
:

760 
	eBehaviÜ


763 
DATA_ONLY
 = 0x00,

765 
	gPASS_SIGNALS
 = 0x01,

767 
	gPASS_WAIT_OBJECTS
 = 0x02,

770 
	gPASS_EVERYTHING
 = 
PASS_SIGNALS
 | 
PASS_WAIT_OBJECTS


774 
RedœeùÜ
(è: 
m_rg‘
(
NULL
), 
m_behaviÜ
(
PASS_EVERYTHING
) {}

779 
RedœeùÜ
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
BehaviÜ
 
behaviÜ
=
PASS_EVERYTHING
)

780 : 
m_rg‘
(&
rg‘
), 
m_behaviÜ
(
behaviÜ
) {}

784 
Redœeù
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
è{
	gm_rg‘
 = &target;}

786 
StİRedœeùiÚ
(è{
	gm_rg‘
 = 
NULL
;}

788 
BehaviÜ
 
G‘BehaviÜ
(è{ (
	gBehaviÜ
è
	gm_behaviÜ
;}

789 
S‘BehaviÜ
(
BehaviÜ
 
behaviÜ
è{
	gm_behaviÜ
=behavior;}

790 
boŞ
 
G‘PassSigÇls
(ècÚ¡ { (
	gm_behaviÜ
 & 
	gPASS_SIGNALS
) != 0;}

791 
S‘PassSigÇls
(
boŞ
 
·ss
è{ ià(
	g·ss
è
	gm_behaviÜ
 |ğ
PASS_SIGNALS
; m_behaviÜ &ğ~(
wÜd32
) PASS_SIGNALS; }

792 
boŞ
 
G‘PassWa™Objeùs
(ècÚ¡ { (
	gm_behaviÜ
 & 
	gPASS_WAIT_OBJECTS
) != 0;}

793 
S‘PassWa™Objeùs
(
boŞ
 
·ss
è{ ià(
	g·ss
è
	gm_behaviÜ
 |ğ
PASS_WAIT_OBJECTS
; m_behaviÜ &ğ~(
wÜd32
) PASS_WAIT_OBJECTS; }

795 
boŞ
 
CªModifyIÅut
() const

796 { 
	gm_rg‘
 ? m_rg‘->
CªModifyIÅut
(è: 
çl£
;}

798 
In™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
, 
´İag©iÚ
);

799 
by‹
 * 
C»©ePutS·û
(
size_t
 &
size
)

801 ià(
	gm_rg‘
)

802  
	gm_rg‘
->
C»©ePutS·û
(
size
);

805 
	gsize
 = 0;

806  
	gNULL
;

809 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

810 { 
	gm_rg‘
 ? m_rg‘->
Put2
(
šSŒšg
, 
Ëngth
, 
G‘PassSigÇls
(è? 
mes§geEnd
 : 0, 
blockšg
) : 0;}

811 
boŞ
 
Flush
(boŞ 
h¬dFlush
, 
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

812 { 
m_rg‘
 && 
G‘PassSigÇls
(è? m_rg‘->
Flush
(
h¬dFlush
, 
´İag©iÚ
, 
blockšg
è: 
çl£
;}

813 
boŞ
 
Mes§geS”›sEnd
(
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

814 { 
m_rg‘
 && 
G‘PassSigÇls
(è? m_rg‘->
Mes§geS”›sEnd
(
´İag©iÚ
, 
blockšg
è: 
çl£
;}

816 
by‹
 * 
ChªÃlC»©ePutS·û
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
size_t
 &
size
)

818 ià(
	gm_rg‘
)

819  
	gm_rg‘
->
ChªÃlC»©ePutS·û
(
chªÃl
, 
size
);

822 
	gsize
 = 0;

823  
	gNULL
;

826 
size_t
 
ChªÃlPut2
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, cÚ¡ 
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

827 { 
	gm_rg‘
 ? m_rg‘->
ChªÃlPut2
(
chªÃl
, 
begš
, 
Ëngth
, 
G‘PassSigÇls
(è? 
mes§geEnd
 : 0, 
blockšg
) : 0;}

828 
size_t
 
ChªÃlPutModifŸbË2
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

829 { 
	gm_rg‘
 ? m_rg‘->
ChªÃlPutModifŸbË2
(
chªÃl
, 
begš
, 
Ëngth
, 
G‘PassSigÇls
(è? 
mes§geEnd
 : 0, 
blockšg
) : 0;}

830 
boŞ
 
ChªÃlFlush
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, boŞ 
com¶‘eFlush
, 
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

831 { 
m_rg‘
 && 
G‘PassSigÇls
(è? m_rg‘->
ChªÃlFlush
(
chªÃl
, 
com¶‘eFlush
, 
´İag©iÚ
, 
blockšg
è: 
çl£
;}

832 
boŞ
 
ChªÃlMes§geS”›sEnd
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

833 { 
m_rg‘
 && 
G‘PassSigÇls
(è? m_rg‘->
ChªÃlMes§geS”›sEnd
(
chªÃl
, 
´İag©iÚ
, 
blockšg
è: 
çl£
;}

835 
G‘MaxWa™ObjeùCouÁ
() const

836 {  
	gm_rg‘
 && 
G‘PassWa™Objeùs
(è? m_rg‘->
G‘MaxWa™ObjeùCouÁ
() : 0; }

837 
G‘Wa™Objeùs
(
Wa™ObjeùCÚš”
 &
cÚš”
, 
C®lSck
 cÚ¡& 
ÿÎSck
)

838 { ià(
	gm_rg‘
 && 
G‘PassWa™Objeùs
()èm_rg‘->
G‘Wa™Objeùs
(
cÚš”
, 
ÿÎSck
); }

840 
	g´iv©e
:

841 
Bufã»dT¿nsfÜm©iÚ
 *
m_rg‘
;

842 
wÜd32
 
	gm_behaviÜ
;

846 
şass
 
CRYPTOPP_DLL
 
	gOuutProxy
 : 
public
 
Cu¡omSigÇlPrİag©iÚ
<
Sšk
>

848 
public
:

849 
OuutProxy
(
Bufã»dT¿nsfÜm©iÚ
 &
owÃr
, 
boŞ
 
·ssSigÇl
è: 
m_owÃr
(owÃr), 
m_·ssSigÇl
(passSignal) {}

851 
boŞ
 
G‘PassSigÇl
(ècÚ¡ { 
	gm_·ssSigÇl
;}

852 
S‘PassSigÇl
(
boŞ
 
·ssSigÇl
è{
	gm_·ssSigÇl
 =…assSignal;}

854 
by‹
 * 
C»©ePutS·û
(
size_t
 &
size
)

855 { 
	gm_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
C»©ePutS·û
(
size
);}

856 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

857 { 
	gm_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
Put2
(
šSŒšg
, 
Ëngth
, 
m_·ssSigÇl
 ? 
mes§geEnd
 : 0, 
blockšg
);}

858 
size_t
 
PutModifŸbË2
(
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

859 { 
	gm_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
PutModifŸbË2
(
begš
, 
Ëngth
, 
m_·ssSigÇl
 ? 
mes§geEnd
 : 0, 
blockšg
);}

860 
In™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
=
g_nuÎNameV®uePaœs
, 
´İag©iÚ
=-1)

861 {ià(
m_·ssSigÇl
è
m_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
In™Ÿlize
(
·¿m‘”s
, 
´İag©iÚ
);}

862 
boŞ
 
Flush
(boŞ 
h¬dFlush
, 
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

863 { 
m_·ssSigÇl
 ? 
m_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
Flush
(
h¬dFlush
, 
´İag©iÚ
, 
blockšg
è: 
çl£
;}

864 
boŞ
 
Mes§geS”›sEnd
(
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

865 { 
m_·ssSigÇl
 ? 
m_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
Mes§geS”›sEnd
(
´İag©iÚ
, 
blockšg
è: 
çl£
;}

867 
by‹
 * 
ChªÃlC»©ePutS·û
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
size_t
 &
size
)

868 { 
	gm_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
ChªÃlC»©ePutS·û
(
chªÃl
, 
size
);}

869 
size_t
 
ChªÃlPut2
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, cÚ¡ 
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

870 { 
	gm_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
ChªÃlPut2
(
chªÃl
, 
begš
, 
Ëngth
, 
m_·ssSigÇl
 ? 
mes§geEnd
 : 0, 
blockšg
);}

871 
size_t
 
ChªÃlPutModifŸbË2
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
by‹
 *
begš
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

872 { 
	gm_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
ChªÃlPutModifŸbË2
(
chªÃl
, 
begš
, 
Ëngth
, 
m_·ssSigÇl
 ? 
mes§geEnd
 : 0, 
blockšg
);}

873 
boŞ
 
ChªÃlFlush
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, boŞ 
com¶‘eFlush
, 
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

874 { 
m_·ssSigÇl
 ? 
m_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
ChªÃlFlush
(
chªÃl
, 
com¶‘eFlush
, 
´İag©iÚ
, 
blockšg
è: 
çl£
;}

875 
boŞ
 
ChªÃlMes§geS”›sEnd
(cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
, 
´İag©iÚ
=-1, boŞ 
blockšg
=
Œue
)

876 { 
m_·ssSigÇl
 ? 
m_owÃr
.
A‰achedT¿nsfÜm©iÚ
()->
ChªÃlMes§geS”›sEnd
(
chªÃl
, 
´İag©iÚ
, 
blockšg
è: 
çl£
;}

878 
	g´iv©e
:

879 
Bufã»dT¿nsfÜm©iÚ
 &
m_owÃr
;

880 
boŞ
 
	gm_·ssSigÇl
;

885 şas 
	cCRYPTOPP_DLL
 
	mProxyF‹r
 : 
public
 
F‹rW™hBufã»dIÅut


887 
public
:

893 
ProxyF‹r
(
Bufã»dT¿nsfÜm©iÚ
 *
f‹r
, 
size_t
 
fœ¡Size
, size_ˆ
Ï¡Size
, Bufã»dT¿nsfÜm©iÚ *
©chm’t
);

895 
boŞ
 
IsŞ©edFlush
(boŞ 
h¬dFlush
, boŞ 
blockšg
);

899 
S‘F‹r
(
F‹r
 *
f‹r
);

900 
NextPutMuÉË
(cÚ¡ 
by‹
 *
s
, 
size_t
 
Ën
);

901 
NextPutModifŸbË
(
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
);

903 
	m´Ùeùed
:

904 
memb”_±r
<
Bufã»dT¿nsfÜm©iÚ
> 
m_f‹r
;

909 şas 
	cCRYPTOPP_DLL
 
	mSim¶eProxyF‹r
 : 
public
 
ProxyF‹r


911 
public
:

915 
	$Sim¶eProxyF‹r
(
Bufã»dT¿nsfÜm©iÚ
 *
f‹r
, Bufã»dT¿nsfÜm©iÚ *
©chm’t
)

916 : 
	$ProxyF‹r
(
f‹r
, 0, 0, 
©chm’t
) {}

918 
	$Fœ¡Put
(cÚ¡ 
by‹
 * 
šSŒšg
)

919 {
	`CRYPTOPP_UNUSED
(
šSŒšg
);
	}
}

920 
	$La¡Put
(cÚ¡ 
by‹
 *
šSŒšg
, 
size_t
 
Ëngth
)

921 {
	`CRYPTOPP_UNUSED
(
šSŒšg
), CRYPTOPP_UNUSED(
Ëngth
); 
m_f‹r
->
	`Mes§geEnd
();
	}
}

928 şas 
	cCRYPTOPP_DLL
 
	mPK_Enüy±ÜF‹r
 : 
public
 
Sim¶eProxyF‹r


930 
public
:

935 
	$PK_Enüy±ÜF‹r
(
RªdomNumb”G’”©Ü
 &
ºg
, cÚ¡ 
PK_Enüy±Ü
 &
’üy±Ü
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

936 : 
	`Sim¶eProxyF‹r
(
’üy±Ü
.
	`C»©eEnüy±iÚF‹r
(
ºg
), 
©chm’t
) {}

937 
	}
};

943 şas 
	cCRYPTOPP_DLL
 
	mPK_Deüy±ÜF‹r
 : 
public
 
Sim¶eProxyF‹r


945 
public
:

950 
	$PK_Deüy±ÜF‹r
(
RªdomNumb”G’”©Ü
 &
ºg
, cÚ¡ 
PK_Deüy±Ü
 &
deüy±Ü
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

951 : 
	`Sim¶eProxyF‹r
(
deüy±Ü
.
	`C»©eDeüy±iÚF‹r
(
ºg
), 
©chm’t
) {}

952 
	}
};

958 
	g‹m¶©e
 <
şass
 
	gT
>

959 
şass
 
	gSŒšgSškTem¶©e
 : 
public
 
Bufã¾ess
<
Sšk
>

961 
public
:

963 
ty³Çme
 
	tT
::
	tŒa™s_ty³
::
	tch¬_ty³
 char_type;

967 
SŒšgSškTem¶©e
(
T
 &
ouut
)

968 : 
m_ouut
(&
ouut
è{
as£¹
((output[0])==1);}

970 
IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
)

971 {ià(!
	g·¿m‘”s
.
G‘V®ue
("OuutSŒšgPoš‹r", 
m_ouut
)è
throw
 
Inv®idArgum’t
("StringSink: OutputStringPointer‚ot specified");}

973 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
)

975 
CRYPTOPP_UNUSED
(
mes§geEnd
); CRYPTOPP_UNUSED(
blockšg
);

976 ià(
	gËngth
 > 0)

978 
ty³Çme
 
	gT
::
size_ty³
 
size
 = 
m_ouut
->size();

979 ià(
	gËngth
 < 
	gsize
 && siz+†’gth > 
	gm_ouut
->
ÿ·c™y
())

980 
	gm_ouut
->
»£rve
(2*
size
);

981 
	gm_ouut
->
­³nd
((cÚ¡ 
ch¬_ty³
 *)
šSŒšg
, (cÚ¡ ch¬_ty³ *)šSŒšg+
Ëngth
);

986 
	g´iv©e
:

987 
T
 *
m_ouut
;

990 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gSŒšgSškTem¶©e
<
	g¡d
::
¡ršg
>;

991 
DOCUMENTED_TYPEDEF
(
SŒšgSškTem¶©e
<
¡d
::
¡ršg
>, 
SŒšgSšk
);

995 
şass
 
	gRªdomNumb”Sšk
 : 
public
 
Bufã¾ess
<
Sšk
>

997 
public
:

999 
RªdomNumb”Sšk
()

1000 : 
m_ºg
(
NULL
) {}

1004 
RªdomNumb”Sšk
(
RªdomNumb”G’”©Ü
 &
ºg
)

1005 : 
m_ºg
(&
ºg
) {}

1007 
IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

1008 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

1010 
	g´iv©e
:

1011 
RªdomNumb”G’”©Ü
 *
m_ºg
;

1016 
şass
 
CRYPTOPP_DLL
 
	gA¼aySšk
 : 
public
 
Bufã¾ess
<
Sšk
>

1018 
public
:

1022 
A¼aySšk
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
 = 
g_nuÎNameV®uePaœs
)

1023 : 
m_buf
(
NULL
), 
m_size
(0), 
m_tÙ®
(0è{
IsŞ©edIn™Ÿlize
(
·¿m‘”s
);}

1028 
A¼aySšk
(
by‹
 *
buf
, 
size_t
 
size
)

1029 : 
m_buf
(
buf
), 
m_size
(
size
), 
m_tÙ®
(0) {}

1033 
size_t
 
AvaabËSize
(è{ 
S©u¿tšgSubŒaù
(
m_size
, 
m_tÙ®
);}

1037 
lwÜd
 
TÙ®PutL’gth
(è{ 
	gm_tÙ®
;}

1039 
IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

1040 
by‹
 * 
C»©ePutS·û
(
size_t
 &
size
);

1041 
size_t
 
Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

1043 
	g´Ùeùed
:

1044 
by‹
 *
m_buf
;

1045 
size_t
 
	gm_size
;

1046 
lwÜd
 
	gm_tÙ®
;

1051 şas 
	cCRYPTOPP_DLL
 
	mA¼ayXÜSšk
 : 
public
 
A¼aySšk


1053 
public
:

1057 
	$A¼ayXÜSšk
(
by‹
 *
buf
, 
size_t
 
size
)

1058 : 
	$A¼aySšk
(
buf
, 
size
) {}

1060 
size_t
 
	`Put2
(cÚ¡ 
by‹
 *
šSŒšg
, size_ˆ
Ëngth
, 
mes§geEnd
, 
boŞ
 
blockšg
);

1061 
by‹
 * 
	$C»©ePutS·û
(
size_t
 &
size
è{ 
Bufã»dT¿nsfÜm©iÚ
::
	`C»©ePutS·û
(size);
	}
}

1066 şas 
	cSŒšgStÜe
 : 
public
 
StÜe


1068 
public
:

1071 
	$SŒšgStÜe
(cÚ¡ *
¡ršg
 = 
NULL
)

1072 {
	`StÜeIn™Ÿlize
(
	`MakeP¬am‘”s
("IÅutBufãr", 
	`CÚ¡By‹A¼ayP¬am‘”
(
¡ršg
)));}

1077 
	$SŒšgStÜe
(cÚ¡ 
by‹
 *
¡ršg
, 
size_t
 
Ëngth
)

1078 {
	`StÜeIn™Ÿlize
(
	`MakeP¬am‘”s
("IÅutBufãr", 
	`CÚ¡By‹A¼ayP¬am‘”
(
¡ršg
, 
Ëngth
)));
	}
}

1083 
	g‹m¶©e
 <
şass
 
	gT
> 
	$SŒšgStÜe
(cÚ¡ 
T
 &
¡ršg
)

1084 {
	`StÜeIn™Ÿlize
(
	`MakeP¬am‘”s
("IÅutBufãr", 
	`CÚ¡By‹A¼ayP¬am‘”
(
¡ršg
)));
	}
}

1086 
CRYPTOPP_DLL
 
size_t
 
T¿nsãrTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
ŒªsãrBy‹s
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
);

1087 
CRYPTOPP_DLL
 
size_t
 
	$CİyRªgeTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
begš
,†wÜd 
’d
=
LWORD_MAX
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
) const;

1089 
´iv©e
:

1090 
CRYPTOPP_DLL
 
	`StÜeIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

1092 cÚ¡ 
by‹
 *
m_¡Üe
;

1093 
size_t
 
m_Ëngth
, 
m_couÁ
;

1094 
	}
};

1097 şas 
	cCRYPTOPP_DLL
 
	mRªdomNumb”StÜe
 : 
public
 
StÜe


1099 
public
:

1100 
	$RªdomNumb”StÜe
()

1101 : 
	`m_ºg
(
NULL
), 
	`m_Ëngth
(0), 
	$m_couÁ
(0) {}

1103 
	$RªdomNumb”StÜe
(
RªdomNumb”G’”©Ü
 &
ºg
, 
lwÜd
 
Ëngth
)

1104 : 
	`m_ºg
(&
ºg
), 
	`m_Ëngth
(
Ëngth
), 
	$m_couÁ
(0è{
	}
}

1106 
boŞ
 
	$AnyR‘r›vabË
(ècÚ¡ { 
	`MaxR‘r›vabË
(è!ğ0;
	}
}

1107 
lwÜd
 
	$MaxR‘r›vabË
(ècÚ¡ { 
m_Ëngth
-
m_couÁ
;
	}
}

1109 
size_t
 
T¿nsãrTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
ŒªsãrBy‹s
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
);

1110 
size_t
 
	$CİyRªgeTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
begš
,†wÜd 
’d
=
LWORD_MAX
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
) const

1112 
	`CRYPTOPP_UNUSED
(
rg‘
); CRYPTOPP_UNUSED(
begš
); CRYPTOPP_UNUSED(
’d
); CRYPTOPP_UNUSED(
chªÃl
); CRYPTOPP_UNUSED(
blockšg
);

1113 
throw
 
	`NÙIm¶em’‹d
("RandomNumberStore: CopyRangeTo2() is‚ot supported byhis store");

1114 
	}
}

1116 
	g´iv©e
:

1117 
StÜeIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
);

1119 
RªdomNumb”G’”©Ü
 *
	gm_ºg
;

1120 
lwÜd
 
	gm_Ëngth
, 
	gm_couÁ
;

1124 şas 
	cCRYPTOPP_DLL
 
	mNuÎStÜe
 : 
public
 
StÜe


1126 
public
:

1127 
	$NuÎStÜe
(
lwÜd
 
size
 = 
ULONG_MAX
è: 
	$m_size
(
size
) {}

1128 
	$StÜeIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
)

1129 {
	`CRYPTOPP_UNUSED
(
·¿m‘”s
);
	}
}

1130 
lwÜd
 
	$MaxR‘r›vabË
(ècÚ¡ { 
m_size
;
	}
}

1131 
size_t
 
T¿nsãrTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
ŒªsãrBy‹s
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
);

1132 
size_t
 
	$CİyRªgeTo2
(
Bufã»dT¿nsfÜm©iÚ
 &
rg‘
, 
lwÜd
 &
begš
,†wÜd 
’d
=
LWORD_MAX
, cÚ¡ 
¡d
::
¡ršg
 &
chªÃl
=
DEFAULT_CHANNEL
, 
boŞ
 
blockšg
=
Œue
) const;

1134 
´iv©e
:

1135 
lwÜd
 
m_size
;

1136 
	}
};

1148 
şass
 
CRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	gSourû
 : 
public
 
IÅutRejeùšg
<
F‹r
>

1150 
public
:

1151 #iâdeà
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY_562


1152 
vœtu®
 ~
Sourû
() {}

1157 
Sourû
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

1158 {
Sourû
::
D‘ach
(
©chm’t
);}

1169 
lwÜd
 
Pump
ÖwÜd 
pumpMax
=(
size_t
)
SIZE_MAX
)

1170 {
Pump2
(
pumpMax
);  
	gpumpMax
;}

1176 
PumpMes§ges
(
couÁ
=
UINT_MAX
)

1177 {
PumpMes§ges2
(
couÁ
);  
	gcouÁ
;}

1181 
PumpAÎ
()

1182 {
PumpAÎ2
();}

1191 
vœtu®
 
size_t
 
Pump2
(
lwÜd
 &
by‹CouÁ
, 
boŞ
 
blockšg
=
Œue
) =0;

1197 
vœtu®
 
size_t
 
PumpMes§ges2
(&
mes§geCouÁ
, 
boŞ
 
blockšg
=
Œue
) =0;

1202 
vœtu®
 
size_t
 
PumpAÎ2
(
boŞ
 
blockšg
=
Œue
);

1206 
vœtu®
 
boŞ
 
SourûExhau¡ed
() const =0;

1210 
	g´Ùeùed
:

1211 
SourûIn™Ÿlize
(
boŞ
 
pumpAÎ
, cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
)

1213 
IsŞ©edIn™Ÿlize
(
·¿m‘”s
);

1214 ià(
	gpumpAÎ
)

1215 
PumpAÎ
();

1222 
	g‹m¶©e
 <
şass
 
	gT
>

1223 şas 
	cSourûTem¶©e
 : 
public
 
Sourû


1225 
public
:

1229 
SourûTem¶©e
<
T
>(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
)

1230 : 
	$Sourû
(
©chm’t
) {}

1231 
	$IsŞ©edIn™Ÿlize
(cÚ¡ 
NameV®uePaœs
 &
·¿m‘”s
)

1232 {
m_¡Üe
.
	`IsŞ©edIn™Ÿlize
(
·¿m‘”s
);
	}
}

1233 
size_t
 
	$Pump2
(
lwÜd
 &
by‹CouÁ
, 
boŞ
 
blockšg
=
Œue
)

1234 { 
m_¡Üe
.
	`T¿nsãrTo2
(*
	`A‰achedT¿nsfÜm©iÚ
(), 
by‹CouÁ
, 
DEFAULT_CHANNEL
, 
blockšg
);
	}
}

1235 
size_t
 
	$PumpMes§ges2
(&
mes§geCouÁ
, 
boŞ
 
blockšg
=
Œue
)

1236 { 
m_¡Üe
.
	`T¿nsãrMes§gesTo2
(*
	`A‰achedT¿nsfÜm©iÚ
(), 
mes§geCouÁ
, 
DEFAULT_CHANNEL
, 
blockšg
);
	}
}

1237 
size_t
 
	$PumpAÎ2
(
boŞ
 
blockšg
=
Œue
)

1238 { 
m_¡Üe
.
	`T¿nsãrAÎTo2
(*
	`A‰achedT¿nsfÜm©iÚ
(), 
DEFAULT_CHANNEL
, 
blockšg
);
	}
}

1239 
boŞ
 
	$SourûExhau¡ed
() const

1240 { !
m_¡Üe
.
	`AnyR‘r›vabË
(è&& !m_¡Üe.
	`AnyMes§ges
();
	}
}

1241 
	$S‘AutoSigÇlPrİag©iÚ
(
´İag©iÚ
)

1242 {
m_¡Üe
.
	`S‘AutoSigÇlPrİag©iÚ
(
´İag©iÚ
);
	}
}

1243 
	$G‘AutoSigÇlPrİag©iÚ
() const

1244 { 
m_¡Üe
.
	`G‘AutoSigÇlPrİag©iÚ
();
	}
}

1246 
	g´Ùeùed
:

1247 
T
 
m_¡Üe
;

1252 
şass
 
CRYPTOPP_DLL
 
	gSŒšgSourû
 : 
public
 
SourûTem¶©e
<
SŒšgStÜe
>

1254 
public
:

1257 
SŒšgSourû
(
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

1258 : 
SourûTem¶©e
<
SŒšgStÜe
>(
©chm’t
) {}

1264 
SŒšgSourû
(cÚ¡ *
¡ršg
, 
boŞ
 
pumpAÎ
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

1265 : 
SourûTem¶©e
<
SŒšgStÜe
>(
©chm’t
è{
SourûIn™Ÿlize
(
pumpAÎ
, 
MakeP¬am‘”s
("IÅutBufãr", 
CÚ¡By‹A¼ayP¬am‘”
(
¡ršg
)));}

1267 
SŒšgSourû
(cÚ¡ 
by‹
 *
¡ršg
, 
size_t
 
Ëngth
, 
boŞ
 
pumpAÎ
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

1268 : 
SourûTem¶©e
<
SŒšgStÜe
>(
©chm’t
è{
SourûIn™Ÿlize
(
pumpAÎ
, 
MakeP¬am‘”s
("IÅutBufãr", 
CÚ¡By‹A¼ayP¬am‘”
(
¡ršg
, 
Ëngth
)));}

1270 
SŒšgSourû
(cÚ¡ 
¡d
::
¡ršg
 &¡ršg, 
boŞ
 
pumpAÎ
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

1271 : 
SourûTem¶©e
<
SŒšgStÜe
>(
©chm’t
è{
SourûIn™Ÿlize
(
pumpAÎ
, 
MakeP¬am‘”s
("IÅutBufãr", 
CÚ¡By‹A¼ayP¬am‘”
(
¡ršg
)));}

1275 
DOCUMENTED_TYPEDEF
(
SŒšgSourû
, 
A¼aySourû
);

1278 
şass
 
CRYPTOPP_DLL
 
	gRªdomNumb”Sourû
 : 
public
 
SourûTem¶©e
<
RªdomNumb”StÜe
>

1280 
public
:

1281 
RªdomNumb”Sourû
(
RªdomNumb”G’”©Ü
 &
ºg
, 
Ëngth
, 
boŞ
 
pumpAÎ
, 
Bufã»dT¿nsfÜm©iÚ
 *
©chm’t
 = 
NULL
)

1282 : 
SourûTem¶©e
<
RªdomNumb”StÜe
>(
©chm’t
)

1283 {
SourûIn™Ÿlize
(
pumpAÎ
, 
MakeP¬am‘”s
("RªdomNumb”G’”©ÜPoš‹r", &
ºg
)("RªdomNumb”StÜeSize", 
Ëngth
));}

1286 
	gNAMESPACE_END


1288 #ià
CRYPTOPP_MSC_VERSION


1289 #´agm¨
w¬nšg
(
pİ
)

	@/usr/include/cryptopp/modes.h

6 #iâdeà
CRYPTOPP_MODES_H


7 
	#CRYPTOPP_MODES_H


	)

9 
	~"üy±lib.h
"

10 
	~"£cblock.h
"

11 
	~"misc.h
"

12 
	~"¡rchr.h
"

13 
	~"¬gÇmes.h
"

14 
	~"®g·¿m.h
"

16 
	$NAMESPACE_BEGIN
(
Cry±oPP
)

30 
Ch”ModeDocum’tiÚ
 : 
public
 
Symm‘ricCh”Docum’tiÚ


32 
	}
};

36 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mCh”ModeBa£
 : 
public
 
Symm‘ricCh”


38 
public
:

39 
size_t
 
	$MšKeyL’gth
(ècÚ¡ { 
m_ch”
->
	`MšKeyL’gth
();}

40 
size_t
 
	$MaxKeyL’gth
(ècÚ¡ { 
m_ch”
->
	`MaxKeyL’gth
();
	}
}

41 
size_t
 
	$DeçuÉKeyL’gth
(ècÚ¡ { 
m_ch”
->
	`DeçuÉKeyL’gth
();
	}
}

42 
size_t
 
	$G‘V®idKeyL’gth
(
size_t
 
n
ècÚ¡ { 
m_ch”
->
	`G‘V®idKeyL’gth
Ò);
	}
}

43 
boŞ
 
	$IsV®idKeyL’gth
(
size_t
 
n
ècÚ¡ { 
m_ch”
->
	`IsV®idKeyL’gth
Ò);
	}
}

45 
	$O±im®D©aAlignm’t
(ècÚ¡ { 
m_ch”
->
	`O±im®D©aAlignm’t
();
	}
}

47 
	$IVSize
(ècÚ¡ { 
	`BlockSize
();
	}
}

48 
vœtu®
 
IV_Requœem’t
 
	$IVRequœem’t
() const =0;

50 
	$S‘Ch”
(
BlockCh”
 &
ch”
)

52 
this
->
	`ThrowIfResynchrÚizabË
();

53 
this
->
m_ch”
 = &
ch”
;

54 
this
->
	`ResizeBufãrs
();

55 
	}
}

57 
	$S‘Ch”W™hIV
(
BlockCh”
 &
ch”
, cÚ¡ 
by‹
 *
iv
, 
ãedbackSize
 = 0)

59 
this
->
	`ThrowIfInv®idIV
(
iv
);

60 
this
->
m_ch”
 = &
ch”
;

61 
this
->
	`ResizeBufãrs
();

62 
this
->
	`S‘F“dbackSize
(
ãedbackSize
);

63 ià(
this
->
	`IsResynchrÚizabË
())

64 
this
->
	`ResynchrÚize
(
iv
);

65 
	}
}

67 
	g´Ùeùed
:

68 
	$Ch”ModeBa£
(è: 
	$m_ch”
(
NULL
è{
	}
}

69 
šlše
 
	$BlockSize
(ècÚ¡ {
	`as£¹
(
m_»gi¡”
.
	`size
(è> 0);  ()m_»gi¡”.size();
	}
}

70 
vœtu®
 
	$S‘F“dbackSize
(
ãedbackSize
)

72 ià(!(
ãedbackSize
 =ğ0 || f“dbackSiz=ğ
	`BlockSize
()))

73 
throw
 
	`Inv®idArgum’t
("CipherModeBase: feedback size cannot be specified forhis cipher mode");

74 
	}
}

77 #iâdeà
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY_562


78 
vœtu®
 
ResizeBufãrs
();

80 
vœtu®
 
	$ResizeBufãrs
()

82 
m_»gi¡”
.
	`New
(
m_ch”
->
	`BlockSize
());

83 
	}
}

86 
BlockCh”
 *
	gm_ch”
;

87 
AligÃdSecBy‹Block
 
	gm_»gi¡”
;

93 
	g‹m¶©e
 <
şass
 
	gPOLICY_INTERFACE
>

94 
şass
 
CRYPTOPP_NO_VTABLE
 
	gModePŞicyCommÚTem¶©e
 : 
public
 
Ch”ModeBa£
,…ubliø
	gPOLICY_INTERFACE


96 
G‘Alignm’t
(ècÚ¡ { 
	gm_ch”
->
O±im®D©aAlignm’t
();}

97 
Ch”S‘Key
(cÚ¡ 
NameV®uePaœs
 &
·¿ms
, cÚ¡ 
by‹
 *
key
, 
size_t
 
Ëngth
);

100 
	g‹m¶©e
 <
şass
 
	gPOLICY_INTERFACE
>

101 
	gModePŞicyCommÚTem¶©e
<
	gPOLICY_INTERFACE
>::
	$Ch”S‘Key
(cÚ¡ 
NameV®uePaœs
 &
·¿ms
, cÚ¡ 
by‹
 *
key
, 
size_t
 
Ëngth
)

103 
m_ch”
->
	`S‘Key
(
key
, 
Ëngth
, 
·¿ms
);

104 
	`ResizeBufãrs
();

105 
ãedbackSize
 = 
·¿ms
.
	`G‘IÁV®ueW™hDeçuÉ
(
Name
::
	`F“dbackSize
(), 0);

106 
	`S‘F“dbackSize
(
ãedbackSize
);

107 
	}
}

111 
şass
 
CRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	gCFB_ModePŞicy
 : 
public
 
ModePŞicyCommÚTem¶©e
<
CFB_Ch”Ab¡¿ùPŞicy
>

113 
public
:

114 
IV_Requœem’t
 
IVRequœem’t
(ècÚ¡ { 
RANDOM_IV
;}

115 
CRYPTOPP_CONSTEXPR
 cÚ¡ * 
CRYPTOPP_API
 
SticAlgÜ™hmName
() { "CFB";}

117 
	g´Ùeùed
:

118 
G‘By‹sP”I‹¿tiÚ
(ècÚ¡ { 
m_ãedbackSize
;}

119 
by‹
 * 
G‘Regi¡”Begš
(è{ 
	gm_»gi¡”
 + 
BlockSize
(è- 
	gm_ãedbackSize
;}

120 
boŞ
 
CªI‹¿‹
(ècÚ¡ { 
	gm_ãedbackSize
 =ğ
BlockSize
();}

121 
I‹¿‹
(
by‹
 *
ouut
, cÚ¡ by‹ *
šput
, 
Ch”Dœ
 
dœ
, 
size_t
 
™”©iÚCouÁ
);

122 
T¿nsfÜmRegi¡”
();

123 
Ch”ResynchrÚize
(cÚ¡ 
by‹
 *
iv
, 
size_t
 
Ëngth
);

124 
S‘F“dbackSize
(
ãedbackSize
);

125 
ResizeBufãrs
();

127 
SecBy‹Block
 
	gm_‹mp
;

128 
	gm_ãedbackSize
;

131 
šlše
 
	$CİyOrZ”o
(*
de¡
, cÚ¡ *
¤c
, 
size_t
 
s
)

133 ià(
¤c
)

134 
	`memıy_s
(
de¡
, 
s
, 
¤c
, s);

136 
	`mem£t
(
de¡
, 0, 
s
);

137 
	}
}

141 
şass
 
CRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	gOFB_ModePŞicy
 : 
public
 
ModePŞicyCommÚTem¶©e
<
Add™iveCh”Ab¡¿ùPŞicy
>

143 
public
:

144 
boŞ
 
Ch”IsRªdomAcûss
(ècÚ¡ { 
çl£
;}

145 
IV_Requœem’t
 
IVRequœem’t
(ècÚ¡ { 
	gUNIQUE_IV
;}

146 
CRYPTOPP_CONSTEXPR
 cÚ¡ * 
CRYPTOPP_API
 
SticAlgÜ™hmName
() { "OFB";}

148 
	g´iv©e
:

149 
G‘By‹sP”I‹¿tiÚ
(ècÚ¡ { 
BlockSize
();}

150 
G‘I‹¿tiÚsToBufãr
(ècÚ¡ { 
	gm_ch”
->
O±im®Numb”OfP¬®ËlBlocks
();}

151 
Wr™eKey¡»am
(
by‹
 *
key¡»amBufãr
, 
size_t
 
™”©iÚCouÁ
);

152 
Ch”ResynchrÚize
(
by‹
 *
key¡»amBufãr
, cÚ¡ by‹ *
iv
, 
size_t
 
Ëngth
);

157 
şass
 
CRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	gCTR_ModePŞicy
 : 
public
 
ModePŞicyCommÚTem¶©e
<
Add™iveCh”Ab¡¿ùPŞicy
>

159 
public
:

160 
boŞ
 
Ch”IsRªdomAcûss
(ècÚ¡ { 
Œue
;}

161 
IV_Requœem’t
 
IVRequœem’t
(ècÚ¡ { 
	gRANDOM_IV
;}

162 
CRYPTOPP_CONSTEXPR
 cÚ¡ * 
CRYPTOPP_API
 
SticAlgÜ™hmName
() { "CTR";}

164 
	g´Ùeùed
:

165 
vœtu®
 
Inüem’tCouÁ”By256
();

167 
G‘Alignm’t
(ècÚ¡ { 
	gm_ch”
->
O±im®D©aAlignm’t
();}

168 
G‘By‹sP”I‹¿tiÚ
(ècÚ¡ { 
BlockSize
();}

169 
G‘I‹¿tiÚsToBufãr
(ècÚ¡ { 
	gm_ch”
->
O±im®Numb”OfP¬®ËlBlocks
();}

170 
Wr™eKey¡»am
(
by‹
 *
bufãr
, 
size_t
 
™”©iÚCouÁ
)

171 {
O³¿‹Key¡»am
(
WRITE_KEYSTREAM
, 
bufãr
, 
NULL
, 
™”©iÚCouÁ
);}

172 
boŞ
 
CªO³¿‹Key¡»am
(ècÚ¡ { 
	gŒue
;}

173 
O³¿‹Key¡»am
(
Key¡»amO³¿tiÚ
 
İ”©iÚ
, 
by‹
 *
ouut
, cÚ¡ by‹ *
šput
, 
size_t
 
™”©iÚCouÁ
);

174 
Ch”ResynchrÚize
(
by‹
 *
key¡»amBufãr
, cÚ¡ by‹ *
iv
, 
size_t
 
Ëngth
);

175 
S“kToI‹¿tiÚ
(
lwÜd
 
™”©iÚCouÁ
);

177 
AligÃdSecBy‹Block
 
	gm_couÁ”A¼ay
;

182 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mBlockOr›ÁedCh”ModeBa£
 : 
public
 
Ch”ModeBa£


184 
public
:

185 
UncheckedS‘Key
(cÚ¡ 
by‹
 *
key
, 
Ëngth
, cÚ¡ 
NameV®uePaœs
 &
·¿ms
);

186 
	$Mªd©ÜyBlockSize
(ècÚ¡ { 
	`BlockSize
();}

187 
boŞ
 
	$IsRªdomAcûss
(ècÚ¡ { 
çl£
;
	}
}

188 
boŞ
 
	$IsS–fInv”tšg
(ècÚ¡ { 
çl£
;
	}
}

189 
boŞ
 
	$IsFÜw¬dT¿nsfÜm©iÚ
(ècÚ¡ { 
m_ch”
->
	`IsFÜw¬dT¿nsfÜm©iÚ
();
	}
}

190 
ResynchrÚize
(cÚ¡ 
by‹
 *
iv
, 
Ëngth
=-1è{
memıy_s
(
m_»gi¡”
, m_»gi¡”.
size
(), iv, 
ThrowIfInv®idIVL’gth
(length));}

192 
	g´Ùeùed
:

193 
boŞ
 
	$RequœeAligÃdIÅut
(ècÚ¡ { 
Œue
;
	}
}

196 #iâdeà
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY_562


197 
ResizeBufãrs
();

199 
	$ResizeBufãrs
()

201 
Ch”ModeBa£
::
	`ResizeBufãrs
();

202 
m_bufãr
.
	`New
(
	`BlockSize
());

203 
	}
}

206 
SecBy‹Block
 
	gm_bufãr
;

211 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mECB_OÃWay
 : 
public
 
BlockOr›ÁedCh”ModeBa£


213 
public
:

214 
	$S‘Key
(cÚ¡ 
by‹
 *
key
, 
size_t
 
Ëngth
, cÚ¡ 
NameV®uePaœs
 &
·¿ms
 = 
g_nuÎNameV®uePaœs
)

215 {
m_ch”
->
	`S‘Key
(
key
, 
Ëngth
, 
·¿ms
); 
BlockOr›ÁedCh”ModeBa£
::
	`ResizeBufãrs
();}

216 
IV_Requœem’t
 
	$IVRequœem’t
(ècÚ¡ { 
NOT_RESYNCHRONIZABLE
;
	}
}

217 
	$O±im®BlockSize
(ècÚ¡ { 
	`BlockSize
(è* 
m_ch”
->
	`O±im®Numb”OfP¬®ËlBlocks
();
	}
}

218 
ProûssD©a
(
by‹
 *
outSŒšg
, cÚ¡ by‹ *
šSŒšg
, 
size_t
 
Ëngth
);

219 
CRYPTOPP_CONSTEXPR
 cÚ¡ * 
CRYPTOPP_API
 
	$SticAlgÜ™hmName
(è{ "ECB";
	}
}

224 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mCBC_ModeBa£
 : 
public
 
BlockOr›ÁedCh”ModeBa£


226 
public
:

227 
IV_Requœem’t
 
	$IVRequœem’t
(ècÚ¡ { 
UNPREDICTABLE_RANDOM_IV
;}

228 
boŞ
 
	$RequœeAligÃdIÅut
(ècÚ¡ { 
çl£
;
	}
}

229 
	$MšLa¡BlockSize
(ècÚ¡ { 0;
	}
}

230 
CRYPTOPP_CONSTEXPR
 cÚ¡ * 
CRYPTOPP_API
 
	$SticAlgÜ™hmName
(è{ "CBC";
	}
}

235 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mCBC_Enüy±iÚ
 : 
public
 
CBC_ModeBa£


237 
public
:

238 
ProûssD©a
(
by‹
 *
outSŒšg
, cÚ¡ by‹ *
šSŒšg
, 
size_t
 
Ëngth
);

243 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mCBC_CTS_Enüy±iÚ
 : 
public
 
CBC_Enüy±iÚ


245 
public
:

246 
	$S‘StŞ’IV
(
by‹
 *
iv
è{
m_¡Ş’IV
 = iv;}

247 
	$MšLa¡BlockSize
(ècÚ¡ { 
	`BlockSize
()+1;
	}
}

248 
ProûssLa¡Block
(
by‹
 *
outSŒšg
, cÚ¡ by‹ *
šSŒšg
, 
size_t
 
Ëngth
);

249 
CRYPTOPP_CONSTEXPR
 cÚ¡ * 
CRYPTOPP_API
 
	$SticAlgÜ™hmName
(è{ "CBC/CTS";
	}
}

251 
	g´Ùeùed
:

252 
	$UncheckedS‘Key
(cÚ¡ 
by‹
 *
key
, 
Ëngth
, cÚ¡ 
NameV®uePaœs
 &
·¿ms
)

254 
CBC_Enüy±iÚ
::
	`UncheckedS‘Key
(
key
, 
Ëngth
, 
·¿ms
);

255 
m_¡Ş’IV
 = 
·¿ms
.
	`G‘V®ueW™hDeçuÉ
(
Name
::
	`StŞ’IV
(), (
by‹
 *)
NULL
);

256 
	}
}

258 
by‹
 *
	gm_¡Ş’IV
;

263 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mCBC_Deüy±iÚ
 : 
public
 
CBC_ModeBa£


265 
public
:

266 
ProûssD©a
(
by‹
 *
outSŒšg
, cÚ¡ by‹ *
šSŒšg
, 
size_t
 
Ëngth
);

268 
	m´Ùeùed
:

271 #iâdeà
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY_562


272 
ResizeBufãrs
();

274 
	$ResizeBufãrs
()

276 
BlockOr›ÁedCh”ModeBa£
::
	`ResizeBufãrs
();

277 
m_‹mp
.
	`New
(
	`BlockSize
());

281 
AligÃdSecBy‹Block
 
m_‹mp
;

282 
	}
};

286 şas 
	cCRYPTOPP_DLL
 
CRYPTOPP_NO_VTABLE
 
	mCBC_CTS_Deüy±iÚ
 : 
public
 
CBC_Deüy±iÚ


288 
public
:

289 
	$MšLa¡BlockSize
(ècÚ¡ { 
	`BlockSize
()+1;}

290 
	`ProûssLa¡Block
(
by‹
 *
outSŒšg
, cÚ¡ by‹ *
šSŒšg
, 
size_t
 
Ëngth
);

291 
	}
};

295 
	g‹m¶©e
 <
şass
 
	gCIPHER
, cÏs 
	gBASE
>

296 
şass
 
	gCh”ModeFš®Tem¶©e_Ch”HŞd”
 : 
´Ùeùed
 
ObjeùHŞd”
<
CIPHER
>, 
public
 
	gAlgÜ™hmIm¶
<
	gBASE
, Ch”ModeFš®Tem¶©e_Ch”HŞd”<
	gCIPHER
, BASE> >

298 
	gpublic
:

299 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
()

301 
this
->
m_ch”
 = &this->
m_objeù
;

302 
	gthis
->
ResizeBufãrs
();

304 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
(cÚ¡ 
by‹
 *
key
, 
size_t
 
Ëngth
)

306 
	gthis
->
	gm_ch”
 = &
this
->
m_objeù
;

307 
	gthis
->
S‘Key
(
key
, 
Ëngth
);

309 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
(cÚ¡ 
by‹
 *
key
, 
size_t
 
Ëngth
, cÚ¡ by‹ *
iv
)

311 
	gthis
->
	gm_ch”
 = &
this
->
m_objeù
;

312 
	gthis
->
S‘Key
(
key
, 
Ëngth
, 
MakeP¬am‘”s
(
Name
::
IV
(), 
CÚ¡By‹A¼ayP¬am‘”
(
iv
, 
this
->
m_ch”
->
BlockSize
())));

314 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
(cÚ¡ 
by‹
 *
key
, 
size_t
 
Ëngth
, cÚ¡ by‹ *
iv
, 
ãedbackSize
)

316 
	gthis
->
	gm_ch”
 = &
this
->
m_objeù
;

317 
	gthis
->
S‘Key
(
key
, 
Ëngth
, 
MakeP¬am‘”s
(
Name
::
IV
(), 
CÚ¡By‹A¼ayP¬am‘”
(
iv
, 
this
->
m_ch”
->
BlockSize
()))(Name::
F“dbackSize
(), 
ãedbackSize
));

320 
	g¡d
::
¡ršg
 
CRYPTOPP_API
 
SticAlgÜ™hmName
()

321 { 
CIPHER
::
SticAlgÜ™hmName
(è+ "/" + 
BASE
::StaticAlgorithmName();}

327 
	g‹m¶©e
 <
şass
 
	gBASE
>

328 şas 
	cCh”ModeFš®Tem¶©e_Ex‹º®Ch”
 : 
public
 
BASE


330 
public
:

331 
	$Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
() {}

332 
	$Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
(
BlockCh”
 &
ch”
)

333 {
this
->
	`S‘Ch”
(
ch”
);
	}
}

334 
	$Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
(
BlockCh”
 &
ch”
, cÚ¡ 
by‹
 *
iv
, 
ãedbackSize
 = 0)

335 {
this
->
	`S‘Ch”W™hIV
(
ch”
, 
iv
, 
ãedbackSize
);
	}
}

337 
	g¡d
::
¡ršg
 
	$AlgÜ™hmName
() const

338 { (
this
->
m_ch”
 ?his->m_ch”->
	`AlgÜ™hmName
(è+ "/" : 
¡d
::
	`¡ršg
("")è+ 
BASE
::
	`SticAlgÜ™hmName
();
	}
}

341 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCFB_Ch”Tem¶©e
<
	gAb¡¿ùPŞicyHŞd”
<
	gCFB_Ch”Ab¡¿ùPŞicy
, 
	gCFB_ModePŞicy
> >;

342 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCFB_Enüy±iÚTem¶©e
<
	gAb¡¿ùPŞicyHŞd”
<
	gCFB_Ch”Ab¡¿ùPŞicy
, 
	gCFB_ModePŞicy
> >;

343 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCFB_Deüy±iÚTem¶©e
<
	gAb¡¿ùPŞicyHŞd”
<
	gCFB_Ch”Ab¡¿ùPŞicy
, 
	gCFB_ModePŞicy
> >;

347 
	g‹m¶©e
 <
şass
 
	gCIPHER
>

348 
	gCFB_Mode
 : 
public
 
Ch”ModeDocum’tiÚ


350 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_Enüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > Encryption;

351 
	gCh”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_Deüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > 
	tDeüy±iÚ
;

356 
	gCFB_Mode_Ex‹º®Ch”
 : 
public
 
Ch”ModeDocum’tiÚ


358 
Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_Enüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > 
	tEnüy±iÚ
;

359 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_Deüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > 
	tDeüy±iÚ
;

365 
	g‹m¶©e
 <
şass
 
	gCIPHER
>

366 
	gCFB_FIPS_Mode
 : 
public
 
Ch”ModeDocum’tiÚ


368 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_RequœeFuÎD©aBlocks
<
	tCFB_Enüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > > Encryption;

369 
	gCh”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_RequœeFuÎD©aBlocks
<
	tCFB_Deüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > > 
	tDeüy±iÚ
;

375 
	gCFB_FIPS_Mode_Ex‹º®Ch”
 : 
public
 
Ch”ModeDocum’tiÚ


377 
Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_RequœeFuÎD©aBlocks
<
	tCFB_Enüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > > 
	tEnüy±iÚ
;

378 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tCFB_RequœeFuÎD©aBlocks
<
	tCFB_Deüy±iÚTem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tCFB_Ch”Ab¡¿ùPŞicy
, 
	tCFB_ModePŞicy
> > > > > 
	tDeüy±iÚ
;

381 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gAdd™iveCh”Tem¶©e
<
	gAb¡¿ùPŞicyHŞd”
<
	gAdd™iveCh”Ab¡¿ùPŞicy
, 
	gOFB_ModePŞicy
> >;

385 
	g‹m¶©e
 <
şass
 
	gCIPHER
>

386 
	gOFB_Mode
 : 
public
 
Ch”ModeDocum’tiÚ


388 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tAdd™iveCh”Tem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tAdd™iveCh”Ab¡¿ùPŞicy
, 
	tOFB_ModePŞicy
> > > > Encryption;

389 
Enüy±iÚ
 
	tDeüy±iÚ
;

394 
	gOFB_Mode_Ex‹º®Ch”
 : 
public
 
Ch”ModeDocum’tiÚ


396 
Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tAdd™iveCh”Tem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tAdd™iveCh”Ab¡¿ùPŞicy
, 
	tOFB_ModePŞicy
> > > > 
	tEnüy±iÚ
;

397 
Enüy±iÚ
 
	tDeüy±iÚ
;

400 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gAdd™iveCh”Tem¶©e
<
	gAb¡¿ùPŞicyHŞd”
<
	gAdd™iveCh”Ab¡¿ùPŞicy
, 
	gCTR_ModePŞicy
> >;

401 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	gCÚü‘ePŞicyHŞd”
<
	gEm±y
, 
	gAdd™iveCh”Tem¶©e
<
	gAb¡¿ùPŞicyHŞd”
<
	gAdd™iveCh”Ab¡¿ùPŞicy
, 
	gCTR_ModePŞicy
> > > >;

405 
	g‹m¶©e
 <
şass
 
	gCIPHER
>

406 
	gCTR_Mode
 : 
public
 
Ch”ModeDocum’tiÚ


408 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tAdd™iveCh”Tem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tAdd™iveCh”Ab¡¿ùPŞicy
, 
	tCTR_ModePŞicy
> > > > Encryption;

409 
Enüy±iÚ
 
	tDeüy±iÚ
;

414 
	gCTR_Mode_Ex‹º®Ch”
 : 
public
 
Ch”ModeDocum’tiÚ


416 
Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCÚü‘ePŞicyHŞd”
<
	tEm±y
, 
	tAdd™iveCh”Tem¶©e
<
	tAb¡¿ùPŞicyHŞd”
<
	tAdd™iveCh”Ab¡¿ùPŞicy
, 
	tCTR_ModePŞicy
> > > > 
	tEnüy±iÚ
;

417 
Enüy±iÚ
 
	tDeüy±iÚ
;

422 
	g‹m¶©e
 <
şass
 
	gCIPHER
>

423 
	gECB_Mode
 : 
public
 
Ch”ModeDocum’tiÚ


425 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tECB_OÃWay
> Encryption;

426 
	gCh”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tDeüy±iÚ
, 
	tECB_OÃWay
> Decryption;

429 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	gECB_OÃWay
>;

433 
	gECB_Mode_Ex‹º®Ch”
 : 
public
 
Ch”ModeDocum’tiÚ


435 
Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tECB_OÃWay
> 
	tEnüy±iÚ
;

436 
Enüy±iÚ
 
	tDeüy±iÚ
;

440 
	g‹m¶©e
 <
şass
 
	gCIPHER
>

441 
	gCBC_Mode
 : 
public
 
Ch”ModeDocum’tiÚ


443 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCBC_Enüy±iÚ
> Encryption;

444 
	gCh”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tDeüy±iÚ
, 
	tCBC_Deüy±iÚ
> Decryption;

447 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	gCBC_Enüy±iÚ
>;

448 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	gCBC_Deüy±iÚ
>;

451 
	gCBC_Mode_Ex‹º®Ch”
 : 
public
 
Ch”ModeDocum’tiÚ


453 
Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCBC_Enüy±iÚ
> 
	tEnüy±iÚ
;

454 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCBC_Deüy±iÚ
> 
	tDeüy±iÚ
;

458 
	g‹m¶©e
 <
şass
 
	gCIPHER
>

459 
	gCBC_CTS_Mode
 : 
public
 
Ch”ModeDocum’tiÚ


461 
Ch”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tEnüy±iÚ
, 
	tCBC_CTS_Enüy±iÚ
> Encryption;

462 
	gCh”ModeFš®Tem¶©e_Ch”HŞd”
<
	tCPP_TYPENAME
 
	tCIPHER
::
	tDeüy±iÚ
, 
	tCBC_CTS_Deüy±iÚ
> Decryption;

465 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	gCBC_CTS_Enüy±iÚ
>;

466 
CRYPTOPP_DLL_TEMPLATE_CLASS
 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	gCBC_CTS_Deüy±iÚ
>;

470 
	gCBC_CTS_Mode_Ex‹º®Ch”
 : 
public
 
Ch”ModeDocum’tiÚ


472 
Ch”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCBC_CTS_Enüy±iÚ
> 
	tEnüy±iÚ
;

473 
	gCh”ModeFš®Tem¶©e_Ex‹º®Ch”
<
	tCBC_CTS_Deüy±iÚ
> 
	tDeüy±iÚ
;

476 #ifdeà
CRYPTOPP_MAINTAIN_BACKWARDS_COMPATIBILITY


477 
	gCFB_Mode_Ex‹º®Ch”
::
	tEnüy±iÚ
 
	tCFBEnüy±iÚ
;

478 
	gCFB_Mode_Ex‹º®Ch”
::
	tDeüy±iÚ
 
	tCFBDeüy±iÚ
;

479 
	gOFB_Mode_Ex‹º®Ch”
::
	tEnüy±iÚ
 
	tOFB
;

480 
	gCTR_Mode_Ex‹º®Ch”
::
	tEnüy±iÚ
 
	tCouÁ”Mode
;

483 
	gNAMESPACE_END


	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

39 #ifdeà
__O_TMPFILE


40 
	#__OPEN_NEEDS_MODE
(
oæag
) \

41 (((
oæag
è& 
O_CREAT
è!ğ0 || ((oæagè& 
__O_TMPFILE
è=ğ__O_TMPFILE)

	)

43 
	#__OPEN_NEEDS_MODE
(
oæag
è(((oæagè& 
O_CREAT
è!ğ0)

	)

49 #iâdeà
__mode_t_defšed


50 
__mode_t
 
	tmode_t
;

51 
	#__mode_t_defšed


	)

54 #iâdeà
__off_t_defšed


55 #iâdeà
__USE_FILE_OFFSET64


56 
__off_t
 
	toff_t
;

58 
__off64_t
 
	toff_t
;

60 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

68 #iâdeà
__pid_t_defšed


69 
__pid_t
 
	tpid_t
;

70 
	#__pid_t_defšed


	)

74 #ifdeà
__USE_XOPEN2K8


75 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

77 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


78 
	~<b™s/¡©.h
>

80 
	#S_IFMT
 
__S_IFMT


	)

81 
	#S_IFDIR
 
__S_IFDIR


	)

82 
	#S_IFCHR
 
__S_IFCHR


	)

83 
	#S_IFBLK
 
__S_IFBLK


	)

84 
	#S_IFREG
 
__S_IFREG


	)

85 #ifdeà
__S_IFIFO


86 
	#S_IFIFO
 
__S_IFIFO


	)

88 #ifdeà
__S_IFLNK


89 
	#S_IFLNK
 
__S_IFLNK


	)

91 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


92 
	#S_IFSOCK
 
__S_IFSOCK


	)

97 
	#S_ISUID
 
__S_ISUID


	)

98 
	#S_ISGID
 
__S_ISGID


	)

100 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


102 
	#S_ISVTX
 
__S_ISVTX


	)

105 
	#S_IRUSR
 
__S_IREAD


	)

106 
	#S_IWUSR
 
__S_IWRITE


	)

107 
	#S_IXUSR
 
__S_IEXEC


	)

109 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

111 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

112 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

113 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

115 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

117 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

118 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

119 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

121 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

124 #ifdef 
__USE_MISC


125 #iâdeà
R_OK


128 
	#R_OK
 4

	)

129 
	#W_OK
 2

	)

130 
	#X_OK
 1

	)

131 
	#F_OK
 0

	)

136 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


137 
	#SEEK_SET
 0

	)

138 
	#SEEK_CUR
 1

	)

139 
	#SEEK_END
 2

	)

147 
fú
 (
__fd
, 
__cmd
, ...);

156 #iâdeà
__USE_FILE_OFFSET64


157 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

159 #ifdeà
__REDIRECT


160 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

161 
	`__nÚnuÎ
 ((1));

163 
	#İ’
 
İ’64


	)

166 #ifdeà
__USE_LARGEFILE64


167 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

170 #ifdeà
__USE_ATFILE


180 #iâdeà
__USE_FILE_OFFSET64


181 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

182 
	`__nÚnuÎ
 ((2));

184 #ifdeà
__REDIRECT


185 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

186 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

188 
	#İ’©
 
İ’©64


	)

191 #ifdeà
__USE_LARGEFILE64


192 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

193 
	`__nÚnuÎ
 ((2));

202 #iâdeà
__USE_FILE_OFFSET64


203 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

205 #ifdeà
__REDIRECT


206 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

207 
ü—t64
è
	`__nÚnuÎ
 ((1));

209 
	#ü—t
 
ü—t64


	)

212 #ifdeà
__USE_LARGEFILE64


213 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

216 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

217 && !
defšed
 
__USE_POSIX
))

226 
	#F_ULOCK
 0

	)

227 
	#F_LOCK
 1

	)

228 
	#F_TLOCK
 2

	)

229 
	#F_TEST
 3

	)

231 #iâdeà
__USE_FILE_OFFSET64


232 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

234 #ifdeà
__REDIRECT


235 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

237 
	#lockf
 
lockf64


	)

240 #ifdeà
__USE_LARGEFILE64


241 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

245 #ifdeà
__USE_XOPEN2K


248 #iâdeà
__USE_FILE_OFFSET64


249 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

250 
__advi£
è
__THROW
;

252 #ifdeà
__REDIRECT_NTH


253 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

254 
__off64_t
 
__Ën
, 
__advi£
),

255 
posix_çdvi£64
);

257 
	#posix_çdvi£
 
posix_çdvi£64


	)

260 #ifdeà
__USE_LARGEFILE64


261 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

262 
__advi£
è
__THROW
;

270 #iâdeà
__USE_FILE_OFFSET64


271 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

273 #ifdeà
__REDIRECT


274 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

275 
__off64_t
 
__Ën
),

276 
posix_çÎoÿ‹64
);

278 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

281 #ifdeà
__USE_LARGEFILE64


282 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

288 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

289 && 
defšed
 
__va_¬g_·ck_Ën


290 
	~<b™s/fú2.h
>

293 
__END_DECLS


	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 #ià
defšed
 
log
 && defšed 
__GNUC__


30 #w¬nšg 
A
 
maüo
 
ÿÎed
 
log
 
was
 
®»ady
 
defšed
 
wh’
 <
m©h
.
h
> wa 
šşuded
.

31 #w¬nšg 
This
 
wl
 
ÿu£
 
comp©iÚ
 
´obËms
.

34 
	g__BEGIN_DECLS


37 
	~<b™s/ty³s.h
>

40 
	~<b™s/m©h-veùÜ.h
>

43 
	~<b™s/æßŠ.h
>

47 #ià
__GNUC_PREREQ
 (3, 3)

48 
	#HUGE_VAL
 (
	`__butš_huge_v®
 ())

	)

55 
	#HUGE_VAL
 1e10000

	)

57 #ifdeà
__USE_ISOC99


58 #ià
__GNUC_PREREQ
 (3, 3)

59 
	#HUGE_VALF
 (
	`__butš_huge_v®f
 ())

	)

60 
	#HUGE_VALL
 (
	`__butš_huge_v®l
 ())

	)

62 
	#HUGE_VALF
 1e10000f

	)

63 
	#HUGE_VALL
 1e10000L

	)

66 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

67 
	#HUGE_VAL_F16
 (
	`__butš_huge_v®f16
 ())

	)

69 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

70 
	#HUGE_VAL_F32
 (
	`__butš_huge_v®f32
 ())

	)

72 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

73 
	#HUGE_VAL_F64
 (
	`__butš_huge_v®f64
 ())

	)

75 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

76 
	#HUGE_VAL_F128
 (
	`__butš_huge_v®f128
 ())

	)

78 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

79 
	#HUGE_VAL_F32X
 (
	`__butš_huge_v®f32x
 ())

	)

81 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

82 
	#HUGE_VAL_F64X
 (
	`__butš_huge_v®f64x
 ())

	)

84 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

85 
	#HUGE_VAL_F128X
 (
	`__butš_huge_v®f128x
 ())

	)

88 #ifdeà
__USE_ISOC99


90 #ià
__GNUC_PREREQ
 (3, 3)

91 
	#INFINITY
 (
	`__butš_šff
 ())

	)

93 
	#INFINITY
 
HUGE_VALF


	)

97 #ià
__GNUC_PREREQ
 (3, 3)

98 
	#NAN
 (
	`__butš_Çnf
 (""))

	)

103 
	#NAN
 (0.0à/ 0.0f)

	)

107 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

109 #ià
__GNUC_PREREQ
 (3, 3)

110 
	#SNANF
 (
	`__butš_Çnsf
 (""))

	)

111 
	#SNAN
 (
	`__butš_Çns
 (""))

	)

112 
	#SNANL
 (
	`__butš_Çn¦
 (""))

	)

115 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

116 
	#SNANF16
 (
	`__butš_Çnsf16
 (""))

	)

118 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

119 
	#SNANF32
 (
	`__butš_Çnsf32
 (""))

	)

121 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

122 
	#SNANF64
 (
	`__butš_Çnsf64
 (""))

	)

124 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

125 
	#SNANF128
 (
	`__butš_Çnsf128
 (""))

	)

127 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

128 
	#SNANF32X
 (
	`__butš_Çnsf32x
 (""))

	)

130 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

131 
	#SNANF64X
 (
	`__butš_Çnsf64x
 (""))

	)

133 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
	#SNANF128X
 (
	`__butš_Çnsf128x
 (""))

	)

138 
	~<b™s/æt-ev®-m‘hod.h
>

140 #ifdeà
__USE_ISOC99


148 #ià
__GLIBC_FLT_EVAL_METHOD
 == 0 || __GLIBC_FLT_EVAL_METHOD == 16

149 
	tæßt_t
;

150 
	tdoubË_t
;

151 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 1

152 
	tæßt_t
;

153 
	tdoubË_t
;

154 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 2

155 
	tæßt_t
;

156 
	tdoubË_t
;

157 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 32

158 
_Flßt32
 
	tæßt_t
;

159 
	tdoubË_t
;

160 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 33

161 
_Flßt32x
 
	tæßt_t
;

162 
_Flßt32x
 
	tdoubË_t
;

163 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 64

164 
_Flßt64
 
	tæßt_t
;

165 
_Flßt64
 
	tdoubË_t
;

166 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 65

167 
_Flßt64x
 
	tæßt_t
;

168 
_Flßt64x
 
	tdoubË_t
;

169 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 128

170 
_Flßt128
 
	tæßt_t
;

171 
_Flßt128
 
	tdoubË_t
;

172 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 129

173 
_Flßt128x
 
	tæßt_t
;

174 
_Flßt128x
 
	tdoubË_t
;

190 
	~<b™s/å-logb.h
>

191 #ifdeà
__USE_ISOC99


192 #ià
__FP_LOGB0_IS_MIN


193 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

195 
	#FP_ILOGB0
 (-2147483647)

	)

197 #ià
__FP_LOGBNAN_IS_MIN


198 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

200 
	#FP_ILOGBNAN
 2147483647

	)

203 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

204 #ià
__WORDSIZE
 == 32

205 
	#__FP_LONG_MAX
 0x7fffffffL

	)

207 
	#__FP_LONG_MAX
 0x7fffffffffffffffL

	)

209 #ià
__FP_LOGB0_IS_MIN


210 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
 - 1)

	)

212 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
)

	)

214 #ià
__FP_LOGBNAN_IS_MIN


215 
	#FP_LLOGBNAN
 (-
__FP_LONG_MAX
 - 1)

	)

217 
	#FP_LLOGBNAN
 
__FP_LONG_MAX


	)

233 
	~<b™s/å-ç¡.h
>

235 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

239 
	mFP_INT_UPWARD
 =

240 
	#FP_INT_UPWARD
 0

	)

241 
FP_INT_UPWARD
,

242 
	mFP_INT_DOWNWARD
 =

243 
	#FP_INT_DOWNWARD
 1

	)

244 
FP_INT_DOWNWARD
,

245 
	mFP_INT_TOWARDZERO
 =

246 
	#FP_INT_TOWARDZERO
 2

	)

247 
FP_INT_TOWARDZERO
,

248 
	mFP_INT_TONEARESTFROMZERO
 =

249 
	#FP_INT_TONEARESTFROMZERO
 3

	)

250 
FP_INT_TONEARESTFROMZERO
,

251 
	mFP_INT_TONEAREST
 =

252 
	#FP_INT_TONEAREST
 4

	)

253 
FP_INT_TONEAREST
,

262 
	#__SIMD_DECL
(
funùiÚ
è
	`__CONCAT
 (
__DECL_SIMD_
, funùiÚ)

	)

264 
	#__MATHCALL_VEC
(
funùiÚ
, 
suffix
, 
¬gs
) \

265 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

266 
	`__MATHCALL
 (
funùiÚ
, 
suffix
, 
¬gs
)

	)

268 
	#__MATHDECL_VEC
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

269 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

270 
	`__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
)

	)

272 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

273 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

274 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

275 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

276 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

277 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

278 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

279 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

280 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

281 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

282 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

283 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

285 
	#_MdoubË_
 

	)

286 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

287 
	#__MATH_DECLARING_DOUBLE
 1

	)

288 
	#__MATH_DECLARING_FLOATN
 0

	)

289 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

290 
	~<b™s/m©hÿÎs.h
>

291 #undeà
_MdoubË_


292 #undeà
__MATH_PRECNAME


293 #undeà
__MATH_DECLARING_DOUBLE


294 #undeà
__MATH_DECLARING_FLOATN


296 #ifdeà
__USE_ISOC99


302 
	#_MdoubË_
 

	)

303 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

304 
	#__MATH_DECLARING_DOUBLE
 0

	)

305 
	#__MATH_DECLARING_FLOATN
 0

	)

306 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

307 
	~<b™s/m©hÿÎs.h
>

308 #undeà
_MdoubË_


309 #undeà
__MATH_PRECNAME


310 #undeà
__MATH_DECLARING_DOUBLE


311 #undeà
__MATH_DECLARING_FLOATN


313 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

314 || 
defšed
 
__LDBL_COMPAT
 \

315 || 
defšed
 
_LIBC_TEST


316 #ifdeà
__LDBL_COMPAT


318 #ifdeà
__USE_ISOC99


319 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

320 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

321 #ifdeà
__REDIRECT_NTH


322 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

323 
__Ædbl_Ãx‰ow¬df
)

324 
	`__©Œibu‹__
 ((
__cÚ¡__
));

325 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

326 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

327 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

328 (
__x
, 
__y
),

329 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

333 #undeà
__MATHDECL_1


334 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

335 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

336 
¬gs
, 
®Ÿs
)

	)

337 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

338 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

344 
	#_MdoubË_
 

	)

345 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

346 
	#__MATH_DECLARING_DOUBLE
 0

	)

347 
	#__MATH_DECLARING_FLOATN
 0

	)

348 
	#__MATH_DECLARE_LDOUBLE
 1

	)

349 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

350 
	~<b™s/m©hÿÎs.h
>

351 #undeà
_MdoubË_


352 #undeà
__MATH_PRECNAME


353 #undeà
__MATH_DECLARING_DOUBLE


354 #undeà
__MATH_DECLARING_FLOATN


363 #ià
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)

364 
	#_MdoubË_
 
_Flßt16


	)

365 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f16
##
	)
r

366 
	#__MATH_DECLARING_DOUBLE
 0

	)

367 
	#__MATH_DECLARING_FLOATN
 1

	)

368 #ià
__HAVE_DISTINCT_FLOAT16


369 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

371 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

372 
	~<b™s/m©hÿÎs.h
>

374 #undeà
_MdoubË_


375 #undeà
__MATH_PRECNAME


376 #undeà
__MATH_DECLARING_DOUBLE


377 #undeà
__MATH_DECLARING_FLOATN


380 #ià
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)

381 
	#_MdoubË_
 
_Flßt32


	)

382 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32
##
	)
r

383 
	#__MATH_DECLARING_DOUBLE
 0

	)

384 
	#__MATH_DECLARING_FLOATN
 1

	)

385 #ià
__HAVE_DISTINCT_FLOAT32


386 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

388 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

389 
	~<b™s/m©hÿÎs.h
>

391 #undeà
_MdoubË_


392 #undeà
__MATH_PRECNAME


393 #undeà
__MATH_DECLARING_DOUBLE


394 #undeà
__MATH_DECLARING_FLOATN


397 #ià
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)

398 
	#_MdoubË_
 
_Flßt64


	)

399 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64
##
	)
r

400 
	#__MATH_DECLARING_DOUBLE
 0

	)

401 
	#__MATH_DECLARING_FLOATN
 1

	)

402 #ià
__HAVE_DISTINCT_FLOAT64


403 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

405 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

406 
	~<b™s/m©hÿÎs.h
>

408 #undeà
_MdoubË_


409 #undeà
__MATH_PRECNAME


410 #undeà
__MATH_DECLARING_DOUBLE


411 #undeà
__MATH_DECLARING_FLOATN


414 #ià
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)

415 
	#_MdoubË_
 
_Flßt128


	)

416 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128
##
	)
r

417 
	#__MATH_DECLARING_DOUBLE
 0

	)

418 
	#__MATH_DECLARING_FLOATN
 1

	)

419 #ià
__HAVE_DISTINCT_FLOAT128


420 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

422 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

423 
	~<b™s/m©hÿÎs.h
>

425 #undeà
_MdoubË_


426 #undeà
__MATH_PRECNAME


427 #undeà
__MATH_DECLARING_DOUBLE


428 #undeà
__MATH_DECLARING_FLOATN


431 #ià
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)

432 
	#_MdoubË_
 
_Flßt32x


	)

433 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32x
##
	)
r

434 
	#__MATH_DECLARING_DOUBLE
 0

	)

435 
	#__MATH_DECLARING_FLOATN
 1

	)

436 #ià
__HAVE_DISTINCT_FLOAT32X


437 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

439 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

440 
	~<b™s/m©hÿÎs.h
>

442 #undeà
_MdoubË_


443 #undeà
__MATH_PRECNAME


444 #undeà
__MATH_DECLARING_DOUBLE


445 #undeà
__MATH_DECLARING_FLOATN


448 #ià
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)

449 
	#_MdoubË_
 
_Flßt64x


	)

450 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64x
##
	)
r

451 
	#__MATH_DECLARING_DOUBLE
 0

	)

452 
	#__MATH_DECLARING_FLOATN
 1

	)

453 #ià
__HAVE_DISTINCT_FLOAT64X


454 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

456 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

457 
	~<b™s/m©hÿÎs.h
>

459 #undeà
_MdoubË_


460 #undeà
__MATH_PRECNAME


461 #undeà
__MATH_DECLARING_DOUBLE


462 #undeà
__MATH_DECLARING_FLOATN


465 #ià
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)

466 
	#_MdoubË_
 
_Flßt128x


	)

467 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128x
##
	)
r

468 
	#__MATH_DECLARING_DOUBLE
 0

	)

469 
	#__MATH_DECLARING_FLOATN
 1

	)

470 #ià
__HAVE_DISTINCT_FLOAT128X


471 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

473 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

474 
	~<b™s/m©hÿÎs.h
>

476 #undeà
_MdoubË_


477 #undeà
__MATH_PRECNAME


478 #undeà
__MATH_DECLARING_DOUBLE


479 #undeà
__MATH_DECLARING_FLOATN


482 #undeà
__MATHDECL_1


483 #undeà
__MATHDECL


484 #undeà
__MATHCALL


487 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


489 
signgam
;

492 #ià(
__HAVE_DISTINCT_FLOAT16
 \

493 || 
__HAVE_DISTINCT_FLOAT32
 \

494 || 
__HAVE_DISTINCT_FLOAT64
 \

495 || 
__HAVE_DISTINCT_FLOAT32X
 \

496 || 
__HAVE_DISTINCT_FLOAT64X
 \

497 || 
__HAVE_DISTINCT_FLOAT128X
)

510 #ifdeà
__NO_LONG_DOUBLE_MATH


511 #ià
__HAVE_DISTINCT_FLOAT128


514 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

515 ( (
TG_ARG
è=ğ (è? 
FUNC
 ## 
f
 
ARGS
 : FUNC ARGS)

	)

516 #–ià
__HAVE_DISTINCT_FLOAT128


517 #ià
__HAVE_GENERIC_SELECTION


518 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT32


519 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
è
_Flßt32
: FUNC ## 
f
 ARGS,

	)

521 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
)

	)

523 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT64X


524 #ià
__HAVE_FLOAT64X_LONG_DOUBLE


525 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
l
 ARGS,

	)

527 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
f128
 ARGS,

	)

530 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
)

	)

532 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

533 
	`_G’”ic
 ((
TG_ARG
), \

534 : 
FUNC
 ## 
f
 
ARGS
, \

535 
	`__MATH_TG_F32
 (
FUNC
, 
ARGS
) \

536 : 
FUNC
 
ARGS
, \

537 : 
FUNC
 ## 
l
 
ARGS
, \

538 
	`__MATH_TG_F64X
 (
FUNC
, 
ARGS
) \

539 
_Flßt128
: 
FUNC
 ## 
f128
 
ARGS
)

	)

541 #ià
__HAVE_FLOATN_NOT_TYPEDEF


544 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

545 
__butš_choo£_ex´
 \

546 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

547 
FUNC
 ## 
f
 
ARGS
, \

548 
__butš_choo£_ex´
 \

549 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

550 
FUNC
 
ARGS
, \

551 
__butš_choo£_ex´
 \

552 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

553 
FUNC
 ## 
l
 
ARGS
, \

554 
FUNC
 ## 
f128
 
ARGS
)))

	)

557 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

558 ( (
TG_ARG
) ==  () \

559 ? 
FUNC
 ## 
f
 
ARGS
 \

560 :  (
TG_ARG
) ==  () \

561 ? 
FUNC
 
ARGS
 \

562 : 
FUNC
 ## 
l
 
ARGS
)

	)

566 #ifdeà
__USE_ISOC99


571 
FP_NAN
 =

572 
	#FP_NAN
 0

	)

573 
FP_NAN
,

574 
FP_INFINITE
 =

575 
	#FP_INFINITE
 1

	)

576 
FP_INFINITE
,

577 
FP_ZERO
 =

578 
	#FP_ZERO
 2

	)

579 
FP_ZERO
,

580 
FP_SUBNORMAL
 =

581 
	#FP_SUBNORMAL
 3

	)

582 
FP_SUBNORMAL
,

583 
FP_NORMAL
 =

584 
	#FP_NORMAL
 4

	)

585 
FP_NORMAL


593 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__
 \

594 && (!
defšed
 
__OPTIMIZE_SIZE__
 || defšed 
__ılu¥lus
)

601 
	#åşassify
(
x
è
	`__butš_åşassify
 (
FP_NAN
, 
FP_INFINITE
, \

602 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

604 
	#åşassify
(
x
è
	`__MATH_TG
 ((x), 
__åşassify
, (x))

	)

608 #ià
	`__GNUC_PREREQ
 (6,0)

609 
	#signb™
(
x
è
	`__butš_signb™
 (x)

	)

610 #–ià
defšed
 
__ılu¥lus


618 
	#signb™
(
x
è
	`__butš_signb™l
 (x)

	)

619 #–ià
	`__GNUC_PREREQ
 (4,0)

620 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__butš_signb™
, (x))

	)

622 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__signb™
, (x))

	)

626 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


627 
	#isfš™e
(
x
è
	`__butš_isfš™e
 (x)

	)

629 
	#isfš™e
(
x
è
	`__MATH_TG
 ((x), 
__fš™e
, (x))

	)

633 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


634 
	#i¢Üm®
(
x
è
	`__butš_i¢Üm®
 (x)

	)

636 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

641 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


642 
	#i¢ª
(
x
è
	`__butš_i¢ª
 (x)

	)

644 
	#i¢ª
(
x
è
	`__MATH_TG
 ((x), 
__i¢ª
, (x))

	)

648 #ià
__HAVE_DISTINCT_FLOAT128
 && !
	`__GNUC_PREREQ
 (7,0) \

649 && !
defšed
 
__SUPPORT_SNAN__
 && !defšed 
__ılu¥lus


655 
	#isšf
(
x
) \

656 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
x
), 
_Flßt128
) \

657 ? 
	`__isšff128
 (
x
è: 
	`__butš_isšf_sign
 (x))

	)

658 #–ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


659 
	#isšf
(
x
è
	`__butš_isšf_sign
 (x)

	)

661 
	#isšf
(
x
è
	`__MATH_TG
 ((x), 
__isšf
, (x))

	)

665 
	#MATH_ERRNO
 1

	)

666 
	#MATH_ERREXCEPT
 2

	)

673 #ifdeà
__FAST_MATH__


674 
	#m©h_”rhªdlšg
 0

	)

675 #–ià
defšed
 
__NO_MATH_ERRNO__


676 
	#m©h_”rhªdlšg
 (
MATH_ERREXCEPT
)

	)

678 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

683 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

684 
	~<b™s/isÿnÚiÿl.h
>

687 #iâdeà
__ılu¥lus


688 
	#issigÇlšg
(
x
è
	`__MATH_TG
 ((x), 
__issigÇlšg
, (x))

	)

697 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšgf
 (__val); }

698 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšg
 (__val); }

699 
šlše
 

700 
	`issigÇlšg
 (
__v®
)

702 #ifdeà
__NO_LONG_DOUBLE_MATH


703  
	`__issigÇlšg
 (
__v®
);

705  
	`__issigÇlšgl
 (
__v®
);

708 #ià
__HAVE_DISTINCT_FLOAT128


709 
šlše
 
	`issigÇlšg
 (
_Flßt128
 
__v®
è{  
	`__issigÇlšgf128
 (__val); }

711 
	}
}

715 
	#issubnÜm®
(
x
è(
	`åşassify
 (xè=ğ
FP_SUBNORMAL
)

	)

718 #iâdeà
__ılu¥lus


719 #ifdeà
__SUPPORT_SNAN__


720 
	#isz”o
(
x
è(
	`åşassify
 (xè=ğ
FP_ZERO
)

	)

722 
	#isz”o
(
x
è(((
	`__ty³of
 (x)è(x)è=ğ0)

	)

726 #ifdeà
__SUPPORT_SNAN__


727 
šlše
 

728 
isz”o
 (
__v®
)

730  
__åşassifyf
 (
__v®
è=ğ
FP_ZERO
;

732 
šlše
 

733 
isz”o
 (
__v®
)

735  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

737 
šlše
 

738 
isz”o
 (
__v®
)

740 #ifdeà
__NO_LONG_DOUBLE_MATH


741  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

743  
__åşassifyl
 (
__v®
è=ğ
FP_ZERO
;

746 #ià
__HAVE_DISTINCT_FLOAT128


747 
šlše
 

748 
isz”o
 (
_Flßt128
 
__v®
)

750  
__åşassifyf128
 (
__v®
è=ğ
FP_ZERO
;

754 
‹m¶©e
 <
şass
 
__T
> 
šlše
 
boŞ


755 
isz”o
 (
__T
 
__v®
)

757  
__v®
 == 0;

764 #ifdeà
__USE_XOPEN


766 
	#MAXFLOAT
 3.40282347e+38F

	)

771 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


772 
	#M_E
 2.7182818284590452354

	)

773 
	#M_LOG2E
 1.4426950408889634074

	)

774 
	#M_LOG10E
 0.43429448190325182765

	)

775 
	#M_LN2
 0.69314718055994530942

	)

776 
	#M_LN10
 2.30258509299404568402

	)

777 
	#M_PI
 3.14159265358979323846

	)

778 
	#M_PI_2
 1.57079632679489661923

	)

779 
	#M_PI_4
 0.78539816339744830962

	)

780 
	#M_1_PI
 0.31830988618379067154

	)

781 
	#M_2_PI
 0.63661977236758134308

	)

782 
	#M_2_SQRTPI
 1.12837916709551257390

	)

783 
	#M_SQRT2
 1.41421356237309504880

	)

784 
	#M_SQRT1_2
 0.70710678118654752440

	)

790 #ifdeà
__USE_GNU


791 
	#M_El
 2.718281828459045235360287471352662498L

	)

792 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

793 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

794 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

795 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

796 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

797 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

798 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

799 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

800 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

801 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

802 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

803 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

806 #ià
__HAVE_FLOAT16
 && 
defšed
 
__USE_GNU


807 
	#M_Ef16
 
	`__f16
 (2.718281828459045235360287471352662498è

	)

808 
	#M_LOG2Ef16
 
	`__f16
 (1.442695040888963407359924681001892137è

	)

809 
	#M_LOG10Ef16
 
	`__f16
 (0.434294481903251827651128918916605082è

	)

810 
	#M_LN2f16
 
	`__f16
 (0.693147180559945309417232121458176568è

	)

811 
	#M_LN10f16
 
	`__f16
 (2.302585092994045684017991454684364208è

	)

812 
	#M_PIf16
 
	`__f16
 (3.141592653589793238462643383279502884è

	)

813 
	#M_PI_2f16
 
	`__f16
 (1.570796326794896619231321691639751442è

	)

814 
	#M_PI_4f16
 
	`__f16
 (0.785398163397448309615660845819875721è

	)

815 
	#M_1_PIf16
 
	`__f16
 (0.318309886183790671537767526745028724è

	)

816 
	#M_2_PIf16
 
	`__f16
 (0.636619772367581343075535053490057448è

	)

817 
	#M_2_SQRTPIf16
 
	`__f16
 (1.128379167095512573896158903121545172è

	)

818 
	#M_SQRT2f16
 
	`__f16
 (1.414213562373095048801688724209698079è

	)

819 
	#M_SQRT1_2f16
 
	`__f16
 (0.707106781186547524400844362104849039è

	)

822 #ià
__HAVE_FLOAT32
 && 
defšed
 
__USE_GNU


823 
	#M_Ef32
 
	`__f32
 (2.718281828459045235360287471352662498è

	)

824 
	#M_LOG2Ef32
 
	`__f32
 (1.442695040888963407359924681001892137è

	)

825 
	#M_LOG10Ef32
 
	`__f32
 (0.434294481903251827651128918916605082è

	)

826 
	#M_LN2f32
 
	`__f32
 (0.693147180559945309417232121458176568è

	)

827 
	#M_LN10f32
 
	`__f32
 (2.302585092994045684017991454684364208è

	)

828 
	#M_PIf32
 
	`__f32
 (3.141592653589793238462643383279502884è

	)

829 
	#M_PI_2f32
 
	`__f32
 (1.570796326794896619231321691639751442è

	)

830 
	#M_PI_4f32
 
	`__f32
 (0.785398163397448309615660845819875721è

	)

831 
	#M_1_PIf32
 
	`__f32
 (0.318309886183790671537767526745028724è

	)

832 
	#M_2_PIf32
 
	`__f32
 (0.636619772367581343075535053490057448è

	)

833 
	#M_2_SQRTPIf32
 
	`__f32
 (1.128379167095512573896158903121545172è

	)

834 
	#M_SQRT2f32
 
	`__f32
 (1.414213562373095048801688724209698079è

	)

835 
	#M_SQRT1_2f32
 
	`__f32
 (0.707106781186547524400844362104849039è

	)

838 #ià
__HAVE_FLOAT64
 && 
defšed
 
__USE_GNU


839 
	#M_Ef64
 
	`__f64
 (2.718281828459045235360287471352662498è

	)

840 
	#M_LOG2Ef64
 
	`__f64
 (1.442695040888963407359924681001892137è

	)

841 
	#M_LOG10Ef64
 
	`__f64
 (0.434294481903251827651128918916605082è

	)

842 
	#M_LN2f64
 
	`__f64
 (0.693147180559945309417232121458176568è

	)

843 
	#M_LN10f64
 
	`__f64
 (2.302585092994045684017991454684364208è

	)

844 
	#M_PIf64
 
	`__f64
 (3.141592653589793238462643383279502884è

	)

845 
	#M_PI_2f64
 
	`__f64
 (1.570796326794896619231321691639751442è

	)

846 
	#M_PI_4f64
 
	`__f64
 (0.785398163397448309615660845819875721è

	)

847 
	#M_1_PIf64
 
	`__f64
 (0.318309886183790671537767526745028724è

	)

848 
	#M_2_PIf64
 
	`__f64
 (0.636619772367581343075535053490057448è

	)

849 
	#M_2_SQRTPIf64
 
	`__f64
 (1.128379167095512573896158903121545172è

	)

850 
	#M_SQRT2f64
 
	`__f64
 (1.414213562373095048801688724209698079è

	)

851 
	#M_SQRT1_2f64
 
	`__f64
 (0.707106781186547524400844362104849039è

	)

854 #ià
__HAVE_FLOAT128
 && 
defšed
 
__USE_GNU


855 
	#M_Ef128
 
	`__f128
 (2.718281828459045235360287471352662498è

	)

856 
	#M_LOG2Ef128
 
	`__f128
 (1.442695040888963407359924681001892137è

	)

857 
	#M_LOG10Ef128
 
	`__f128
 (0.434294481903251827651128918916605082è

	)

858 
	#M_LN2f128
 
	`__f128
 (0.693147180559945309417232121458176568è

	)

859 
	#M_LN10f128
 
	`__f128
 (2.302585092994045684017991454684364208è

	)

860 
	#M_PIf128
 
	`__f128
 (3.141592653589793238462643383279502884è

	)

861 
	#M_PI_2f128
 
	`__f128
 (1.570796326794896619231321691639751442è

	)

862 
	#M_PI_4f128
 
	`__f128
 (0.785398163397448309615660845819875721è

	)

863 
	#M_1_PIf128
 
	`__f128
 (0.318309886183790671537767526745028724è

	)

864 
	#M_2_PIf128
 
	`__f128
 (0.636619772367581343075535053490057448è

	)

865 
	#M_2_SQRTPIf128
 
	`__f128
 (1.128379167095512573896158903121545172è

	)

866 
	#M_SQRT2f128
 
	`__f128
 (1.414213562373095048801688724209698079è

	)

867 
	#M_SQRT1_2f128
 
	`__f128
 (0.707106781186547524400844362104849039è

	)

870 #ià
__HAVE_FLOAT32X
 && 
defšed
 
__USE_GNU


871 
	#M_Ef32x
 
	`__f32x
 (2.718281828459045235360287471352662498è

	)

872 
	#M_LOG2Ef32x
 
	`__f32x
 (1.442695040888963407359924681001892137è

	)

873 
	#M_LOG10Ef32x
 
	`__f32x
 (0.434294481903251827651128918916605082è

	)

874 
	#M_LN2f32x
 
	`__f32x
 (0.693147180559945309417232121458176568è

	)

875 
	#M_LN10f32x
 
	`__f32x
 (2.302585092994045684017991454684364208è

	)

876 
	#M_PIf32x
 
	`__f32x
 (3.141592653589793238462643383279502884è

	)

877 
	#M_PI_2f32x
 
	`__f32x
 (1.570796326794896619231321691639751442è

	)

878 
	#M_PI_4f32x
 
	`__f32x
 (0.785398163397448309615660845819875721è

	)

879 
	#M_1_PIf32x
 
	`__f32x
 (0.318309886183790671537767526745028724è

	)

880 
	#M_2_PIf32x
 
	`__f32x
 (0.636619772367581343075535053490057448è

	)

881 
	#M_2_SQRTPIf32x
 
	`__f32x
 (1.128379167095512573896158903121545172è

	)

882 
	#M_SQRT2f32x
 
	`__f32x
 (1.414213562373095048801688724209698079è

	)

883 
	#M_SQRT1_2f32x
 
	`__f32x
 (0.707106781186547524400844362104849039è

	)

886 #ià
__HAVE_FLOAT64X
 && 
defšed
 
__USE_GNU


887 
	#M_Ef64x
 
	`__f64x
 (2.718281828459045235360287471352662498è

	)

888 
	#M_LOG2Ef64x
 
	`__f64x
 (1.442695040888963407359924681001892137è

	)

889 
	#M_LOG10Ef64x
 
	`__f64x
 (0.434294481903251827651128918916605082è

	)

890 
	#M_LN2f64x
 
	`__f64x
 (0.693147180559945309417232121458176568è

	)

891 
	#M_LN10f64x
 
	`__f64x
 (2.302585092994045684017991454684364208è

	)

892 
	#M_PIf64x
 
	`__f64x
 (3.141592653589793238462643383279502884è

	)

893 
	#M_PI_2f64x
 
	`__f64x
 (1.570796326794896619231321691639751442è

	)

894 
	#M_PI_4f64x
 
	`__f64x
 (0.785398163397448309615660845819875721è

	)

895 
	#M_1_PIf64x
 
	`__f64x
 (0.318309886183790671537767526745028724è

	)

896 
	#M_2_PIf64x
 
	`__f64x
 (0.636619772367581343075535053490057448è

	)

897 
	#M_2_SQRTPIf64x
 
	`__f64x
 (1.128379167095512573896158903121545172è

	)

898 
	#M_SQRT2f64x
 
	`__f64x
 (1.414213562373095048801688724209698079è

	)

899 
	#M_SQRT1_2f64x
 
	`__f64x
 (0.707106781186547524400844362104849039è

	)

902 #ià
__HAVE_FLOAT128X
 && 
defšed
 
__USE_GNU


909 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


910 
	#__NO_MATH_INLINES
 1

	)

913 #ifdeà
__USE_ISOC99


914 #ià
__GNUC_PREREQ
 (3, 1)

921 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

922 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

923 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

924 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

925 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

926 
	#isunÜd”ed
(
x
, 
y
è
	`__butš_isunÜd”ed
(x, y)

	)

928 
	#isg»©”
(
x
, 
y
) \

929 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

930 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; }))

	)

931 
	#isg»©”equ®
(
x
, 
y
) \

932 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

933 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

934 
	#i¦ess
(
x
, 
y
) \

935 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

936 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

937 
	#i¦es£qu®
(
x
, 
y
) \

938 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

939 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

940 
	#i¦essg»©”
(
x
, 
y
) \

941 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

942 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x !ğ__y; }))

	)

944 
	#isunÜd”ed
(
x
, 
y
) \

945 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__u
 = (x); __ty³of__ (
y
è
__v
 = (y); \

946 
__u
 !ğ
__v
 && (__u !ğ__u || __v !ğ__v); }))

	)

951 #ifdeà
__USE_EXTERN_INLINES


952 
	~<b™s/m©hšlše.h
>

957 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

960 
	#_MdoubË_
 

	)

961 
	#__MATH_DECLARING_DOUBLE
 1

	)

962 
	#__MATH_DECLARING_FLOATN
 0

	)

963 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

964 
funùiÚ
 ## 
»’Œªt


	)

965 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

966 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

967 
	~<b™s/m©h-fš™e.h
>

968 #undeà
_MdoubË_


969 #undeà
__MATH_DECLARING_DOUBLE


970 #undeà
__MATH_DECLARING_FLOATN


971 #undeà
__REDIRFROM_X


972 #undeà
__REDIRTO_X


976 #ifdeà
__USE_ISOC99


979 
	#_MdoubË_
 

	)

980 
	#__MATH_DECLARING_DOUBLE
 0

	)

981 
	#__MATH_DECLARING_FLOATN
 0

	)

982 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

983 
funùiÚ
 ## 
f
 ## 
»’Œªt


	)

984 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

985 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

986 
	~<b™s/m©h-fš™e.h
>

987 #undeà
_MdoubË_


988 #undeà
__MATH_DECLARING_DOUBLE


989 #undeà
__MATH_DECLARING_FLOATN


990 #undeà
__REDIRFROM_X


991 #undeà
__REDIRTO_X


994 #ifdeà
__MATH_DECLARE_LDOUBLE


995 
	#_MdoubË_
 

	)

996 
	#__MATH_DECLARING_DOUBLE
 0

	)

997 
	#__MATH_DECLARING_FLOATN
 0

	)

998 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

999 
funùiÚ
 ## 
l
 ## 
»’Œªt


	)

1000 #ifdeà
__NO_LONG_DOUBLE_MATH


1001 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1002 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1004 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1005 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1007 
	~<b™s/m©h-fš™e.h
>

1008 #undeà
_MdoubË_


1009 #undeà
__MATH_DECLARING_DOUBLE


1010 #undeà
__MATH_DECLARING_FLOATN


1011 #undeà
__REDIRFROM_X


1012 #undeà
__REDIRTO_X


1019 #ià(
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)) \

1020 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1021 
	#_MdoubË_
 
_Flßt16


	)

1022 
	#__MATH_DECLARING_DOUBLE
 0

	)

1023 
	#__MATH_DECLARING_FLOATN
 1

	)

1024 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1025 
funùiÚ
 ## 
f16
 ## 
»’Œªt


	)

1026 #ià
__HAVE_DISTINCT_FLOAT16


1027 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1028 
__
 ## 
funùiÚ
 ## 
f16
 ## 
»’Œªt
 ## 
_fš™e


	)

1032 
	~<b™s/m©h-fš™e.h
>

1033 #undeà
_MdoubË_


1034 #undeà
__MATH_DECLARING_DOUBLE


1035 #undeà
__MATH_DECLARING_FLOATN


1036 #undeà
__REDIRFROM_X


1037 #undeà
__REDIRTO_X


1040 #ià(
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)) \

1041 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1042 
	#_MdoubË_
 
_Flßt32


	)

1043 
	#__MATH_DECLARING_DOUBLE
 0

	)

1044 
	#__MATH_DECLARING_FLOATN
 1

	)

1045 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1046 
funùiÚ
 ## 
f32
 ## 
»’Œªt


	)

1047 #ià
__HAVE_DISTINCT_FLOAT32


1048 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1049 
__
 ## 
funùiÚ
 ## 
f32
 ## 
»’Œªt
 ## 
_fš™e


	)

1051 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1052 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

1054 
	~<b™s/m©h-fš™e.h
>

1055 #undeà
_MdoubË_


1056 #undeà
__MATH_DECLARING_DOUBLE


1057 #undeà
__MATH_DECLARING_FLOATN


1058 #undeà
__REDIRFROM_X


1059 #undeà
__REDIRTO_X


1062 #ià(
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)) \

1063 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1064 
	#_MdoubË_
 
_Flßt64


	)

1065 
	#__MATH_DECLARING_DOUBLE
 0

	)

1066 
	#__MATH_DECLARING_FLOATN
 1

	)

1067 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1068 
funùiÚ
 ## 
f64
 ## 
»’Œªt


	)

1069 #ià
__HAVE_DISTINCT_FLOAT64


1070 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1071 
__
 ## 
funùiÚ
 ## 
f64
 ## 
»’Œªt
 ## 
_fš™e


	)

1073 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1074 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1076 
	~<b™s/m©h-fš™e.h
>

1077 #undeà
_MdoubË_


1078 #undeà
__MATH_DECLARING_DOUBLE


1079 #undeà
__MATH_DECLARING_FLOATN


1080 #undeà
__REDIRFROM_X


1081 #undeà
__REDIRTO_X


1084 #ià(
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)) \

1085 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1086 
	#_MdoubË_
 
_Flßt128


	)

1087 
	#__MATH_DECLARING_DOUBLE
 0

	)

1088 
	#__MATH_DECLARING_FLOATN
 1

	)

1089 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1090 
funùiÚ
 ## 
f128
 ## 
»’Œªt


	)

1091 #ià
__HAVE_DISTINCT_FLOAT128


1092 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1093 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1095 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1096 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1098 
	~<b™s/m©h-fš™e.h
>

1099 #undeà
_MdoubË_


1100 #undeà
__MATH_DECLARING_DOUBLE


1101 #undeà
__MATH_DECLARING_FLOATN


1102 #undeà
__REDIRFROM_X


1103 #undeà
__REDIRTO_X


1106 #ià(
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)) \

1107 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1108 
	#_MdoubË_
 
_Flßt32x


	)

1109 
	#__MATH_DECLARING_DOUBLE
 0

	)

1110 
	#__MATH_DECLARING_FLOATN
 1

	)

1111 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1112 
funùiÚ
 ## 
f32x
 ## 
»’Œªt


	)

1113 #ià
__HAVE_DISTINCT_FLOAT32X


1114 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1115 
__
 ## 
funùiÚ
 ## 
f32x
 ## 
»’Œªt
 ## 
_fš™e


	)

1117 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1118 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1120 
	~<b™s/m©h-fš™e.h
>

1121 #undeà
_MdoubË_


1122 #undeà
__MATH_DECLARING_DOUBLE


1123 #undeà
__MATH_DECLARING_FLOATN


1124 #undeà
__REDIRFROM_X


1125 #undeà
__REDIRTO_X


1128 #ià(
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)) \

1129 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1130 
	#_MdoubË_
 
_Flßt64x


	)

1131 
	#__MATH_DECLARING_DOUBLE
 0

	)

1132 
	#__MATH_DECLARING_FLOATN
 1

	)

1133 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1134 
funùiÚ
 ## 
f64x
 ## 
»’Œªt


	)

1135 #ià
__HAVE_DISTINCT_FLOAT64X


1136 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1137 
__
 ## 
funùiÚ
 ## 
f64x
 ## 
»’Œªt
 ## 
_fš™e


	)

1138 #–ià
__HAVE_FLOAT64X_LONG_DOUBLE


1139 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1140 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1142 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1143 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1145 
	~<b™s/m©h-fš™e.h
>

1146 #undeà
_MdoubË_


1147 #undeà
__MATH_DECLARING_DOUBLE


1148 #undeà
__MATH_DECLARING_FLOATN


1149 #undeà
__REDIRFROM_X


1150 #undeà
__REDIRTO_X


1153 #ià(
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)) \

1154 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1155 
	#_MdoubË_
 
_Flßt128x


	)

1156 
	#__MATH_DECLARING_DOUBLE
 0

	)

1157 
	#__MATH_DECLARING_FLOATN
 1

	)

1158 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1159 
funùiÚ
 ## 
f128x
 ## 
»’Œªt


	)

1160 #ià
__HAVE_DISTINCT_FLOAT128X


1161 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1162 
__
 ## 
funùiÚ
 ## 
f128x
 ## 
»’Œªt
 ## 
_fš™e


	)

1166 
	~<b™s/m©h-fš™e.h
>

1167 #undeà
_MdoubË_


1168 #undeà
__MATH_DECLARING_DOUBLE


1169 #undeà
__MATH_DECLARING_FLOATN


1170 #undeà
__REDIRFROM_X


1171 #undeà
__REDIRTO_X


1176 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

1179 #ià
__FLT_EVAL_METHOD__
 == 2 || __FLT_EVAL_METHOD__ > 64

1180 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0L)

	)

1181 #–ià
__FLT_EVAL_METHOD__
 == 1 || __FLT_EVAL_METHOD__ > 32

1182 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0)

	)

1183 #–ià
__FLT_EVAL_METHOD__
 == 0 || __FLT_EVAL_METHOD__ == 32

1184 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0f)

	)

1186 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (y))

	)

1191 #ià!
defšed
 
__ılu¥lus
 || (__ılu¥lu < 201103L && !defšed 
__GNUC__
)

1192 
	#i£qsig
(
x
, 
y
) \

1193 
	`__MATH_TG
 (
	`__MATH_EVAL_FMT2
 (
x
, 
y
), 
__i£qsig
, ((x), (y)))

	)

1206 
‹m¶©e
<
ty³Çme
> 
__i£qsig_ty³
;

1208 
‹m¶©e
<> 
__i£qsig_ty³
<>

1210 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1212  
	`__i£qsigf
 (
__x
, 
__y
);

1216 
‹m¶©e
<> 
__i£qsig_ty³
<>

1218 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1220  
	`__i£qsig
 (
__x
, 
__y
);

1224 
‹m¶©e
<> 
__i£qsig_ty³
<>

1226 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1228 #iâdeà
__NO_LONG_DOUBLE_MATH


1229  
	`__i£qsigl
 (
__x
, 
__y
);

1231  
	`__i£qsig
 (
__x
, 
__y
);

1236 #ià
__HAVE_DISTINCT_FLOAT128


1237 
‹m¶©e
<> 
__i£qsig_ty³
<
_Flßt128
>

1239 
	`__ÿÎ
 (
_Flßt128
 
__x
, _Flßt128 
__y
è
	`throw
 ()

1241  
	`__i£qsigf128
 (
__x
, 
__y
);

1246 
‹m¶©e
<
ty³Çme
 
_T1
,y³Çm
_T2
>

1247 
šlše
 

1248 
	`i£qsig
 (
_T1
 
__x
, 
_T2
 
__y
è
	`throw
 ()

1250 #ià
__ılu¥lus
 >= 201103L

1251 
	`deşty³
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1253 
	`__ty³of
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1255  
__i£qsig_ty³
<
_T3
>::
	`__ÿÎ
 (
__x
, 
__y
);

1258 
	}
}

1263 
__END_DECLS


	@/usr/include/numa.h

17 #iâdeà
_NUMA_H


18 
	#_NUMA_H
 1

	)

21 
	#LIBNUMA_API_VERSION
 2

	)

25 
	~<¡ddef.h
>

26 
	~<¡ršg.h
>

27 
	~<sys/ty³s.h
>

28 
	~<¡dlib.h
>

30 #ià
defšed
(
__x86_64__
è|| defšed(
__i386__
)

31 
	#NUMA_NUM_NODES
 128

	)

33 
	#NUMA_NUM_NODES
 2048

	)

36 #ifdeà
__ılu¥lus


41 
n
[
NUMA_NUM_NODES
/(()*8)];

42 } 
	tnodemask_t
;

44 
	sb™mask
 {

45 
size
;

46 *
maskp
;

50 
numa_b™mask_isb™£t
(cÚ¡ 
b™mask
 *, );

51 
b™mask
 *
numa_b™mask_£Î
(bitmask *);

52 
b™mask
 *
numa_b™mask_ş—¿Î
(bitmask *);

53 
b™mask
 *
numa_b™mask_£tb™
(bitmask *, );

54 
b™mask
 *
numa_b™mask_ş—rb™
(bitmask *, );

55 
numa_b™mask_nby‹s
(
b™mask
 *);

56 
numa_b™mask_weight
(cÚ¡ 
b™mask
 *);

57 
b™mask
 *
numa_b™mask_®loc
();

58 
numa_b™mask_ä“
(
b™mask
 *);

59 
numa_b™mask_equ®
(cÚ¡ 
b™mask
 *, const bitmask *);

60 
cİy_nodemask_to_b™mask
(
nodemask_t
 *, 
b™mask
 *);

61 
cİy_b™mask_to_nodemask
(
b™mask
 *, 
nodemask_t
 *);

62 
cİy_b™mask_to_b™mask
(
b™mask
 *, bitmask *);

66 
šlše
 
nodemask_z”o
(
nodemask_t
 *
mask
)

68 
b™mask
 
tmp
;

70 
tmp
.
maskp
 = (*)
mask
;

71 
tmp
.
size
 = (
nodemask_t
) * 8;

72 
numa_b™mask_ş—¿Î
(&
tmp
);

75 
šlše
 
nodemask_z”o_com·t
(
nodemask_t
 *
mask
)

77 
b™mask
 
tmp
;

79 
tmp
.
maskp
 = (*)
mask
;

80 
tmp
.
size
 = (
nodemask_t
) * 8;

81 
numa_b™mask_ş—¿Î
(&
tmp
);

84 
šlše
 
nodemask_£t_com·t
(
nodemask_t
 *
mask
, 
node
)

86 
mask
->
n
[
node
 / (8*())] |=

87 (1UL<<(
node
%(8*())));

90 
šlše
 
nodemask_şr_com·t
(
nodemask_t
 *
mask
, 
node
)

92 
mask
->
n
[
node
 / (8*())] &=

93 ~(1UL<<(
node
%(8*())));

96 
šlše
 
nodemask_is£t_com·t
(cÚ¡ 
nodemask_t
 *
mask
, 
node
)

98 ià(()
node
 >ğ
NUMA_NUM_NODES
)

100 ià(
mask
->
n
[
node
 / (8*())] &

101 (1UL<<(
node
%(8*()))))

106 
šlše
 
nodemask_equ®
(cÚ¡ 
nodemask_t
 *
a
, cÚ¡‚odemask_ˆ*
b
)

108 
b™mask
 
tmp_a
, 
tmp_b
;

110 
tmp_a
.
maskp
 = (*)
a
;

111 
tmp_a
.
size
 = (
nodemask_t
) * 8;

113 
tmp_b
.
maskp
 = (*)
b
;

114 
tmp_b
.
size
 = (
nodemask_t
) * 8;

116  
numa_b™mask_equ®
(&
tmp_a
, &
tmp_b
);

119 
šlše
 
nodemask_equ®_com·t
(cÚ¡ 
nodemask_t
 *
a
, cÚ¡‚odemask_ˆ*
b
)

121 
b™mask
 
tmp_a
, 
tmp_b
;

123 
tmp_a
.
maskp
 = (*)
a
;

124 
tmp_a
.
size
 = (
nodemask_t
) * 8;

126 
tmp_b
.
maskp
 = (*)
b
;

127 
tmp_b
.
size
 = (
nodemask_t
) * 8;

129  
numa_b™mask_equ®
(&
tmp_a
, &
tmp_b
);

134 
numa_avaabË
();

139 
numa_max_node
();

140 
numa_max_possibË_node
();

142 
numa_´eã¼ed
();

145 
numa_node_size64
(
node
, *
ä“p
);

146 
numa_node_size
(
node
, *
ä“p
);

148 
numa_·gesize
();

152 
b™mask
 *
numa_®l_nodes_±r
;

155 
b™mask
 *
numa_nodes_±r
;

158 
nodemask_t
 
numa_®l_nodes
;

161 
b™mask
 *
numa_®l_ıus_±r
;

164 
b™mask
 *
numa_no_nodes_±r
;

167 
nodemask_t
 
numa_no_nodes
;

170 
numa_bšd
(
b™mask
 *
nodes
);

173 
numa_£t_š‹¾—ve_mask
(
b™mask
 *
nodemask
);

176 
b™mask
 *
numa_g‘_š‹¾—ve_mask
();

179 
b™mask
 *
numa_®loÿ‹_nodemask
();

181 
šlše
 
numa_ä“_nodemask
(
b™mask
 *
b
)

183 
numa_b™mask_ä“
(
b
);

187 
numa_£t_´eã¼ed
(
node
);

190 
numa_£t_loÿÏÎoc
();

193 
numa_£t_membšd
(
b™mask
 *
nodemask
);

196 
b™mask
 *
numa_g‘_membšd
();

199 
b™mask
 *
numa_g‘_mems_®lowed
();

201 
numa_g‘_š‹¾—ve_node
();

207 *
numa_®loc_š‹¾—ved_sub£t
(
size_t
 
size
, 
b™mask
 *
nodemask
);

209 *
numa_®loc_š‹¾—ved
(
size_t
 
size
);

211 *
numa_®loc_Únode
(
size_t
 
size
, 
node
);

213 *
numa_®loc_loÿl
(
size_t
 
size
);

215 *
numa_®loc
(
size_t
 
size
);

217 *
numa_»®loc
(*
Şd_addr
, 
size_t
 
Şd_size
, size_ˆ
Ãw_size
);

219 
numa_ä“
(*
mem
, 
size_t
 
size
);

225 
numa_š‹¾—ve_memÜy
(*
mem
, 
size_t
 
size
, 
b™mask
 *
mask
);

228 
numa_tÚode_memÜy
(*
¡¬t
, 
size_t
 
size
, 
node
);

231 
numa_tÚodemask_memÜy
(*
mem
, 
size_t
 
size
, 
b™mask
 *
mask
);

234 
numa_£oÿl_memÜy
(*
¡¬t
, 
size_t
 
size
);

237 
numa_pŞiû_memÜy
(*
¡¬t
, 
size_t
 
size
);

240 
numa_run_Ú_node_mask
(
b™mask
 *
mask
);

242 
numa_run_Ú_node_mask_®l
(
b™mask
 *
mask
);

244 
numa_run_Ú_node
(
node
);

246 
b™mask
 * 
numa_g‘_run_node_mask
();

249 
numa_£t_bšd_pŞicy
(
¡riù
);

252 
numa_£t_¡riù
(
æag
);

255 
numa_num_possibË_nodes
();

258 
numa_num_possibË_ıus
();

261 
numa_num_cÚfigu»d_nodes
();

264 
numa_num_cÚfigu»d_ıus
();

267 
numa_num_sk_ıus
();

268 
numa_num_th»ad_ıus
();

271 
numa_num_sk_nodes
();

272 
numa_num_th»ad_nodes
();

275 
b™mask
 *
numa_®loÿ‹_ıumask
();

277 
šlše
 
numa_ä“_ıumask
(
b™mask
 *
b
)

279 
numa_b™mask_ä“
(
b
);

283 
numa_node_to_ıus
(, 
b™mask
 *);

286 
numa_node_of_ıu
(
ıu
);

289 
numa_di¡ªû
(
node1
, 
node2
);

295 
numa_”rÜ
(*
wh”e
);

299 
numa_ex™_Ú_”rÜ
;

302 
numa_w¬n
(
num
, *
fmt
, ...);

305 
numa_ex™_Ú_w¬n
;

307 
numa_mig¿‹_·ges
(
pid
, 
b™mask
 *
äom
, b™mask *
to
);

309 
numa_move_·ges
(
pid
, 
couÁ
, **
·ges
,

310 cÚ¡ *
nodes
, *
¡©us
, 
æags
);

312 
numa_sched_g‘affš™y
(
pid_t
, 
b™mask
 *);

313 
numa_sched_£ffš™y
(
pid_t
, 
b™mask
 *);

316 
b™mask
 *
numa_·r£_node¡ršg
(const *);

320 
b™mask
 *
numa_·r£_node¡ršg_®l
(const *);

323 
b™mask
 *
numa_·r£_ıu¡ršg
(const *);

327 
b™mask
 *
numa_·r£_ıu¡ršg_®l
(const *);

335 
šlše
 
numa_£t_š‹¾—ve_mask_com·t
(
nodemask_t
 *
nodemask
)

337 
b™mask
 
	gtmp
;

339 
	gtmp
.
	gmaskp
 = (*)
nodemask
;

340 
	gtmp
.
	gsize
 = (
nodemask_t
) * 8;

341 
numa_£t_š‹¾—ve_mask
(&
tmp
);

344 
šlše
 
nodemask_t
 
numa_g‘_š‹¾—ve_mask_com·t
()

346 
b™mask
 *
	g
;

347 
nodemask_t
 
	gmask
;

349 
	g
 = 
numa_g‘_š‹¾—ve_mask
();

350 
cİy_b™mask_to_nodemask
(

, &
mask
);

351 
numa_b™mask_ä“
(

);

352  
	gmask
;

355 
šlše
 
numa_bšd_com·t
(
nodemask_t
 *
mask
)

357 
b™mask
 *
	g
;

359 
	g
 = 
numa_®loÿ‹_nodemask
();

360 
cİy_nodemask_to_b™mask
(
mask
, 

);

361 
numa_bšd
(

);

362 
numa_b™mask_ä“
(

);

365 
šlše
 
numa_£t_membšd_com·t
(
nodemask_t
 *
mask
)

367 
b™mask
 
	gtmp
;

369 
	gtmp
.
	gmaskp
 = (*)
mask
;

370 
	gtmp
.
	gsize
 = (
nodemask_t
) * 8;

371 
numa_£t_membšd
(&
tmp
);

374 
šlše
 
nodemask_t
 
numa_g‘_membšd_com·t
()

376 
b™mask
 *
	g
;

377 
nodemask_t
 
	gmask
;

379 
	g
 = 
numa_g‘_membšd
();

380 
cİy_b™mask_to_nodemask
(

, &
mask
);

381 
numa_b™mask_ä“
(

);

382  
	gmask
;

385 
šlše
 *
numa_®loc_š‹¾—ved_sub£t_com·t
(
size_t
 
size
,

386 cÚ¡ 
nodemask_t
 *
mask
)

388 
b™mask
 
	gtmp
;

390 
	gtmp
.
	gmaskp
 = (*)
mask
;

391 
	gtmp
.
	gsize
 = (
nodemask_t
) * 8;

392  
numa_®loc_š‹¾—ved_sub£t
(
size
, &
tmp
);

395 
šlše
 
numa_run_Ú_node_mask_com·t
(cÚ¡ 
nodemask_t
 *
mask
)

397 
b™mask
 
	gtmp
;

399 
	gtmp
.
	gmaskp
 = (*)
mask
;

400 
	gtmp
.
	gsize
 = (
nodemask_t
) * 8;

401  
numa_run_Ú_node_mask
(&
tmp
);

404 
šlše
 
nodemask_t
 
numa_g‘_run_node_mask_com·t
()

406 
b™mask
 *
	g
;

407 
nodemask_t
 
	gmask
;

409 
	g
 = 
numa_g‘_run_node_mask
();

410 
cİy_b™mask_to_nodemask
(

, &
mask
);

411 
numa_b™mask_ä“
(

);

412  
	gmask
;

415 
šlše
 
numa_š‹¾—ve_memÜy_com·t
(*
mem
, 
size_t
 
size
,

416 cÚ¡ 
nodemask_t
 *
mask
)

418 
b™mask
 
	gtmp
;

420 
	gtmp
.
	gmaskp
 = (*)
mask
;

421 
	gtmp
.
	gsize
 = (
nodemask_t
) * 8;

422 
numa_š‹¾—ve_memÜy
(
mem
, 
size
, &
tmp
);

425 
šlše
 
numa_tÚodemask_memÜy_com·t
(*
mem
, 
size_t
 
size
,

426 cÚ¡ 
nodemask_t
 *
mask
)

428 
b™mask
 
	gtmp
;

430 
	gtmp
.
	gmaskp
 = (*)
mask
;

431 
	gtmp
.
	gsize
 = (
nodemask_t
) * 8;

432 
numa_tÚodemask_memÜy
(
mem
, 
size
, &
tmp
);

435 
šlše
 
numa_sched_g‘affš™y_com·t
(
pid_t
 
pid
, 
Ën
,

436 *
mask
)

438 
b™mask
 
	gtmp
;

440 
	gtmp
.
	gmaskp
 = (*)
mask
;

441 
	gtmp
.
	gsize
 = 
Ën
 * 8;

442  
numa_sched_g‘affš™y
(
pid
, &
tmp
);

445 
šlše
 
numa_sched_£ffš™y_com·t
(
pid_t
 
pid
, 
Ën
,

446 *
mask
)

448 
b™mask
 
	gtmp
;

450 
	gtmp
.
	gmaskp
 = (*)
mask
;

451 
	gtmp
.
	gsize
 = 
Ën
 * 8;

452  
numa_sched_£ffš™y
(
pid
, &
tmp
);

455 
šlše
 
numa_node_to_ıus_com·t
(
node
, *
bufãr
,

456 
bufãr_Ën
)

458 
b™mask
 
	gtmp
;

460 
	gtmp
.
	gmaskp
 = (*)
bufãr
;

461 
	gtmp
.
	gsize
 = 
bufãr_Ën
 * 8;

462  
numa_node_to_ıus
(
node
, &
tmp
);

471 #ifdeà
NUMA_VERSION1_COMPATIBILITY


472 
	~<numacom·t1.h
>

475 #ifdeà
__ılu¥lus


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wch¬.h
>

29 
	~<b™s/wÜdsize.h
>

34 
	~<b™s/¡dšt-šŠ.h
>

37 
	~<b™s/¡dšt-ušŠ.h
>

43 sigÃd 
	tšt_Ëa¡8_t
;

44 
	tšt_Ëa¡16_t
;

45 
	tšt_Ëa¡32_t
;

46 #ià
__WORDSIZE
 == 64

47 
	tšt_Ëa¡64_t
;

49 
__ex‹nsiÚ__


50 
	tšt_Ëa¡64_t
;

54 
	tušt_Ëa¡8_t
;

55 
	tušt_Ëa¡16_t
;

56 
	tušt_Ëa¡32_t
;

57 #ià
__WORDSIZE
 == 64

58 
	tušt_Ëa¡64_t
;

60 
__ex‹nsiÚ__


61 
	tušt_Ëa¡64_t
;

68 sigÃd 
	tšt_ç¡8_t
;

69 #ià
__WORDSIZE
 == 64

70 
	tšt_ç¡16_t
;

71 
	tšt_ç¡32_t
;

72 
	tšt_ç¡64_t
;

74 
	tšt_ç¡16_t
;

75 
	tšt_ç¡32_t
;

76 
__ex‹nsiÚ__


77 
	tšt_ç¡64_t
;

81 
	tušt_ç¡8_t
;

82 #ià
__WORDSIZE
 == 64

83 
	tušt_ç¡16_t
;

84 
	tušt_ç¡32_t
;

85 
	tušt_ç¡64_t
;

87 
	tušt_ç¡16_t
;

88 
	tušt_ç¡32_t
;

89 
__ex‹nsiÚ__


90 
	tušt_ç¡64_t
;

95 #ià
__WORDSIZE
 == 64

96 #iâdeà
__šŒ_t_defšed


97 
	tšŒ_t
;

98 
	#__šŒ_t_defšed


	)

100 
	tušŒ_t
;

102 #iâdeà
__šŒ_t_defšed


103 
	tšŒ_t
;

104 
	#__šŒ_t_defšed


	)

106 
	tušŒ_t
;

111 
__štmax_t
 
	tštmax_t
;

112 
__uštmax_t
 
	tuštmax_t
;

115 #ià
__WORDSIZE
 == 64

116 
	#__INT64_C
(
c
èø## 
L


	)

117 
	#__UINT64_C
(
c
èø## 
UL


	)

119 
	#__INT64_C
(
c
èø## 
LL


	)

120 
	#__UINT64_C
(
c
èø## 
ULL


	)

126 
	#INT8_MIN
 (-128)

	)

127 
	#INT16_MIN
 (-32767-1)

	)

128 
	#INT32_MIN
 (-2147483647-1)

	)

129 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

131 
	#INT8_MAX
 (127)

	)

132 
	#INT16_MAX
 (32767)

	)

133 
	#INT32_MAX
 (2147483647)

	)

134 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

137 
	#UINT8_MAX
 (255)

	)

138 
	#UINT16_MAX
 (65535)

	)

139 
	#UINT32_MAX
 (4294967295U)

	)

140 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

144 
	#INT_LEAST8_MIN
 (-128)

	)

145 
	#INT_LEAST16_MIN
 (-32767-1)

	)

146 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

147 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

149 
	#INT_LEAST8_MAX
 (127)

	)

150 
	#INT_LEAST16_MAX
 (32767)

	)

151 
	#INT_LEAST32_MAX
 (2147483647)

	)

152 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

155 
	#UINT_LEAST8_MAX
 (255)

	)

156 
	#UINT_LEAST16_MAX
 (65535)

	)

157 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

158 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

162 
	#INT_FAST8_MIN
 (-128)

	)

163 #ià
__WORDSIZE
 == 64

164 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

165 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

167 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

168 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

170 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

172 
	#INT_FAST8_MAX
 (127)

	)

173 #ià
__WORDSIZE
 == 64

174 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

175 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

177 
	#INT_FAST16_MAX
 (2147483647)

	)

178 
	#INT_FAST32_MAX
 (2147483647)

	)

180 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

183 
	#UINT_FAST8_MAX
 (255)

	)

184 #ià
__WORDSIZE
 == 64

185 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

186 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

188 
	#UINT_FAST16_MAX
 (4294967295U)

	)

189 
	#UINT_FAST32_MAX
 (4294967295U)

	)

191 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 #ià
__WORDSIZE
 == 64

196 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

197 
	#INTPTR_MAX
 (9223372036854775807L)

	)

198 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

200 
	#INTPTR_MIN
 (-2147483647-1)

	)

201 
	#INTPTR_MAX
 (2147483647)

	)

202 
	#UINTPTR_MAX
 (4294967295U)

	)

207 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

209 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

218 #ià
__WORDSIZE
 == 64

219 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

220 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

222 #ià
__WORDSIZE32_PTRDIFF_LONG


223 
	#PTRDIFF_MIN
 (-2147483647L-1)

	)

224 
	#PTRDIFF_MAX
 (2147483647L)

	)

226 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

227 
	#PTRDIFF_MAX
 (2147483647)

	)

232 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

233 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

236 #ià
__WORDSIZE
 == 64

237 
	#SIZE_MAX
 (18446744073709551615UL)

	)

239 #ià
__WORDSIZE32_SIZE_ULONG


240 
	#SIZE_MAX
 (4294967295UL)

	)

242 
	#SIZE_MAX
 (4294967295U)

	)

247 #iâdeà
WCHAR_MIN


249 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

250 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

254 
	#WINT_MIN
 (0u)

	)

255 
	#WINT_MAX
 (4294967295u)

	)

258 
	#INT8_C
(
c
è
	)
c

259 
	#INT16_C
(
c
è
	)
c

260 
	#INT32_C
(
c
è
	)
c

261 #ià
__WORDSIZE
 == 64

262 
	#INT64_C
(
c
èø## 
L


	)

264 
	#INT64_C
(
c
èø## 
LL


	)

268 
	#UINT8_C
(
c
è
	)
c

269 
	#UINT16_C
(
c
è
	)
c

270 
	#UINT32_C
(
c
èø## 
U


	)

271 #ià
__WORDSIZE
 == 64

272 
	#UINT64_C
(
c
èø## 
UL


	)

274 
	#UINT64_C
(
c
èø## 
ULL


	)

278 #ià
__WORDSIZE
 == 64

279 
	#INTMAX_C
(
c
èø## 
L


	)

280 
	#UINTMAX_C
(
c
èø## 
UL


	)

282 
	#INTMAX_C
(
c
èø## 
LL


	)

283 
	#UINTMAX_C
(
c
èø## 
ULL


	)

286 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

288 
	#INT8_WIDTH
 8

	)

289 
	#UINT8_WIDTH
 8

	)

290 
	#INT16_WIDTH
 16

	)

291 
	#UINT16_WIDTH
 16

	)

292 
	#INT32_WIDTH
 32

	)

293 
	#UINT32_WIDTH
 32

	)

294 
	#INT64_WIDTH
 64

	)

295 
	#UINT64_WIDTH
 64

	)

297 
	#INT_LEAST8_WIDTH
 8

	)

298 
	#UINT_LEAST8_WIDTH
 8

	)

299 
	#INT_LEAST16_WIDTH
 16

	)

300 
	#UINT_LEAST16_WIDTH
 16

	)

301 
	#INT_LEAST32_WIDTH
 32

	)

302 
	#UINT_LEAST32_WIDTH
 32

	)

303 
	#INT_LEAST64_WIDTH
 64

	)

304 
	#UINT_LEAST64_WIDTH
 64

	)

306 
	#INT_FAST8_WIDTH
 8

	)

307 
	#UINT_FAST8_WIDTH
 8

	)

308 
	#INT_FAST16_WIDTH
 
__WORDSIZE


	)

309 
	#UINT_FAST16_WIDTH
 
__WORDSIZE


	)

310 
	#INT_FAST32_WIDTH
 
__WORDSIZE


	)

311 
	#UINT_FAST32_WIDTH
 
__WORDSIZE


	)

312 
	#INT_FAST64_WIDTH
 64

	)

313 
	#UINT_FAST64_WIDTH
 64

	)

315 
	#INTPTR_WIDTH
 
__WORDSIZE


	)

316 
	#UINTPTR_WIDTH
 
__WORDSIZE


	)

318 
	#INTMAX_WIDTH
 64

	)

319 
	#UINTMAX_WIDTH
 64

	)

321 
	#PTRDIFF_WIDTH
 
__WORDSIZE


	)

322 
	#SIG_ATOMIC_WIDTH
 32

	)

323 
	#SIZE_WIDTH
 
__WORDSIZE


	)

324 
	#WCHAR_WIDTH
 32

	)

325 
	#WINT_WIDTH
 32

	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


24 
	#_STDIO_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	~<b™s/ty³s/__FILE.h
>

37 
	~<b™s/ty³s/FILE.h
>

39 
	#_STDIO_USES_IOSTREAM


	)

41 
	~<b™s/libio.h
>

43 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


44 #ifdeà
__GNUC__


45 #iâdeà
_VA_LIST_DEFINED


46 
_G_va_li¡
 
	tva_li¡
;

47 
	#_VA_LIST_DEFINED


	)

50 
	~<¡d¬g.h
>

54 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


55 #iâdeà
__off_t_defšed


56 #iâdeà
__USE_FILE_OFFSET64


57 
__off_t
 
	toff_t
;

59 
__off64_t
 
	toff_t
;

61 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

69 #ifdeà
__USE_XOPEN2K8


70 #iâdeà
__ssize_t_defšed


71 
__ssize_t
 
	tssize_t
;

72 
	#__ssize_t_defšed


	)

77 #iâdeà
__USE_FILE_OFFSET64


78 
_G_åos_t
 
	tåos_t
;

80 
_G_åos64_t
 
	tåos_t
;

82 #ifdeà
__USE_LARGEFILE64


83 
_G_åos64_t
 
	tåos64_t
;

87 
	#_IOFBF
 0

	)

88 
	#_IOLBF
 1

	)

89 
	#_IONBF
 2

	)

93 #iâdeà
BUFSIZ


94 
	#BUFSIZ
 
_IO_BUFSIZ


	)

100 #iâdeà
EOF


101 
	#EOF
 (-1)

	)

107 
	#SEEK_SET
 0

	)

108 
	#SEEK_CUR
 1

	)

109 
	#SEEK_END
 2

	)

110 #ifdeà
__USE_GNU


111 
	#SEEK_DATA
 3

	)

112 
	#SEEK_HOLE
 4

	)

116 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


118 
	#P_tmpdœ
 "/tmp"

	)

131 
	~<b™s/¡dio_lim.h
>

135 
_IO_FILE
 *
¡dš
;

136 
_IO_FILE
 *
¡dout
;

137 
_IO_FILE
 *
¡d”r
;

139 
	#¡dš
 
¡dš


	)

140 
	#¡dout
 
¡dout


	)

141 
	#¡d”r
 
¡d”r


	)

144 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

146 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

148 #ifdeà
__USE_ATFILE


150 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

151 cÚ¡ *
__Ãw
è
__THROW
;

158 #iâdeà
__USE_FILE_OFFSET64


159 
FILE
 *
	$tmpfe
 (è
__wur
;

161 #ifdeà
__REDIRECT


162 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

164 
	#tmpfe
 
tmpfe64


	)

168 #ifdeà
__USE_LARGEFILE64


169 
FILE
 *
	$tmpfe64
 (è
__wur
;

173 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

175 #ifdeà
__USE_MISC


178 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

182 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


190 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

191 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

199 
	`fşo£
 (
FILE
 *
__¡»am
);

204 
	`fæush
 (
FILE
 *
__¡»am
);

206 #ifdeà
__USE_MISC


213 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

216 #ifdeà
__USE_GNU


223 
	`fşo£®l
 ();

227 #iâdeà
__USE_FILE_OFFSET64


232 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

233 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

238 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

239 cÚ¡ *
__»¡riù
 
__modes
,

240 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

242 #ifdeà
__REDIRECT


243 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

244 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

245 
__wur
;

246 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

247 cÚ¡ *
__»¡riù
 
__modes
,

248 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

249 
__wur
;

251 
	#fİ’
 
fİ’64


	)

252 
	#äeİ’
 
äeİ’64


	)

255 #ifdeà
__USE_LARGEFILE64


256 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

257 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

258 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

259 cÚ¡ *
__»¡riù
 
__modes
,

260 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

263 #ifdef 
__USE_POSIX


265 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

268 #ifdef 
__USE_GNU


271 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

272 cÚ¡ *
__»¡riù
 
__modes
,

273 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

276 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

278 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

279 
__THROW
 
__wur
;

284 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

290 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

294 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

295 
__modes
, 
size_t
 
__n
è
__THROW
;

297 #ifdef 
__USE_MISC


300 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

301 
size_t
 
__size
è
__THROW
;

304 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

312 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

313 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

318 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

320 
	$¥rštf
 (*
__»¡riù
 
__s
,

321 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

327 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

328 
_G_va_li¡
 
__¬g
);

333 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

335 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

336 
_G_va_li¡
 
__¬g
è
__THROWNL
;

338 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


340 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

341 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

342 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

344 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

345 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

346 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

349 #ià
	`__GLIBC_USE
 (
LIB_EXT2
)

352 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

353 
_G_va_li¡
 
__¬g
)

354 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

355 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

356 cÚ¡ *
__»¡riù
 
__fmt
, ...)

357 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

358 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

359 cÚ¡ *
__»¡riù
 
__fmt
, ...)

360 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

363 #ifdeà
__USE_XOPEN2K8


365 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

366 
_G_va_li¡
 
__¬g
)

367 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

368 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

369 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

377 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

378 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

383 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

385 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

386 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

388 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

389 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

390 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

391 #ifdeà
__REDIRECT


395 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

396 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

397 
__isoc99_fsÿnf
è
__wur
;

398 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

399 
__isoc99_sÿnf
è
__wur
;

400 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

401 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

402 
__isoc99_ssÿnf
);

404 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

405 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

406 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

407 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

408 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

409 
	#fsÿnf
 
__isoc99_fsÿnf


	)

410 
	#sÿnf
 
__isoc99_sÿnf


	)

411 
	#ssÿnf
 
__isoc99_ssÿnf


	)

415 #ifdef 
__USE_ISOC99


420 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

421 
_G_va_li¡
 
__¬g
)

422 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

428 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

429 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

432 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

433 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

434 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

436 #ià!
defšed
 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
vfsÿnf
,

444 (
FILE
 *
__»¡riù
 
__s
,

445 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

446 
__isoc99_vfsÿnf
)

447 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

448 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

449 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

450 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

451 
	`__REDIRECT_NTH
 (
vssÿnf
,

452 (cÚ¡ *
__»¡riù
 
__s
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
,

454 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

455 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

457 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

458 cÚ¡ *
__»¡riù
 
__fÜm©
,

459 
_G_va_li¡
 
__¬g
è
__wur
;

460 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

461 
_G_va_li¡
 
__¬g
è
__wur
;

462 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

463 cÚ¡ *
__»¡riù
 
__fÜm©
,

464 
_G_va_li¡
 
__¬g
è
__THROW
;

465 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

466 
	#vsÿnf
 
__isoc99_vsÿnf


	)

467 
	#vssÿnf
 
__isoc99_vssÿnf


	)

477 
	`fg‘c
 (
FILE
 *
__¡»am
);

478 
	`g‘c
 (
FILE
 *
__¡»am
);

484 
	`g‘ch¬
 ();

488 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

490 #ifdeà
__USE_POSIX199506


495 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

496 
	`g‘ch¬_uÆocked
 ();

499 #ifdeà
__USE_MISC


506 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

517 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

518 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

524 
	`putch¬
 (
__c
);

528 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

530 #ifdeà
__USE_MISC


537 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

540 #ifdeà
__USE_POSIX199506


545 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

546 
	`putch¬_uÆocked
 (
__c
);

550 #ià
defšed
 
__USE_MISC
 \

551 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

553 
	`g‘w
 (
FILE
 *
__¡»am
);

556 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

564 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

565 
__wur
;

567 #ià
	`__GLIBC_USE
 (
DEPRECATED_GETS
)

577 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

580 #ifdeà
__USE_GNU


587 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

588 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

592 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

603 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

604 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

605 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

606 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

607 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

608 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

616 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

617 
size_t
 *
__»¡riù
 
__n
,

618 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

626 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

632 
	`puts
 (cÚ¡ *
__s
);

639 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

646 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

647 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

652 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

653 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

655 #ifdeà
__USE_GNU


662 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

663 
FILE
 *
__»¡riù
 
__¡»am
);

666 #ifdeà
__USE_MISC


673 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

674 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

675 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

676 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

684 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

689 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

694 
	`»wšd
 (
FILE
 *
__¡»am
);

701 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


702 #iâdeà
__USE_FILE_OFFSET64


707 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

712 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

714 #ifdeà
__REDIRECT


715 
	`__REDIRECT
 (
f£eko
,

716 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

717 
f£eko64
);

718 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

720 
	#f£eko
 
f£eko64


	)

721 
	#á–lo
 
á–lo64


	)

726 #iâdeà
__USE_FILE_OFFSET64


731 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

736 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

738 #ifdeà
__REDIRECT


739 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

740 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

741 
	`__REDIRECT
 (
f£os
,

742 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

744 
	#fg‘pos
 
fg‘pos64


	)

745 
	#f£os
 
f£os64


	)

749 #ifdeà
__USE_LARGEFILE64


750 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

751 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

752 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

753 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

757 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

759 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

761 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

763 #ifdeà
__USE_MISC


765 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

766 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

767 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

775 
	`³¼Ü
 (cÚ¡ *
__s
);

781 
	~<b™s/sys_”¾i¡.h
>

784 #ifdef 
__USE_POSIX


786 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

789 #ifdeà
__USE_MISC


791 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

795 #ifdeà
__USE_POSIX2


800 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

806 
	`pşo£
 (
FILE
 *
__¡»am
);

810 #ifdef 
__USE_POSIX


812 *
	$ù”mid
 (*
__s
è
__THROW
;

816 #ià(
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
è|| defšed 
__USE_GNU


818 *
	`cu£rid
 (*
__s
);

822 #ifdef 
__USE_GNU


823 
ob¡ack
;

826 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

827 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

828 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

829 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

830 cÚ¡ *
__»¡riù
 
__fÜm©
,

831 
_G_va_li¡
 
__¬gs
)

832 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

836 #ifdeà
__USE_POSIX199506


840 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

844 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

847 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

850 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


853 
	~<b™s/g‘İt_posix.h
>

858 #ifdeà
__USE_EXTERN_INLINES


859 
	~<b™s/¡dio.h
>

861 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


862 
	~<b™s/¡dio2.h
>

864 #ifdeà
__LDBL_COMPAT


865 
	~<b™s/¡dio-ldbl.h
>

868 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

25 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	#__Ãed_size_t


	)

29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

31 
	~<¡ddef.h
>

33 
	g__BEGIN_DECLS


35 
	#_STDLIB_H
 1

	)

37 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


39 
	~<b™s/wa™æags.h
>

40 
	~<b™s/wa™¡©us.h
>

43 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (¡©us)

	)

44 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (¡©us)

	)

45 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (¡©us)

	)

46 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (¡©us)

	)

47 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (¡©us)

	)

48 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (¡©us)

	)

49 #ifdeà
__WIFCONTINUED


50 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (¡©us)

	)

55 
	~<b™s/æßŠ.h
>

60 
	mquÙ
;

61 
	m»m
;

62 } 
	tdiv_t
;

65 #iâdeà
__ldiv_t_defšed


68 
	mquÙ
;

69 
	m»m
;

70 } 
	tldiv_t
;

71 
	#__ldiv_t_defšed
 1

	)

74 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


76 
__ex‹nsiÚ__
 struct

78 
	mquÙ
;

79 
	m»m
;

80 } 
	tÎdiv_t
;

81 
	#__Îdiv_t_defšed
 1

	)

86 
	#RAND_MAX
 2147483647

	)

91 
	#EXIT_FAILURE
 1

	)

92 
	#EXIT_SUCCESS
 0

	)

96 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

97 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

101 
	$©of
 (cÚ¡ *
__ÅŒ
)

102 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

104 
	$©oi
 (cÚ¡ *
__ÅŒ
)

105 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

107 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

108 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

110 #ifdeà
__USE_ISOC99


112 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

113 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

117 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

118 **
__»¡riù
 
__’d±r
)

119 
__THROW
 
	`__nÚnuÎ
 ((1));

121 #ifdef 
__USE_ISOC99


123 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

124 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

126 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

127 **
__»¡riù
 
__’d±r
)

128 
__THROW
 
	`__nÚnuÎ
 ((1));

133 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
_Flßt16
 
	$¡¹of16
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

135 **
__»¡riù
 
__’d±r
)

136 
__THROW
 
	`__nÚnuÎ
 ((1));

139 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

140 
_Flßt32
 
	$¡¹of32
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

141 **
__»¡riù
 
__’d±r
)

142 
__THROW
 
	`__nÚnuÎ
 ((1));

145 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

146 
_Flßt64
 
	$¡¹of64
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

147 **
__»¡riù
 
__’d±r
)

148 
__THROW
 
	`__nÚnuÎ
 ((1));

151 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

152 
_Flßt128
 
	$¡¹of128
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

153 **
__»¡riù
 
__’d±r
)

154 
__THROW
 
	`__nÚnuÎ
 ((1));

157 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

158 
_Flßt32x
 
	$¡¹of32x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

159 **
__»¡riù
 
__’d±r
)

160 
__THROW
 
	`__nÚnuÎ
 ((1));

163 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

164 
_Flßt64x
 
	$¡¹of64x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

169 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

170 
_Flßt128x
 
	$¡¹of128x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

171 **
__»¡riù
 
__’d±r
)

172 
__THROW
 
	`__nÚnuÎ
 ((1));

176 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
, 
__ba£
)

178 
__THROW
 
	`__nÚnuÎ
 ((1));

180 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

181 **
__»¡riù
 
__’d±r
, 
__ba£
)

182 
__THROW
 
	`__nÚnuÎ
 ((1));

184 #ifdeà
__USE_MISC


186 
__ex‹nsiÚ__


187 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

191 
__ex‹nsiÚ__


192 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

193 **
__»¡riù
 
__’d±r
, 
__ba£
)

194 
__THROW
 
	`__nÚnuÎ
 ((1));

197 #ifdeà
__USE_ISOC99


199 
__ex‹nsiÚ__


200 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

204 
__ex‹nsiÚ__


205 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

206 **
__»¡riù
 
__’d±r
, 
__ba£
)

207 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

212 
	$¡räomd
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

213 
__f
)

214 
__THROW
 
	`__nÚnuÎ
 ((3));

216 
	$¡räomf
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

217 
__f
)

218 
__THROW
 
	`__nÚnuÎ
 ((3));

220 
	$¡räoml
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

221 
__f
)

222 
__THROW
 
	`__nÚnuÎ
 ((3));

225 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

226 
	$¡räomf16
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

227 
_Flßt16
 
__f
)

228 
__THROW
 
	`__nÚnuÎ
 ((3));

231 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

232 
	$¡räomf32
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

233 
_Flßt32
 
__f
)

234 
__THROW
 
	`__nÚnuÎ
 ((3));

237 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

238 
	$¡räomf64
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

239 
_Flßt64
 
__f
)

240 
__THROW
 
	`__nÚnuÎ
 ((3));

243 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

244 
	$¡räomf128
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

245 
_Flßt128
 
__f
)

246 
__THROW
 
	`__nÚnuÎ
 ((3));

249 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

250 
	$¡räomf32x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

251 
_Flßt32x
 
__f
)

252 
__THROW
 
	`__nÚnuÎ
 ((3));

255 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

256 
	$¡räomf64x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

257 
_Flßt64x
 
__f
)

258 
__THROW
 
	`__nÚnuÎ
 ((3));

261 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

262 
	$¡räomf128x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

263 
_Flßt128x
 
__f
)

264 
__THROW
 
	`__nÚnuÎ
 ((3));

268 #ifdeà
__USE_GNU


272 
	~<b™s/ty³s/loÿË_t.h
>

274 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

275 **
__»¡riù
 
__’d±r
, 
__ba£
,

276 
loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

278 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

279 **
__»¡riù
 
__’d±r
,

280 
__ba£
, 
loÿË_t
 
__loc
)

281 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

283 
__ex‹nsiÚ__


284 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

285 **
__»¡riù
 
__’d±r
, 
__ba£
,

286 
loÿË_t
 
__loc
)

287 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

289 
__ex‹nsiÚ__


290 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

291 **
__»¡riù
 
__’d±r
,

292 
__ba£
, 
loÿË_t
 
__loc
)

293 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

295 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

296 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

299 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

300 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

301 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

303 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

304 **
__»¡riù
 
__’d±r
,

305 
loÿË_t
 
__loc
)

306 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

308 #ià
__HAVE_FLOAT16


309 
_Flßt16
 
	$¡¹of16_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

310 **
__»¡riù
 
__’d±r
,

311 
loÿË_t
 
__loc
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

315 #ià
__HAVE_FLOAT32


316 
_Flßt32
 
	$¡¹of32_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

317 **
__»¡riù
 
__’d±r
,

318 
loÿË_t
 
__loc
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

322 #ià
__HAVE_FLOAT64


323 
_Flßt64
 
	$¡¹of64_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

324 **
__»¡riù
 
__’d±r
,

325 
loÿË_t
 
__loc
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

329 #ià
__HAVE_FLOAT128


330 
_Flßt128
 
	$¡¹of128_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 **
__»¡riù
 
__’d±r
,

332 
loÿË_t
 
__loc
)

333 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

336 #ià
__HAVE_FLOAT32X


337 
_Flßt32x
 
	$¡¹of32x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

338 **
__»¡riù
 
__’d±r
,

339 
loÿË_t
 
__loc
)

340 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

343 #ià
__HAVE_FLOAT64X


344 
_Flßt64x
 
	$¡¹of64x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

345 **
__»¡riù
 
__’d±r
,

346 
loÿË_t
 
__loc
)

347 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

350 #ià
__HAVE_FLOAT128X


351 
_Flßt128x
 
	$¡¹of128x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

352 **
__»¡riù
 
__’d±r
,

353 
loÿË_t
 
__loc
)

354 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

359 #ifdeà
__USE_EXTERN_INLINES


360 
__ex‹º_šlše
 

361 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

363  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

364 
	}
}

365 
__ex‹º_šlše
 

366 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

368  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

369 
	}
}

371 #ifdeà
__USE_ISOC99


372 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

373 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

375  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

376 
	}
}

381 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


385 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

388 
	$a64l
 (cÚ¡ *
__s
)

389 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

393 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


394 
	~<sys/ty³s.h
>

401 
	$¿ndom
 (è
__THROW
;

404 
	$¤ªdom
 (
__£ed
è
__THROW
;

410 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

411 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

415 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

418 #ifdeà
__USE_MISC


423 
	s¿ndom_d©a


425 
št32_t
 *
åŒ
;

426 
št32_t
 *
½Œ
;

427 
št32_t
 *
¡©e
;

428 
¿nd_ty³
;

429 
¿nd_deg
;

430 
¿nd_£p
;

431 
št32_t
 *
’d_±r
;

434 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

435 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

437 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

438 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

441 
size_t
 
__¡©–’
,

442 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

443 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

445 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

446 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

447 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¿nd
 (è
__THROW
;

455 
	$¤ªd
 (
__£ed
è
__THROW
;

457 #ifdeà
__USE_POSIX199506


459 
	$¿nd_r
 (*
__£ed
è
__THROW
;

463 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


467 
	$d¿nd48
 (è
__THROW
;

468 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

471 
	$Ìªd48
 (è
__THROW
;

472 
	$Äªd48
 (
__xsubi
[3])

473 
__THROW
 
	`__nÚnuÎ
 ((1));

476 
	$m¿nd48
 (è
__THROW
;

477 
	$j¿nd48
 (
__xsubi
[3])

478 
__THROW
 
	`__nÚnuÎ
 ((1));

481 
	$¤ªd48
 (
__£edv®
è
__THROW
;

482 *
	$£ed48
 (
__£ed16v
[3])

483 
__THROW
 
	`__nÚnuÎ
 ((1));

484 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

486 #ifdeà
__USE_MISC


490 
	sd¿nd48_d©a


492 
__x
[3];

493 
__Şd_x
[3];

494 
__c
;

495 
__š™
;

496 
__ex‹nsiÚ__
 
__a
;

501 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

502 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

503 
	$”ªd48_r
 (
__xsubi
[3],

504 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

505 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

508 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

509 *
__»¡riù
 
__»suÉ
)

510 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

511 
	$Äªd48_r
 (
__xsubi
[3],

512 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

513 *
__»¡riù
 
__»suÉ
)

514 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

517 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

518 *
__»¡riù
 
__»suÉ
)

519 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

520 
	$j¿nd48_r
 (
__xsubi
[3],

521 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

522 *
__»¡riù
 
__»suÉ
)

523 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

526 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

527 
__THROW
 
	`__nÚnuÎ
 ((2));

529 
	$£ed48_r
 (
__£ed16v
[3],

530 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

532 
	$lcÚg48_r
 (
__·¿m
[7],

533 
d¿nd48_d©a
 *
__bufãr
)

534 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

539 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

541 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

542 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

549 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

550 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

552 #ifdeà
__USE_GNU


558 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

559 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

563 
	$ä“
 (*
__±r
è
__THROW
;

565 #ifdeà
__USE_MISC


566 
	~<®loÿ.h
>

569 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

570 || 
defšed
 
__USE_MISC


572 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

575 #ifdeà
__USE_XOPEN2K


577 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

578 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

581 #ifdeà
__USE_ISOC11


583 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

584 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

588 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

592 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

594 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


596 #ifdeà
__ılu¥lus


597 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

598 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

600 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

604 #ifdef 
__USE_MISC


607 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

608 
__THROW
 
	`__nÚnuÎ
 ((1));

614 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

616 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


620 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

623 #ifdeà
__USE_ISOC99


626 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

631 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_GNU


636 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

637 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

640 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


644 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

647 #ifdeà
__USE_XOPEN2K


650 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

651 
__THROW
 
	`__nÚnuÎ
 ((2));

654 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

657 #ifdef 
__USE_MISC


661 
	$ş—»nv
 (è
__THROW
;

665 #ià
defšed
 
__USE_MISC
 \

666 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

672 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

675 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


684 #iâdeà
__USE_FILE_OFFSET64


685 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

687 #ifdeà
__REDIRECT


688 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

689 
	`__nÚnuÎ
 ((1)è
__wur
;

691 
	#mk¡emp
 
mk¡emp64


	)

694 #ifdeà
__USE_LARGEFILE64


695 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

699 #ifdeà
__USE_MISC


706 #iâdeà
__USE_FILE_OFFSET64


707 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

711 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

713 
	#mk¡emps
 
mk¡emps64


	)

716 #ifdeà
__USE_LARGEFILE64


717 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

718 
	`__nÚnuÎ
 ((1)è
__wur
;

722 #ifdeà
__USE_XOPEN2K8


728 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

731 #ifdeà
__USE_GNU


738 #iâdeà
__USE_FILE_OFFSET64


739 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

741 #ifdeà
__REDIRECT


742 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

743 
	`__nÚnuÎ
 ((1)è
__wur
;

745 
	#mko¡emp
 
mko¡emp64


	)

748 #ifdeà
__USE_LARGEFILE64


749 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

758 #iâdeà
__USE_FILE_OFFSET64


759 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

760 
	`__nÚnuÎ
 ((1)è
__wur
;

762 #ifdeà
__REDIRECT


763 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

764 
__æags
), 
mko¡emps64
)

765 
	`__nÚnuÎ
 ((1)è
__wur
;

767 
	#mko¡emps
 
mko¡emps64


	)

770 #ifdeà
__USE_LARGEFILE64


771 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

772 
	`__nÚnuÎ
 ((1)è
__wur
;

781 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

784 #ifdef 
__USE_GNU


787 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

788 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

791 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


797 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

798 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

803 #iâdeà
__COMPAR_FN_T


804 
	#__COMPAR_FN_T


	)

805 (*
	t__com·r_â_t
) (const *, const *);

807 #ifdef 
__USE_GNU


808 
__com·r_â_t
 
	tcom·risÚ_â_t
;

811 #ifdeà
__USE_GNU


812 (*
	t__com·r_d_â_t
) (const *, const *, *);

817 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

818 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

819 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

821 #ifdeà
__USE_EXTERN_INLINES


822 
	~<b™s/¡dlib-b£¬ch.h
>

827 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

828 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

829 #ifdeà
__USE_GNU


830 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

831 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

832 
	`__nÚnuÎ
 ((1, 4));

837 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

838 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

840 #ifdeà
__USE_ISOC99


841 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

842 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

849 
div_t
 
	$div
 (
__num”
, 
__d’om
)

850 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

851 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

852 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

854 #ifdeà
__USE_ISOC99


855 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

856 
__d’om
)

857 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

861 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

862 || 
defšed
 
__USE_MISC


869 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

870 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

875 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

876 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

881 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

882 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

885 #ifdeà
__USE_MISC


887 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

888 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

889 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

890 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

891 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

892 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

893 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

894 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

899 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

900 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

901 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

902 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

903 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

904 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

906 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

907 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

908 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

909 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

910 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

911 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

912 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

913 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

919 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

922 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

923 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

926 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

930 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

931 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

933 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

934 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

935 
__THROW
;

938 #ifdeà
__USE_MISC


943 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

947 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


954 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

955 *cÚ¡ *
__»¡riù
 
__tok’s
,

956 **
__»¡riù
 
__v®u•
)

957 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

961 #ifdeà
__USE_XOPEN


963 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

969 #ifdeà
__USE_XOPEN2KXSI


971 
	$posix_İ’±
 (
__oæag
è
__wur
;

974 #ifdeà
__USE_XOPEN_EXTENDED


979 
	$g¿Á±
 (
__fd
è
__THROW
;

983 
	$uÆock±
 (
__fd
è
__THROW
;

988 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

991 #ifdeà
__USE_GNU


995 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

996 
__THROW
 
	`__nÚnuÎ
 ((2));

999 
	`g‘±
 ();

1002 #ifdeà
__USE_MISC


1006 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

1007 
__THROW
 
	`__nÚnuÎ
 ((1));

1010 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K


1013 
	$‰y¦Ù
 (è
__THROW
;

1016 
	~<b™s/¡dlib-æßt.h
>

1019 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1020 
	~<b™s/¡dlib.h
>

1022 #ifdeà
__LDBL_COMPAT


1023 
	~<b™s/¡dlib-ldbl.h
>

1026 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

36 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

37 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

52 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


53 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

54 
__c
, 
size_t
 
__n
)

55 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

63 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

64 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

67 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


70 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

71 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

72 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

75 #ifdeà
__OPTIMIZE__


76 
__ex‹º_®ways_šlše
 *

77 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


79  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

82 
__ex‹º_®ways_šlše
 const *

83 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


85  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

88 
	}
}

90 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

91 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

94 #ifdeà
__USE_GNU


97 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


98 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

99 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

100 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

101 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

108 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


109 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

110 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

112 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

121 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

122 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

124 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

125 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

129 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

132 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

133 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

137 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

139 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

140 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

146 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

147 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

148 
__THROW
 
	`__nÚnuÎ
 ((2));

150 #ifdeà
__USE_XOPEN2K8


152 
	~<b™s/ty³s/loÿË_t.h
>

155 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__l
)

156 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

159 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

160 
loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

163 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8
 \

164 || 
	$__GLIBC_USE
 (
LIB_EXT2
))

166 *
	$¡rdup
 (cÚ¡ *
__s
)

167 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

173 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

174 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

175 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

178 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


180 
	#¡rdu·
(
s
) \

181 (
__ex‹nsiÚ__
 \

183 cÚ¡ *
__Şd
 = (
s
); \

184 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

185 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

186 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

187 
	}
}))

	)

190 
	#¡ºdu·
(
s
, 
n
) \

191 (
__ex‹nsiÚ__
 \

193 cÚ¡ *
__Şd
 = (
s
); \

194 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

195 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

196 
__Ãw
[
__Ën
] = '\0'; \

197 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

198 }))

	)

202 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


205 *
¡rchr
 (*
__s
, 
__c
)

206 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

207 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

208 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

210 #ifdeà
__OPTIMIZE__


211 
__ex‹º_®ways_šlše
 *

212 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


214  
__butš_¡rchr
 (
__s
, 
__c
);

217 
__ex‹º_®ways_šlše
 const *

218 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


220  
__butš_¡rchr
 (
__s
, 
__c
);

225 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

226 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

229 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


232 *
	`¡¼chr
 (*
__s
, 
__c
)

233 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

234 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

235 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

237 #ifdeà
__OPTIMIZE__


238 
__ex‹º_®ways_šlše
 *

239 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


241  
	`__butš_¡¼chr
 (
__s
, 
__c
);

244 
__ex‹º_®ways_šlše
 const *

245 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


247  
	`__butš_¡¼chr
 (
__s
, 
__c
);

250 
	}
}

252 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

253 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

256 #ifdeà
__USE_GNU


259 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


260 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

261 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

262 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

263 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

265 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

266 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

272 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

273 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

276 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

277 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

279 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


282 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

283 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

284 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

285 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

287 #ifdeà
__OPTIMIZE__


288 
__ex‹º_®ways_šlše
 *

289 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


291  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

294 
__ex‹º_®ways_šlše
 const *

295 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


297  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

300 
	}
}

302 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

303 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

306 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


309 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

310 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

311 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

312 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

314 #ifdeà
__OPTIMIZE__


315 
__ex‹º_®ways_šlše
 *

316 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


318  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

321 
__ex‹º_®ways_šlše
 const *

322 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


324  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

327 
	}
}

329 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

330 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

336 
__THROW
 
	`__nÚnuÎ
 ((2));

340 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

341 cÚ¡ *
__»¡riù
 
__d–im
,

342 **
__»¡riù
 
__§ve_±r
)

343 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

344 #ifdeà
__USE_POSIX


345 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

346 **
__»¡riù
 
__§ve_±r
)

347 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

350 #ifdeà
__USE_GNU


352 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


353 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

354 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

355 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

356 cÚ¡ *
__ÃedË
)

357 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

359 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

360 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

364 #ifdeà
__USE_GNU


368 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

369 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

370 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

374 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

375 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

376 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

377 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

378 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

379 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

384 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

385 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

387 #ifdef 
__USE_XOPEN2K8


390 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

391 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

396 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

397 #ifdeà
__USE_XOPEN2K


405 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


408 #ifdeà
__REDIRECT_NTH


409 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

410 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

411 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

413 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

414 
__THROW
 
	`__nÚnuÎ
 ((2));

415 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

420 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

421 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

425 #ifdeà
__USE_XOPEN2K8


427 *
	$¡»¼Ü_l
 (
__”ºum
, 
loÿË_t
 
__l
è
__THROW
;

430 #ifdeà
__USE_MISC


431 
	~<¡ršgs.h
>

435 
	$ex¶ic™_bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

439 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

440 cÚ¡ *
__»¡riù
 
__d–im
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

444 #ifdef 
__USE_XOPEN2K8


446 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

449 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

450 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

451 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

452 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

456 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

457 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

458 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

460 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

461 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

464 #ifdef 
__USE_GNU


466 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

467 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

470 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

473 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

475 #iâdeà
ba£Çme


480 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


481 "C++" *
	$ba£Çme
 (*
__f’ame
)

482 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

483 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

484 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

486 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

491 #ià
	`__GNUC_PREREQ
 (3,4)

492 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


494 
	~<b™s/¡ršg_fÜtif›d.h
>

498 
__END_DECLS


	@/usr/include/time.h

22 #iâdef 
_TIME_H


23 
	#_TIME_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

33 
	~<b™s/time.h
>

37 
	~<b™s/ty³s/şock_t.h
>

38 
	~<b™s/ty³s/time_t.h
>

39 
	~<b™s/ty³s/¡ruù_tm.h
>

41 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_ISOC11


42 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

45 #ifdeà
__USE_POSIX199309


46 
	~<b™s/ty³s/şockid_t.h
>

47 
	~<b™s/ty³s/tim”_t.h
>

48 
	~<b™s/ty³s/¡ruù_™im”¥ec.h
>

49 
	gsigev’t
;

52 #ifdeà
__USE_XOPEN2K


53 #iâdeà
__pid_t_defšed


54 
__pid_t
 
	tpid_t
;

55 
	#__pid_t_defšed


	)

59 #ifdeà
__USE_XOPEN2K8


60 
	~<b™s/ty³s/loÿË_t.h
>

63 #ifdeà
__USE_ISOC11


65 
	#TIME_UTC
 1

	)

68 
__BEGIN_DECLS


72 
şock_t
 
	$şock
 (è
__THROW
;

75 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

78 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

79 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

82 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

88 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

89 cÚ¡ *
__»¡riù
 
__fÜm©
,

90 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

92 #ifdeà
__USE_XOPEN


95 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

96 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

97 
__THROW
;

100 #ifdeà
__USE_XOPEN2K8


104 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

105 cÚ¡ *
__»¡riù
 
__fÜm©
,

106 cÚ¡ 
tm
 *
__»¡riù
 
__
,

107 
loÿË_t
 
__loc
è
__THROW
;

110 #ifdeà
__USE_GNU


111 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

112 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

113 
loÿË_t
 
__loc
è
__THROW
;

119 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

123 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

125 #ifdeà
__USE_POSIX


128 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

129 
tm
 *
__»¡riù
 
__
è
__THROW
;

133 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

134 
tm
 *
__»¡riù
 
__
è
__THROW
;

139 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

142 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

144 #ifdeà
__USE_POSIX


149 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

150 *
__»¡riù
 
__buf
è
__THROW
;

153 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

154 *
__»¡riù
 
__buf
è
__THROW
;

159 *
__tzÇme
[2];

160 
__daylight
;

161 
__timezÚe
;

164 #ifdef 
__USE_POSIX


166 *
tzÇme
[2];

170 
	$tz£t
 (è
__THROW
;

173 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


174 
daylight
;

175 
timezÚe
;

178 #ifdeà
__USE_MISC


181 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

187 
	#__i¦—p
(
y—r
) \

188 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

191 #ifdeà
__USE_MISC


196 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

199 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

202 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

206 #ifdeà
__USE_POSIX199309


211 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

212 
time¥ec
 *
__»maššg
);

216 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

219 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

222 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

223 
__THROW
;

225 #ifdeà
__USE_XOPEN2K


230 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

231 cÚ¡ 
time¥ec
 *
__»q
,

232 
time¥ec
 *
__»m
);

235 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

240 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

241 
sigev’t
 *
__»¡riù
 
__evp
,

242 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

245 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

248 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

249 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

250 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

253 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

254 
__THROW
;

257 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

261 #ifdeà
__USE_ISOC11


263 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

264 
__THROW
 
	`__nÚnuÎ
 ((1));

268 #ifdeà
__USE_XOPEN_EXTENDED


280 
g‘d©e_”r
;

289 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

292 #ifdeà
__USE_GNU


303 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

304 
tm
 *
__»¡riù
 
__»sbuå
);

307 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifdeà
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #–ià
defšed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #–ià
defšed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

111 
	#_XOPEN_CRYPT
 1

	)

115 
	#_XOPEN_ENH_I18N
 1

	)

118 
	#_XOPEN_LEGACY
 1

	)

205 
	~<b™s/posix_İt.h
>

208 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


209 
	~<b™s/’vœÚm’ts.h
>

213 
	#STDIN_FILENO
 0

	)

214 
	#STDOUT_FILENO
 1

	)

215 
	#STDERR_FILENO
 2

	)

220 
	~<b™s/ty³s.h
>

222 #iâdef 
__ssize_t_defšed


223 
__ssize_t
 
	tssize_t
;

224 
	#__ssize_t_defšed


	)

227 
	#__Ãed_size_t


	)

228 
	#__Ãed_NULL


	)

229 
	~<¡ddef.h
>

231 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


234 #iâdeà
__gid_t_defšed


235 
__gid_t
 
	tgid_t
;

236 
	#__gid_t_defšed


	)

239 #iâdeà
__uid_t_defšed


240 
__uid_t
 
	tuid_t
;

241 
	#__uid_t_defšed


	)

244 #iâdeà
__off_t_defšed


245 #iâdeà
__USE_FILE_OFFSET64


246 
__off_t
 
	toff_t
;

248 
__off64_t
 
	toff_t
;

250 
	#__off_t_defšed


	)

252 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


253 
__off64_t
 
	toff64_t
;

254 
	#__off64_t_defšed


	)

257 #iâdeà
__u£cÚds_t_defšed


258 
__u£cÚds_t
 
	tu£cÚds_t
;

259 
	#__u£cÚds_t_defšed


	)

262 #iâdeà
__pid_t_defšed


263 
__pid_t
 
	tpid_t
;

264 
	#__pid_t_defšed


	)

268 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


269 #iâdeà
__šŒ_t_defšed


270 
__šŒ_t
 
	tšŒ_t
;

271 
	#__šŒ_t_defšed


	)

275 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


276 #iâdeà
__sockËn_t_defšed


277 
__sockËn_t
 
	tsockËn_t
;

278 
	#__sockËn_t_defšed


	)

284 
	#R_OK
 4

	)

285 
	#W_OK
 2

	)

286 
	#X_OK
 1

	)

287 
	#F_OK
 0

	)

290 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

292 #ifdeà
__USE_GNU


295 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

296 
__THROW
 
	`__nÚnuÎ
 ((1));

299 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

300 
__THROW
 
	`__nÚnuÎ
 ((1));

303 #ifdeà
__USE_ATFILE


307 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

308 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

313 #iâdef 
_STDIO_H


314 
	#SEEK_SET
 0

	)

315 
	#SEEK_CUR
 1

	)

316 
	#SEEK_END
 2

	)

317 #ifdeà
__USE_GNU


318 
	#SEEK_DATA
 3

	)

319 
	#SEEK_HOLE
 4

	)

323 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


325 
	#L_SET
 
SEEK_SET


	)

326 
	#L_INCR
 
SEEK_CUR


	)

327 
	#L_XTND
 
SEEK_END


	)

336 #iâdeà
__USE_FILE_OFFSET64


337 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

339 #ifdeà
__REDIRECT_NTH


340 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

341 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

342 
l£ek64
);

344 
	#l£ek
 
l£ek64


	)

347 #ifdeà
__USE_LARGEFILE64


348 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

349 
__THROW
;

356 
	`şo£
 (
__fd
);

363 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

369 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

371 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


372 #iâdeà
__USE_FILE_OFFSET64


379 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

380 
__off_t
 
__off£t
è
__wur
;

387 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

388 
__off_t
 
__off£t
è
__wur
;

390 #ifdeà
__REDIRECT


391 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

392 
__off64_t
 
__off£t
),

393 
´—d64
è
__wur
;

394 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

395 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

396 
pwr™e64
è
__wur
;

398 
	#´—d
 
´—d64


	)

399 
	#pwr™e
 
pwr™e64


	)

403 #ifdeà
__USE_LARGEFILE64


407 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

408 
__off64_t
 
__off£t
è
__wur
;

411 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

412 
__off64_t
 
__off£t
è
__wur
;

420 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

422 #ifdeà
__USE_GNU


425 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

435 
	$®¬m
 (
__£cÚds
è
__THROW
;

447 
	`¦“p
 (
__£cÚds
);

449 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

450 || 
defšed
 
__USE_MISC


455 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

456 
__THROW
;

463 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

472 
	`·u£
 ();

476 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

477 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

479 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


481 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

486 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

487 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

491 #ifdeà
__USE_ATFILE


494 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

495 
__gid_t
 
__group
, 
__æag
)

496 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

500 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

502 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


504 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

514 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

516 #ifdef 
__USE_GNU


520 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

523 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

524 || 
defšed
 
__USE_MISC


528 *
	$g‘wd
 (*
__buf
)

529 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

534 
	$dup
 (
__fd
è
__THROW
 
__wur
;

537 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

539 #ifdeà
__USE_GNU


542 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

546 **
__’vœÚ
;

547 #ifdeà
__USE_GNU


548 **
’vœÚ
;

554 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

555 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdeà
__USE_XOPEN2K8


560 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

561 
__THROW
 
	`__nÚnuÎ
 ((2));

566 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

567 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

571 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

572 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

576 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

581 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

582 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

588 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

590 #ifdeà
__USE_GNU


593 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

594 *cÚ¡ 
__’vp
[])

595 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

599 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


601 
	$niû
 (
__šc
è
__THROW
 
__wur
;

606 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

612 
	~<b™s/cÚâame.h
>

615 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

616 
__THROW
 
	`__nÚnuÎ
 ((1));

619 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

622 
	$syscÚf
 (
__Çme
è
__THROW
;

624 #ifdef 
__USE_POSIX2


626 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

631 
__pid_t
 
	$g‘pid
 (è
__THROW
;

634 
__pid_t
 
	$g‘µid
 (è
__THROW
;

637 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

640 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

641 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


642 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

649 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

651 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


663 
	$£g½
 (è
__THROW
;

670 
__pid_t
 
	$£tsid
 (è
__THROW
;

672 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


674 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

678 
__uid_t
 
	$g‘uid
 (è
__THROW
;

681 
__uid_t
 
	$g‘euid
 (è
__THROW
;

684 
__gid_t
 
	$g‘gid
 (è
__THROW
;

687 
__gid_t
 
	$g‘egid
 (è
__THROW
;

692 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

694 #ifdef 
__USE_GNU


696 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

703 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

705 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


708 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

711 #ifdeà
__USE_XOPEN2K


713 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

720 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

722 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


725 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

728 #ifdeà
__USE_XOPEN2K


730 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

733 #ifdeà
__USE_GNU


736 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

737 
__THROW
;

741 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

742 
__THROW
;

746 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

747 
__THROW
 
__wur
;

751 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

752 
__THROW
 
__wur
;

759 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

761 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

762 || 
defšed
 
__USE_MISC


767 
__pid_t
 
	$vfÜk
 (è
__THROW
;

773 *
	$‰yÇme
 (
__fd
è
__THROW
;

777 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

778 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

782 
	$i§‰y
 (
__fd
è
__THROW
;

784 #ifdeà
__USE_MISC


787 
	$‰y¦Ù
 (è
__THROW
;

792 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

793 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

795 #ifdeà
__USE_ATFILE


798 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

799 cÚ¡ *
__to
, 
__æags
)

800 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

803 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


805 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

806 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

811 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

812 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

813 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

816 #ifdeà
__USE_ATFILE


818 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

819 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

822 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

823 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

824 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

828 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

830 #ifdeà
__USE_ATFILE


832 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

833 
__THROW
 
	`__nÚnuÎ
 ((2));

837 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

841 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

844 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

851 *
	`g‘logš
 ();

852 #ifdeà
__USE_POSIX199506


859 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

862 #ifdef 
__USE_MISC


864 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

868 #ifdef 
__USE_POSIX2


872 
	~<b™s/g‘İt_posix.h
>

876 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


880 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

884 #ià
defšed
 
__USE_MISC


887 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

888 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

892 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

898 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

899 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

900 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

901 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

907 
	$vhªgup
 (è
__THROW
;

910 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

918 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

919 
size_t
 
__off£t
, 
__sÿË
)

920 
__THROW
 
	`__nÚnuÎ
 ((1));

926 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

930 *
	$g‘u£rsh–l
 (è
__THROW
;

931 
	$’du£rsh–l
 (è
__THROW
;

932 
	$£tu£rsh–l
 (è
__THROW
;

938 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

942 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

945 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

949 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

957 
	`fsync
 (
__fd
);

960 #ifdeà
__USE_GNU


963 
	$syncfs
 (
__fd
è
__THROW
;

967 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


970 
	`g‘ho¡id
 ();

973 
	$sync
 (è
__THROW
;

976 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


979 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

984 
	$g‘dbËsize
 (è
__THROW
;

990 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


993 #iâdeà
__USE_FILE_OFFSET64


994 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

995 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

997 #ifdeà
__REDIRECT_NTH


998 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

999 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1000 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1002 
	#Œunÿ‹
 
Œunÿ‹64


	)

1005 #ifdeà
__USE_LARGEFILE64


1006 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1007 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1012 #ià
defšed
 
__USE_POSIX199309
 \

1013 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1016 #iâdeà
__USE_FILE_OFFSET64


1017 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1019 #ifdeà
__REDIRECT_NTH


1020 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1021 
árunÿ‹64
è
__wur
;

1023 
	#árunÿ‹
 
árunÿ‹64


	)

1026 #ifdeà
__USE_LARGEFILE64


1027 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1033 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1034 || 
defšed
 
__USE_MISC


1038 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1044 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1048 #ifdeà
__USE_MISC


1059 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1064 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1076 
	#F_ULOCK
 0

	)

1077 
	#F_LOCK
 1

	)

1078 
	#F_TLOCK
 2

	)

1079 
	#F_TEST
 3

	)

1081 #iâdeà
__USE_FILE_OFFSET64


1082 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1084 #ifdeà
__REDIRECT


1085 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1086 
lockf64
è
__wur
;

1088 
	#lockf
 
lockf64


	)

1091 #ifdeà
__USE_LARGEFILE64


1092 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1097 #ifdeà
__USE_GNU


1102 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1103 (
__ex‹nsiÚ__
 \

1104 ({ 
__»suÉ
; \

1105 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1106 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1107 
__»suÉ
; 
	}
}))

	)

1110 
ssize_t
 
cİy_fe_¿nge
 (
__šfd
, 
__off64_t
 *
__pšoff
,

1111 
__outfd
, 
__off64_t
 *
__poutoff
,

1112 
size_t
 
__Ëngth
, 
__æags
);

1115 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1118 
fd©async
 (
__fdes
);

1124 #ifdef 
__USE_XOPEN


1126 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1127 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1131 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1132 
__THROW
 
	`__nÚnuÎ
 ((1));

1139 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1140 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1147 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1149 *
	$ù”mid
 (*
__s
è
__THROW
;

1152 *
	`cu£rid
 (*
__s
);

1158 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_XOPEN2K


1159 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1160 (*
__·»Á
) (),

1161 (*
__chd
è()è
__THROW
;

1164 #ifdeà
__USE_MISC


1167 
	$g‘’Œİy
 (*
__bufãr
, 
size_t
 
__Ëngth
è
__wur
;

1171 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1172 
	~<b™s/uni¡d.h
>

1175 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

119 #undeà
__USE_ISOC11


120 #undeà
__USE_ISOC99


121 #undeà
__USE_ISOC95


122 #undeà
__USE_ISOCXX11


123 #undeà
__USE_POSIX


124 #undeà
__USE_POSIX2


125 #undeà
__USE_POSIX199309


126 #undeà
__USE_POSIX199506


127 #undeà
__USE_XOPEN


128 #undeà
__USE_XOPEN_EXTENDED


129 #undeà
__USE_UNIX98


130 #undeà
__USE_XOPEN2K


131 #undeà
__USE_XOPEN2KXSI


132 #undeà
__USE_XOPEN2K8


133 #undeà
__USE_XOPEN2K8XSI


134 #undeà
__USE_LARGEFILE


135 #undeà
__USE_LARGEFILE64


136 #undeà
__USE_FILE_OFFSET64


137 #undeà
__USE_MISC


138 #undeà
__USE_ATFILE


139 #undeà
__USE_GNU


140 #undeà
__USE_FORTIFY_LEVEL


141 #undeà
__KERNEL_STRICT_NAMES


142 #undeà
__GLIBC_USE_DEPRECATED_GETS


146 #iâdeà
_LOOSE_KERNEL_NAMES


147 
	#__KERNEL_STRICT_NAMES


	)

157 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


158 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

159 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

161 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

168 #ià
defšed
 
__şªg_majÜ__
 && defšed 
__şªg_mšÜ__


169 
	#__glibc_şªg_´”eq
(
maj
, 
mš
) \

170 ((
__şªg_majÜ__
 << 16è+ 
__şªg_mšÜ__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

172 
	#__glibc_şªg_´”eq
(
maj
, 
mš
è0

	)

176 
	#__GLIBC_USE
(
F
è
__GLIBC_USE_
 ## 
	)
F

182 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

183 && !
defšed
 
	g_DEFAULT_SOURCE


185 #undeà
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

190 #ifdeà
_GNU_SOURCE


191 #undeà
_ISOC95_SOURCE


192 
	#_ISOC95_SOURCE
 1

	)

193 #undeà
_ISOC99_SOURCE


194 
	#_ISOC99_SOURCE
 1

	)

195 #undeà
_ISOC11_SOURCE


196 
	#_ISOC11_SOURCE
 1

	)

197 #undeà
_POSIX_SOURCE


198 
	#_POSIX_SOURCE
 1

	)

199 #undeà
_POSIX_C_SOURCE


200 
	#_POSIX_C_SOURCE
 200809L

	)

201 #undeà
_XOPEN_SOURCE


202 
	#_XOPEN_SOURCE
 700

	)

203 #undeà
_XOPEN_SOURCE_EXTENDED


204 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

205 #undeà
_LARGEFILE64_SOURCE


206 
	#_LARGEFILE64_SOURCE
 1

	)

207 #undeà
_DEFAULT_SOURCE


208 
	#_DEFAULT_SOURCE
 1

	)

209 #undeà
_ATFILE_SOURCE


210 
	#_ATFILE_SOURCE
 1

	)

215 #ià(
defšed
 
_DEFAULT_SOURCE
 \

216 || (!
defšed
 
	g__STRICT_ANSI__
 \

217 && !
defšed
 
	g_ISOC99_SOURCE
 \

218 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

219 && !
defšed
 
	g_XOPEN_SOURCE
))

220 #undeà
_DEFAULT_SOURCE


221 
	#_DEFAULT_SOURCE
 1

	)

225 #ià(
defšed
 
_ISOC11_SOURCE
 \

226 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

227 
	#__USE_ISOC11
 1

	)

231 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

232 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

233 
	#__USE_ISOC99
 1

	)

237 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

238 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

239 
	#__USE_ISOC95
 1

	)

242 #ifdeà
__ılu¥lus


244 #ià
__ılu¥lus
 >= 201703L

245 
	#__USE_ISOC11
 1

	)

249 #ià
__ılu¥lus
 >ğ201103L || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__


250 
	#__USE_ISOCXX11
 1

	)

251 
	#__USE_ISOC99
 1

	)

258 #ifdeà
_DEFAULT_SOURCE


259 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


260 
	#__USE_POSIX_IMPLICITLY
 1

	)

262 #undeà
_POSIX_SOURCE


263 
	#_POSIX_SOURCE
 1

	)

264 #undeà
_POSIX_C_SOURCE


265 
	#_POSIX_C_SOURCE
 200809L

	)

268 #ià((!
defšed
 
__STRICT_ANSI__
 \

269 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

270 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

271 
	#_POSIX_SOURCE
 1

	)

272 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

273 
	#_POSIX_C_SOURCE
 2

	)

274 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

275 
	#_POSIX_C_SOURCE
 199506L

	)

276 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

277 
	#_POSIX_C_SOURCE
 200112L

	)

279 
	#_POSIX_C_SOURCE
 200809L

	)

281 
	#__USE_POSIX_IMPLICITLY
 1

	)

290 #ià((!
defšed
 
_POSIX_C_SOURCE
 || (_POSIX_C_SOURCE - 0) < 199506L) \

291 && (
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE
))

292 
	#_POSIX_SOURCE
 1

	)

293 #undeà
_POSIX_C_SOURCE


294 
	#_POSIX_C_SOURCE
 199506L

	)

297 #ià(
defšed
 
_POSIX_SOURCE
 \

298 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

299 || 
defšed
 
_XOPEN_SOURCE
)

300 
	#__USE_POSIX
 1

	)

303 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


304 
	#__USE_POSIX2
 1

	)

307 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

308 
	#__USE_POSIX199309
 1

	)

311 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

312 
	#__USE_POSIX199506
 1

	)

315 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

316 
	#__USE_XOPEN2K
 1

	)

317 #undeà
__USE_ISOC95


318 
	#__USE_ISOC95
 1

	)

319 #undeà
__USE_ISOC99


320 
	#__USE_ISOC99
 1

	)

323 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

324 
	#__USE_XOPEN2K8
 1

	)

325 #undeà
_ATFILE_SOURCE


326 
	#_ATFILE_SOURCE
 1

	)

329 #ifdef 
_XOPEN_SOURCE


330 
	#__USE_XOPEN
 1

	)

331 #ià(
_XOPEN_SOURCE
 - 0) >= 500

332 
	#__USE_XOPEN_EXTENDED
 1

	)

333 
	#__USE_UNIX98
 1

	)

334 #undeà
_LARGEFILE_SOURCE


335 
	#_LARGEFILE_SOURCE
 1

	)

336 #ià(
_XOPEN_SOURCE
 - 0) >= 600

337 #ià(
_XOPEN_SOURCE
 - 0) >= 700

338 
	#__USE_XOPEN2K8
 1

	)

339 
	#__USE_XOPEN2K8XSI
 1

	)

341 
	#__USE_XOPEN2K
 1

	)

342 
	#__USE_XOPEN2KXSI
 1

	)

343 #undeà
__USE_ISOC95


344 
	#__USE_ISOC95
 1

	)

345 #undeà
__USE_ISOC99


346 
	#__USE_ISOC99
 1

	)

349 #ifdeà
_XOPEN_SOURCE_EXTENDED


350 
	#__USE_XOPEN_EXTENDED
 1

	)

355 #ifdeà
_LARGEFILE_SOURCE


356 
	#__USE_LARGEFILE
 1

	)

359 #ifdeà
_LARGEFILE64_SOURCE


360 
	#__USE_LARGEFILE64
 1

	)

363 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

364 
	#__USE_FILE_OFFSET64
 1

	)

367 #ià
defšed
 
_DEFAULT_SOURCE


368 
	#__USE_MISC
 1

	)

371 #ifdef 
_ATFILE_SOURCE


372 
	#__USE_ATFILE
 1

	)

375 #ifdef 
_GNU_SOURCE


376 
	#__USE_GNU
 1

	)

379 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

380 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

381 #ià
_FORTIFY_SOURCE
 > 1

382 
	#__USE_FORTIFY_LEVEL
 2

	)

384 
	#__USE_FORTIFY_LEVEL
 1

	)

387 
	#__USE_FORTIFY_LEVEL
 0

	)

394 #ià
defšed
 
__ılu¥lus
 ? __ılu¥lu >ğ201402L : defšed 
__USE_ISOC11


395 
	#__GLIBC_USE_DEPRECATED_GETS
 0

	)

397 
	#__GLIBC_USE_DEPRECATED_GETS
 1

	)

402 
	~<¡dc-´edef.h
>

410 #undeà
__GNU_LIBRARY__


411 
	#__GNU_LIBRARY__
 6

	)

415 
	#__GLIBC__
 2

	)

416 
	#__GLIBC_MINOR__
 27

	)

418 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

419 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

422 #iâdeà
__ASSEMBLER__


423 #iâdeà
_SYS_CDEFS_H


424 
	~<sys/cdefs.h
>

429 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


430 
	#__USE_LARGEFILE
 1

	)

431 
	#__USE_LARGEFILE64
 1

	)

437 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

438 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

439 && 
defšed
 
	g__ex‹º_šlše


440 
	#__USE_EXTERN_INLINES
 1

	)

448 
	~<gnu/¡ubs.h
>

	@/usr/include/numacompat1.h

1 
	#numa_£t_š‹¾—ve_mask
(
m
è
	`numa_£t_š‹¾—ve_mask_com·t
(m)

	)

2 
	#numa_g‘_š‹¾—ve_mask
(è
	`numa_g‘_š‹¾—ve_mask_com·t
()

	)

3 
	#numa_bšd
(
m
è
	`numa_bšd_com·t
(m)

	)

4 
	#numa_g‘_membšd
(
m
è
	`numa_g‘_membšd_com·t
(m)

	)

5 
	#numa_£t_membšd
(
m
è
	`numa_£t_membšd_com·t
(m)

	)

6 
	#numa_®loc_š‹¾—ved_sub£t
(
s
,
m
è
	`numa_®loc_š‹¾—ved_sub£t_com·t
(s,m)

	)

7 
	#numa_run_Ú_node_mask
(
m
è
	`numa_run_Ú_node_mask_com·t
(m)

	)

8 
	#numa_g‘_run_node_mask
(è
	`numa_g‘_run_node_mask_com·t
()

	)

9 
	#numa_š‹¾—ve_memÜy
(
¡
,
si
,
m
è
	`numa_š‹¾—ve_memÜy_com·t
(¡,si,m)

	)

10 
	#numa_tÚodemask_memÜy
(
¡
,
si
,
m
è
	`numa_tÚodemask_memÜy_com·t
(¡,si,m)

	)

11 
	#numa_sched_g‘affš™y
(
p
,
l
,
m
è
	`numa_sched_g‘affš™y_com·t
Õ,l,m)

	)

12 
	#numa_sched_£ffš™y
(
p
,
l
,
m
è
	`numa_sched_£ffš™y_com·t
Õ,l,m)

	)

13 
	#numa_node_to_ıus
(
n
,
b
,
bl
è
	`numa_node_to_ıus_com·t
Ò,b,bl)

	)

14 
	#nodemask_z”o
(
m
è
	`nodemask_z”o_com·t
(m)

	)

15 
	#nodemask_£t
(
m
, 
n
è
	`nodemask_£t_com·t
(m,‚)

	)

16 
	#nodemask_şr
(
m
, 
n
è
	`nodemask_şr_com·t
(m,‚)

	)

17 
	#nodemask_is£t
(
m
, 
n
è
	`nodemask_is£t_com·t
(m,‚)

	)

18 
	#nodemask_equ®
(
a
, 
b
è
	`nodemask_equ®_com·t
×, b)

	)

	@/usr/include/strings.h

18 #iâdef 
_STRINGS_H


19 
	#_STRINGS_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	#__Ãed_size_t


	)

23 
	~<¡ddef.h
>

26 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

27 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

30 
	g__BEGIN_DECLS


32 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


34 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

35 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

38 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

39 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

42 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

45 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


48 *
	`šdex
 (*
__s
, 
__c
)

49 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

50 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

51 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

53 #ià
defšed
 
__OPTIMIZE__


54 
__ex‹º_®ways_šlše
 *

55 
	`šdex
 (*
__s
, 
__c
è
__THROW


57  
	`__butš_šdex
 (
__s
, 
__c
);

60 
__ex‹º_®ways_šlše
 const *

61 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


63  
	`__butš_šdex
 (
__s
, 
__c
);

66 
	}
}

68 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

69 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

73 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


76 *
	`ršdex
 (*
__s
, 
__c
)

77 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

79 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ià
defšed
 
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`ršdex
 (*
__s
, 
__c
è
__THROW


85  
	`__butš_ršdex
 (
__s
, 
__c
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


91  
	`__butš_ršdex
 (
__s
, 
__c
);

94 
	}
}

96 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

101 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8
 || defšed 
__USE_XOPEN2K8XSI


104 
	$ffs
 (
__i
è
__THROW
 
__©Œibu‹_cÚ¡__
;

109 #ifdef 
__USE_MISC


110 
	$ff¦
 (
__l
è
__THROW
 
__©Œibu‹_cÚ¡__
;

111 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

112 
__THROW
 
__©Œibu‹_cÚ¡__
;

116 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

117 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

120 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

121 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

123 #ifdef 
__USE_XOPEN2K8


125 
	~<b™s/ty³s/loÿË_t.h
>

128 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__loc
)

129 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

133 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

134 
size_t
 
__n
, 
loÿË_t
 
__loc
)

135 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

138 
__END_DECLS


140 #ià
	`__GNUC_PREREQ
 (3,4è&& 
__USE_FORTIFY_LEVEL
 > 0 \

141 && 
defšed
 
__fÜtify_funùiÚ


143 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


144 
	~<b™s/¡ršgs_fÜtif›d.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

58 
	#__STDC_ISO_10646__
 201706L

	)

61 
	#__STDC_NO_THREADS__
 1

	)

	@
1
.
1
/usr/include
220
7230
DataFrame/AIFM/app/main_fake.cc
DataFrame/AIFM/app/main_tcp.cc
DataFrame/AIFM/include/CSV/csv.hpp
DataFrame/AIFM/include/DataFrame/DataFrame.h
DataFrame/AIFM/include/DataFrame/DataFrameFinancialVisitors.h
DataFrame/AIFM/include/DataFrame/DataFrameMLVisitors.h
DataFrame/AIFM/include/DataFrame/DataFrameOperators.h
DataFrame/AIFM/include/DataFrame/DataFrameStatsVisitors.h
DataFrame/AIFM/include/DataFrame/DataFrameTransformVisitors.h
DataFrame/AIFM/include/DataFrame/DataFrameTypes.h
DataFrame/AIFM/include/DataFrame/GroupbyAggregators.h
DataFrame/AIFM/include/DataFrame/Internals/DataFrame_functors.h
DataFrame/AIFM/include/DataFrame/RandGen.h
DataFrame/AIFM/include/DataFrame/Utils/DateTime.h
DataFrame/AIFM/include/DataFrame/Utils/FixedSizeString.h
DataFrame/AIFM/include/DataFrame/Utils/ThreadGranularity.h
DataFrame/AIFM/include/DataFrame/Vectors/HeteroPtrView.h
DataFrame/AIFM/include/DataFrame/Vectors/HeteroVector.h
DataFrame/AIFM/include/DataFrame/Vectors/HeteroView.h
DataFrame/AIFM/include/DataFrame/Vectors/VectorPtrView.h
DataFrame/AIFM/include/DataFrame/Vectors/VectorView.h
DataFrame/AIFM/include/simple_time.hpp
DataFrame/AIFM/src/Utils/DateTime.cc
DataFrame/AIFM/src/Utils/ThreadGranularity.cc
DataFrame/AIFM/src/Vectors/HeteroPtrView.cc
DataFrame/AIFM/src/Vectors/HeteroVector.cc
DataFrame/AIFM/src/Vectors/HeteroView.cc
DataFrame/AIFM/test/dataframe_performance.cc
DataFrame/AIFM/test/dataframe_tester.cc
DataFrame/AIFM/test/dataframe_tester_2.cc
DataFrame/AIFM/test/date_time_tester.cc
DataFrame/AIFM/test/gen_rand_tester.cc
DataFrame/AIFM/test/vector_ptr_view_tester.cc
DataFrame/AIFM/test/vectors_tester.cc
DataFrame/original/app/main.cc
DataFrame/original/include/CSV/csv.hpp
DataFrame/original/include/DataFrame/DataFrame.h
DataFrame/original/include/DataFrame/DataFrameFinancialVisitors.h
DataFrame/original/include/DataFrame/DataFrameMLVisitors.h
DataFrame/original/include/DataFrame/DataFrameOperators.h
DataFrame/original/include/DataFrame/DataFrameStatsVisitors.h
DataFrame/original/include/DataFrame/DataFrameTransformVisitors.h
DataFrame/original/include/DataFrame/DataFrameTypes.h
DataFrame/original/include/DataFrame/GroupbyAggregators.h
DataFrame/original/include/DataFrame/Internals/DataFrame_functors.h
DataFrame/original/include/DataFrame/RandGen.h
DataFrame/original/include/DataFrame/Utils/DateTime.h
DataFrame/original/include/DataFrame/Utils/FixedSizeString.h
DataFrame/original/include/DataFrame/Utils/ThreadGranularity.h
DataFrame/original/include/DataFrame/Vectors/HeteroPtrView.h
DataFrame/original/include/DataFrame/Vectors/HeteroVector.h
DataFrame/original/include/DataFrame/Vectors/HeteroView.h
DataFrame/original/include/DataFrame/Vectors/VectorPtrView.h
DataFrame/original/include/DataFrame/Vectors/VectorView.h
DataFrame/original/include/simple_time.hpp
DataFrame/original/src/Utils/DateTime.cc
DataFrame/original/src/Utils/ThreadGranularity.cc
DataFrame/original/src/Vectors/HeteroPtrView.cc
DataFrame/original/src/Vectors/HeteroVector.cc
DataFrame/original/src/Vectors/HeteroView.cc
DataFrame/original/test/dataframe_performance.cc
DataFrame/original/test/dataframe_tester.cc
DataFrame/original/test/dataframe_tester_2.cc
DataFrame/original/test/date_time_tester.cc
DataFrame/original/test/gen_rand_tester.cc
DataFrame/original/test/vector_ptr_view_tester.cc
DataFrame/original/test/vectors_tester.cc
exp/fig10a/main.cpp
exp/fig10b/main.cpp
exp/fig11a/aifm/main.cpp
exp/fig11a/linux_mem/main.cpp
exp/fig11a/setup/main.cpp
exp/fig11b/aifm/main.cpp
exp/fig11b/linux_mem/main.cpp
exp/fig12a/aifm/read/main.cpp
exp/fig12a/aifm/write/main.cpp
exp/fig12a/linux_mem/read/main.cpp
exp/fig12a/linux_mem/write/main.cpp
exp/fig12b/4096/read_tcp/main.cpp
exp/fig12b/4096/read_total/main.cpp
exp/fig12b/4096/write_tcp/main.cpp
exp/fig12b/4096/write_total/main.cpp
exp/fig12b/64/read_tcp/main.cpp
exp/fig12b/64/read_total/main.cpp
exp/fig12b/64/write_tcp/main.cpp
exp/fig12b/64/write_total/main.cpp
exp/fig13/aifm/main.cpp
exp/fig13/linux_mem/main.cpp
exp/fig14/main.cpp
exp/fig15/main.cpp
exp/fig6a/aifm_nt/main.cpp
exp/fig6a/aifm_t/main.cpp
exp/fig6a/linux_mem/main.cpp
exp/fig6bc/main.cpp
exp/fig9/aifm/main.cpp
exp/fig9/linux_mem/main.cpp
inc/aggregator.hpp
inc/array.hpp
inc/cb.hpp
inc/concurrent_hopscotch.hpp
inc/dataframe_vector.hpp
inc/deref_scope.hpp
inc/device.hpp
inc/hash.hpp
inc/helpers.hpp
inc/internal/MurmurHash3.h
inc/internal/dataframe_types.hpp
inc/internal/ds_info.hpp
inc/list.hpp
inc/local_concurrent_hopscotch.hpp
inc/local_list.hpp
inc/local_skiplist.hpp
inc/manager.hpp
inc/obj_locker.hpp
inc/object.hpp
inc/parallel.hpp
inc/pointer.hpp
inc/prefetcher.hpp
inc/queue.hpp
inc/reader_writer_lock.hpp
inc/region.hpp
inc/server.hpp
inc/server_dataframe_vector.hpp
inc/server_ds.hpp
inc/server_hashtable.hpp
inc/server_ptr.hpp
inc/shared_pool.hpp
inc/slab.hpp
inc/stack.hpp
inc/stats.hpp
inc/zipf.hpp
snappy/build/CMakeFiles/3.18.4/CompilerIdC/CMakeCCompilerId.c
snappy/build/CMakeFiles/3.18.4/CompilerIdCXX/CMakeCXXCompilerId.cpp
snappy/build/CMakeFiles/CheckTypeSize/CMAKE_SIZEOF_UNSIGNED_SHORT.c
snappy/build/config.h
snappy/build/snappy-stubs-public.h
snappy/snappy-c.cc
snappy/snappy-c.h
snappy/snappy-internal.h
snappy/snappy-sinksource.cc
snappy/snappy-sinksource.h
snappy/snappy-stubs-internal.cc
snappy/snappy-stubs-internal.h
snappy/snappy-test.cc
snappy/snappy-test.h
snappy/snappy.cc
snappy/snappy.h
snappy/snappy_compress_fuzzer.cc
snappy/snappy_uncompress_fuzzer.cc
snappy/snappy_unittest.cc
src/MurmurHash3.cpp
src/array.cpp
src/concurrent_hopscotch.cpp
src/dataframe_vector.cpp
src/deref_scope.cpp
src/device.cpp
src/helpers.cpp
src/list.cpp
src/local_concurrent_hopscotch.cpp
src/local_skiplist.cpp
src/manager.cpp
src/obj_locker.cpp
src/pointer.cpp
src/region.cpp
src/server.cpp
src/server_dataframe_vector.cpp
src/server_hashtable.cpp
src/server_ptr.cpp
src/slab.cpp
src/stats.cpp
src/tcp_device_server.cpp
test/test_array_add.cpp
test/test_array_add_rw_api.cpp
test/test_array_clock_replacement.cpp
test/test_array_nt.cpp
test/test_csv_reader.cpp
test/test_dataframe_vector.cpp
test/test_embedded_pointer.cpp
test/test_hashtable_clock_replacement.cpp
test/test_hopscotch_gc_parallel.cpp
test/test_hopscotch_gc_serial.cpp
test/test_hopscotch_parallel.cpp
test/test_hopscotch_serial.cpp
test/test_ht_client.cpp
test/test_list.cpp
test/test_list_gc.cpp
test/test_local_hopscotch_serial.cpp
test/test_local_list.cpp
test/test_local_skiplist_serial.cpp
test/test_pointer_concurrent.cpp
test/test_pointer_noswap.cpp
test/test_pointer_swap.cpp
test/test_pointer_swap_rw_api.cpp
test/test_queue_gc.cpp
test/test_shared_pointer.cpp
test/test_slab.cpp
test/test_stack_gc.cpp
test/test_tcp_array_add.cpp
test/test_tcp_hopscotch_gc_parallel.cpp
test/test_tcp_hopscotch_gc_serial.cpp
test/test_tcp_pointer_swap.cpp
/usr/include/assert.h
/usr/include/byteswap.h
/usr/include/cryptopp/aes.h
/usr/include/cryptopp/filters.h
/usr/include/cryptopp/modes.h
/usr/include/fcntl.h
/usr/include/math.h
/usr/include/numa.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/features.h
/usr/include/numacompat1.h
/usr/include/strings.h
/usr/include/stdc-predef.h
